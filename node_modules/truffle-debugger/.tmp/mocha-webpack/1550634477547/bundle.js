(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("Debugger", [], factory);
	else if(typeof exports === 'object')
		exports["Debugger"] = factory();
	else
		root["Debugger"] = factory();
})(typeof self !== 'undefined' ? self : this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 42);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

module.exports = require("debug");

/***/ }),
/* 1 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/helpers/asyncToGenerator");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_1iyo6c3ahx = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/solidity/selectors/index.js",
      hash = "e60f623d65da90eaee11d4a19173a92647c65d39",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/solidity/selectors/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 16 }, end: { line: 7, column: 56 } }, "2": { start: { line: 9, column: 16 }, end: { line: 9, column: 49 } }, "3": { start: { line: 11, column: 15 }, end: { line: 11, column: 62 } }, "4": { start: { line: 13, column: 16 }, end: { line: 13, column: 48 } }, "5": { start: { line: 15, column: 14 }, end: { line: 15, column: 60 } }, "6": { start: { line: 17, column: 15 }, end: { line: 17, column: 46 } }, "7": { start: { line: 19, column: 13 }, end: { line: 19, column: 29 } }, "8": { start: { line: 21, column: 14 }, end: { line: 21, column: 44 } }, "9": { start: { line: 23, column: 20 }, end: { line: 23, column: 44 } }, "10": { start: { line: 25, column: 28 }, end: { line: 25, column: 61 } }, "11": { start: { line: 27, column: 29 }, end: { line: 27, column: 74 } }, "12": { start: { line: 29, column: 24 }, end: { line: 29, column: 53 } }, "13": { start: { line: 31, column: 25 }, end: { line: 31, column: 66 } }, "14": { start: { line: 33, column: 26 }, end: { line: 33, column: 57 } }, "15": { start: { line: 35, column: 18 }, end: { line: 35, column: 62 } }, "16": { start: { line: 37, column: 11 }, end: { line: 37, column: 33 } }, "17": { start: { line: 39, column: 19 }, end: { line: 39, column: 42 } }, "18": { start: { line: 41, column: 20 }, end: { line: 41, column: 56 } }, "19": { start: { line: 43, column: 17 }, end: { line: 43, column: 45 } }, "20": { start: { line: 45, column: 18 }, end: { line: 45, column: 52 } }, "21": { start: { line: 47, column: 40 }, end: { line: 47, column: 267 } }, "22": { start: { line: 47, column: 69 }, end: { line: 47, column: 80 } }, "23": { start: { line: 47, column: 103 }, end: { line: 47, column: 105 } }, "24": { start: { line: 47, column: 107 }, end: { line: 47, column: 228 } }, "25": { start: { line: 47, column: 126 }, end: { line: 47, column: 226 } }, "26": { start: { line: 47, column: 149 }, end: { line: 47, column: 224 } }, "27": { start: { line: 47, column: 201 }, end: { line: 47, column: 224 } }, "28": { start: { line: 47, column: 229 }, end: { line: 47, column: 250 } }, "29": { start: { line: 47, column: 251 }, end: { line: 47, column: 265 } }, "30": { start: { line: 49, column: 39 }, end: { line: 49, column: 93 } }, "31": { start: { line: 51, column: 14 }, end: { line: 51, column: 65 } }, "32": { start: { line: 53, column: 15 }, end: { line: 53, column: 32 } }, "33": { start: { line: 56, column: 2 }, end: { line: 69, column: 4 } }, "34": { start: { line: 72, column: 15 }, end: { line: 310, column: 2 } }, "35": { start: { line: 76, column: 18 }, end: { line: 76, column: 32 } }, "36": { start: { line: 85, column: 64 }, end: { line: 85, column: 87 } }, "37": { start: { line: 90, column: 67 }, end: { line: 90, column: 98 } }, "38": { start: { line: 100, column: 133 }, end: { line: 100, column: 158 } }, "39": { start: { line: 105, column: 28 }, end: { line: 105, column: 61 } }, "40": { start: { line: 111, column: 6 }, end: { line: 113, column: 7 } }, "41": { start: { line: 112, column: 8 }, end: { line: 112, column: 18 } }, "42": { start: { line: 115, column: 25 }, end: { line: 115, column: 69 } }, "43": { start: { line: 117, column: 6 }, end: { line: 129, column: 7 } }, "44": { start: { line: 125, column: 8 }, end: { line: 125, column: 23 } }, "45": { start: { line: 126, column: 8 }, end: { line: 128, column: 9 } }, "46": { start: { line: 127, column: 10 }, end: { line: 127, column: 46 } }, "47": { start: { line: 131, column: 34 }, end: { line: 133, column: 10 } }, "48": { start: { line: 131, column: 122 }, end: { line: 133, column: 7 } }, "49": { start: { line: 134, column: 35 }, end: { line: 134, column: 102 } }, "50": { start: { line: 136, column: 24 }, end: { line: 136, column: 54 } }, "51": { start: { line: 137, column: 6 }, end: { line: 137, column: 43 } }, "52": { start: { line: 139, column: 6 }, end: { line: 184, column: 9 } }, "53": { start: { line: 144, column: 26 }, end: { line: 144, column: 61 } }, "54": { start: { line: 146, column: 8 }, end: { line: 149, column: 10 } }, "55": { start: { line: 159, column: 12 }, end: { line: 159, column: 21 } }, "56": { start: { line: 160, column: 37 }, end: { line: 160, column: 70 } }, "57": { start: { line: 161, column: 22 }, end: { line: 170, column: 9 } }, "58": { start: { line: 172, column: 8 }, end: { line: 174, column: 9 } }, "59": { start: { line: 173, column: 10 }, end: { line: 173, column: 43 } }, "60": { start: { line: 176, column: 8 }, end: { line: 183, column: 11 } }, "61": { start: { line: 191, column: 16 }, end: { line: 191, column: 18 } }, "62": { start: { line: 192, column: 6 }, end: { line: 194, column: 9 } }, "63": { start: { line: 193, column: 8 }, end: { line: 193, column: 42 } }, "64": { start: { line: 197, column: 21 }, end: { line: 197, column: 25 } }, "65": { start: { line: 198, column: 6 }, end: { line: 204, column: 7 } }, "66": { start: { line: 199, column: 8 }, end: { line: 203, column: 9 } }, "67": { start: { line: 200, column: 10 }, end: { line: 200, column: 33 } }, "68": { start: { line: 202, column: 10 }, end: { line: 202, column: 29 } }, "69": { start: { line: 205, column: 6 }, end: { line: 205, column: 17 } }, "70": { start: { line: 211, column: 144 }, end: { line: 211, column: 157 } }, "71": { start: { line: 216, column: 105 }, end: { line: 216, column: 122 } }, "72": { start: { line: 227, column: 6 }, end: { line: 229, column: 7 } }, "73": { start: { line: 228, column: 8 }, end: { line: 228, column: 20 } }, "74": { start: { line: 231, column: 6 }, end: { line: 231, column: 29 } }, "75": { start: { line: 232, column: 6 }, end: { line: 232, column: 23 } }, "76": { start: { line: 234, column: 6 }, end: { line: 234, column: 103 } }, "77": { start: { line: 240, column: 81 }, end: { line: 240, column: 115 } }, "78": { start: { line: 245, column: 97 }, end: { line: 245, column: 103 } }, "79": { start: { line: 250, column: 80 }, end: { line: 250, column: 93 } }, "80": { start: { line: 255, column: 92 }, end: { line: 255, column: 93 } }, "81": { start: { line: 260, column: 96 }, end: { line: 260, column: 97 } }, "82": { start: { line: 265, column: 108 }, end: { line: 265, column: 109 } }, "83": { start: { line: 270, column: 105 }, end: { line: 270, column: 114 } }, "84": { start: { line: 281, column: 94 }, end: { line: 281, column: 145 } }, "85": { start: { line: 287, column: 89 }, end: { line: 287, column: 175 } }, "86": { start: { line: 298, column: 70 }, end: { line: 298, column: 384 } }, "87": { start: { line: 307, column: 123 }, end: { line: 308, column: 92 } }, "88": { start: { line: 312, column: 0 }, end: { line: 312, column: 27 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 47, column: 9 }, end: { line: 47, column: 32 } }, loc: { start: { line: 47, column: 38 }, end: { line: 47, column: 269 } }, line: 47 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 49, column: 9 }, end: { line: 49, column: 31 } }, loc: { start: { line: 49, column: 37 }, end: { line: 49, column: 95 } }, line: 49 }, "2": { name: "getSourceRange", decl: { start: { line: 55, column: 9 }, end: { line: 55, column: 23 } }, loc: { start: { line: 55, column: 42 }, end: { line: 70, column: 1 } }, line: 55 }, "3": { name: "(anonymous_3)", decl: { start: { line: 76, column: 9 }, end: { line: 76, column: 10 } }, loc: { start: { line: 76, column: 18 }, end: { line: 76, column: 32 } }, line: 76 }, "4": { name: "(anonymous_4)", decl: { start: { line: 85, column: 55 }, end: { line: 85, column: 56 } }, loc: { start: { line: 85, column: 64 }, end: { line: 85, column: 87 } }, line: 85 }, "5": { name: "(anonymous_5)", decl: { start: { line: 90, column: 58 }, end: { line: 90, column: 59 } }, loc: { start: { line: 90, column: 67 }, end: { line: 90, column: 98 } }, line: 90 }, "6": { name: "(anonymous_6)", decl: { start: { line: 100, column: 104 }, end: { line: 100, column: 105 } }, loc: { start: { line: 100, column: 133 }, end: { line: 100, column: 158 } }, line: 100 }, "7": { name: "(anonymous_7)", decl: { start: { line: 105, column: 19 }, end: { line: 105, column: 20 } }, loc: { start: { line: 105, column: 28 }, end: { line: 105, column: 61 } }, line: 105 }, "8": { name: "(anonymous_8)", decl: { start: { line: 110, column: 119 }, end: { line: 110, column: 120 } }, loc: { start: { line: 110, column: 159 }, end: { line: 185, column: 5 } }, line: 110 }, "9": { name: "(anonymous_9)", decl: { start: { line: 131, column: 99 }, end: { line: 131, column: 100 } }, loc: { start: { line: 131, column: 122 }, end: { line: 133, column: 7 } }, line: 131 }, "10": { name: "(anonymous_10)", decl: { start: { line: 139, column: 30 }, end: { line: 139, column: 31 } }, loc: { start: { line: 139, column: 54 }, end: { line: 150, column: 7 } }, line: 139 }, "11": { name: "(anonymous_11)", decl: { start: { line: 150, column: 13 }, end: { line: 150, column: 14 } }, loc: { start: { line: 150, column: 45 }, end: { line: 184, column: 7 } }, line: 150 }, "12": { name: "(anonymous_12)", decl: { start: { line: 190, column: 83 }, end: { line: 190, column: 84 } }, loc: { start: { line: 190, column: 99 }, end: { line: 206, column: 5 } }, line: 190 }, "13": { name: "(anonymous_13)", decl: { start: { line: 192, column: 27 }, end: { line: 192, column: 28 } }, loc: { start: { line: 192, column: 50 }, end: { line: 194, column: 7 } }, line: 192 }, "14": { name: "(anonymous_14)", decl: { start: { line: 211, column: 131 }, end: { line: 211, column: 132 } }, loc: { start: { line: 211, column: 144 }, end: { line: 211, column: 157 } }, line: 211 }, "15": { name: "(anonymous_15)", decl: { start: { line: 216, column: 78 }, end: { line: 216, column: 79 } }, loc: { start: { line: 216, column: 105 }, end: { line: 216, column: 122 } }, line: 216 }, "16": { name: "(anonymous_16)", decl: { start: { line: 226, column: 184 }, end: { line: 226, column: 185 } }, loc: { start: { line: 226, column: 208 }, end: { line: 235, column: 5 } }, line: 226 }, "17": { name: "(anonymous_17)", decl: { start: { line: 240, column: 66 }, end: { line: 240, column: 67 } }, loc: { start: { line: 240, column: 81 }, end: { line: 240, column: 115 } }, line: 240 }, "18": { name: "(anonymous_18)", decl: { start: { line: 245, column: 87 }, end: { line: 245, column: 88 } }, loc: { start: { line: 245, column: 97 }, end: { line: 245, column: 103 } }, line: 245 }, "19": { name: "(anonymous_19)", decl: { start: { line: 250, column: 68 }, end: { line: 250, column: 69 } }, loc: { start: { line: 250, column: 80 }, end: { line: 250, column: 93 } }, line: 250 }, "20": { name: "(anonymous_20)", decl: { start: { line: 255, column: 87 }, end: { line: 255, column: 88 } }, loc: { start: { line: 255, column: 92 }, end: { line: 255, column: 93 } }, line: 255 }, "21": { name: "(anonymous_21)", decl: { start: { line: 260, column: 91 }, end: { line: 260, column: 92 } }, loc: { start: { line: 260, column: 96 }, end: { line: 260, column: 97 } }, line: 260 }, "22": { name: "(anonymous_22)", decl: { start: { line: 265, column: 103 }, end: { line: 265, column: 104 } }, loc: { start: { line: 265, column: 108 }, end: { line: 265, column: 109 } }, line: 265 }, "23": { name: "(anonymous_23)", decl: { start: { line: 270, column: 92 }, end: { line: 270, column: 93 } }, loc: { start: { line: 270, column: 105 }, end: { line: 270, column: 114 } }, line: 270 }, "24": { name: "(anonymous_24)", decl: { start: { line: 281, column: 74 }, end: { line: 281, column: 75 } }, loc: { start: { line: 281, column: 94 }, end: { line: 281, column: 145 } }, line: 281 }, "25": { name: "(anonymous_25)", decl: { start: { line: 287, column: 67 }, end: { line: 287, column: 68 } }, loc: { start: { line: 287, column: 89 }, end: { line: 287, column: 175 } }, line: 287 }, "26": { name: "(anonymous_26)", decl: { start: { line: 298, column: 62 }, end: { line: 298, column: 63 } }, loc: { start: { line: 298, column: 70 }, end: { line: 298, column: 384 } }, line: 298 }, "27": { name: "(anonymous_27)", decl: { start: { line: 307, column: 112 }, end: { line: 307, column: 113 } }, loc: { start: { line: 307, column: 123 }, end: { line: 308, column: 92 } }, line: 307 } }, branchMap: { "0": { loc: { start: { line: 47, column: 40 }, end: { line: 47, column: 267 } }, type: "if", locations: [{ start: { line: 47, column: 40 }, end: { line: 47, column: 267 } }, { start: { line: 47, column: 40 }, end: { line: 47, column: 267 } }], line: 47 }, "1": { loc: { start: { line: 47, column: 44 }, end: { line: 47, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 47, column: 44 }, end: { line: 47, column: 47 } }, { start: { line: 47, column: 51 }, end: { line: 47, column: 65 } }], line: 47 }, "2": { loc: { start: { line: 47, column: 107 }, end: { line: 47, column: 228 } }, type: "if", locations: [{ start: { line: 47, column: 107 }, end: { line: 47, column: 228 } }, { start: { line: 47, column: 107 }, end: { line: 47, column: 228 } }], line: 47 }, "3": { loc: { start: { line: 47, column: 149 }, end: { line: 47, column: 224 } }, type: "if", locations: [{ start: { line: 47, column: 149 }, end: { line: 47, column: 224 } }, { start: { line: 47, column: 149 }, end: { line: 47, column: 224 } }], line: 47 }, "4": { loc: { start: { line: 49, column: 46 }, end: { line: 49, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 49, column: 70 }, end: { line: 49, column: 73 } }, { start: { line: 49, column: 76 }, end: { line: 49, column: 92 } }], line: 49 }, "5": { loc: { start: { line: 49, column: 46 }, end: { line: 49, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 49, column: 46 }, end: { line: 49, column: 49 } }, { start: { line: 49, column: 53 }, end: { line: 49, column: 67 } }], line: 49 }, "6": { loc: { start: { line: 55, column: 24 }, end: { line: 55, column: 40 } }, type: "default-arg", locations: [{ start: { line: 55, column: 38 }, end: { line: 55, column: 40 } }], line: 55 }, "7": { loc: { start: { line: 57, column: 11 }, end: { line: 57, column: 33 } }, type: "binary-expr", locations: [{ start: { line: 57, column: 11 }, end: { line: 57, column: 28 } }, { start: { line: 57, column: 32 }, end: { line: 57, column: 33 } }], line: 57 }, "8": { loc: { start: { line: 58, column: 12 }, end: { line: 58, column: 35 } }, type: "binary-expr", locations: [{ start: { line: 58, column: 12 }, end: { line: 58, column: 30 } }, { start: { line: 58, column: 34 }, end: { line: 58, column: 35 } }], line: 58 }, "9": { loc: { start: { line: 59, column: 11 }, end: { line: 68, column: 5 } }, type: "binary-expr", locations: [{ start: { line: 59, column: 11 }, end: { line: 59, column: 28 } }, { start: { line: 59, column: 32 }, end: { line: 68, column: 5 } }], line: 59 }, "10": { loc: { start: { line: 100, column: 133 }, end: { line: 100, column: 158 } }, type: "binary-expr", locations: [{ start: { line: 100, column: 133 }, end: { line: 100, column: 152 } }, { start: { line: 100, column: 156 }, end: { line: 100, column: 158 } }], line: 100 }, "11": { loc: { start: { line: 111, column: 6 }, end: { line: 113, column: 7 } }, type: "if", locations: [{ start: { line: 111, column: 6 }, end: { line: 113, column: 7 } }, { start: { line: 111, column: 6 }, end: { line: 113, column: 7 } }], line: 111 }, "12": { loc: { start: { line: 117, column: 6 }, end: { line: 129, column: 7 } }, type: "if", locations: [{ start: { line: 117, column: 6 }, end: { line: 129, column: 7 } }, { start: { line: 117, column: 6 }, end: { line: 129, column: 7 } }], line: 117 }, "13": { loc: { start: { line: 132, column: 86 }, end: { line: 132, column: 98 } }, type: "binary-expr", locations: [{ start: { line: 132, column: 86 }, end: { line: 132, column: 92 } }, { start: { line: 132, column: 96 }, end: { line: 132, column: 98 } }], line: 132 }, "14": { loc: { start: { line: 144, column: 26 }, end: { line: 144, column: 61 } }, type: "binary-expr", locations: [{ start: { line: 144, column: 26 }, end: { line: 144, column: 55 } }, { start: { line: 144, column: 59 }, end: { line: 144, column: 61 } }], line: 144 }, "15": { loc: { start: { line: 156, column: 10 }, end: { line: 156, column: 19 } }, type: "default-arg", locations: [{ start: { line: 156, column: 18 }, end: { line: 156, column: 19 } }], line: 156 }, "16": { loc: { start: { line: 157, column: 10 }, end: { line: 157, column: 20 } }, type: "default-arg", locations: [{ start: { line: 157, column: 19 }, end: { line: 157, column: 20 } }], line: 157 }, "17": { loc: { start: { line: 158, column: 10 }, end: { line: 158, column: 28 } }, type: "default-arg", locations: [{ start: { line: 158, column: 17 }, end: { line: 158, column: 28 } }], line: 158 }, "18": { loc: { start: { line: 160, column: 37 }, end: { line: 160, column: 70 } }, type: "binary-expr", locations: [{ start: { line: 160, column: 37 }, end: { line: 160, column: 64 } }, { start: { line: 160, column: 68 }, end: { line: 160, column: 70 } }], line: 160 }, "19": { loc: { start: { line: 162, column: 17 }, end: { line: 165, column: 11 } }, type: "binary-expr", locations: [{ start: { line: 162, column: 17 }, end: { line: 162, column: 44 } }, { start: { line: 162, column: 48 }, end: { line: 165, column: 11 } }], line: 162 }, "20": { loc: { start: { line: 166, column: 15 }, end: { line: 169, column: 11 } }, type: "binary-expr", locations: [{ start: { line: 166, column: 15 }, end: { line: 166, column: 51 } }, { start: { line: 166, column: 55 }, end: { line: 169, column: 11 } }], line: 166 }, "21": { loc: { start: { line: 172, column: 8 }, end: { line: 174, column: 9 } }, type: "if", locations: [{ start: { line: 172, column: 8 }, end: { line: 174, column: 9 } }, { start: { line: 172, column: 8 }, end: { line: 174, column: 9 } }], line: 172 }, "22": { loc: { start: { line: 199, column: 8 }, end: { line: 203, column: 9 } }, type: "if", locations: [{ start: { line: 199, column: 8 }, end: { line: 203, column: 9 } }, { start: { line: 199, column: 8 }, end: { line: 203, column: 9 } }], line: 199 }, "23": { loc: { start: { line: 211, column: 144 }, end: { line: 211, column: 157 } }, type: "binary-expr", locations: [{ start: { line: 211, column: 144 }, end: { line: 211, column: 151 } }, { start: { line: 211, column: 155 }, end: { line: 211, column: 157 } }], line: 211 }, "24": { loc: { start: { line: 216, column: 105 }, end: { line: 216, column: 122 } }, type: "binary-expr", locations: [{ start: { line: 216, column: 105 }, end: { line: 216, column: 116 } }, { start: { line: 216, column: 120 }, end: { line: 216, column: 122 } }], line: 216 }, "25": { loc: { start: { line: 227, column: 6 }, end: { line: 229, column: 7 } }, type: "if", locations: [{ start: { line: 227, column: 6 }, end: { line: 229, column: 7 } }, { start: { line: 227, column: 6 }, end: { line: 229, column: 7 } }], line: 227 }, "26": { loc: { start: { line: 234, column: 13 }, end: { line: 234, column: 102 } }, type: "binary-expr", locations: [{ start: { line: 234, column: 13 }, end: { line: 234, column: 40 } }, { start: { line: 234, column: 44 }, end: { line: 234, column: 73 } }, { start: { line: 234, column: 77 }, end: { line: 234, column: 102 } }], line: 234 }, "27": { loc: { start: { line: 250, column: 69 }, end: { line: 250, column: 75 } }, type: "default-arg", locations: [{ start: { line: 250, column: 73 }, end: { line: 250, column: 75 } }], line: 250 }, "28": { loc: { start: { line: 250, column: 80 }, end: { line: 250, column: 93 } }, type: "binary-expr", locations: [{ start: { line: 250, column: 80 }, end: { line: 250, column: 86 } }, { start: { line: 250, column: 90 }, end: { line: 250, column: 93 } }], line: 250 }, "29": { loc: { start: { line: 287, column: 89 }, end: { line: 287, column: 175 } }, type: "cond-expr", locations: [{ start: { line: 287, column: 99 }, end: { line: 287, column: 138 } }, { start: { line: 287, column: 141 }, end: { line: 287, column: 175 } }], line: 287 }, "30": { loc: { start: { line: 298, column: 70 }, end: { line: 298, column: 384 } }, type: "binary-expr", locations: [{ start: { line: 298, column: 70 }, end: { line: 298, column: 88 } }, { start: { line: 298, column: 92 }, end: { line: 298, column: 124 } }, { start: { line: 298, column: 128 }, end: { line: 298, column: 157 } }, { start: { line: 298, column: 161 }, end: { line: 298, column: 204 } }, { start: { line: 298, column: 208 }, end: { line: 298, column: 248 } }, { start: { line: 298, column: 253 }, end: { line: 298, column: 314 } }, { start: { line: 298, column: 318 }, end: { line: 298, column: 383 } }], line: 298 }, "31": { loc: { start: { line: 307, column: 123 }, end: { line: 308, column: 92 } }, type: "binary-expr", locations: [{ start: { line: 307, column: 123 }, end: { line: 307, column: 153 } }, { start: { line: 308, column: 4 }, end: { line: 308, column: 36 } }, { start: { line: 308, column: 40 }, end: { line: 308, column: 92 } }], line: 307 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0, "49": 0, "50": 0, "51": 0, "52": 0, "53": 0, "54": 0, "55": 0, "56": 0, "57": 0, "58": 0, "59": 0, "60": 0, "61": 0, "62": 0, "63": 0, "64": 0, "65": 0, "66": 0, "67": 0, "68": 0, "69": 0, "70": 0, "71": 0, "72": 0, "73": 0, "74": 0, "75": 0, "76": 0, "77": 0, "78": 0, "79": 0, "80": 0, "81": 0, "82": 0, "83": 0, "84": 0, "85": 0, "86": 0, "87": 0, "88": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0], "7": [0, 0], "8": [0, 0], "9": [0, 0], "10": [0, 0], "11": [0, 0], "12": [0, 0], "13": [0, 0], "14": [0, 0], "15": [0], "16": [0], "17": [0], "18": [0, 0], "19": [0, 0], "20": [0, 0], "21": [0, 0], "22": [0, 0], "23": [0, 0], "24": [0, 0], "25": [0, 0], "26": [0, 0, 0], "27": [0], "28": [0, 0], "29": [0, 0], "30": [0, 0, 0, 0, 0, 0, 0], "31": [0, 0, 0] }, inputSourceMap: { version: 3, sources: ["lib/solidity/selectors/index.js"], names: ["DecodeUtils", "debug", "semver", "require", "getSourceRange", "instruction", "start", "length", "lines", "range", "line", "column", "end", "solidity", "state", "info", "sources", "byId", "sourceMaps", "byContext", "current", "sourceMap", "evm", "context", "functionDepth", "proc", "instructions", "binary", "CodeUtils", "parseCode", "i", "lineAndColumnMappings", "map", "id", "source", "SolidityUtils", "getCharacterOffsetToLineAndColumnMapping", "humanReadableSourceMap", "getHumanReadableSourceMap", "primaryFile", "file", "index", "jump", "lineAndColumnMapping", "instructionAtProgramCounter", "forEach", "pc", "lastSeen", "entries", "step", "programCounter", "sourceRange", "isSourceRangeFinal", "next", "isMultiline", "willJump", "isJump", "jumpDirection", "willCall", "isCall", "x", "willCreate", "isCreate", "callsPrecompile", "willReturn", "isHalting", "pointer", "ast", "node", "jsonpointer", "get", "isContractCall", "undefined", "nodeType", "expression", "Definition", "isContract", "isContractType", "needsFunctionDepthWorkaround", "callContext", "compiler", "name", "satisfies", "version"], mappings: "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", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:solidity:selectors\");\n\nimport { createSelectorTree, createLeaf } from \"reselect-tree\";\nimport SolidityUtils from \"truffle-solidity-utils\";\nimport CodeUtils from \"truffle-code-utils\";\n\nimport * as DecodeUtils from \"truffle-decode-utils\";\nimport { findRange } from \"lib/ast/map\";\nimport jsonpointer from \"json-pointer\";\n\nimport evm from \"lib/evm/selectors\";\n\nconst semver = require(\"semver\");\n\nfunction getSourceRange(instruction = {}) {\n  return {\n    start: instruction.start || 0,\n    length: instruction.length || 0,\n    lines: instruction.range || {\n      start: {\n        line: 0,\n        column: 0\n      },\n      end: {\n        line: 0,\n        column: 0\n      }\n    }\n  };\n}\n\nlet solidity = createSelectorTree({\n  /**\n   * solidity.state\n   */\n  state: state => state.solidity,\n\n  /**\n   * solidity.info\n   */\n  info: {\n    /**\n     * solidity.info.sources\n     */\n    sources: createLeaf([\"/state\"], state => state.info.sources.byId),\n\n    /**\n     * solidity.info.sourceMaps\n     */\n    sourceMaps: createLeaf([\"/state\"], state => state.info.sourceMaps.byContext)\n  },\n\n  /**\n   * solidity.current\n   */\n  current: {\n    /**\n     * solidity.current.sourceMap\n     */\n    sourceMap: createLeaf(\n      [evm.current.context, \"/info/sourceMaps\"],\n\n      ({ context }, sourceMaps) => sourceMaps[context] || {}\n    ),\n\n    /**\n     * solidity.current.functionDepth\n     */\n    functionDepth: state => state.solidity.proc.functionDepth,\n\n    /**\n     * solidity.current.instructions\n     */\n    instructions: createLeaf(\n      [\"/info/sources\", evm.current.context, \"./sourceMap\"],\n\n      (sources, { binary }, { sourceMap }) => {\n        if (!binary) {\n          return [];\n        }\n\n        let instructions = CodeUtils.parseCode(binary);\n\n        if (!sourceMap) {\n          // Let's create a source map to use since none exists. This source map\n          // maps just as many ranges as there are instructions, and ensures every\n          // instruction is marked as \"jumping out\". This will ensure all\n          // available debugger commands step one instruction at a time.\n          //\n          // This is kindof a hack; perhaps this should be broken out into separate\n          // context types. TODO\n          sourceMap = \"\";\n          for (var i = 0; i < instructions.length; i++) {\n            sourceMap += i + \":\" + i + \":1:-1;\";\n          }\n        }\n\n        var lineAndColumnMappings = Object.assign(\n          {},\n          ...Object.entries(sources).map(([id, { source }]) => ({\n            [id]: SolidityUtils.getCharacterOffsetToLineAndColumnMapping(\n              source || \"\"\n            )\n          }))\n        );\n        var humanReadableSourceMap = SolidityUtils.getHumanReadableSourceMap(\n          sourceMap\n        );\n\n        let primaryFile = humanReadableSourceMap[0].file;\n        debug(\"primaryFile %o\", primaryFile);\n\n        return instructions\n          .map((instruction, index) => {\n            // lookup source map by index and add `index` property to\n            // instruction\n            //\n\n            const sourceMap = humanReadableSourceMap[index] || {};\n\n            return {\n              instruction: { ...instruction, index },\n              sourceMap\n            };\n          })\n          .map(({ instruction, sourceMap }) => {\n            // add source map information to instruction, or defaults\n            //\n\n            const {\n              jump,\n              start = 0,\n              length = 0,\n              file = primaryFile\n            } = sourceMap;\n            const lineAndColumnMapping = lineAndColumnMappings[file] || {};\n            const range = {\n              start: lineAndColumnMapping[start] || {\n                line: null,\n                column: null\n              },\n              end: lineAndColumnMapping[start + length] || {\n                line: null,\n                column: null\n              }\n            };\n\n            if (range.start.line === null) {\n              debug(\"sourceMap %o\", sourceMap);\n            }\n\n            return {\n              ...instruction,\n\n              jump,\n              start,\n              length,\n              file,\n              range\n            };\n          });\n      }\n    ),\n\n    /**\n     * solidity.current.instructionAtProgramCounter\n     */\n    instructionAtProgramCounter: createLeaf(\n      [\"./instructions\"],\n\n      instructions => {\n        let map = [];\n        instructions.forEach(function(instruction) {\n          map[instruction.pc] = instruction;\n        });\n\n        // fill in gaps in map by defaulting to the last known instruction\n        let lastSeen = null;\n        for (let [pc, instruction] of map.entries()) {\n          if (instruction) {\n            lastSeen = instruction;\n          } else {\n            map[pc] = lastSeen;\n          }\n        }\n        return map;\n      }\n    ),\n\n    /**\n     * solidity.current.instruction\n     */\n    instruction: createLeaf(\n      [\"./instructionAtProgramCounter\", evm.current.step.programCounter],\n\n      (map, pc) => map[pc] || {}\n    ),\n\n    /**\n     * solidity.current.source\n     */\n    source: createLeaf(\n      [\"/info/sources\", \"./instruction\"],\n\n      (sources, { file: id }) => sources[id] || {}\n    ),\n\n    /**\n     * solidity.current.sourceRange\n     */\n    sourceRange: createLeaf([\"./instruction\"], getSourceRange),\n\n    /**\n     * solidity.current.isSourceRangeFinal\n     */\n    isSourceRangeFinal: createLeaf(\n      [\n        \"./instructionAtProgramCounter\",\n        evm.current.step.programCounter,\n        evm.next.step.programCounter\n      ],\n\n      (map, current, next) => {\n        if (!map[next]) {\n          return true;\n        }\n\n        current = map[current];\n        next = map[next];\n\n        return (\n          current.start != next.start ||\n          current.length != next.length ||\n          current.file != next.file\n        );\n      }\n    ),\n\n    /**\n     * solidity.current.isMultiline\n     */\n    isMultiline: createLeaf(\n      [\"./sourceRange\"],\n\n      ({ lines }) => lines.start.line != lines.end.line\n    ),\n\n    /**\n     * solidity.current.willJump\n     */\n    willJump: createLeaf([evm.current.step.isJump], isJump => isJump),\n\n    /**\n     * solidity.current.jumpDirection\n     */\n    jumpDirection: createLeaf([\"./instruction\"], (i = {}) => i.jump || \"-\"),\n\n    /**\n     * solidity.current.willCall\n     */\n    willCall: createLeaf([evm.current.step.isCall], x => x),\n\n    /**\n     * solidity.current.willCreate\n     */\n    willCreate: createLeaf([evm.current.step.isCreate], x => x),\n\n    /**\n     * solidity.current.callsPrecompile\n     */\n    callsPrecompile: createLeaf([evm.current.step.callsPrecompile], x => x),\n\n    /**\n     * solidity.current.willReturn\n     */\n    willReturn: createLeaf(\n      [evm.current.step.isHalting],\n      isHalting => isHalting\n    ),\n\n    //HACK: DUPLICATE CODE FOLLOWS\n    //The following code duplicates some selectors in ast.\n    //This exists to suppor the solidity.current.contractCall workaround below.\n    //This should be cleaned up later.\n\n    /**\n     * solidity.current.pointer\n     * HACK duplicates ast.current.pointer\n     */\n    pointer: createLeaf(\n      [\"./source\", \"./sourceRange\"],\n\n      ({ ast }, range) => findRange(ast, range.start, range.length)\n    ),\n\n    /**\n     * solidity.current.node\n     * HACK duplicates ast.current.node\n     */\n    node: createLeaf(\n      [\"./source\", \"./pointer\"],\n      ({ ast }, pointer) =>\n        pointer ? jsonpointer.get(ast, pointer) : jsonpointer.get(ast, \"\")\n    ),\n\n    /**\n     * solidity.current.isContractCall\n     * HACK WORKAROUND (only applies to solc version <0.5.1)\n     * this selector exists to work around a problem in solc\n     * it attempts to detect whether the current node is a contract method call\n     * (or library method call)\n     * it will not successfully detect this if the method was first placed in a\n     * function variable, only if it is being called directly\n     */\n    isContractCall: createLeaf(\n      [\"./node\"],\n      node =>\n        node !== undefined &&\n        node.nodeType === \"FunctionCall\" &&\n        node.expression !== undefined &&\n        node.expression.nodeType === \"MemberAccess\" &&\n        node.expression.expression !== undefined &&\n        (DecodeUtils.Definition.isContract(node.expression.expression) ||\n          DecodeUtils.Definition.isContractType(node.expression.expression))\n    ),\n\n    /**\n     * solidity.current.needsFunctionDepthWorkaround\n     * HACK\n     * Determines if the solidity version used for the contract about to be\n     * called was <0.5.1, to determine whether to use the above workaround\n     * Only call this if the current step is a call or create!\n     */\n    needsFunctionDepthWorkaround: createLeaf(\n      [evm.current.step.callContext],\n      context =>\n        context.compiler !== undefined && //would be undefined for e.g. a precompile\n        context.compiler.name === \"solc\" &&\n        semver.satisfies(context.compiler.version, \"<0.5.1\")\n    )\n  }\n});\n\nexport default solidity;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_1iyo6c3ahx.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _extends2 = (cov_1iyo6c3ahx.s[1]++, __webpack_require__(13));var _extends3 = (cov_1iyo6c3ahx.s[2]++, _interopRequireDefault(_extends2));var _entries = (cov_1iyo6c3ahx.s[3]++, __webpack_require__(9));var _entries2 = (cov_1iyo6c3ahx.s[4]++, _interopRequireDefault(_entries));var _assign = (cov_1iyo6c3ahx.s[5]++, __webpack_require__(12));var _assign2 = (cov_1iyo6c3ahx.s[6]++, _interopRequireDefault(_assign));var _debug = (cov_1iyo6c3ahx.s[7]++, __webpack_require__(0));var _debug2 = (cov_1iyo6c3ahx.s[8]++, _interopRequireDefault(_debug));var _reselectTree = (cov_1iyo6c3ahx.s[9]++, __webpack_require__(14));var _truffleSolidityUtils = (cov_1iyo6c3ahx.s[10]++, __webpack_require__(64));var _truffleSolidityUtils2 = (cov_1iyo6c3ahx.s[11]++, _interopRequireDefault(_truffleSolidityUtils));var _truffleCodeUtils = (cov_1iyo6c3ahx.s[12]++, __webpack_require__(65));var _truffleCodeUtils2 = (cov_1iyo6c3ahx.s[13]++, _interopRequireDefault(_truffleCodeUtils));var _truffleDecodeUtils = (cov_1iyo6c3ahx.s[14]++, __webpack_require__(6));var DecodeUtils = (cov_1iyo6c3ahx.s[15]++, _interopRequireWildcard(_truffleDecodeUtils));var _map = (cov_1iyo6c3ahx.s[16]++, __webpack_require__(30));var _jsonPointer = (cov_1iyo6c3ahx.s[17]++, __webpack_require__(29));var _jsonPointer2 = (cov_1iyo6c3ahx.s[18]++, _interopRequireDefault(_jsonPointer));var _selectors = (cov_1iyo6c3ahx.s[19]++, __webpack_require__(10));var _selectors2 = (cov_1iyo6c3ahx.s[20]++, _interopRequireDefault(_selectors));function _interopRequireWildcard(obj) {
  cov_1iyo6c3ahx.f[0]++;cov_1iyo6c3ahx.s[21]++;if ((cov_1iyo6c3ahx.b[1][0]++, obj) && (cov_1iyo6c3ahx.b[1][1]++, obj.__esModule)) {
    cov_1iyo6c3ahx.b[0][0]++;cov_1iyo6c3ahx.s[22]++;return obj;
  } else {
    cov_1iyo6c3ahx.b[0][1]++;var newObj = (cov_1iyo6c3ahx.s[23]++, {});cov_1iyo6c3ahx.s[24]++;if (obj != null) {
      cov_1iyo6c3ahx.b[2][0]++;cov_1iyo6c3ahx.s[25]++;for (var key in obj) {
        cov_1iyo6c3ahx.s[26]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_1iyo6c3ahx.b[3][0]++;cov_1iyo6c3ahx.s[27]++;newObj[key] = obj[key];
        } else {
          cov_1iyo6c3ahx.b[3][1]++;
        }
      }
    } else {
      cov_1iyo6c3ahx.b[2][1]++;
    }cov_1iyo6c3ahx.s[28]++;newObj.default = obj;cov_1iyo6c3ahx.s[29]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_1iyo6c3ahx.f[1]++;cov_1iyo6c3ahx.s[30]++;return (cov_1iyo6c3ahx.b[5][0]++, obj) && (cov_1iyo6c3ahx.b[5][1]++, obj.__esModule) ? (cov_1iyo6c3ahx.b[4][0]++, obj) : (cov_1iyo6c3ahx.b[4][1]++, { default: obj });
}const debug = (cov_1iyo6c3ahx.s[31]++, (0, _debug2.default)("debugger:solidity:selectors"));const semver = (cov_1iyo6c3ahx.s[32]++, __webpack_require__(69));function getSourceRange(instruction = (cov_1iyo6c3ahx.b[6][0]++, {})) {
  cov_1iyo6c3ahx.f[2]++;cov_1iyo6c3ahx.s[33]++;return { start: (cov_1iyo6c3ahx.b[7][0]++, instruction.start) || (cov_1iyo6c3ahx.b[7][1]++, 0), length: (cov_1iyo6c3ahx.b[8][0]++, instruction.length) || (cov_1iyo6c3ahx.b[8][1]++, 0), lines: (cov_1iyo6c3ahx.b[9][0]++, instruction.range) || (cov_1iyo6c3ahx.b[9][1]++, { start: { line: 0, column: 0 }, end: { line: 0, column: 0 } }) };
}let solidity = (cov_1iyo6c3ahx.s[34]++, (0, _reselectTree.createSelectorTree)({ state: state => {
    cov_1iyo6c3ahx.f[3]++;cov_1iyo6c3ahx.s[35]++;return state.solidity;
  }, info: { sources: (0, _reselectTree.createLeaf)(["/state"], state => {
      cov_1iyo6c3ahx.f[4]++;cov_1iyo6c3ahx.s[36]++;return state.info.sources.byId;
    }), sourceMaps: (0, _reselectTree.createLeaf)(["/state"], state => {
      cov_1iyo6c3ahx.f[5]++;cov_1iyo6c3ahx.s[37]++;return state.info.sourceMaps.byContext;
    }) }, current: { sourceMap: (0, _reselectTree.createLeaf)([_selectors2.default.current.context, "/info/sourceMaps"], ({ context }, sourceMaps) => {
      cov_1iyo6c3ahx.f[6]++;cov_1iyo6c3ahx.s[38]++;return (cov_1iyo6c3ahx.b[10][0]++, sourceMaps[context]) || (cov_1iyo6c3ahx.b[10][1]++, {});
    }), functionDepth: state => {
      cov_1iyo6c3ahx.f[7]++;cov_1iyo6c3ahx.s[39]++;return state.solidity.proc.functionDepth;
    }, instructions: (0, _reselectTree.createLeaf)(["/info/sources", _selectors2.default.current.context, "./sourceMap"], (sources, { binary }, { sourceMap }) => {
      cov_1iyo6c3ahx.f[8]++;cov_1iyo6c3ahx.s[40]++;if (!binary) {
        cov_1iyo6c3ahx.b[11][0]++;cov_1iyo6c3ahx.s[41]++;return [];
      } else {
        cov_1iyo6c3ahx.b[11][1]++;
      }let instructions = (cov_1iyo6c3ahx.s[42]++, _truffleCodeUtils2.default.parseCode(binary));cov_1iyo6c3ahx.s[43]++;if (!sourceMap) {
        cov_1iyo6c3ahx.b[12][0]++;cov_1iyo6c3ahx.s[44]++;sourceMap = "";cov_1iyo6c3ahx.s[45]++;for (var i = 0; i < instructions.length; i++) {
          cov_1iyo6c3ahx.s[46]++;sourceMap += i + ":" + i + ":1:-1;";
        }
      } else {
        cov_1iyo6c3ahx.b[12][1]++;
      }var lineAndColumnMappings = (cov_1iyo6c3ahx.s[47]++, (0, _assign2.default)({}, ...(0, _entries2.default)(sources).map(([id, { source }]) => {
        cov_1iyo6c3ahx.f[9]++;cov_1iyo6c3ahx.s[48]++;return { [id]: _truffleSolidityUtils2.default.getCharacterOffsetToLineAndColumnMapping((cov_1iyo6c3ahx.b[13][0]++, source) || (cov_1iyo6c3ahx.b[13][1]++, "")) };
      })));var humanReadableSourceMap = (cov_1iyo6c3ahx.s[49]++, _truffleSolidityUtils2.default.getHumanReadableSourceMap(sourceMap));let primaryFile = (cov_1iyo6c3ahx.s[50]++, humanReadableSourceMap[0].file);cov_1iyo6c3ahx.s[51]++;debug("primaryFile %o", primaryFile);cov_1iyo6c3ahx.s[52]++;return instructions.map((instruction, index) => {
        cov_1iyo6c3ahx.f[10]++;const sourceMap = (cov_1iyo6c3ahx.s[53]++, (cov_1iyo6c3ahx.b[14][0]++, humanReadableSourceMap[index]) || (cov_1iyo6c3ahx.b[14][1]++, {}));cov_1iyo6c3ahx.s[54]++;return { instruction: (0, _extends3.default)({}, instruction, { index }), sourceMap };
      }).map(({ instruction, sourceMap }) => {
        cov_1iyo6c3ahx.f[11]++;const { jump, start = (cov_1iyo6c3ahx.b[15][0]++, 0), length = (cov_1iyo6c3ahx.b[16][0]++, 0), file = (cov_1iyo6c3ahx.b[17][0]++, primaryFile) } = (cov_1iyo6c3ahx.s[55]++, sourceMap);const lineAndColumnMapping = (cov_1iyo6c3ahx.s[56]++, (cov_1iyo6c3ahx.b[18][0]++, lineAndColumnMappings[file]) || (cov_1iyo6c3ahx.b[18][1]++, {}));const range = (cov_1iyo6c3ahx.s[57]++, { start: (cov_1iyo6c3ahx.b[19][0]++, lineAndColumnMapping[start]) || (cov_1iyo6c3ahx.b[19][1]++, { line: null, column: null }), end: (cov_1iyo6c3ahx.b[20][0]++, lineAndColumnMapping[start + length]) || (cov_1iyo6c3ahx.b[20][1]++, { line: null, column: null }) });cov_1iyo6c3ahx.s[58]++;if (range.start.line === null) {
          cov_1iyo6c3ahx.b[21][0]++;cov_1iyo6c3ahx.s[59]++;debug("sourceMap %o", sourceMap);
        } else {
          cov_1iyo6c3ahx.b[21][1]++;
        }cov_1iyo6c3ahx.s[60]++;return (0, _extends3.default)({}, instruction, { jump, start, length, file, range });
      });
    }), instructionAtProgramCounter: (0, _reselectTree.createLeaf)(["./instructions"], instructions => {
      cov_1iyo6c3ahx.f[12]++;let map = (cov_1iyo6c3ahx.s[61]++, []);cov_1iyo6c3ahx.s[62]++;instructions.forEach(function (instruction) {
        cov_1iyo6c3ahx.f[13]++;cov_1iyo6c3ahx.s[63]++;map[instruction.pc] = instruction;
      });let lastSeen = (cov_1iyo6c3ahx.s[64]++, null);cov_1iyo6c3ahx.s[65]++;for (let [pc, instruction] of map.entries()) {
        cov_1iyo6c3ahx.s[66]++;if (instruction) {
          cov_1iyo6c3ahx.b[22][0]++;cov_1iyo6c3ahx.s[67]++;lastSeen = instruction;
        } else {
          cov_1iyo6c3ahx.b[22][1]++;cov_1iyo6c3ahx.s[68]++;map[pc] = lastSeen;
        }
      }cov_1iyo6c3ahx.s[69]++;return map;
    }), instruction: (0, _reselectTree.createLeaf)(["./instructionAtProgramCounter", _selectors2.default.current.step.programCounter], (map, pc) => {
      cov_1iyo6c3ahx.f[14]++;cov_1iyo6c3ahx.s[70]++;return (cov_1iyo6c3ahx.b[23][0]++, map[pc]) || (cov_1iyo6c3ahx.b[23][1]++, {});
    }), source: (0, _reselectTree.createLeaf)(["/info/sources", "./instruction"], (sources, { file: id }) => {
      cov_1iyo6c3ahx.f[15]++;cov_1iyo6c3ahx.s[71]++;return (cov_1iyo6c3ahx.b[24][0]++, sources[id]) || (cov_1iyo6c3ahx.b[24][1]++, {});
    }), sourceRange: (0, _reselectTree.createLeaf)(["./instruction"], getSourceRange), isSourceRangeFinal: (0, _reselectTree.createLeaf)(["./instructionAtProgramCounter", _selectors2.default.current.step.programCounter, _selectors2.default.next.step.programCounter], (map, current, next) => {
      cov_1iyo6c3ahx.f[16]++;cov_1iyo6c3ahx.s[72]++;if (!map[next]) {
        cov_1iyo6c3ahx.b[25][0]++;cov_1iyo6c3ahx.s[73]++;return true;
      } else {
        cov_1iyo6c3ahx.b[25][1]++;
      }cov_1iyo6c3ahx.s[74]++;current = map[current];cov_1iyo6c3ahx.s[75]++;next = map[next];cov_1iyo6c3ahx.s[76]++;return (cov_1iyo6c3ahx.b[26][0]++, current.start != next.start) || (cov_1iyo6c3ahx.b[26][1]++, current.length != next.length) || (cov_1iyo6c3ahx.b[26][2]++, current.file != next.file);
    }), isMultiline: (0, _reselectTree.createLeaf)(["./sourceRange"], ({ lines }) => {
      cov_1iyo6c3ahx.f[17]++;cov_1iyo6c3ahx.s[77]++;return lines.start.line != lines.end.line;
    }), willJump: (0, _reselectTree.createLeaf)([_selectors2.default.current.step.isJump], isJump => {
      cov_1iyo6c3ahx.f[18]++;cov_1iyo6c3ahx.s[78]++;return isJump;
    }), jumpDirection: (0, _reselectTree.createLeaf)(["./instruction"], (i = (cov_1iyo6c3ahx.b[27][0]++, {})) => {
      cov_1iyo6c3ahx.f[19]++;cov_1iyo6c3ahx.s[79]++;return (cov_1iyo6c3ahx.b[28][0]++, i.jump) || (cov_1iyo6c3ahx.b[28][1]++, "-");
    }), willCall: (0, _reselectTree.createLeaf)([_selectors2.default.current.step.isCall], x => {
      cov_1iyo6c3ahx.f[20]++;cov_1iyo6c3ahx.s[80]++;return x;
    }), willCreate: (0, _reselectTree.createLeaf)([_selectors2.default.current.step.isCreate], x => {
      cov_1iyo6c3ahx.f[21]++;cov_1iyo6c3ahx.s[81]++;return x;
    }), callsPrecompile: (0, _reselectTree.createLeaf)([_selectors2.default.current.step.callsPrecompile], x => {
      cov_1iyo6c3ahx.f[22]++;cov_1iyo6c3ahx.s[82]++;return x;
    }), willReturn: (0, _reselectTree.createLeaf)([_selectors2.default.current.step.isHalting], isHalting => {
      cov_1iyo6c3ahx.f[23]++;cov_1iyo6c3ahx.s[83]++;return isHalting;
    }), pointer: (0, _reselectTree.createLeaf)(["./source", "./sourceRange"], ({ ast }, range) => {
      cov_1iyo6c3ahx.f[24]++;cov_1iyo6c3ahx.s[84]++;return (0, _map.findRange)(ast, range.start, range.length);
    }), node: (0, _reselectTree.createLeaf)(["./source", "./pointer"], ({ ast }, pointer) => {
      cov_1iyo6c3ahx.f[25]++;cov_1iyo6c3ahx.s[85]++;return pointer ? (cov_1iyo6c3ahx.b[29][0]++, _jsonPointer2.default.get(ast, pointer)) : (cov_1iyo6c3ahx.b[29][1]++, _jsonPointer2.default.get(ast, ""));
    }), isContractCall: (0, _reselectTree.createLeaf)(["./node"], node => {
      cov_1iyo6c3ahx.f[26]++;cov_1iyo6c3ahx.s[86]++;return (cov_1iyo6c3ahx.b[30][0]++, node !== undefined) && (cov_1iyo6c3ahx.b[30][1]++, node.nodeType === "FunctionCall") && (cov_1iyo6c3ahx.b[30][2]++, node.expression !== undefined) && (cov_1iyo6c3ahx.b[30][3]++, node.expression.nodeType === "MemberAccess") && (cov_1iyo6c3ahx.b[30][4]++, node.expression.expression !== undefined) && ((cov_1iyo6c3ahx.b[30][5]++, DecodeUtils.Definition.isContract(node.expression.expression)) || (cov_1iyo6c3ahx.b[30][6]++, DecodeUtils.Definition.isContractType(node.expression.expression)));
    }), needsFunctionDepthWorkaround: (0, _reselectTree.createLeaf)([_selectors2.default.current.step.callContext], context => {
      cov_1iyo6c3ahx.f[27]++;cov_1iyo6c3ahx.s[87]++;return (cov_1iyo6c3ahx.b[31][0]++, context.compiler !== undefined) && (cov_1iyo6c3ahx.b[31][1]++, context.compiler.name === "solc") && (cov_1iyo6c3ahx.b[31][2]++, semver.satisfies(context.compiler.version, "<0.5.1"));
    }) } }));cov_1iyo6c3ahx.s[88]++;exports.default = solidity;

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_e1asadkir = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/helpers/index.js",
      hash = "c5d1d1e4a5adba9170dd38d20635730b6173a828",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/helpers/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 32 } }, "2": { start: { line: 7, column: 0 }, end: { line: 7, column: 30 } }, "3": { start: { line: 8, column: 0 }, end: { line: 8, column: 42 } }, "4": { start: { line: 9, column: 0 }, end: { line: 9, column: 40 } }, "5": { start: { line: 10, column: 0 }, end: { line: 10, column: 44 } }, "6": { start: { line: 12, column: 26 }, end: { line: 12, column: 57 } }, "7": { start: { line: 14, column: 12 }, end: { line: 14, column: 56 } }, "8": { start: { line: 16, column: 40 }, end: { line: 16, column: 267 } }, "9": { start: { line: 16, column: 69 }, end: { line: 16, column: 80 } }, "10": { start: { line: 16, column: 103 }, end: { line: 16, column: 105 } }, "11": { start: { line: 16, column: 107 }, end: { line: 16, column: 228 } }, "12": { start: { line: 16, column: 126 }, end: { line: 16, column: 226 } }, "13": { start: { line: 16, column: 149 }, end: { line: 16, column: 224 } }, "14": { start: { line: 16, column: 201 }, end: { line: 16, column: 224 } }, "15": { start: { line: 16, column: 229 }, end: { line: 16, column: 250 } }, "16": { start: { line: 16, column: 251 }, end: { line: 16, column: 265 } }, "17": { start: { line: 18, column: 18 }, end: { line: 18, column: 50 } }, "18": { start: { line: 21, column: 2 }, end: { line: 24, column: 5 } }, "19": { start: { line: 26, column: 2 }, end: { line: 26, column: 12 } }, "20": { start: { line: 33, column: 2 }, end: { line: 33, column: 68 } }, "21": { start: { line: 41, column: 2 }, end: { line: 41, column: 62 } }, "22": { start: { line: 49, column: 16 }, end: { line: 49, column: 66 } }, "23": { start: { line: 50, column: 2 }, end: { line: 50, column: 28 } }, "24": { start: { line: 58, column: 18 }, end: { line: 58, column: 39 } }, "25": { start: { line: 59, column: 2 }, end: { line: 59, column: 30 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 16, column: 9 }, end: { line: 16, column: 32 } }, loc: { start: { line: 16, column: 38 }, end: { line: 16, column: 269 } }, line: 16 }, "1": { name: "prefixName", decl: { start: { line: 20, column: 9 }, end: { line: 20, column: 19 } }, loc: { start: { line: 20, column: 32 }, end: { line: 27, column: 1 } }, line: 20 }, "2": { name: "keccak256", decl: { start: { line: 32, column: 9 }, end: { line: 32, column: 18 } }, loc: { start: { line: 32, column: 28 }, end: { line: 34, column: 1 } }, line: 32 }, "3": { name: "stableKeccak256", decl: { start: { line: 40, column: 9 }, end: { line: 40, column: 24 } }, loc: { start: { line: 40, column: 30 }, end: { line: 42, column: 1 } }, line: 40 }, "4": { name: "isCallMnemonic", decl: { start: { line: 48, column: 9 }, end: { line: 48, column: 23 } }, loc: { start: { line: 48, column: 28 }, end: { line: 51, column: 1 } }, line: 48 }, "5": { name: "isCreateMnemonic", decl: { start: { line: 57, column: 9 }, end: { line: 57, column: 25 } }, loc: { start: { line: 57, column: 30 }, end: { line: 60, column: 1 } }, line: 57 } }, branchMap: { "0": { loc: { start: { line: 16, column: 40 }, end: { line: 16, column: 267 } }, type: "if", locations: [{ start: { line: 16, column: 40 }, end: { line: 16, column: 267 } }, { start: { line: 16, column: 40 }, end: { line: 16, column: 267 } }], line: 16 }, "1": { loc: { start: { line: 16, column: 44 }, end: { line: 16, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 16, column: 44 }, end: { line: 16, column: 47 } }, { start: { line: 16, column: 51 }, end: { line: 16, column: 65 } }], line: 16 }, "2": { loc: { start: { line: 16, column: 107 }, end: { line: 16, column: 228 } }, type: "if", locations: [{ start: { line: 16, column: 107 }, end: { line: 16, column: 228 } }, { start: { line: 16, column: 107 }, end: { line: 16, column: 228 } }], line: 16 }, "3": { loc: { start: { line: 16, column: 149 }, end: { line: 16, column: 224 } }, type: "if", locations: [{ start: { line: 16, column: 149 }, end: { line: 16, column: 224 } }, { start: { line: 16, column: 149 }, end: { line: 16, column: 224 } }], line: 16 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/helpers/index.js"], names: ["prefixName", "keccak256", "stableKeccak256", "isCallMnemonic", "isCreateMnemonic", "utils", "stringify", "require", "prefix", "fn", "Object", "defineProperty", "value", "name", "configurable", "args", "Conversion", "toHexString", "EVM", "obj", "type", "op", "calls", "includes", "creates"], mappings: ";;;;;QAIgBA,U,GAAAA,U;QAYAC,S,GAAAA,S;QAQAC,e,GAAAA,e;QAQAC,c,GAAAA,c;QASAC,gB,GAAAA,gB;;AAzChB;;IAAYC,K;;;;AAEZ,MAAMC,YAAYC,QAAQ,uBAAR,CAAlB;;AAEO,SAASP,UAAT,CAAoBQ,MAApB,EAA4BC,EAA5B,EAAgC;AACrCC,SAAOC,cAAP,CAAsBF,EAAtB,EAA0B,MAA1B,EAAkC;AAChCG,WAAQ,GAAEJ,MAAO,IAAGC,GAAGI,IAAK,EADI;AAEhCC,kBAAc;AAFkB,GAAlC;;AAKA,SAAOL,EAAP;AACD;;AAED;;;AAGO,SAASR,SAAT,CAAmB,GAAGc,IAAtB,EAA4B;AACjC,SAAOV,MAAMW,UAAN,CAAiBC,WAAjB,CAA6BZ,MAAMa,GAAN,CAAUjB,SAAV,CAAoB,GAAGc,IAAvB,CAA7B,CAAP;AACD;;AAED;;;;AAIO,SAASb,eAAT,CAAyBiB,GAAzB,EAA8B;AACnC,SAAOlB,UAAU,EAAEmB,MAAM,QAAR,EAAkBR,OAAON,UAAUa,GAAV,CAAzB,EAAV,CAAP;AACD;;AAED;;;;AAIO,SAAShB,cAAT,CAAwBkB,EAAxB,EAA4B;AACjC,QAAMC,QAAQ,CAAC,MAAD,EAAS,cAAT,EAAyB,YAAzB,EAAuC,UAAvC,CAAd;AACA,SAAOA,MAAMC,QAAN,CAAeF,EAAf,CAAP;AACD;;AAED;;;;AAIO,SAASjB,gBAAT,CAA0BiB,EAA1B,EAA8B;AACnC,QAAMG,UAAU,CAAC,QAAD,EAAW,SAAX,CAAhB;AACA,SAAOA,QAAQD,QAAR,CAAiBF,EAAjB,CAAP;AACD", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import * as utils from \"truffle-decode-utils\";\n\nconst stringify = require(\"json-stable-stringify\");\n\nexport function prefixName(prefix, fn) {\n  Object.defineProperty(fn, \"name\", {\n    value: `${prefix}.${fn.name}`,\n    configurable: true\n  });\n\n  return fn;\n}\n\n/**\n * @return 0x-prefix string of keccak256 hash\n */\nexport function keccak256(...args) {\n  return utils.Conversion.toHexString(utils.EVM.keccak256(...args));\n}\n\n/**\n * Given an object, return a stable hash by first running it through a stable\n * stringify operation before hashing\n */\nexport function stableKeccak256(obj) {\n  return keccak256({ type: \"string\", value: stringify(obj) });\n}\n\n/*\n * Given a mmemonic, determine whether it's the mnemonic of a calling\n * instruction (does NOT include creation instructions)\n */\nexport function isCallMnemonic(op) {\n  const calls = [\"CALL\", \"DELEGATECALL\", \"STATICCALL\", \"CALLCODE\"];\n  return calls.includes(op);\n}\n\n/*\n * Given a mmemonic, determine whether it's the mnemonic of a creation\n * instruction\n */\nexport function isCreateMnemonic(op) {\n  const creates = [\"CREATE\", \"CREATE2\"];\n  return creates.includes(op);\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_e1asadkir.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_e1asadkir.s[1]++;exports.prefixName = prefixName;cov_e1asadkir.s[2]++;exports.keccak256 = keccak256;cov_e1asadkir.s[3]++;exports.stableKeccak256 = stableKeccak256;cov_e1asadkir.s[4]++;exports.isCallMnemonic = isCallMnemonic;cov_e1asadkir.s[5]++;exports.isCreateMnemonic = isCreateMnemonic;var _truffleDecodeUtils = (cov_e1asadkir.s[6]++, __webpack_require__(6));var utils = (cov_e1asadkir.s[7]++, _interopRequireWildcard(_truffleDecodeUtils));function _interopRequireWildcard(obj) {
  cov_e1asadkir.f[0]++;cov_e1asadkir.s[8]++;if ((cov_e1asadkir.b[1][0]++, obj) && (cov_e1asadkir.b[1][1]++, obj.__esModule)) {
    cov_e1asadkir.b[0][0]++;cov_e1asadkir.s[9]++;return obj;
  } else {
    cov_e1asadkir.b[0][1]++;var newObj = (cov_e1asadkir.s[10]++, {});cov_e1asadkir.s[11]++;if (obj != null) {
      cov_e1asadkir.b[2][0]++;cov_e1asadkir.s[12]++;for (var key in obj) {
        cov_e1asadkir.s[13]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_e1asadkir.b[3][0]++;cov_e1asadkir.s[14]++;newObj[key] = obj[key];
        } else {
          cov_e1asadkir.b[3][1]++;
        }
      }
    } else {
      cov_e1asadkir.b[2][1]++;
    }cov_e1asadkir.s[15]++;newObj.default = obj;cov_e1asadkir.s[16]++;return newObj;
  }
}const stringify = (cov_e1asadkir.s[17]++, __webpack_require__(60));function prefixName(prefix, fn) {
  cov_e1asadkir.f[1]++;cov_e1asadkir.s[18]++;Object.defineProperty(fn, "name", { value: `${prefix}.${fn.name}`, configurable: true });cov_e1asadkir.s[19]++;return fn;
}function keccak256(...args) {
  cov_e1asadkir.f[2]++;cov_e1asadkir.s[20]++;return utils.Conversion.toHexString(utils.EVM.keccak256(...args));
}function stableKeccak256(obj) {
  cov_e1asadkir.f[3]++;cov_e1asadkir.s[21]++;return keccak256({ type: "string", value: stringify(obj) });
}function isCallMnemonic(op) {
  cov_e1asadkir.f[4]++;const calls = (cov_e1asadkir.s[22]++, ["CALL", "DELEGATECALL", "STATICCALL", "CALLCODE"]);cov_e1asadkir.s[23]++;return calls.includes(op);
}function isCreateMnemonic(op) {
  cov_e1asadkir.f[5]++;const creates = (cov_e1asadkir.s[24]++, ["CREATE", "CREATE2"]);cov_e1asadkir.s[25]++;return creates.includes(op);
}

/***/ }),
/* 4 */
/***/ (function(module, exports) {

module.exports = require("chai");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.gatherArtifacts = exports.migrate = exports.compile = exports.defaultMigrations = exports.addMigrations = exports.addContracts = exports.createSandbox = exports.prepareContracts = undefined;

var _promise = __webpack_require__(22);

var _promise2 = _interopRequireDefault(_promise);

var _keys = __webpack_require__(17);

var _keys2 = _interopRequireDefault(_keys);

var _asyncToGenerator2 = __webpack_require__(1);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

let prepareContracts = exports.prepareContracts = (() => {
  var _ref = (0, _asyncToGenerator3.default)(function* (provider, sources = {}, migrations) {
    let config = yield createSandbox();

    let accounts = yield getAccounts(provider);

    config.networks["debugger"] = {
      provider: provider,
      network_id: "*",
      from: accounts[0]
    };
    config.network = "debugger";

    config.compilers = {
      solc: {
        version: "0.5.1",
        settings: {
          optimizer: { enabled: false, runs: 200 },
          evmVersion: "byzantium"
        }
      }
    };

    yield addContracts(config, sources);
    let { contracts, files } = yield compile(config);
    let contractNames = (0, _keys2.default)(contracts);

    if (!migrations) {
      migrations = yield defaultMigrations(contractNames);
    }

    yield addMigrations(config, migrations);
    yield migrate(config);

    let artifacts = yield gatherArtifacts(config);
    debug("artifacts: %o", artifacts.map(function (a) {
      return a.contractName;
    }));

    let abstractions = {};
    contractNames.forEach(function (name) {
      abstractions[name] = config.resolver.require(name);
    });

    return {
      files,
      abstractions,
      artifacts,
      config
    };
  });

  return function prepareContracts(_x) {
    return _ref.apply(this, arguments);
  };
})();

let createSandbox = exports.createSandbox = (() => {
  var _ref2 = (0, _asyncToGenerator3.default)(function* () {
    let config = yield new _promise2.default(function (accept, reject) {
      _truffleBox2.default.sandbox({
        unsafeCleanup: true,
        setGracefulCleanup: true,
        name: "default"
      }, function (err, result) {
        if (err) return reject(err);
        result.resolver = new _truffleResolver2.default(result);
        result.artifactor = new _truffleArtifactor2.default(result.contracts_build_directory);
        result.networks = {};

        accept(result);
      });
    });

    yield _fsExtra2.default.remove(_path2.default.join(config.contracts_directory, "MetaCoin.sol"));
    yield _fsExtra2.default.remove(_path2.default.join(config.contracts_directory, "ConvertLib.sol"));
    yield _fsExtra2.default.remove(_path2.default.join(config.migrations_directory, "2_deploy_contracts.js"));

    return config;
  });

  return function createSandbox() {
    return _ref2.apply(this, arguments);
  };
})();

let addContracts = exports.addContracts = (() => {
  var _ref3 = (0, _asyncToGenerator3.default)(function* (config, sources = {}) {
    let promises = [];
    for (let filename of (0, _keys2.default)(sources)) {
      let source = sources[filename];
      promises.push(_fsExtra2.default.outputFile(_path2.default.join(config.contracts_directory, filename), source));
    }

    return yield _promise2.default.all(promises);
  });

  return function addContracts(_x2) {
    return _ref3.apply(this, arguments);
  };
})();

let addMigrations = exports.addMigrations = (() => {
  var _ref4 = (0, _asyncToGenerator3.default)(function* (config, migrations = {}) {
    let promises = [];
    for (let filename of (0, _keys2.default)(migrations)) {
      let source = migrations[filename];
      promises.push(_fsExtra2.default.outputFile(_path2.default.join(config.migrations_directory, filename), source));
    }

    return yield _promise2.default.all(promises);
  });

  return function addMigrations(_x3) {
    return _ref4.apply(this, arguments);
  };
})();

let defaultMigrations = exports.defaultMigrations = (() => {
  var _ref5 = (0, _asyncToGenerator3.default)(function* (contractNames) {
    contractNames = contractNames.filter(function (name) {
      return name !== "Migrations";
    });

    let migrations = {};

    contractNames.forEach(function (contractName, i) {
      let index = i + 2; // start at 2 cause Migrations migration
      let filename = `${index}_migrate_${contractName}.js`;
      let source = `
      var ${contractName} = artifacts.require("${contractName}");

      module.exports = function(deployer) {
        deployer.deploy(${contractName});
      };
    `;

      migrations[filename] = source;
    });

    return migrations;
  });

  return function defaultMigrations(_x4) {
    return _ref5.apply(this, arguments);
  };
})();

let compile = exports.compile = (() => {
  var _ref6 = (0, _asyncToGenerator3.default)(function* (config) {
    return new _promise2.default(function (accept, reject) {
      _truffleWorkflowCompile2.default.compile(config.with({
        all: true,
        quiet: true
      }), function (err, result) {
        if (err) return reject(err);
        const { contracts, outputs } = result;
        debug("result %O", result);
        return accept({ contracts, files: outputs.solc });
      });
    });
  });

  return function compile(_x5) {
    return _ref6.apply(this, arguments);
  };
})();

let migrate = exports.migrate = (() => {
  var _ref7 = (0, _asyncToGenerator3.default)(function* (config) {
    return new _promise2.default(function (accept, reject) {
      _truffleMigrate2.default.run(config.with({
        quiet: true
      }), function (err, contracts) {
        if (err) return reject(err);
        accept(contracts);
      });
    });
  });

  return function migrate(_x6) {
    return _ref7.apply(this, arguments);
  };
})();

let gatherArtifacts = exports.gatherArtifacts = (() => {
  var _ref8 = (0, _asyncToGenerator3.default)(function* (config) {
    return _truffleDebugUtils2.default.gatherArtifacts(config);
  });

  return function gatherArtifacts(_x7) {
    return _ref8.apply(this, arguments);
  };
})();

exports.getAccounts = getAccounts;

var _debug = __webpack_require__(0);

var _debug2 = _interopRequireDefault(_debug);

var _path = __webpack_require__(44);

var _path2 = _interopRequireDefault(_path);

var _fsExtra = __webpack_require__(45);

var _fsExtra2 = _interopRequireDefault(_fsExtra);

var _truffleWorkflowCompile = __webpack_require__(46);

var _truffleWorkflowCompile2 = _interopRequireDefault(_truffleWorkflowCompile);

var _truffleDebugUtils = __webpack_require__(47);

var _truffleDebugUtils2 = _interopRequireDefault(_truffleDebugUtils);

var _truffleArtifactor = __webpack_require__(48);

var _truffleArtifactor2 = _interopRequireDefault(_truffleArtifactor);

var _web = __webpack_require__(33);

var _web2 = _interopRequireDefault(_web);

var _truffleMigrate = __webpack_require__(49);

var _truffleMigrate2 = _interopRequireDefault(_truffleMigrate);

var _truffleBox = __webpack_require__(50);

var _truffleBox2 = _interopRequireDefault(_truffleBox);

var _truffleResolver = __webpack_require__(51);

var _truffleResolver2 = _interopRequireDefault(_truffleResolver);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const debug = (0, _debug2.default)("test:helpers");

function getAccounts(provider) {
  let web3 = new _web2.default(provider);
  return new _promise2.default(function (accept, reject) {
    web3.eth.getAccounts(function (err, accounts) {
      if (err) return reject(err);
      accept(accounts);
    });
  });
}

/***/ }),
/* 6 */
/***/ (function(module, exports) {

module.exports = require("truffle-decode-utils");

/***/ }),
/* 7 */
/***/ (function(module, exports) {

module.exports = require("ganache-core");

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_2dt8u0v6f0 = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/debugger.js",
      hash = "0481c0bb6a3998cc58d994044c63fe919f731f74",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/debugger.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 25 }, end: { line: 7, column: 74 } }, "2": { start: { line: 9, column: 25 }, end: { line: 9, column: 67 } }, "3": { start: { line: 11, column: 13 }, end: { line: 11, column: 29 } }, "4": { start: { line: 13, column: 14 }, end: { line: 13, column: 44 } }, "5": { start: { line: 15, column: 21 }, end: { line: 15, column: 46 } }, "6": { start: { line: 17, column: 22 }, end: { line: 17, column: 60 } }, "7": { start: { line: 19, column: 15 }, end: { line: 19, column: 35 } }, "8": { start: { line: 21, column: 16 }, end: { line: 21, column: 48 } }, "9": { start: { line: 23, column: 20 }, end: { line: 23, column: 44 } }, "10": { start: { line: 25, column: 17 }, end: { line: 25, column: 44 } }, "11": { start: { line: 27, column: 18 }, end: { line: 27, column: 52 } }, "12": { start: { line: 29, column: 18 }, end: { line: 29, column: 44 } }, "13": { start: { line: 31, column: 18 }, end: { line: 31, column: 53 } }, "14": { start: { line: 33, column: 18 }, end: { line: 33, column: 46 } }, "15": { start: { line: 35, column: 18 }, end: { line: 35, column: 53 } }, "16": { start: { line: 37, column: 18 }, end: { line: 37, column: 44 } }, "17": { start: { line: 39, column: 18 }, end: { line: 39, column: 53 } }, "18": { start: { line: 41, column: 18 }, end: { line: 41, column: 49 } }, "19": { start: { line: 43, column: 19 }, end: { line: 43, column: 54 } }, "20": { start: { line: 45, column: 19 }, end: { line: 45, column: 49 } }, "21": { start: { line: 47, column: 19 }, end: { line: 47, column: 55 } }, "22": { start: { line: 49, column: 19 }, end: { line: 49, column: 52 } }, "23": { start: { line: 51, column: 19 }, end: { line: 51, column: 55 } }, "24": { start: { line: 53, column: 39 }, end: { line: 53, column: 93 } }, "25": { start: { line: 55, column: 14 }, end: { line: 55, column: 46 } }, "26": { start: { line: 75, column: 4 }, end: { line: 75, column: 28 } }, "27": { start: { line: 86, column: 16 }, end: { line: 86, column: 20 } }, "28": { start: { line: 88, column: 4 }, end: { line: 100, column: 9 } }, "29": { start: { line: 89, column: 6 }, end: { line: 89, column: 74 } }, "30": { start: { line: 91, column: 20 }, end: { line: 91, column: 101 } }, "31": { start: { line: 93, column: 6 }, end: { line: 97, column: 7 } }, "32": { start: { line: 94, column: 8 }, end: { line: 94, column: 30 } }, "33": { start: { line: 96, column: 8 }, end: { line: 96, column: 16 } }, "34": { start: { line: 99, column: 6 }, end: { line: 99, column: 32 } }, "35": { start: { line: 109, column: 4 }, end: { line: 109, column: 25 } }, "36": { start: { line: 127, column: 4 }, end: { line: 135, column: 7 } }, "37": { start: { line: 139, column: 0 }, end: { line: 139, column: 27 } } }, fnMap: { "0": { name: "_interopRequireDefault", decl: { start: { line: 53, column: 9 }, end: { line: 53, column: 31 } }, loc: { start: { line: 53, column: 37 }, end: { line: 53, column: 95 } }, line: 53 }, "1": { name: "(anonymous_1)", decl: { start: { line: 71, column: 2 }, end: { line: 71, column: 3 } }, loc: { start: { line: 71, column: 23 }, end: { line: 76, column: 3 } }, line: 71 }, "2": { name: "(anonymous_2)", decl: { start: { line: 85, column: 2 }, end: { line: 85, column: 3 } }, loc: { start: { line: 85, column: 37 }, end: { line: 101, column: 3 } }, line: 85 }, "3": { name: "(anonymous_3)", decl: { start: { line: 88, column: 43 }, end: { line: 88, column: 44 } }, loc: { start: { line: 88, column: 56 }, end: { line: 100, column: 5 } }, line: 88 }, "4": { name: "(anonymous_4)", decl: { start: { line: 108, column: 2 }, end: { line: 108, column: 3 } }, loc: { start: { line: 108, column: 12 }, end: { line: 110, column: 3 } }, line: 108 }, "5": { name: "(anonymous_5)", decl: { start: { line: 126, column: 2 }, end: { line: 126, column: 3 } }, loc: { start: { line: 126, column: 25 }, end: { line: 136, column: 3 } }, line: 126 } }, branchMap: { "0": { loc: { start: { line: 53, column: 46 }, end: { line: 53, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 53, column: 70 }, end: { line: 53, column: 73 } }, { start: { line: 53, column: 76 }, end: { line: 53, column: 92 } }], line: 53 }, "1": { loc: { start: { line: 53, column: 46 }, end: { line: 53, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 53, column: 46 }, end: { line: 53, column: 49 } }, { start: { line: 53, column: 53 }, end: { line: 53, column: 67 } }], line: 53 }, "2": { loc: { start: { line: 85, column: 23 }, end: { line: 85, column: 35 } }, type: "default-arg", locations: [{ start: { line: 85, column: 33 }, end: { line: 85, column: 35 } }], line: 85 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0] }, inputSourceMap: { version: 3, sources: ["lib/debugger.js"], names: ["debug", "Debugger", "constructor", "session", "_session", "forTx", "txHash", "options", "expect", "Session", "contracts", "files", "provider", "ready", "e", "connect", "selectors", "ast", "astSelector", "data", "dataSelector", "trace", "traceSelector", "evm", "evmSelector", "solidity", "soliditySelector", "sessionSelector", "controller", "controllerSelector"], mappings: ";;;;;;;;;;AAAA;;;;AACA;;;;AAEA;;;;AAEA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,MAAMA,QAAQ,qBAAY,UAAZ,CAAd;;AAEA;;;;;;;;;AASe,MAAMC,QAAN,CAAe;AAC5B;;;;AAIAC,cAAYC,OAAZ,EAAqB;AACnB;;;AAGA,SAAKC,QAAL,GAAgBD,OAAhB;AACD;;AAED;;;;;;;AAOA,SAAaE,KAAb,CAAmBC,MAAnB,EAA2BC,UAAU,EAArC,EAAyC;AAAA;;AAAA;AACvCC,8BAAOD,OAAP,CAAeA,OAAf,EAAwB,CACtB,WADsB,EAEtB,UAFsB,CAAxB;;AAKA,UAAIJ,UAAU,IAAIM,iBAAJ,CACZF,QAAQG,SADI,EACOH,QAAQI,KADf,EAEZL,MAFY,EAEJC,QAAQK,QAFJ,CAAd;;AAKA,UAAI;AACF,cAAMT,QAAQU,KAAR,EAAN;AACD,OAFD,CAEE,OAAOC,CAAP,EAAU;AACV,cAAMA,CAAN;AACD;;AAED,aAAO,IAAI,KAAJ,CAASX,OAAT,CAAP;AAjBuC;AAkBxC;;AAGD;;;;;AAKAY,YAAU;AACR,WAAO,KAAKX,QAAZ;AACD;;AAED;;;;;;;;;;;;;;AAcA,aAAWY,SAAX,GAAuB;AACrB,WAAO,wCAAqB;AAC1BC,WAAKC,mBADqB;AAE1BC,YAAMC,mBAFoB;AAG1BC,aAAOC,mBAHmB;AAI1BC,WAAKC,mBAJqB;AAK1BC,gBAAUC,oBALgB;AAM1BvB,eAASwB,oBANiB;AAO1BC,kBAAYC;AAPc,KAArB,CAAP;AASD;AAzE2B;;kBAAT5B,Q,EA4ErB", file: "debugger.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from 'debug';\nimport expect from \"truffle-expect\";\n\nimport Session from \"./session\";\n\nimport { createNestedSelector } from \"reselect-tree\";\n\nimport dataSelector from \"./data/selectors\";\nimport astSelector from \"./ast/selectors\";\nimport traceSelector from \"./trace/selectors\";\nimport evmSelector from \"./evm/selectors\";\nimport soliditySelector from \"./solidity/selectors\";\nimport sessionSelector from \"./session/selectors\";\nimport controllerSelector from \"./controller/selectors\";\n\nconst debug = debugModule(\"debugger\");\n\n/**\n * @example\n * let session = Debugger\n *   .forTx(<txHash>, {\n *     contracts: [<contract obj>, ...],\n *     provider: <provider instance>\n *   })\n *   .connect();\n */\nexport default class Debugger {\n  /**\n   * @param {Session} session - debugger session\n   * @private\n   */\n  constructor(session) {\n    /**\n     * @private\n     */\n    this._session = session;\n  }\n\n  /**\n   * Instantiates a Debugger for a given transaction hash.\n   *\n   * @param {String} txHash - transaction hash with leading \"0x\"\n   * @param {{contracts: Array<Contract>, files: Array<String>, provider: Web3Provider}} options -\n   * @return {Debugger} instance\n   */\n  static async forTx(txHash, options = {}) {\n    expect.options(options, [\n      \"contracts\",\n      \"provider\"\n    ]);\n\n    let session = new Session(\n      options.contracts, options.files,\n      txHash, options.provider\n    );\n\n    try {\n      await session.ready();\n    } catch (e) {\n      throw e;\n    }\n\n    return new this(session);\n  }\n\n\n  /**\n   * Connects to the instantiated Debugger.\n   *\n   * @return {Session} session instance\n   */\n  connect() {\n    return this._session;\n  }\n\n  /**\n   * Exported selectors\n   *\n   * See individual selector docs for full listing\n   *\n   * @example\n   * Debugger.selectors.ast.current.tree\n   *\n   * @example\n   * Debugger.selectors.solidity.current.instruction\n   *\n   * @example\n   * Debugger.selectors.trace.steps\n   */\n  static get selectors() {\n    return createNestedSelector({\n      ast: astSelector,\n      data: dataSelector,\n      trace: traceSelector,\n      evm: evmSelector,\n      solidity: soliditySelector,\n      session: sessionSelector,\n      controller: controllerSelector,\n    });\n  }\n}\n\n/**\n * @typedef {Object} Contract\n * @property {string} contractName contract name\n * @property {string} source solidity source code\n * @property {string} sourcePath path to source file\n * @property {string} binary 0x-prefixed hex string with create bytecode\n * @property {string} sourceMap solidity source map for create bytecode\n * @property {Object} ast Abstract Syntax Tree from Solidity\n * @property {string} deployedBinary 0x-prefixed compiled binary (on chain)\n * @property {string} deployedSourceMap solidity source map for on-chain bytecode\n */\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_2dt8u0v6f0.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _asyncToGenerator2 = (cov_2dt8u0v6f0.s[1]++, __webpack_require__(1));var _asyncToGenerator3 = (cov_2dt8u0v6f0.s[2]++, _interopRequireDefault(_asyncToGenerator2));var _debug = (cov_2dt8u0v6f0.s[3]++, __webpack_require__(0));var _debug2 = (cov_2dt8u0v6f0.s[4]++, _interopRequireDefault(_debug));var _truffleExpect = (cov_2dt8u0v6f0.s[5]++, __webpack_require__(52));var _truffleExpect2 = (cov_2dt8u0v6f0.s[6]++, _interopRequireDefault(_truffleExpect));var _session = (cov_2dt8u0v6f0.s[7]++, __webpack_require__(53));var _session2 = (cov_2dt8u0v6f0.s[8]++, _interopRequireDefault(_session));var _reselectTree = (cov_2dt8u0v6f0.s[9]++, __webpack_require__(14));var _selectors = (cov_2dt8u0v6f0.s[10]++, __webpack_require__(25));var _selectors2 = (cov_2dt8u0v6f0.s[11]++, _interopRequireDefault(_selectors));var _selectors3 = (cov_2dt8u0v6f0.s[12]++, __webpack_require__(19));var _selectors4 = (cov_2dt8u0v6f0.s[13]++, _interopRequireDefault(_selectors3));var _selectors5 = (cov_2dt8u0v6f0.s[14]++, __webpack_require__(11));var _selectors6 = (cov_2dt8u0v6f0.s[15]++, _interopRequireDefault(_selectors5));var _selectors7 = (cov_2dt8u0v6f0.s[16]++, __webpack_require__(10));var _selectors8 = (cov_2dt8u0v6f0.s[17]++, _interopRequireDefault(_selectors7));var _selectors9 = (cov_2dt8u0v6f0.s[18]++, __webpack_require__(2));var _selectors10 = (cov_2dt8u0v6f0.s[19]++, _interopRequireDefault(_selectors9));var _selectors11 = (cov_2dt8u0v6f0.s[20]++, __webpack_require__(32));var _selectors12 = (cov_2dt8u0v6f0.s[21]++, _interopRequireDefault(_selectors11));var _selectors13 = (cov_2dt8u0v6f0.s[22]++, __webpack_require__(39));var _selectors14 = (cov_2dt8u0v6f0.s[23]++, _interopRequireDefault(_selectors13));function _interopRequireDefault(obj) {
  cov_2dt8u0v6f0.f[0]++;cov_2dt8u0v6f0.s[24]++;return (cov_2dt8u0v6f0.b[1][0]++, obj) && (cov_2dt8u0v6f0.b[1][1]++, obj.__esModule) ? (cov_2dt8u0v6f0.b[0][0]++, obj) : (cov_2dt8u0v6f0.b[0][1]++, { default: obj });
}const debug = (cov_2dt8u0v6f0.s[25]++, (0, _debug2.default)("debugger"));class Debugger {
  constructor(session) {
    cov_2dt8u0v6f0.f[1]++;cov_2dt8u0v6f0.s[26]++;this._session = session;
  }static forTx(txHash, options = (cov_2dt8u0v6f0.b[2][0]++, {})) {
    cov_2dt8u0v6f0.f[2]++;var _this = (cov_2dt8u0v6f0.s[27]++, this);cov_2dt8u0v6f0.s[28]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_2dt8u0v6f0.f[3]++;cov_2dt8u0v6f0.s[29]++;_truffleExpect2.default.options(options, ["contracts", "provider"]);let session = (cov_2dt8u0v6f0.s[30]++, new _session2.default(options.contracts, options.files, txHash, options.provider));cov_2dt8u0v6f0.s[31]++;try {
        cov_2dt8u0v6f0.s[32]++;yield session.ready();
      } catch (e) {
        cov_2dt8u0v6f0.s[33]++;throw e;
      }cov_2dt8u0v6f0.s[34]++;return new _this(session);
    })();
  }connect() {
    cov_2dt8u0v6f0.f[4]++;cov_2dt8u0v6f0.s[35]++;return this._session;
  }static get selectors() {
    cov_2dt8u0v6f0.f[5]++;cov_2dt8u0v6f0.s[36]++;return (0, _reselectTree.createNestedSelector)({ ast: _selectors4.default, data: _selectors2.default, trace: _selectors6.default, evm: _selectors8.default, solidity: _selectors10.default, session: _selectors12.default, controller: _selectors14.default });
  }
}cov_2dt8u0v6f0.s[37]++;exports.default = Debugger;

/***/ }),
/* 9 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/core-js/object/entries");

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_251n154c7v = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/evm/selectors/index.js",
      hash = "b50d668443aea99e7bdb344e0bbf70046613c00b",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/evm/selectors/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 15 }, end: { line: 7, column: 62 } }, "2": { start: { line: 9, column: 16 }, end: { line: 9, column: 48 } }, "3": { start: { line: 11, column: 14 }, end: { line: 11, column: 60 } }, "4": { start: { line: 13, column: 15 }, end: { line: 13, column: 46 } }, "5": { start: { line: 15, column: 16 }, end: { line: 15, column: 56 } }, "6": { start: { line: 17, column: 16 }, end: { line: 17, column: 49 } }, "7": { start: { line: 19, column: 13 }, end: { line: 19, column: 29 } }, "8": { start: { line: 21, column: 14 }, end: { line: 21, column: 44 } }, "9": { start: { line: 23, column: 20 }, end: { line: 23, column: 44 } }, "10": { start: { line: 25, column: 23 }, end: { line: 25, column: 50 } }, "11": { start: { line: 27, column: 24 }, end: { line: 27, column: 64 } }, "12": { start: { line: 29, column: 17 }, end: { line: 29, column: 47 } }, "13": { start: { line: 31, column: 18 }, end: { line: 31, column: 52 } }, "14": { start: { line: 33, column: 15 }, end: { line: 33, column: 37 } }, "15": { start: { line: 35, column: 26 }, end: { line: 35, column: 57 } }, "16": { start: { line: 37, column: 18 }, end: { line: 37, column: 62 } }, "17": { start: { line: 39, column: 40 }, end: { line: 39, column: 267 } }, "18": { start: { line: 39, column: 69 }, end: { line: 39, column: 80 } }, "19": { start: { line: 39, column: 103 }, end: { line: 39, column: 105 } }, "20": { start: { line: 39, column: 107 }, end: { line: 39, column: 228 } }, "21": { start: { line: 39, column: 126 }, end: { line: 39, column: 226 } }, "22": { start: { line: 39, column: 149 }, end: { line: 39, column: 224 } }, "23": { start: { line: 39, column: 201 }, end: { line: 39, column: 224 } }, "24": { start: { line: 39, column: 229 }, end: { line: 39, column: 250 } }, "25": { start: { line: 39, column: 251 }, end: { line: 39, column: 265 } }, "26": { start: { line: 41, column: 39 }, end: { line: 41, column: 93 } }, "27": { start: { line: 43, column: 14 }, end: { line: 43, column: 60 } }, "28": { start: { line: 47, column: 2 }, end: { line: 55, column: 3 } }, "29": { start: { line: 48, column: 4 }, end: { line: 48, column: 32 } }, "30": { start: { line: 49, column: 4 }, end: { line: 51, column: 5 } }, "31": { start: { line: 50, column: 6 }, end: { line: 50, column: 25 } }, "32": { start: { line: 52, column: 4 }, end: { line: 52, column: 27 } }, "33": { start: { line: 54, column: 4 }, end: { line: 54, column: 28 } }, "34": { start: { line: 57, column: 16 }, end: { line: 57, column: 48 } }, "35": { start: { line: 59, column: 2 }, end: { line: 61, column: 5 } }, "36": { start: { line: 69, column: 13 }, end: { line: 105, column: 3 } }, "37": { start: { line: 75, column: 75 }, end: { line: 75, column: 94 } }, "38": { start: { line: 80, column: 71 }, end: { line: 80, column: 78 } }, "39": { start: { line: 85, column: 63 }, end: { line: 85, column: 116 } }, "40": { start: { line: 92, column: 63 }, end: { line: 92, column: 100 } }, "41": { start: { line: 97, column: 65 }, end: { line: 97, column: 104 } }, "42": { start: { line: 104, column: 66 }, end: { line: 104, column: 106 } }, "43": { start: { line: 107, column: 2 }, end: { line: 164, column: 3 } }, "44": { start: { line: 108, column: 23 }, end: { line: 108, column: 107 } }, "45": { start: { line: 108, column: 31 }, end: { line: 108, column: 107 } }, "46": { start: { line: 110, column: 4 }, end: { line: 112, column: 5 } }, "47": { start: { line: 111, column: 6 }, end: { line: 111, column: 28 } }, "48": { start: { line: 114, column: 4 }, end: { line: 163, column: 7 } }, "49": { start: { line: 121, column: 8 }, end: { line: 121, column: 34 } }, "50": { start: { line: 121, column: 22 }, end: { line: 121, column: 34 } }, "51": { start: { line: 123, column: 22 }, end: { line: 123, column: 45 } }, "52": { start: { line: 124, column: 8 }, end: { line: 124, column: 57 } }, "53": { start: { line: 133, column: 8 }, end: { line: 133, column: 34 } }, "54": { start: { line: 133, column: 22 }, end: { line: 133, column: 34 } }, "55": { start: { line: 137, column: 23 }, end: { line: 137, column: 64 } }, "56": { start: { line: 138, column: 23 }, end: { line: 138, column: 64 } }, "57": { start: { line: 140, column: 8 }, end: { line: 140, column: 73 } }, "58": { start: { line: 148, column: 198 }, end: { line: 148, column: 259 } }, "59": { start: { line: 157, column: 8 }, end: { line: 157, column: 34 } }, "60": { start: { line: 157, column: 22 }, end: { line: 157, column: 34 } }, "61": { start: { line: 159, column: 26 }, end: { line: 159, column: 50 } }, "62": { start: { line: 160, column: 25 }, end: { line: 160, column: 48 } }, "63": { start: { line: 161, column: 8 }, end: { line: 161, column: 23 } }, "64": { start: { line: 166, column: 2 }, end: { line: 166, column: 14 } }, "65": { start: { line: 169, column: 12 }, end: { line: 285, column: 2 } }, "66": { start: { line: 173, column: 18 }, end: { line: 173, column: 27 } }, "67": { start: { line: 182, column: 65 }, end: { line: 182, column: 94 } }, "68": { start: { line: 187, column: 66 }, end: { line: 187, column: 96 } }, "69": { start: { line: 193, column: 60 }, end: { line: 193, column: 88 } }, "70": { start: { line: 200, column: 65 }, end: { line: 226, column: 7 } }, "71": { start: { line: 208, column: 26 }, end: { line: 208, column: 30 } }, "72": { start: { line: 211, column: 8 }, end: { line: 213, column: 9 } }, "73": { start: { line: 212, column: 10 }, end: { line: 212, column: 20 } }, "74": { start: { line: 215, column: 24 }, end: { line: 218, column: 125 } }, "75": { start: { line: 215, column: 94 }, end: { line: 218, column: 9 } }, "76": { start: { line: 218, column: 37 }, end: { line: 218, column: 74 } }, "77": { start: { line: 218, column: 119 }, end: { line: 218, column: 124 } }, "78": { start: { line: 220, column: 8 }, end: { line: 223, column: 9 } }, "79": { start: { line: 221, column: 30 }, end: { line: 221, column: 40 } }, "80": { start: { line: 222, column: 10 }, end: { line: 222, column: 29 } }, "81": { start: { line: 225, column: 8 }, end: { line: 225, column: 18 } }, "82": { start: { line: 237, column: 24 }, end: { line: 237, column: 48 } }, "83": { start: { line: 242, column: 66 }, end: { line: 242, column: 109 } }, "84": { start: { line: 248, column: 75 }, end: { line: 248, column: 130 } }, "85": { start: { line: 248, column: 96 }, end: { line: 248, column: 122 } }, "86": { start: { line: 260, column: 110 }, end: { line: 262, column: 5 } }, "87": { start: { line: 261, column: 81 }, end: { line: 261, column: 92 } }, "88": { start: { line: 279, column: 110 }, end: { line: 281, column: 5 } }, "89": { start: { line: 280, column: 81 }, end: { line: 280, column: 92 } }, "90": { start: { line: 287, column: 0 }, end: { line: 287, column: 22 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 39, column: 9 }, end: { line: 39, column: 32 } }, loc: { start: { line: 39, column: 38 }, end: { line: 39, column: 269 } }, line: 39 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 41, column: 9 }, end: { line: 41, column: 31 } }, loc: { start: { line: 41, column: 37 }, end: { line: 41, column: 95 } }, line: 41 }, "2": { name: "findContext", decl: { start: { line: 45, column: 9 }, end: { line: 45, column: 20 } }, loc: { start: { line: 45, column: 71 }, end: { line: 62, column: 1 } }, line: 45 }, "3": { name: "createStepSelectors", decl: { start: { line: 68, column: 9 }, end: { line: 68, column: 28 } }, loc: { start: { line: 68, column: 49 }, end: { line: 167, column: 1 } }, line: 68 }, "4": { name: "(anonymous_4)", decl: { start: { line: 75, column: 49 }, end: { line: 75, column: 50 } }, loc: { start: { line: 75, column: 75 }, end: { line: 75, column: 94 } }, line: 75 }, "5": { name: "(anonymous_5)", decl: { start: { line: 80, column: 63 }, end: { line: 80, column: 64 } }, loc: { start: { line: 80, column: 71 }, end: { line: 80, column: 78 } }, line: 80 }, "6": { name: "(anonymous_6)", decl: { start: { line: 85, column: 55 }, end: { line: 85, column: 56 } }, loc: { start: { line: 85, column: 63 }, end: { line: 85, column: 116 } }, line: 85 }, "7": { name: "(anonymous_7)", decl: { start: { line: 92, column: 55 }, end: { line: 92, column: 56 } }, loc: { start: { line: 92, column: 63 }, end: { line: 92, column: 100 } }, line: 92 }, "8": { name: "(anonymous_8)", decl: { start: { line: 97, column: 57 }, end: { line: 97, column: 58 } }, loc: { start: { line: 97, column: 65 }, end: { line: 97, column: 104 } }, line: 97 }, "9": { name: "(anonymous_9)", decl: { start: { line: 104, column: 58 }, end: { line: 104, column: 59 } }, loc: { start: { line: 104, column: 66 }, end: { line: 104, column: 106 } }, line: 104 }, "10": { name: "(anonymous_10)", decl: { start: { line: 108, column: 23 }, end: { line: 108, column: 24 } }, loc: { start: { line: 108, column: 31 }, end: { line: 108, column: 107 } }, line: 108 }, "11": { name: "(anonymous_11)", decl: { start: { line: 120, column: 81 }, end: { line: 120, column: 82 } }, loc: { start: { line: 120, column: 111 }, end: { line: 125, column: 7 } }, line: 120 }, "12": { name: "(anonymous_12)", decl: { start: { line: 132, column: 84 }, end: { line: 132, column: 85 } }, loc: { start: { line: 132, column: 122 }, end: { line: 141, column: 7 } }, line: 132 }, "13": { name: "(anonymous_13)", decl: { start: { line: 148, column: 148 }, end: { line: 148, column: 149 } }, loc: { start: { line: 148, column: 198 }, end: { line: 148, column: 259 } }, line: 148 }, "14": { name: "(anonymous_14)", decl: { start: { line: 156, column: 109 }, end: { line: 156, column: 110 } }, loc: { start: { line: 156, column: 143 }, end: { line: 162, column: 7 } }, line: 156 }, "15": { name: "(anonymous_15)", decl: { start: { line: 173, column: 9 }, end: { line: 173, column: 10 } }, loc: { start: { line: 173, column: 18 }, end: { line: 173, column: 27 } }, line: 173 }, "16": { name: "(anonymous_16)", decl: { start: { line: 182, column: 56 }, end: { line: 182, column: 57 } }, loc: { start: { line: 182, column: 65 }, end: { line: 182, column: 94 } }, line: 182 }, "17": { name: "(anonymous_17)", decl: { start: { line: 187, column: 57 }, end: { line: 187, column: 58 } }, loc: { start: { line: 187, column: 66 }, end: { line: 187, column: 96 } }, line: 187 }, "18": { name: "(anonymous_18)", decl: { start: { line: 193, column: 51 }, end: { line: 193, column: 52 } }, loc: { start: { line: 193, column: 60 }, end: { line: 193, column: 88 } }, line: 193 }, "19": { name: "(anonymous_19)", decl: { start: { line: 200, column: 53 }, end: { line: 200, column: 54 } }, loc: { start: { line: 200, column: 65 }, end: { line: 226, column: 7 } }, line: 200 }, "20": { name: "(anonymous_20)", decl: { start: { line: 200, column: 65 }, end: { line: 200, column: 66 } }, loc: { start: { line: 200, column: 75 }, end: { line: 226, column: 7 } }, line: 200 }, "21": { name: "(anonymous_21)", decl: { start: { line: 215, column: 61 }, end: { line: 215, column: 62 } }, loc: { start: { line: 215, column: 94 }, end: { line: 218, column: 9 } }, line: 215 }, "22": { name: "(anonymous_22)", decl: { start: { line: 218, column: 19 }, end: { line: 218, column: 20 } }, loc: { start: { line: 218, column: 37 }, end: { line: 218, column: 74 } }, line: 218 }, "23": { name: "(anonymous_23)", decl: { start: { line: 218, column: 81 }, end: { line: 218, column: 82 } }, loc: { start: { line: 218, column: 119 }, end: { line: 218, column: 124 } }, line: 218 }, "24": { name: "(anonymous_24)", decl: { start: { line: 237, column: 15 }, end: { line: 237, column: 16 } }, loc: { start: { line: 237, column: 24 }, end: { line: 237, column: 48 } }, line: 237 }, "25": { name: "(anonymous_25)", decl: { start: { line: 242, column: 57 }, end: { line: 242, column: 58 } }, loc: { start: { line: 242, column: 66 }, end: { line: 242, column: 109 } }, line: 242 }, "26": { name: "(anonymous_26)", decl: { start: { line: 248, column: 66 }, end: { line: 248, column: 67 } }, loc: { start: { line: 248, column: 75 }, end: { line: 248, column: 130 } }, line: 248 }, "27": { name: "(anonymous_27)", decl: { start: { line: 248, column: 88 }, end: { line: 248, column: 89 } }, loc: { start: { line: 248, column: 96 }, end: { line: 248, column: 122 } }, line: 248 }, "28": { name: "(anonymous_28)", decl: { start: { line: 260, column: 100 }, end: { line: 260, column: 101 } }, loc: { start: { line: 260, column: 110 }, end: { line: 262, column: 5 } }, line: 260 }, "29": { name: "(anonymous_29)", decl: { start: { line: 261, column: 73 }, end: { line: 261, column: 74 } }, loc: { start: { line: 261, column: 81 }, end: { line: 261, column: 92 } }, line: 261 }, "30": { name: "(anonymous_30)", decl: { start: { line: 279, column: 100 }, end: { line: 279, column: 101 } }, loc: { start: { line: 279, column: 110 }, end: { line: 281, column: 5 } }, line: 279 }, "31": { name: "(anonymous_31)", decl: { start: { line: 280, column: 73 }, end: { line: 280, column: 74 } }, loc: { start: { line: 280, column: 81 }, end: { line: 280, column: 92 } }, line: 280 } }, branchMap: { "0": { loc: { start: { line: 39, column: 40 }, end: { line: 39, column: 267 } }, type: "if", locations: [{ start: { line: 39, column: 40 }, end: { line: 39, column: 267 } }, { start: { line: 39, column: 40 }, end: { line: 39, column: 267 } }], line: 39 }, "1": { loc: { start: { line: 39, column: 44 }, end: { line: 39, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 39, column: 44 }, end: { line: 39, column: 47 } }, { start: { line: 39, column: 51 }, end: { line: 39, column: 65 } }], line: 39 }, "2": { loc: { start: { line: 39, column: 107 }, end: { line: 39, column: 228 } }, type: "if", locations: [{ start: { line: 39, column: 107 }, end: { line: 39, column: 228 } }, { start: { line: 39, column: 107 }, end: { line: 39, column: 228 } }], line: 39 }, "3": { loc: { start: { line: 39, column: 149 }, end: { line: 39, column: 224 } }, type: "if", locations: [{ start: { line: 39, column: 149 }, end: { line: 39, column: 224 } }, { start: { line: 39, column: 149 }, end: { line: 39, column: 224 } }], line: 39 }, "4": { loc: { start: { line: 41, column: 46 }, end: { line: 41, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 41, column: 70 }, end: { line: 41, column: 73 } }, { start: { line: 41, column: 76 }, end: { line: 41, column: 92 } }], line: 41 }, "5": { loc: { start: { line: 41, column: 46 }, end: { line: 41, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 41, column: 46 }, end: { line: 41, column: 49 } }, { start: { line: 41, column: 53 }, end: { line: 41, column: 67 } }], line: 41 }, "6": { loc: { start: { line: 47, column: 2 }, end: { line: 55, column: 3 } }, type: "if", locations: [{ start: { line: 47, column: 2 }, end: { line: 55, column: 3 } }, { start: { line: 47, column: 2 }, end: { line: 55, column: 3 } }], line: 47 }, "7": { loc: { start: { line: 49, column: 4 }, end: { line: 51, column: 5 } }, type: "if", locations: [{ start: { line: 49, column: 4 }, end: { line: 51, column: 5 } }, { start: { line: 49, column: 4 }, end: { line: 51, column: 5 } }], line: 49 }, "8": { loc: { start: { line: 57, column: 26 }, end: { line: 57, column: 38 } }, type: "binary-expr", locations: [{ start: { line: 57, column: 26 }, end: { line: 57, column: 32 } }, { start: { line: 57, column: 36 }, end: { line: 57, column: 38 } }], line: 57 }, "9": { loc: { start: { line: 68, column: 35 }, end: { line: 68, column: 47 } }, type: "default-arg", locations: [{ start: { line: 68, column: 43 }, end: { line: 68, column: 47 } }], line: 68 }, "10": { loc: { start: { line: 85, column: 63 }, end: { line: 85, column: 116 } }, type: "binary-expr", locations: [{ start: { line: 85, column: 63 }, end: { line: 85, column: 84 } }, { start: { line: 85, column: 88 }, end: { line: 85, column: 116 } }], line: 85 }, "11": { loc: { start: { line: 104, column: 66 }, end: { line: 104, column: 106 } }, type: "binary-expr", locations: [{ start: { line: 104, column: 66 }, end: { line: 104, column: 83 } }, { start: { line: 104, column: 87 }, end: { line: 104, column: 106 } }], line: 104 }, "12": { loc: { start: { line: 107, column: 2 }, end: { line: 164, column: 3 } }, type: "if", locations: [{ start: { line: 107, column: 2 }, end: { line: 164, column: 3 } }, { start: { line: 107, column: 2 }, end: { line: 164, column: 3 } }], line: 107 }, "13": { loc: { start: { line: 108, column: 31 }, end: { line: 108, column: 107 } }, type: "binary-expr", locations: [{ start: { line: 108, column: 31 }, end: { line: 108, column: 54 } }, { start: { line: 108, column: 59 }, end: { line: 108, column: 80 } }, { start: { line: 108, column: 84 }, end: { line: 108, column: 106 } }], line: 108 }, "14": { loc: { start: { line: 110, column: 4 }, end: { line: 112, column: 5 } }, type: "if", locations: [{ start: { line: 110, column: 4 }, end: { line: 112, column: 5 } }, { start: { line: 110, column: 4 }, end: { line: 112, column: 5 } }], line: 110 }, "15": { loc: { start: { line: 121, column: 8 }, end: { line: 121, column: 34 } }, type: "if", locations: [{ start: { line: 121, column: 8 }, end: { line: 121, column: 34 } }, { start: { line: 121, column: 8 }, end: { line: 121, column: 34 } }], line: 121 }, "16": { loc: { start: { line: 133, column: 8 }, end: { line: 133, column: 34 } }, type: "if", locations: [{ start: { line: 133, column: 8 }, end: { line: 133, column: 34 } }, { start: { line: 133, column: 8 }, end: { line: 133, column: 34 } }], line: 133 }, "17": { loc: { start: { line: 157, column: 8 }, end: { line: 157, column: 34 } }, type: "if", locations: [{ start: { line: 157, column: 8 }, end: { line: 157, column: 34 } }, { start: { line: 157, column: 8 }, end: { line: 157, column: 34 } }], line: 157 }, "18": { loc: { start: { line: 159, column: 26 }, end: { line: 159, column: 50 } }, type: "binary-expr", locations: [{ start: { line: 159, column: 26 }, end: { line: 159, column: 44 } }, { start: { line: 159, column: 48 }, end: { line: 159, column: 50 } }], line: 159 }, "19": { loc: { start: { line: 160, column: 25 }, end: { line: 160, column: 48 } }, type: "binary-expr", locations: [{ start: { line: 160, column: 25 }, end: { line: 160, column: 42 } }, { start: { line: 160, column: 46 }, end: { line: 160, column: 48 } }], line: 160 }, "20": { loc: { start: { line: 211, column: 8 }, end: { line: 213, column: 9 } }, type: "if", locations: [{ start: { line: 211, column: 8 }, end: { line: 213, column: 9 } }, { start: { line: 211, column: 8 }, end: { line: 213, column: 9 } }], line: 211 }, "21": { loc: { start: { line: 211, column: 12 }, end: { line: 211, column: 38 } }, type: "binary-expr", locations: [{ start: { line: 211, column: 12 }, end: { line: 211, column: 19 } }, { start: { line: 211, column: 23 }, end: { line: 211, column: 38 } }], line: 211 }, "22": { loc: { start: { line: 220, column: 8 }, end: { line: 223, column: 9 } }, type: "if", locations: [{ start: { line: 220, column: 8 }, end: { line: 223, column: 9 } }, { start: { line: 220, column: 8 }, end: { line: 223, column: 9 } }], line: 220 }, "23": { loc: { start: { line: 242, column: 66 }, end: { line: 242, column: 109 } }, type: "cond-expr", locations: [{ start: { line: 242, column: 81 }, end: { line: 242, column: 104 } }, { start: { line: 242, column: 107 }, end: { line: 242, column: 109 } }], line: 242 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0, "49": 0, "50": 0, "51": 0, "52": 0, "53": 0, "54": 0, "55": 0, "56": 0, "57": 0, "58": 0, "59": 0, "60": 0, "61": 0, "62": 0, "63": 0, "64": 0, "65": 0, "66": 0, "67": 0, "68": 0, "69": 0, "70": 0, "71": 0, "72": 0, "73": 0, "74": 0, "75": 0, "76": 0, "77": 0, "78": 0, "79": 0, "80": 0, "81": 0, "82": 0, "83": 0, "84": 0, "85": 0, "86": 0, "87": 0, "88": 0, "89": 0, "90": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0, 0], "7": [0, 0], "8": [0, 0], "9": [0], "10": [0, 0], "11": [0, 0], "12": [0, 0], "13": [0, 0, 0], "14": [0, 0], "15": [0, 0], "16": [0, 0], "17": [0, 0], "18": [0, 0], "19": [0, 0], "20": [0, 0], "21": [0, 0], "22": [0, 0], "23": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/evm/selectors/index.js"], names: ["DecodeUtils", "debug", "findContext", "address", "binary", "instances", "search", "contexts", "record", "context", "createStepSelectors", "step", "state", "base", "trace", "gasCost", "op", "pc", "programCounter", "isJump", "indexOf", "isCall", "isCreate", "isHalting", "isRelative", "path", "startsWith", "callAddress", "matches", "stack", "length", "Conversion", "toAddress", "createBinary", "memory", "offset", "parseInt", "join", "substring", "callContext", "callsPrecompile", "evm", "info", "byContext", "byAddress", "binaries", "_", "byBinary", "threshold", "results", "map", "knownBinary", "distance", "levenshtein", "get", "filter", "sort", "a", "b", "current", "callstack", "proc", "call", "creationDepth", "undefined", "param", "next"], mappings: "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", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:evm:selectors\"); // eslint-disable-line no-unused-vars\n\nimport { createSelectorTree, createLeaf } from \"reselect-tree\";\nimport levenshtein from \"fast-levenshtein\";\n\nimport trace from \"lib/trace/selectors\";\n\nimport { isCallMnemonic, isCreateMnemonic } from \"lib/helpers\";\n\nimport * as DecodeUtils from \"truffle-decode-utils\";\n\nfunction findContext({ address, binary }, instances, search, contexts) {\n  let record;\n  if (address) {\n    record = instances[address];\n    if (!record) {\n      return { address };\n    }\n    binary = record.binary;\n  } else {\n    record = search(binary);\n  }\n\n  let context = contexts[(record || {}).context];\n\n  return {\n    ...context,\n    binary\n  };\n}\n\n/**\n * create EVM-level selectors for a given trace step selector\n * may specify additional selectors to include\n */\nfunction createStepSelectors(step, state = null) {\n  let base = {\n    /**\n     * .trace\n     *\n     * trace step info related to operation\n     */\n    trace: createLeaf([step], ({ gasCost, op, pc }) => ({ gasCost, op, pc })),\n\n    /**\n     * .programCounter\n     */\n    programCounter: createLeaf([\"./trace\"], step => step.pc),\n\n    /**\n     * .isJump\n     */\n    isJump: createLeaf(\n      [\"./trace\"],\n      step => step.op != \"JUMPDEST\" && step.op.indexOf(\"JUMP\") == 0\n    ),\n\n    /**\n     * .isCall\n     *\n     * whether the opcode will switch to another calling context\n     */\n    isCall: createLeaf([\"./trace\"], step => isCallMnemonic(step.op)),\n\n    /**\n     * .isCreate\n     */\n    isCreate: createLeaf([\"./trace\"], step => isCreateMnemonic(step.op)),\n\n    /**\n     * .isHalting\n     *\n     * whether the instruction halts or returns from a calling context\n     */\n    isHalting: createLeaf(\n      [\"./trace\"],\n      step => step.op == \"STOP\" || step.op == \"RETURN\"\n    )\n  };\n\n  if (state) {\n    const isRelative = path =>\n      typeof path == \"string\" &&\n      (path.startsWith(\"./\") || path.startsWith(\"../\"));\n\n    if (isRelative(state)) {\n      state = `../${state}`;\n    }\n\n    Object.assign(base, {\n      /**\n       * .callAddress\n       *\n       * address transferred to by call operation\n       */\n      callAddress: createLeaf(\n        [\"./isCall\", \"./trace\", state],\n\n        (matches, step, { stack }) => {\n          if (!matches) return null;\n\n          let address = stack[stack.length - 2];\n          return DecodeUtils.Conversion.toAddress(address);\n        }\n      ),\n\n      /**\n       * .createBinary\n       *\n       * binary code to execute via create operation\n       */\n      createBinary: createLeaf(\n        [\"./isCreate\", \"./trace\", state],\n\n        (matches, step, { stack, memory }) => {\n          if (!matches) return null;\n\n          // Get the code that's going to be created from memory.\n          // Note we multiply by 2 because these offsets are in bytes.\n          const offset = parseInt(stack[stack.length - 2], 16) * 2;\n          const length = parseInt(stack[stack.length - 3], 16) * 2;\n\n          return \"0x\" + memory.join(\"\").substring(offset, offset + length);\n        }\n      ),\n\n      /**\n       * .callContext\n       *\n       * context for what we're about to call into (or create)\n       */\n      callContext: createLeaf(\n        [\n          \"./callAddress\",\n          \"./createBinary\",\n          \"/info/instances\",\n          \"/info/binaries/search\",\n          \"/info/contexts\"\n        ],\n        (address, binary, instances, search, contexts) =>\n          findContext({ address, binary }, instances, search, contexts)\n      ),\n\n      /**\n       * .callsPrecompile\n       *\n       * is the call address to a precompiled contract?\n       * HACK\n       */\n      callsPrecompile: createLeaf(\n        [\"./callAddress\", \"/info/contexts\", \"/info/instances\"],\n\n        (address, contexts, instances) => {\n          if (!address) return null;\n\n          let { context } = instances[address] || {};\n          let { binary } = contexts[context] || {};\n          return !binary;\n        }\n      )\n    });\n  }\n\n  return base;\n}\n\nconst evm = createSelectorTree({\n  /**\n   * evm.state\n   */\n  state: state => state.evm,\n\n  /**\n   * evm.info\n   */\n  info: {\n    /**\n     * evm.info.contexts\n     */\n    contexts: createLeaf([\"/state\"], state => state.info.contexts.byContext),\n\n    /**\n     * evm.info.instances\n     */\n    instances: createLeaf([\"/state\"], state => state.info.instances.byAddress),\n\n    /**\n     * evm.info.binaries\n     */\n    binaries: {\n      _: createLeaf([\"/state\"], state => state.info.contexts.byBinary),\n\n      /**\n       * evm.info.binaries.search\n       *\n       * returns function (binary) => context\n       */\n      search: createLeaf([\"./_\"], binaries => binary => {\n        // search for a given binary based on levenshtein distances to\n        // existing (known) context binaries.\n        //\n        // levenshtein distance is the number of textual modifications\n        // (insert, change, delete) required to convert string a to b\n        //\n        // filter by a percentage threshold\n        const threshold = 0.25;\n\n        // skip levenshtein check for undefined binaries\n        if (!binary || binary == \"0x0\") {\n          return {};\n        }\n\n        const results = Object.entries(binaries)\n          .map(([knownBinary, { context }]) => ({\n            context,\n            distance: levenshtein.get(knownBinary, binary)\n          }))\n          .filter(({ distance }) => distance <= binary.length * threshold)\n          .sort(({ distance: a }, { distance: b }) => a - b);\n\n        if (results[0]) {\n          const { context } = results[0];\n          return { context };\n        }\n\n        return {};\n      })\n    }\n  },\n\n  /**\n   * evm.current\n   */\n  current: {\n    /**\n     * evm.current.callstack\n     */\n    callstack: state => state.evm.proc.callstack,\n\n    /**\n     * evm.current.call\n     */\n    call: createLeaf(\n      [\"./callstack\"],\n\n      stack => (stack.length ? stack[stack.length - 1] : {})\n    ),\n\n    /**\n     * evm.current.creationDepth\n     * how many creation calls are currently on the call stack?\n     */\n    creationDepth: createLeaf(\n      [\"./callstack\"],\n\n      stack => stack.filter(call => call.address === undefined).length\n    ),\n\n    /**\n     * evm.current.context\n     */\n    context: createLeaf(\n      [\"./call\", \"/info/instances\", \"/info/binaries/search\", \"/info/contexts\"],\n      findContext\n    ),\n\n    /**\n     * evm.current.state\n     *\n     * evm state info: as of last operation, before op defined in step\n     */\n    state: Object.assign(\n      {},\n      ...[\"depth\", \"error\", \"gas\", \"memory\", \"stack\", \"storage\"].map(param => ({\n        [param]: createLeaf([trace.step], step => step[param])\n      }))\n    ),\n\n    /**\n     * evm.current.step\n     */\n    step: createStepSelectors(trace.step, \"./state\")\n  },\n\n  /**\n   * evm.next\n   */\n  next: {\n    /**\n     * evm.next.state\n     *\n     * evm state as a result of next step operation\n     */\n    state: Object.assign(\n      {},\n      ...[\"depth\", \"error\", \"gas\", \"memory\", \"stack\", \"storage\"].map(param => ({\n        [param]: createLeaf([trace.next], step => step[param])\n      }))\n    ),\n\n    step: createStepSelectors(trace.next, \"./state\")\n  }\n});\n\nexport default evm;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_251n154c7v.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _entries = (cov_251n154c7v.s[1]++, __webpack_require__(9));var _entries2 = (cov_251n154c7v.s[2]++, _interopRequireDefault(_entries));var _assign = (cov_251n154c7v.s[3]++, __webpack_require__(12));var _assign2 = (cov_251n154c7v.s[4]++, _interopRequireDefault(_assign));var _extends2 = (cov_251n154c7v.s[5]++, __webpack_require__(13));var _extends3 = (cov_251n154c7v.s[6]++, _interopRequireDefault(_extends2));var _debug = (cov_251n154c7v.s[7]++, __webpack_require__(0));var _debug2 = (cov_251n154c7v.s[8]++, _interopRequireDefault(_debug));var _reselectTree = (cov_251n154c7v.s[9]++, __webpack_require__(14));var _fastLevenshtein = (cov_251n154c7v.s[10]++, __webpack_require__(68));var _fastLevenshtein2 = (cov_251n154c7v.s[11]++, _interopRequireDefault(_fastLevenshtein));var _selectors = (cov_251n154c7v.s[12]++, __webpack_require__(11));var _selectors2 = (cov_251n154c7v.s[13]++, _interopRequireDefault(_selectors));var _helpers = (cov_251n154c7v.s[14]++, __webpack_require__(3));var _truffleDecodeUtils = (cov_251n154c7v.s[15]++, __webpack_require__(6));var DecodeUtils = (cov_251n154c7v.s[16]++, _interopRequireWildcard(_truffleDecodeUtils));function _interopRequireWildcard(obj) {
  cov_251n154c7v.f[0]++;cov_251n154c7v.s[17]++;if ((cov_251n154c7v.b[1][0]++, obj) && (cov_251n154c7v.b[1][1]++, obj.__esModule)) {
    cov_251n154c7v.b[0][0]++;cov_251n154c7v.s[18]++;return obj;
  } else {
    cov_251n154c7v.b[0][1]++;var newObj = (cov_251n154c7v.s[19]++, {});cov_251n154c7v.s[20]++;if (obj != null) {
      cov_251n154c7v.b[2][0]++;cov_251n154c7v.s[21]++;for (var key in obj) {
        cov_251n154c7v.s[22]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_251n154c7v.b[3][0]++;cov_251n154c7v.s[23]++;newObj[key] = obj[key];
        } else {
          cov_251n154c7v.b[3][1]++;
        }
      }
    } else {
      cov_251n154c7v.b[2][1]++;
    }cov_251n154c7v.s[24]++;newObj.default = obj;cov_251n154c7v.s[25]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_251n154c7v.f[1]++;cov_251n154c7v.s[26]++;return (cov_251n154c7v.b[5][0]++, obj) && (cov_251n154c7v.b[5][1]++, obj.__esModule) ? (cov_251n154c7v.b[4][0]++, obj) : (cov_251n154c7v.b[4][1]++, { default: obj });
}const debug = (cov_251n154c7v.s[27]++, (0, _debug2.default)("debugger:evm:selectors"));function findContext({ address, binary }, instances, search, contexts) {
  cov_251n154c7v.f[2]++;let record;cov_251n154c7v.s[28]++;if (address) {
    cov_251n154c7v.b[6][0]++;cov_251n154c7v.s[29]++;record = instances[address];cov_251n154c7v.s[30]++;if (!record) {
      cov_251n154c7v.b[7][0]++;cov_251n154c7v.s[31]++;return { address };
    } else {
      cov_251n154c7v.b[7][1]++;
    }cov_251n154c7v.s[32]++;binary = record.binary;
  } else {
    cov_251n154c7v.b[6][1]++;cov_251n154c7v.s[33]++;record = search(binary);
  }let context = (cov_251n154c7v.s[34]++, contexts[((cov_251n154c7v.b[8][0]++, record) || (cov_251n154c7v.b[8][1]++, {})).context]);cov_251n154c7v.s[35]++;return (0, _extends3.default)({}, context, { binary });
}function createStepSelectors(step, state = (cov_251n154c7v.b[9][0]++, null)) {
  cov_251n154c7v.f[3]++;let base = (cov_251n154c7v.s[36]++, { trace: (0, _reselectTree.createLeaf)([step], ({ gasCost, op, pc }) => {
      cov_251n154c7v.f[4]++;cov_251n154c7v.s[37]++;return { gasCost, op, pc };
    }), programCounter: (0, _reselectTree.createLeaf)(["./trace"], step => {
      cov_251n154c7v.f[5]++;cov_251n154c7v.s[38]++;return step.pc;
    }), isJump: (0, _reselectTree.createLeaf)(["./trace"], step => {
      cov_251n154c7v.f[6]++;cov_251n154c7v.s[39]++;return (cov_251n154c7v.b[10][0]++, step.op != "JUMPDEST") && (cov_251n154c7v.b[10][1]++, step.op.indexOf("JUMP") == 0);
    }), isCall: (0, _reselectTree.createLeaf)(["./trace"], step => {
      cov_251n154c7v.f[7]++;cov_251n154c7v.s[40]++;return (0, _helpers.isCallMnemonic)(step.op);
    }), isCreate: (0, _reselectTree.createLeaf)(["./trace"], step => {
      cov_251n154c7v.f[8]++;cov_251n154c7v.s[41]++;return (0, _helpers.isCreateMnemonic)(step.op);
    }), isHalting: (0, _reselectTree.createLeaf)(["./trace"], step => {
      cov_251n154c7v.f[9]++;cov_251n154c7v.s[42]++;return (cov_251n154c7v.b[11][0]++, step.op == "STOP") || (cov_251n154c7v.b[11][1]++, step.op == "RETURN");
    }) });cov_251n154c7v.s[43]++;if (state) {
    cov_251n154c7v.b[12][0]++;cov_251n154c7v.s[44]++;const isRelative = path => {
      cov_251n154c7v.f[10]++;cov_251n154c7v.s[45]++;return (cov_251n154c7v.b[13][0]++, typeof path == "string") && ((cov_251n154c7v.b[13][1]++, path.startsWith("./")) || (cov_251n154c7v.b[13][2]++, path.startsWith("../")));
    };cov_251n154c7v.s[46]++;if (isRelative(state)) {
      cov_251n154c7v.b[14][0]++;cov_251n154c7v.s[47]++;state = `../${state}`;
    } else {
      cov_251n154c7v.b[14][1]++;
    }cov_251n154c7v.s[48]++;(0, _assign2.default)(base, { callAddress: (0, _reselectTree.createLeaf)(["./isCall", "./trace", state], (matches, step, { stack }) => {
        cov_251n154c7v.f[11]++;cov_251n154c7v.s[49]++;if (!matches) {
          cov_251n154c7v.b[15][0]++;cov_251n154c7v.s[50]++;return null;
        } else {
          cov_251n154c7v.b[15][1]++;
        }let address = (cov_251n154c7v.s[51]++, stack[stack.length - 2]);cov_251n154c7v.s[52]++;return DecodeUtils.Conversion.toAddress(address);
      }), createBinary: (0, _reselectTree.createLeaf)(["./isCreate", "./trace", state], (matches, step, { stack, memory }) => {
        cov_251n154c7v.f[12]++;cov_251n154c7v.s[53]++;if (!matches) {
          cov_251n154c7v.b[16][0]++;cov_251n154c7v.s[54]++;return null;
        } else {
          cov_251n154c7v.b[16][1]++;
        }const offset = (cov_251n154c7v.s[55]++, parseInt(stack[stack.length - 2], 16) * 2);const length = (cov_251n154c7v.s[56]++, parseInt(stack[stack.length - 3], 16) * 2);cov_251n154c7v.s[57]++;return "0x" + memory.join("").substring(offset, offset + length);
      }), callContext: (0, _reselectTree.createLeaf)(["./callAddress", "./createBinary", "/info/instances", "/info/binaries/search", "/info/contexts"], (address, binary, instances, search, contexts) => {
        cov_251n154c7v.f[13]++;cov_251n154c7v.s[58]++;return findContext({ address, binary }, instances, search, contexts);
      }), callsPrecompile: (0, _reselectTree.createLeaf)(["./callAddress", "/info/contexts", "/info/instances"], (address, contexts, instances) => {
        cov_251n154c7v.f[14]++;cov_251n154c7v.s[59]++;if (!address) {
          cov_251n154c7v.b[17][0]++;cov_251n154c7v.s[60]++;return null;
        } else {
          cov_251n154c7v.b[17][1]++;
        }let { context } = (cov_251n154c7v.s[61]++, (cov_251n154c7v.b[18][0]++, instances[address]) || (cov_251n154c7v.b[18][1]++, {}));let { binary } = (cov_251n154c7v.s[62]++, (cov_251n154c7v.b[19][0]++, contexts[context]) || (cov_251n154c7v.b[19][1]++, {}));cov_251n154c7v.s[63]++;return !binary;
      }) });
  } else {
    cov_251n154c7v.b[12][1]++;
  }cov_251n154c7v.s[64]++;return base;
}const evm = (cov_251n154c7v.s[65]++, (0, _reselectTree.createSelectorTree)({ state: state => {
    cov_251n154c7v.f[15]++;cov_251n154c7v.s[66]++;return state.evm;
  }, info: { contexts: (0, _reselectTree.createLeaf)(["/state"], state => {
      cov_251n154c7v.f[16]++;cov_251n154c7v.s[67]++;return state.info.contexts.byContext;
    }), instances: (0, _reselectTree.createLeaf)(["/state"], state => {
      cov_251n154c7v.f[17]++;cov_251n154c7v.s[68]++;return state.info.instances.byAddress;
    }), binaries: { _: (0, _reselectTree.createLeaf)(["/state"], state => {
        cov_251n154c7v.f[18]++;cov_251n154c7v.s[69]++;return state.info.contexts.byBinary;
      }), search: (0, _reselectTree.createLeaf)(["./_"], binaries => {
        cov_251n154c7v.f[19]++;cov_251n154c7v.s[70]++;return binary => {
          cov_251n154c7v.f[20]++;const threshold = (cov_251n154c7v.s[71]++, 0.25);cov_251n154c7v.s[72]++;if ((cov_251n154c7v.b[21][0]++, !binary) || (cov_251n154c7v.b[21][1]++, binary == "0x0")) {
            cov_251n154c7v.b[20][0]++;cov_251n154c7v.s[73]++;return {};
          } else {
            cov_251n154c7v.b[20][1]++;
          }const results = (cov_251n154c7v.s[74]++, (0, _entries2.default)(binaries).map(([knownBinary, { context }]) => {
            cov_251n154c7v.f[21]++;cov_251n154c7v.s[75]++;return { context, distance: _fastLevenshtein2.default.get(knownBinary, binary) };
          }).filter(({ distance }) => {
            cov_251n154c7v.f[22]++;cov_251n154c7v.s[76]++;return distance <= binary.length * threshold;
          }).sort(({ distance: a }, { distance: b }) => {
            cov_251n154c7v.f[23]++;cov_251n154c7v.s[77]++;return a - b;
          }));cov_251n154c7v.s[78]++;if (results[0]) {
            cov_251n154c7v.b[22][0]++;const { context } = (cov_251n154c7v.s[79]++, results[0]);cov_251n154c7v.s[80]++;return { context };
          } else {
            cov_251n154c7v.b[22][1]++;
          }cov_251n154c7v.s[81]++;return {};
        };
      }) } }, current: { callstack: state => {
      cov_251n154c7v.f[24]++;cov_251n154c7v.s[82]++;return state.evm.proc.callstack;
    }, call: (0, _reselectTree.createLeaf)(["./callstack"], stack => {
      cov_251n154c7v.f[25]++;cov_251n154c7v.s[83]++;return stack.length ? (cov_251n154c7v.b[23][0]++, stack[stack.length - 1]) : (cov_251n154c7v.b[23][1]++, {});
    }), creationDepth: (0, _reselectTree.createLeaf)(["./callstack"], stack => {
      cov_251n154c7v.f[26]++;cov_251n154c7v.s[84]++;return stack.filter(call => {
        cov_251n154c7v.f[27]++;cov_251n154c7v.s[85]++;return call.address === undefined;
      }).length;
    }), context: (0, _reselectTree.createLeaf)(["./call", "/info/instances", "/info/binaries/search", "/info/contexts"], findContext), state: (0, _assign2.default)({}, ...["depth", "error", "gas", "memory", "stack", "storage"].map(param => {
      cov_251n154c7v.f[28]++;cov_251n154c7v.s[86]++;return { [param]: (0, _reselectTree.createLeaf)([_selectors2.default.step], step => {
          cov_251n154c7v.f[29]++;cov_251n154c7v.s[87]++;return step[param];
        }) };
    })), step: createStepSelectors(_selectors2.default.step, "./state") }, next: { state: (0, _assign2.default)({}, ...["depth", "error", "gas", "memory", "stack", "storage"].map(param => {
      cov_251n154c7v.f[30]++;cov_251n154c7v.s[88]++;return { [param]: (0, _reselectTree.createLeaf)([_selectors2.default.next], step => {
          cov_251n154c7v.f[31]++;cov_251n154c7v.s[89]++;return step[param];
        }) };
    })), step: createStepSelectors(_selectors2.default.next, "./state") } }));cov_251n154c7v.s[90]++;exports.default = evm;

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_j8ygwqmex = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/trace/selectors/index.js",
      hash = "9166a976face552cc6d3d83b6af029741567eb7d",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/trace/selectors/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 20 }, end: { line: 7, column: 44 } }, "2": { start: { line: 9, column: 12 }, end: { line: 53, column: 2 } }, "3": { start: { line: 15, column: 18 }, end: { line: 15, column: 40 } }, "4": { start: { line: 22, column: 21 }, end: { line: 22, column: 46 } }, "5": { start: { line: 29, column: 18 }, end: { line: 29, column: 40 } }, "6": { start: { line: 36, column: 90 }, end: { line: 36, column: 110 } }, "7": { start: { line: 43, column: 80 }, end: { line: 43, column: 92 } }, "8": { start: { line: 52, column: 80 }, end: { line: 52, column: 138 } }, "9": { start: { line: 55, column: 0 }, end: { line: 55, column: 24 } } }, fnMap: { "0": { name: "(anonymous_0)", decl: { start: { line: 15, column: 9 }, end: { line: 15, column: 10 } }, loc: { start: { line: 15, column: 18 }, end: { line: 15, column: 40 } }, line: 15 }, "1": { name: "(anonymous_1)", decl: { start: { line: 22, column: 12 }, end: { line: 22, column: 13 } }, loc: { start: { line: 22, column: 21 }, end: { line: 22, column: 46 } }, line: 22 }, "2": { name: "(anonymous_2)", decl: { start: { line: 29, column: 9 }, end: { line: 29, column: 10 } }, loc: { start: { line: 29, column: 18 }, end: { line: 29, column: 40 } }, line: 29 }, "3": { name: "(anonymous_3)", decl: { start: { line: 36, column: 72 }, end: { line: 36, column: 73 } }, loc: { start: { line: 36, column: 90 }, end: { line: 36, column: 110 } }, line: 36 }, "4": { name: "(anonymous_4)", decl: { start: { line: 43, column: 62 }, end: { line: 43, column: 63 } }, loc: { start: { line: 43, column: 80 }, end: { line: 43, column: 92 } }, line: 43 }, "5": { name: "(anonymous_5)", decl: { start: { line: 52, column: 62 }, end: { line: 52, column: 63 } }, loc: { start: { line: 52, column: 80 }, end: { line: 52, column: 138 } }, line: 52 } }, branchMap: { "0": { loc: { start: { line: 52, column: 80 }, end: { line: 52, column: 138 } }, type: "cond-expr", locations: [{ start: { line: 52, column: 107 }, end: { line: 52, column: 123 } }, { start: { line: 52, column: 126 }, end: { line: 52, column: 138 } }], line: 52 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0 }, b: { "0": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/trace/selectors/index.js"], names: ["trace", "index", "state", "proc", "finished", "steps", "info", "stepsRemaining", "length", "step", "next"], mappings: ";;;;;;AAAA;;AAEA,IAAIA,QAAQ,sCAAmB;AAC7B;;;;;AAKAC,SAAQC,KAAD,IAAWA,MAAMF,KAAN,CAAYG,IAAZ,CAAiBF,KANN;;AAQ7B;;;;;AAKAG,YAAWF,KAAD,IAAWA,MAAMF,KAAN,CAAYG,IAAZ,CAAiBC,QAbT;;AAe7B;;;;;AAKAC,SAAQH,KAAD,IAAWA,MAAMF,KAAN,CAAYM,IAAZ,CAAiBD,KApBN;;AAsB7B;;;;;AAKAE,kBAAgB,8BACd,CAAC,SAAD,EAAY,SAAZ,CADc,EACU,CAACF,KAAD,EAAQJ,KAAR,KAAkBI,MAAMG,MAAN,GAAeP,KAD3C,CA3Ba;;AA+B7B;;;;;AAKAQ,QAAM,8BACJ,CAAC,SAAD,EAAY,SAAZ,CADI,EACoB,CAACJ,KAAD,EAAQJ,KAAR,KAAkBI,MAAMJ,KAAN,CADtC,CApCuB;;AAwC7B;;;;;;;AAOAS,QAAM,8BACJ,CAAC,SAAD,EAAY,SAAZ,CADI,EACoB,CAACL,KAAD,EAAQJ,KAAR,KACtBA,QAAQI,MAAMG,MAAN,GAAe,CAAvB,GAA2BH,MAAMJ,QAAQ,CAAd,CAA3B,GAA8CI,MAAMJ,KAAN,CAF5C;AA/CuB,CAAnB,CAAZ;;kBAqDeD,K", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import { createSelectorTree, createLeaf } from \"reselect-tree\";\n\nlet trace = createSelectorTree({\n  /**\n   * trace.index\n   *\n   * current step index\n   */\n  index: (state) => state.trace.proc.index,\n\n  /**\n   * trace.finished\n   *\n   * is the trace finished?\n   */\n  finished: (state) => state.trace.proc.finished,\n\n  /**\n   * trace.steps\n   *\n   * all trace steps\n   */\n  steps: (state) => state.trace.info.steps,\n\n  /**\n   * trace.stepsRemaining\n   *\n   * number of steps remaining in trace\n   */\n  stepsRemaining: createLeaf(\n    [\"./steps\", \"./index\"], (steps, index) => steps.length - index\n  ),\n\n  /**\n   * trace.step\n   *\n   * current trace step\n   */\n  step: createLeaf(\n    [\"./steps\", \"./index\"], (steps, index) => steps[index]\n  ),\n\n  /**\n   * trace.next\n   *\n   * next trace step\n   * HACK: if at the end,\n   * we will return the *same* trace step\n   */\n  next: createLeaf(\n    [\"./steps\", \"./index\"], (steps, index) =>\n      index < steps.length - 1 ? steps[index + 1] : steps[index]\n  )\n});\n\nexport default trace;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_j8ygwqmex.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _reselectTree = (cov_j8ygwqmex.s[1]++, __webpack_require__(14));let trace = (cov_j8ygwqmex.s[2]++, (0, _reselectTree.createSelectorTree)({ index: state => {
    cov_j8ygwqmex.f[0]++;cov_j8ygwqmex.s[3]++;return state.trace.proc.index;
  }, finished: state => {
    cov_j8ygwqmex.f[1]++;cov_j8ygwqmex.s[4]++;return state.trace.proc.finished;
  }, steps: state => {
    cov_j8ygwqmex.f[2]++;cov_j8ygwqmex.s[5]++;return state.trace.info.steps;
  }, stepsRemaining: (0, _reselectTree.createLeaf)(["./steps", "./index"], (steps, index) => {
    cov_j8ygwqmex.f[3]++;cov_j8ygwqmex.s[6]++;return steps.length - index;
  }), step: (0, _reselectTree.createLeaf)(["./steps", "./index"], (steps, index) => {
    cov_j8ygwqmex.f[4]++;cov_j8ygwqmex.s[7]++;return steps[index];
  }), next: (0, _reselectTree.createLeaf)(["./steps", "./index"], (steps, index) => {
    cov_j8ygwqmex.f[5]++;cov_j8ygwqmex.s[8]++;return index < steps.length - 1 ? (cov_j8ygwqmex.b[0][0]++, steps[index + 1]) : (cov_j8ygwqmex.b[0][1]++, steps[index]);
  }) }));cov_j8ygwqmex.s[9]++;exports.default = trace;

/***/ }),
/* 12 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/core-js/object/assign");

/***/ }),
/* 13 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/helpers/extends");

/***/ }),
/* 14 */
/***/ (function(module, exports) {

module.exports = require("reselect-tree");

/***/ }),
/* 15 */
/***/ (function(module, exports) {

module.exports = require("redux-saga/effects");

/***/ }),
/* 16 */
/***/ (function(module, exports) {

module.exports = require("redux");

/***/ }),
/* 17 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/core-js/object/keys");

/***/ }),
/* 18 */
/***/ (function(module, exports) {

module.exports = require("bn.js");

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_2o0ye68xt7 = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/ast/selectors/index.js",
      hash = "d64d16994fa3701261fdb67da675fecb4915650e",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/ast/selectors/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 13 }, end: { line: 7, column: 29 } }, "2": { start: { line: 9, column: 14 }, end: { line: 9, column: 44 } }, "3": { start: { line: 11, column: 20 }, end: { line: 11, column: 44 } }, "4": { start: { line: 13, column: 19 }, end: { line: 13, column: 42 } }, "5": { start: { line: 15, column: 20 }, end: { line: 15, column: 56 } }, "6": { start: { line: 17, column: 17 }, end: { line: 17, column: 50 } }, "7": { start: { line: 19, column: 18 }, end: { line: 19, column: 52 } }, "8": { start: { line: 21, column: 11 }, end: { line: 21, column: 28 } }, "9": { start: { line: 23, column: 39 }, end: { line: 23, column: 93 } }, "10": { start: { line: 25, column: 14 }, end: { line: 25, column: 60 } }, "11": { start: { line: 30, column: 12 }, end: { line: 75, column: 2 } }, "12": { start: { line: 38, column: 90 }, end: { line: 38, column: 97 } }, "13": { start: { line: 51, column: 91 }, end: { line: 51, column: 94 } }, "14": { start: { line: 58, column: 91 }, end: { line: 58, column: 93 } }, "15": { start: { line: 65, column: 112 }, end: { line: 65, column: 163 } }, "16": { start: { line: 72, column: 83 }, end: { line: 72, column: 169 } }, "17": { start: { line: 77, column: 0 }, end: { line: 77, column: 22 } } }, fnMap: { "0": { name: "_interopRequireDefault", decl: { start: { line: 23, column: 9 }, end: { line: 23, column: 31 } }, loc: { start: { line: 23, column: 37 }, end: { line: 23, column: 95 } }, line: 23 }, "1": { name: "(anonymous_1)", decl: { start: { line: 38, column: 79 }, end: { line: 38, column: 80 } }, loc: { start: { line: 38, column: 90 }, end: { line: 38, column: 97 } }, line: 38 }, "2": { name: "(anonymous_2)", decl: { start: { line: 51, column: 78 }, end: { line: 51, column: 79 } }, loc: { start: { line: 51, column: 91 }, end: { line: 51, column: 94 } }, line: 51 }, "3": { name: "(anonymous_3)", decl: { start: { line: 58, column: 79 }, end: { line: 58, column: 80 } }, loc: { start: { line: 58, column: 91 }, end: { line: 58, column: 93 } }, line: 58 }, "4": { name: "(anonymous_4)", decl: { start: { line: 65, column: 96 }, end: { line: 65, column: 97 } }, loc: { start: { line: 65, column: 112 }, end: { line: 65, column: 163 } }, line: 65 }, "5": { name: "(anonymous_5)", decl: { start: { line: 72, column: 65 }, end: { line: 72, column: 66 } }, loc: { start: { line: 72, column: 83 }, end: { line: 72, column: 169 } }, line: 72 } }, branchMap: { "0": { loc: { start: { line: 23, column: 46 }, end: { line: 23, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 23, column: 70 }, end: { line: 23, column: 73 } }, { start: { line: 23, column: 76 }, end: { line: 23, column: 92 } }], line: 23 }, "1": { loc: { start: { line: 23, column: 46 }, end: { line: 23, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 23, column: 46 }, end: { line: 23, column: 49 } }, { start: { line: 23, column: 53 }, end: { line: 23, column: 67 } }], line: 23 }, "2": { loc: { start: { line: 72, column: 83 }, end: { line: 72, column: 169 } }, type: "cond-expr", locations: [{ start: { line: 72, column: 93 }, end: { line: 72, column: 132 } }, { start: { line: 72, column: 135 }, end: { line: 72, column: 169 } }], line: 72 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/ast/selectors/index.js"], names: ["debug", "ast", "views", "sources", "solidity", "info", "current", "tree", "source", "index", "id", "pointer", "sourceRange", "range", "start", "length", "node", "jsonpointer", "get"], mappings: ";;;;;;AAAA;;;;AAGA;;AACA;;;;AAEA;;;;AAEA;;;;AAPA,MAAMA,QAAQ,qBAAY,wBAAZ,CAAd;;AAUA;;;AAGA,MAAMC,MAAM,sCAAmB;AAC7B;;;AAGAC,SAAO;AACL;;;AAGAC,aAAS,8BAAW,CAACC,oBAASC,IAAT,CAAcF,OAAf,CAAX,EAAoCA,WAAWA,OAA/C;AAJJ,GAJsB;;AAW7B;;;AAGAG,WAAS;;AAEP;;;;;AAKAC,UAAM,8BACJ,CAACH,oBAASE,OAAT,CAAiBE,MAAlB,CADI,EACuB,CAAC,EAACP,GAAD,EAAD,KAAWA,GADlC,CAPC;;AAWP;;;;;AAKAQ,WAAO,8BACL,CAACL,oBAASE,OAAT,CAAiBE,MAAlB,CADK,EACsB,CAAC,EAACE,EAAD,EAAD,KAAUA,EADhC,CAhBA;;AAoBP;;;;;AAKAC,aAAS,8BACP,CAAC,QAAD,EAAWP,oBAASE,OAAT,CAAiBM,WAA5B,CADO,EAGP,CAACX,GAAD,EAAMY,KAAN,KAAgB,oBAAUZ,GAAV,EAAeY,MAAMC,KAArB,EAA4BD,MAAME,MAAlC,CAHT,CAzBF;;AA+BP;;;;;AAKAC,UAAM,8BACJ,CAAC,QAAD,EAAW,WAAX,CADI,EACqB,CAACf,GAAD,EAAMU,OAAN,KACtBA,OAAD,GACIM,sBAAYC,GAAZ,CAAgBjB,GAAhB,EAAqBU,OAArB,CADJ,GAEIM,sBAAYC,GAAZ,CAAgBjB,GAAhB,EAAqB,EAArB,CAJF;;AApCC;AAdoB,CAAnB,CAAZ;;kBA4DeA,G", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:ast:selectors\");\n\nimport { createSelectorTree, createLeaf } from \"reselect-tree\";\nimport jsonpointer from \"json-pointer\";\n\nimport solidity from \"lib/solidity/selectors\";\n\nimport { findRange } from \"../map\";\n\n\n/**\n * ast\n */\nconst ast = createSelectorTree({\n  /**\n   * ast.views\n   */\n  views: {\n    /**\n     * ast.views.sources\n     */\n    sources: createLeaf([solidity.info.sources], sources => sources)\n  },\n\n  /**\n   * ast.current\n   */\n  current: {\n\n    /**\n     * ast.current.tree\n     *\n     * ast for current source\n     */\n    tree: createLeaf(\n      [solidity.current.source], ({ast}) => ast\n    ),\n\n    /**\n     * ast.current.index\n     *\n     * source ID\n     */\n    index: createLeaf(\n      [solidity.current.source], ({id}) => id\n    ),\n\n    /**\n     * ast.current.pointer\n     *\n     * jsonpointer for current ast node\n     */\n    pointer: createLeaf(\n      [\"./tree\", solidity.current.sourceRange],\n\n      (ast, range) => findRange(ast, range.start, range.length)\n    ),\n\n    /**\n     * ast.current.node\n     *\n     * current ast node to execute\n     */\n    node: createLeaf(\n      [\"./tree\", \"./pointer\"], (ast, pointer) =>\n        (pointer)\n          ? jsonpointer.get(ast, pointer)\n          : jsonpointer.get(ast, \"\")\n    ),\n\n  }\n});\n\nexport default ast;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_2o0ye68xt7.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _debug = (cov_2o0ye68xt7.s[1]++, __webpack_require__(0));var _debug2 = (cov_2o0ye68xt7.s[2]++, _interopRequireDefault(_debug));var _reselectTree = (cov_2o0ye68xt7.s[3]++, __webpack_require__(14));var _jsonPointer = (cov_2o0ye68xt7.s[4]++, __webpack_require__(29));var _jsonPointer2 = (cov_2o0ye68xt7.s[5]++, _interopRequireDefault(_jsonPointer));var _selectors = (cov_2o0ye68xt7.s[6]++, __webpack_require__(2));var _selectors2 = (cov_2o0ye68xt7.s[7]++, _interopRequireDefault(_selectors));var _map = (cov_2o0ye68xt7.s[8]++, __webpack_require__(30));function _interopRequireDefault(obj) {
  cov_2o0ye68xt7.f[0]++;cov_2o0ye68xt7.s[9]++;return (cov_2o0ye68xt7.b[1][0]++, obj) && (cov_2o0ye68xt7.b[1][1]++, obj.__esModule) ? (cov_2o0ye68xt7.b[0][0]++, obj) : (cov_2o0ye68xt7.b[0][1]++, { default: obj });
}const debug = (cov_2o0ye68xt7.s[10]++, (0, _debug2.default)("debugger:ast:selectors"));const ast = (cov_2o0ye68xt7.s[11]++, (0, _reselectTree.createSelectorTree)({ views: { sources: (0, _reselectTree.createLeaf)([_selectors2.default.info.sources], sources => {
      cov_2o0ye68xt7.f[1]++;cov_2o0ye68xt7.s[12]++;return sources;
    }) }, current: { tree: (0, _reselectTree.createLeaf)([_selectors2.default.current.source], ({ ast }) => {
      cov_2o0ye68xt7.f[2]++;cov_2o0ye68xt7.s[13]++;return ast;
    }), index: (0, _reselectTree.createLeaf)([_selectors2.default.current.source], ({ id }) => {
      cov_2o0ye68xt7.f[3]++;cov_2o0ye68xt7.s[14]++;return id;
    }), pointer: (0, _reselectTree.createLeaf)(["./tree", _selectors2.default.current.sourceRange], (ast, range) => {
      cov_2o0ye68xt7.f[4]++;cov_2o0ye68xt7.s[15]++;return (0, _map.findRange)(ast, range.start, range.length);
    }), node: (0, _reselectTree.createLeaf)(["./tree", "./pointer"], (ast, pointer) => {
      cov_2o0ye68xt7.f[5]++;cov_2o0ye68xt7.s[16]++;return pointer ? (cov_2o0ye68xt7.b[2][0]++, _jsonPointer2.default.get(ast, pointer)) : (cov_2o0ye68xt7.b[2][1]++, _jsonPointer2.default.get(ast, ""));
    }) } }));cov_2o0ye68xt7.s[17]++;exports.default = ast;

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_abd8euik2 = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/trace/actions/index.js",
      hash = "a24f1040e4c950e7240bded8df262ad62de237a4",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/trace/actions/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 30 } }, "2": { start: { line: 7, column: 0 }, end: { line: 7, column: 44 } }, "3": { start: { line: 8, column: 0 }, end: { line: 8, column: 20 } }, "4": { start: { line: 9, column: 0 }, end: { line: 9, column: 20 } }, "5": { start: { line: 10, column: 0 }, end: { line: 10, column: 20 } }, "6": { start: { line: 11, column: 0 }, end: { line: 11, column: 28 } }, "7": { start: { line: 12, column: 0 }, end: { line: 12, column: 22 } }, "8": { start: { line: 13, column: 0 }, end: { line: 13, column: 26 } }, "9": { start: { line: 14, column: 19 }, end: { line: 14, column: 52 } }, "10": { start: { line: 16, column: 2 }, end: { line: 19, column: 4 } }, "11": { start: { line: 22, column: 26 }, end: { line: 22, column: 73 } }, "12": { start: { line: 24, column: 2 }, end: { line: 27, column: 4 } }, "13": { start: { line: 30, column: 13 }, end: { line: 30, column: 34 } }, "14": { start: { line: 32, column: 2 }, end: { line: 32, column: 24 } }, "15": { start: { line: 35, column: 13 }, end: { line: 35, column: 34 } }, "16": { start: { line: 37, column: 2 }, end: { line: 37, column: 24 } }, "17": { start: { line: 40, column: 13 }, end: { line: 40, column: 34 } }, "18": { start: { line: 42, column: 2 }, end: { line: 42, column: 24 } }, "19": { start: { line: 45, column: 21 }, end: { line: 45, column: 49 } }, "20": { start: { line: 47, column: 2 }, end: { line: 47, column: 32 } }, "21": { start: { line: 50, column: 14 }, end: { line: 50, column: 43 } }, "22": { start: { line: 52, column: 2 }, end: { line: 52, column: 25 } }, "23": { start: { line: 55, column: 16 }, end: { line: 55, column: 43 } }, "24": { start: { line: 57, column: 2 }, end: { line: 57, column: 27 } } }, fnMap: { "0": { name: "saveSteps", decl: { start: { line: 15, column: 9 }, end: { line: 15, column: 18 } }, loc: { start: { line: 15, column: 26 }, end: { line: 20, column: 1 } }, line: 15 }, "1": { name: "receiveAddresses", decl: { start: { line: 23, column: 9 }, end: { line: 23, column: 25 } }, loc: { start: { line: 23, column: 37 }, end: { line: 28, column: 1 } }, line: 23 }, "2": { name: "next", decl: { start: { line: 31, column: 9 }, end: { line: 31, column: 13 } }, loc: { start: { line: 31, column: 16 }, end: { line: 33, column: 1 } }, line: 31 }, "3": { name: "tick", decl: { start: { line: 36, column: 9 }, end: { line: 36, column: 13 } }, loc: { start: { line: 36, column: 16 }, end: { line: 38, column: 1 } }, line: 36 }, "4": { name: "tock", decl: { start: { line: 41, column: 9 }, end: { line: 41, column: 13 } }, loc: { start: { line: 41, column: 16 }, end: { line: 43, column: 1 } }, line: 41 }, "5": { name: "endTrace", decl: { start: { line: 46, column: 9 }, end: { line: 46, column: 17 } }, loc: { start: { line: 46, column: 20 }, end: { line: 48, column: 1 } }, line: 46 }, "6": { name: "reset", decl: { start: { line: 51, column: 9 }, end: { line: 51, column: 14 } }, loc: { start: { line: 51, column: 17 }, end: { line: 53, column: 1 } }, line: 51 }, "7": { name: "subtock", decl: { start: { line: 56, column: 9 }, end: { line: 56, column: 16 } }, loc: { start: { line: 56, column: 19 }, end: { line: 58, column: 1 } }, line: 56 } }, branchMap: {}, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0 }, b: {}, inputSourceMap: { version: 3, sources: ["lib/trace/actions/index.js"], names: ["saveSteps", "receiveAddresses", "next", "tick", "tock", "endTrace", "reset", "subtock", "SAVE_STEPS", "steps", "type", "RECEIVE_ADDRESSES", "addresses", "NEXT", "TICK", "TOCK", "END_OF_TRACE", "RESET", "SUBTOCK"], mappings: ";;;;;QACgBA,S,GAAAA,S;QAQAC,gB,GAAAA,gB;QAQAC,I,GAAAA,I;QAKAC,I,GAAAA,I;QAKAC,I,GAAAA,I;QAKAC,Q,GAAAA,Q;QAKAC,K,GAAAA,K;QAKAC,O,GAAAA,O;AA1CT,MAAMC,kCAAa,YAAnB;AACA,SAASR,SAAT,CAAmBS,KAAnB,EAA0B;AAC/B,SAAO;AACLC,UAAMF,UADD;AAELC;AAFK,GAAP;AAID;;AAEM,MAAME,gDAAoB,mBAA1B;AACA,SAASV,gBAAT,CAA0BW,SAA1B,EAAqC;AAC1C,SAAO;AACLF,UAAMC,iBADD;AAELC;AAFK,GAAP;AAID;;AAEM,MAAMC,sBAAO,MAAb;AACA,SAASX,IAAT,GAAgB;AACrB,SAAO,EAAEQ,MAAMG,IAAR,EAAP;AACD;;AAEM,MAAMC,sBAAO,MAAb;AACA,SAASX,IAAT,GAAgB;AACrB,SAAO,EAAEO,MAAMI,IAAR,EAAP;AACD;;AAEM,MAAMC,sBAAO,MAAb;AACA,SAASX,IAAT,GAAgB;AACrB,SAAO,EAAEM,MAAMK,IAAR,EAAP;AACD;;AAEM,MAAMC,sCAAe,KAArB;AACA,SAASX,QAAT,GAAoB;AACzB,SAAO,EAAEK,MAAMM,YAAR,EAAP;AACD;;AAEM,MAAMC,wBAAQ,aAAd;AACA,SAASX,KAAT,GAAiB;AACtB,SAAO,EAAEI,MAAMO,KAAR,EAAP;AACD;;AAEM,MAAMC,4BAAU,SAAhB;AACA,SAASX,OAAT,GAAmB;AACxB,SAAO,EAAEG,MAAMQ,OAAR,EAAP;AACD", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["export const SAVE_STEPS = \"SAVE_STEPS\";\nexport function saveSteps(steps) {\n  return {\n    type: SAVE_STEPS,\n    steps\n  };\n}\n\nexport const RECEIVE_ADDRESSES = \"RECEIVE_ADDRESSES\";\nexport function receiveAddresses(addresses) {\n  return {\n    type: RECEIVE_ADDRESSES,\n    addresses\n  };\n}\n\nexport const NEXT = \"NEXT\";\nexport function next() {\n  return { type: NEXT };\n}\n\nexport const TICK = \"TICK\";\nexport function tick() {\n  return { type: TICK };\n}\n\nexport const TOCK = \"TOCK\";\nexport function tock() {\n  return { type: TOCK };\n}\n\nexport const END_OF_TRACE = \"EOT\";\nexport function endTrace() {\n  return { type: END_OF_TRACE };\n}\n\nexport const RESET = \"TRACE_RESET\";\nexport function reset() {\n  return { type: RESET };\n}\n\nexport const SUBTOCK = \"SUBTOCK\";\nexport function subtock() {\n  return { type: SUBTOCK };\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_abd8euik2.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_abd8euik2.s[1]++;exports.saveSteps = saveSteps;cov_abd8euik2.s[2]++;exports.receiveAddresses = receiveAddresses;cov_abd8euik2.s[3]++;exports.next = next;cov_abd8euik2.s[4]++;exports.tick = tick;cov_abd8euik2.s[5]++;exports.tock = tock;cov_abd8euik2.s[6]++;exports.endTrace = endTrace;cov_abd8euik2.s[7]++;exports.reset = reset;cov_abd8euik2.s[8]++;exports.subtock = subtock;const SAVE_STEPS = (cov_abd8euik2.s[9]++, exports.SAVE_STEPS = "SAVE_STEPS");function saveSteps(steps) {
  cov_abd8euik2.f[0]++;cov_abd8euik2.s[10]++;return { type: SAVE_STEPS, steps };
}const RECEIVE_ADDRESSES = (cov_abd8euik2.s[11]++, exports.RECEIVE_ADDRESSES = "RECEIVE_ADDRESSES");function receiveAddresses(addresses) {
  cov_abd8euik2.f[1]++;cov_abd8euik2.s[12]++;return { type: RECEIVE_ADDRESSES, addresses };
}const NEXT = (cov_abd8euik2.s[13]++, exports.NEXT = "NEXT");function next() {
  cov_abd8euik2.f[2]++;cov_abd8euik2.s[14]++;return { type: NEXT };
}const TICK = (cov_abd8euik2.s[15]++, exports.TICK = "TICK");function tick() {
  cov_abd8euik2.f[3]++;cov_abd8euik2.s[16]++;return { type: TICK };
}const TOCK = (cov_abd8euik2.s[17]++, exports.TOCK = "TOCK");function tock() {
  cov_abd8euik2.f[4]++;cov_abd8euik2.s[18]++;return { type: TOCK };
}const END_OF_TRACE = (cov_abd8euik2.s[19]++, exports.END_OF_TRACE = "EOT");function endTrace() {
  cov_abd8euik2.f[5]++;cov_abd8euik2.s[20]++;return { type: END_OF_TRACE };
}const RESET = (cov_abd8euik2.s[21]++, exports.RESET = "TRACE_RESET");function reset() {
  cov_abd8euik2.f[6]++;cov_abd8euik2.s[22]++;return { type: RESET };
}const SUBTOCK = (cov_abd8euik2.s[23]++, exports.SUBTOCK = "SUBTOCK");function subtock() {
  cov_abd8euik2.f[7]++;cov_abd8euik2.s[24]++;return { type: SUBTOCK };
}

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_1yv2hwn7tg = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/trace/sagas/index.js",
      hash = "f193f55a5a57822734864b3346e76b4c6f0fb586",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/trace/sagas/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 11 }, end: { line: 7, column: 47 } }, "2": { start: { line: 9, column: 12 }, end: { line: 9, column: 40 } }, "3": { start: { line: 11, column: 0 }, end: { line: 11, column: 26 } }, "4": { start: { line: 12, column: 0 }, end: { line: 12, column: 60 } }, "5": { start: { line: 13, column: 0 }, end: { line: 13, column: 36 } }, "6": { start: { line: 14, column: 0 }, end: { line: 14, column: 22 } }, "7": { start: { line: 15, column: 0 }, end: { line: 15, column: 20 } }, "8": { start: { line: 17, column: 13 }, end: { line: 17, column: 29 } }, "9": { start: { line: 19, column: 14 }, end: { line: 19, column: 44 } }, "10": { start: { line: 21, column: 15 }, end: { line: 21, column: 44 } }, "11": { start: { line: 23, column: 15 }, end: { line: 23, column: 37 } }, "12": { start: { line: 25, column: 26 }, end: { line: 25, column: 57 } }, "13": { start: { line: 27, column: 18 }, end: { line: 27, column: 62 } }, "14": { start: { line: 29, column: 15 }, end: { line: 29, column: 36 } }, "15": { start: { line: 31, column: 14 }, end: { line: 31, column: 47 } }, "16": { start: { line: 33, column: 17 }, end: { line: 33, column: 40 } }, "17": { start: { line: 35, column: 18 }, end: { line: 35, column: 52 } }, "18": { start: { line: 37, column: 40 }, end: { line: 37, column: 267 } }, "19": { start: { line: 37, column: 69 }, end: { line: 37, column: 80 } }, "20": { start: { line: 37, column: 103 }, end: { line: 37, column: 105 } }, "21": { start: { line: 37, column: 107 }, end: { line: 37, column: 228 } }, "22": { start: { line: 37, column: 126 }, end: { line: 37, column: 226 } }, "23": { start: { line: 37, column: 149 }, end: { line: 37, column: 224 } }, "24": { start: { line: 37, column: 201 }, end: { line: 37, column: 224 } }, "25": { start: { line: 37, column: 229 }, end: { line: 37, column: 250 } }, "26": { start: { line: 37, column: 251 }, end: { line: 37, column: 265 } }, "27": { start: { line: 39, column: 39 }, end: { line: 39, column: 93 } }, "28": { start: { line: 41, column: 14 }, end: { line: 41, column: 58 } }, "29": { start: { line: 44, column: 18 }, end: { line: 44, column: 62 } }, "30": { start: { line: 46, column: 18 }, end: { line: 46, column: 178 } }, "31": { start: { line: 46, column: 65 }, end: { line: 46, column: 97 } }, "32": { start: { line: 46, column: 118 }, end: { line: 46, column: 175 } }, "33": { start: { line: 48, column: 2 }, end: { line: 48, column: 63 } }, "34": { start: { line: 52, column: 2 }, end: { line: 52, column: 42 } }, "35": { start: { line: 54, column: 2 }, end: { line: 54, column: 24 } }, "36": { start: { line: 55, column: 2 }, end: { line: 55, column: 65 } }, "37": { start: { line: 56, column: 2 }, end: { line: 56, column: 22 } }, "38": { start: { line: 59, column: 24 }, end: { line: 59, column: 25 } }, "39": { start: { line: 62, column: 18 }, end: { line: 62, column: 80 } }, "40": { start: { line: 63, column: 2 }, end: { line: 63, column: 36 } }, "41": { start: { line: 64, column: 14 }, end: { line: 64, column: 67 } }, "42": { start: { line: 65, column: 2 }, end: { line: 65, column: 41 } }, "43": { start: { line: 66, column: 29 }, end: { line: 66, column: 30 } }, "44": { start: { line: 68, column: 2 }, end: { line: 83, column: 3 } }, "45": { start: { line: 69, column: 4 }, end: { line: 69, column: 26 } }, "46": { start: { line: 71, column: 4 }, end: { line: 71, column: 43 } }, "47": { start: { line: 72, column: 4 }, end: { line: 72, column: 44 } }, "48": { start: { line: 73, column: 4 }, end: { line: 73, column: 22 } }, "49": { start: { line: 76, column: 4 }, end: { line: 80, column: 5 } }, "50": { start: { line: 77, column: 6 }, end: { line: 77, column: 48 } }, "51": { start: { line: 78, column: 6 }, end: { line: 78, column: 27 } }, "52": { start: { line: 79, column: 6 }, end: { line: 79, column: 29 } }, "53": { start: { line: 82, column: 4 }, end: { line: 82, column: 16 } }, "54": { start: { line: 85, column: 2 }, end: { line: 94, column: 3 } }, "55": { start: { line: 86, column: 4 }, end: { line: 86, column: 26 } }, "56": { start: { line: 88, column: 4 }, end: { line: 88, column: 44 } }, "57": { start: { line: 89, column: 4 }, end: { line: 89, column: 22 } }, "58": { start: { line: 91, column: 4 }, end: { line: 91, column: 34 } }, "59": { start: { line: 92, column: 4 }, end: { line: 92, column: 48 } }, "60": { start: { line: 93, column: 4 }, end: { line: 93, column: 30 } }, "61": { start: { line: 98, column: 2 }, end: { line: 98, column: 45 } }, "62": { start: { line: 102, column: 2 }, end: { line: 102, column: 52 } }, "63": { start: { line: 104, column: 22 }, end: { line: 104, column: 73 } }, "64": { start: { line: 105, column: 2 }, end: { line: 105, column: 30 } }, "65": { start: { line: 107, column: 2 }, end: { line: 107, column: 19 } }, "66": { start: { line: 111, column: 2 }, end: { line: 111, column: 43 } }, "67": { start: { line: 116, column: 2 }, end: { line: 116, column: 24 } }, "68": { start: { line: 118, column: 2 }, end: { line: 118, column: 52 } }, "69": { start: { line: 121, column: 0 }, end: { line: 121, column: 58 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 37, column: 9 }, end: { line: 37, column: 32 } }, loc: { start: { line: 37, column: 38 }, end: { line: 37, column: 269 } }, line: 37 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 39, column: 9 }, end: { line: 39, column: 31 } }, loc: { start: { line: 39, column: 37 }, end: { line: 39, column: 95 } }, line: 39 }, "2": { name: "waitForTrace", decl: { start: { line: 43, column: 10 }, end: { line: 43, column: 22 } }, loc: { start: { line: 43, column: 25 }, end: { line: 49, column: 1 } }, line: 43 }, "3": { name: "(anonymous_3)", decl: { start: { line: 46, column: 53 }, end: { line: 46, column: 54 } }, loc: { start: { line: 46, column: 65 }, end: { line: 46, column: 97 } }, line: 46 }, "4": { name: "(anonymous_4)", decl: { start: { line: 46, column: 103 }, end: { line: 46, column: 104 } }, loc: { start: { line: 46, column: 118 }, end: { line: 46, column: 175 } }, line: 46 }, "5": { name: "advance", decl: { start: { line: 51, column: 10 }, end: { line: 51, column: 17 } }, loc: { start: { line: 51, column: 20 }, end: { line: 57, column: 1 } }, line: 51 }, "6": { name: "next", decl: { start: { line: 61, column: 10 }, end: { line: 61, column: 14 } }, loc: { start: { line: 61, column: 17 }, end: { line: 95, column: 1 } }, line: 61 }, "7": { name: "signalTickSagaCompletion", decl: { start: { line: 97, column: 10 }, end: { line: 97, column: 34 } }, loc: { start: { line: 97, column: 37 }, end: { line: 99, column: 1 } }, line: 97 }, "8": { name: "processTrace", decl: { start: { line: 101, column: 10 }, end: { line: 101, column: 22 } }, loc: { start: { line: 101, column: 30 }, end: { line: 108, column: 1 } }, line: 101 }, "9": { name: "reset", decl: { start: { line: 110, column: 10 }, end: { line: 110, column: 15 } }, loc: { start: { line: 110, column: 18 }, end: { line: 112, column: 1 } }, line: 110 }, "10": { name: "saga", decl: { start: { line: 114, column: 10 }, end: { line: 114, column: 14 } }, loc: { start: { line: 114, column: 17 }, end: { line: 119, column: 1 } }, line: 114 } }, branchMap: { "0": { loc: { start: { line: 37, column: 40 }, end: { line: 37, column: 267 } }, type: "if", locations: [{ start: { line: 37, column: 40 }, end: { line: 37, column: 267 } }, { start: { line: 37, column: 40 }, end: { line: 37, column: 267 } }], line: 37 }, "1": { loc: { start: { line: 37, column: 44 }, end: { line: 37, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 37, column: 44 }, end: { line: 37, column: 47 } }, { start: { line: 37, column: 51 }, end: { line: 37, column: 65 } }], line: 37 }, "2": { loc: { start: { line: 37, column: 107 }, end: { line: 37, column: 228 } }, type: "if", locations: [{ start: { line: 37, column: 107 }, end: { line: 37, column: 228 } }, { start: { line: 37, column: 107 }, end: { line: 37, column: 228 } }], line: 37 }, "3": { loc: { start: { line: 37, column: 149 }, end: { line: 37, column: 224 } }, type: "if", locations: [{ start: { line: 37, column: 149 }, end: { line: 37, column: 224 } }, { start: { line: 37, column: 149 }, end: { line: 37, column: 224 } }], line: 37 }, "4": { loc: { start: { line: 39, column: 46 }, end: { line: 39, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 39, column: 70 }, end: { line: 39, column: 73 } }, { start: { line: 39, column: 76 }, end: { line: 39, column: 92 } }], line: 39 }, "5": { loc: { start: { line: 39, column: 46 }, end: { line: 39, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 39, column: 46 }, end: { line: 39, column: 49 } }, { start: { line: 39, column: 53 }, end: { line: 39, column: 67 } }], line: 39 }, "6": { loc: { start: { line: 68, column: 2 }, end: { line: 83, column: 3 } }, type: "if", locations: [{ start: { line: 68, column: 2 }, end: { line: 83, column: 3 } }, { start: { line: 68, column: 2 }, end: { line: 83, column: 3 } }], line: 68 }, "7": { loc: { start: { line: 85, column: 2 }, end: { line: 94, column: 3 } }, type: "if", locations: [{ start: { line: 85, column: 2 }, end: { line: 94, column: 3 } }, { start: { line: 85, column: 2 }, end: { line: 94, column: 3 } }], line: 85 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0, "49": 0, "50": 0, "51": 0, "52": 0, "53": 0, "54": 0, "55": 0, "56": 0, "57": 0, "58": 0, "59": 0, "60": 0, "61": 0, "62": 0, "63": 0, "64": 0, "65": 0, "66": 0, "67": 0, "68": 0, "69": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0, 0], "7": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/trace/sagas/index.js"], names: ["advance", "signalTickSagaCompletion", "processTrace", "reset", "saga", "DecodeUtils", "actions", "debug", "waitForTrace", "steps", "SAVE_STEPS", "addresses", "filter", "op", "map", "stack", "Conversion", "toAddress", "length", "receiveAddresses", "next", "TOCK", "END_OF_TRACE", "SUBMODULE_COUNT", "remaining", "trace", "stepsRemaining", "waitingForSubmodules", "tick", "SUBTOCK", "tock", "endTrace", "subtock", "saveSteps", "RECEIVE_ADDRESSES", "NEXT"], mappings: ";;;;;;;;;;QA4BiBA,O,GAAAA,O;QA8CAC,wB,GAAAA,wB;QAIAC,Y,GAAAA,Y;QASAC,K,GAAAA,K;QAIAC,I,GAAAA,I;;AA3FjB;;;;AAGA;;AACA;;AAEA;;IAAYC,W;;AAEZ;;IAAYC,O;;AAEZ;;;;;;;;AATA,MAAMC,QAAQ,qBAAY,sBAAZ,CAAd;;AAWA,UAAUC,YAAV,GAAyB;AACvB,MAAI,EAAEC,KAAF,KAAY,MAAM,mBAAKH,QAAQI,UAAb,CAAtB;;AAEA,MAAIC,YAAY,CACd,GAAG,kBACDF,MACGG,MADH,CACU,CAAC,EAAEC,EAAF,EAAD,KAAY,6BAAeA,EAAf,CADtB,EAEGC,GAFH,CAEO,CAAC,EAAEC,KAAF,EAAD,KACHV,YAAYW,UAAZ,CAAuBC,SAAvB,CAAiCF,MAAMA,MAAMG,MAAN,GAAe,CAArB,CAAjC,CAHJ,CADC,CADW,CAAhB;;AAUA,QAAM,kBAAIZ,QAAQa,gBAAR,CAAyBR,SAAzB,CAAJ,CAAN;AACD;;AAEM,UAAUX,OAAV,GAAoB;AACzB,QAAM,kBAAIM,QAAQc,IAAR,EAAJ,CAAN;;AAEAb,QAAM,cAAN;AACA,QAAM,mBAAK,CAACD,QAAQe,IAAT,EAAef,QAAQgB,YAAvB,CAAL,CAAN;AACAf,QAAM,YAAN;AACD;;AAED,MAAMgB,kBAAkB,CAAxB,C,CAA2B;;AAE3B,UAAUH,IAAV,GAAiB;AACf,MAAII,YAAY,MAAM,qBAAOC,oBAAMC,cAAb,CAAtB;AACAnB,QAAM,eAAN,EAAuBiB,SAAvB;AACA,MAAIf,QAAQ,MAAM,qBAAOgB,oBAAMhB,KAAb,CAAlB;AACAF,QAAM,iBAAN,EAAyBE,MAAMS,MAA/B;AACA,MAAIS,uBAAuB,CAA3B;;AAEA,MAAIH,YAAY,CAAhB,EAAmB;AACjBjB,UAAM,cAAN;AACA;AACAoB,2BAAuBJ,eAAvB;AACA,UAAM,kBAAIjB,QAAQsB,IAAR,EAAJ,CAAN;AACArB,UAAM,UAAN;;AAEA;AACA,WAAOoB,uBAAuB,CAA9B,EAAiC;AAC/B,YAAM,mBAAKrB,QAAQuB,OAAb,CAAN;AACAtB,YAAM,aAAN;AACAoB;AACD;;AAEDH,gBAdiB,CAcJ;AACd;;AAED,MAAIA,SAAJ,EAAe;AACbjB,UAAM,cAAN;AACA;AACA,UAAM,kBAAID,QAAQwB,IAAR,EAAJ,CAAN;AACAvB,UAAM,UAAN;AACD,GALD,MAKO;AACLA,UAAM,sBAAN;AACA,UAAM,kBAAID,QAAQyB,QAAR,EAAJ,CAAN;AACAxB,UAAM,kBAAN;AACD;AACF;;AAEM,UAAUN,wBAAV,GAAqC;AAC1C,QAAM,kBAAIK,QAAQ0B,OAAR,EAAJ,CAAN;AACD;;AAEM,UAAU9B,YAAV,CAAuBuB,KAAvB,EAA8B;AACnC,QAAM,kBAAInB,QAAQ2B,SAAR,CAAkBR,KAAlB,CAAJ,CAAN;;AAEA,MAAI,EAAEd,SAAF,KAAgB,MAAM,mBAAKL,QAAQ4B,iBAAb,CAA1B;AACA3B,QAAM,oBAAN;;AAEA,SAAOI,SAAP;AACD;;AAEM,UAAUR,KAAV,GAAkB;AACvB,QAAM,kBAAIG,QAAQH,KAAR,EAAJ,CAAN;AACD;;AAEM,UAAUC,IAAV,GAAiB;AACtB;AACA,SAAOI,cAAP;;AAEA,QAAM,wBAAUF,QAAQ6B,IAAlB,EAAwBf,IAAxB,CAAN;AACD;;kBAEc,yBAAW,OAAX,EAAoBhB,IAApB,C", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:trace:sagas\");\n\nimport { take, takeEvery, put, select } from \"redux-saga/effects\";\nimport { prefixName, isCallMnemonic } from \"lib/helpers\";\n\nimport * as DecodeUtils from \"truffle-decode-utils\";\n\nimport * as actions from \"../actions\";\n\nimport trace from \"../selectors\";\n\nfunction* waitForTrace() {\n  let { steps } = yield take(actions.SAVE_STEPS);\n\n  let addresses = [\n    ...new Set(\n      steps\n        .filter(({ op }) => isCallMnemonic(op))\n        .map(({ stack }) =>\n          DecodeUtils.Conversion.toAddress(stack[stack.length - 2])\n        )\n    )\n  ];\n\n  yield put(actions.receiveAddresses(addresses));\n}\n\nexport function* advance() {\n  yield put(actions.next());\n\n  debug(\"TOCK to take\");\n  yield take([actions.TOCK, actions.END_OF_TRACE]);\n  debug(\"TOCK taken\");\n}\n\nconst SUBMODULE_COUNT = 3; //data, evm, solidity\n\nfunction* next() {\n  let remaining = yield select(trace.stepsRemaining);\n  debug(\"remaining: %o\", remaining);\n  let steps = yield select(trace.steps);\n  debug(\"total steps: %o\", steps.length);\n  let waitingForSubmodules = 0;\n\n  if (remaining > 0) {\n    debug(\"putting TICK\");\n    // updates state for current step\n    waitingForSubmodules = SUBMODULE_COUNT;\n    yield put(actions.tick());\n    debug(\"put TICK\");\n\n    //wait for all subtocks before continuing\n    while (waitingForSubmodules > 0) {\n      yield take(actions.SUBTOCK);\n      debug(\"got SUBTOCK\");\n      waitingForSubmodules--;\n    }\n\n    remaining--; // local update, just for convenience\n  }\n\n  if (remaining) {\n    debug(\"putting TOCK\");\n    // updates step to next step in trace\n    yield put(actions.tock());\n    debug(\"put TOCK\");\n  } else {\n    debug(\"putting END_OF_TRACE\");\n    yield put(actions.endTrace());\n    debug(\"put END_OF_TRACE\");\n  }\n}\n\nexport function* signalTickSagaCompletion() {\n  yield put(actions.subtock());\n}\n\nexport function* processTrace(trace) {\n  yield put(actions.saveSteps(trace));\n\n  let { addresses } = yield take(actions.RECEIVE_ADDRESSES);\n  debug(\"received addresses\");\n\n  return addresses;\n}\n\nexport function* reset() {\n  yield put(actions.reset());\n}\n\nexport function* saga() {\n  // wait for trace to be defined\n  yield* waitForTrace();\n\n  yield takeEvery(actions.NEXT, next);\n}\n\nexport default prefixName(\"trace\", saga);\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_1yv2hwn7tg.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _set = (cov_1yv2hwn7tg.s[1]++, __webpack_require__(27));var _set2 = (cov_1yv2hwn7tg.s[2]++, _interopRequireDefault(_set));cov_1yv2hwn7tg.s[3]++;exports.advance = advance;cov_1yv2hwn7tg.s[4]++;exports.signalTickSagaCompletion = signalTickSagaCompletion;cov_1yv2hwn7tg.s[5]++;exports.processTrace = processTrace;cov_1yv2hwn7tg.s[6]++;exports.reset = reset;cov_1yv2hwn7tg.s[7]++;exports.saga = saga;var _debug = (cov_1yv2hwn7tg.s[8]++, __webpack_require__(0));var _debug2 = (cov_1yv2hwn7tg.s[9]++, _interopRequireDefault(_debug));var _effects = (cov_1yv2hwn7tg.s[10]++, __webpack_require__(15));var _helpers = (cov_1yv2hwn7tg.s[11]++, __webpack_require__(3));var _truffleDecodeUtils = (cov_1yv2hwn7tg.s[12]++, __webpack_require__(6));var DecodeUtils = (cov_1yv2hwn7tg.s[13]++, _interopRequireWildcard(_truffleDecodeUtils));var _actions = (cov_1yv2hwn7tg.s[14]++, __webpack_require__(20));var actions = (cov_1yv2hwn7tg.s[15]++, _interopRequireWildcard(_actions));var _selectors = (cov_1yv2hwn7tg.s[16]++, __webpack_require__(11));var _selectors2 = (cov_1yv2hwn7tg.s[17]++, _interopRequireDefault(_selectors));function _interopRequireWildcard(obj) {
  cov_1yv2hwn7tg.f[0]++;cov_1yv2hwn7tg.s[18]++;if ((cov_1yv2hwn7tg.b[1][0]++, obj) && (cov_1yv2hwn7tg.b[1][1]++, obj.__esModule)) {
    cov_1yv2hwn7tg.b[0][0]++;cov_1yv2hwn7tg.s[19]++;return obj;
  } else {
    cov_1yv2hwn7tg.b[0][1]++;var newObj = (cov_1yv2hwn7tg.s[20]++, {});cov_1yv2hwn7tg.s[21]++;if (obj != null) {
      cov_1yv2hwn7tg.b[2][0]++;cov_1yv2hwn7tg.s[22]++;for (var key in obj) {
        cov_1yv2hwn7tg.s[23]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_1yv2hwn7tg.b[3][0]++;cov_1yv2hwn7tg.s[24]++;newObj[key] = obj[key];
        } else {
          cov_1yv2hwn7tg.b[3][1]++;
        }
      }
    } else {
      cov_1yv2hwn7tg.b[2][1]++;
    }cov_1yv2hwn7tg.s[25]++;newObj.default = obj;cov_1yv2hwn7tg.s[26]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_1yv2hwn7tg.f[1]++;cov_1yv2hwn7tg.s[27]++;return (cov_1yv2hwn7tg.b[5][0]++, obj) && (cov_1yv2hwn7tg.b[5][1]++, obj.__esModule) ? (cov_1yv2hwn7tg.b[4][0]++, obj) : (cov_1yv2hwn7tg.b[4][1]++, { default: obj });
}const debug = (cov_1yv2hwn7tg.s[28]++, (0, _debug2.default)("debugger:trace:sagas"));function* waitForTrace() {
  cov_1yv2hwn7tg.f[2]++;let { steps } = (cov_1yv2hwn7tg.s[29]++, yield (0, _effects.take)(actions.SAVE_STEPS));let addresses = (cov_1yv2hwn7tg.s[30]++, [...new _set2.default(steps.filter(({ op }) => {
    cov_1yv2hwn7tg.f[3]++;cov_1yv2hwn7tg.s[31]++;return (0, _helpers.isCallMnemonic)(op);
  }).map(({ stack }) => {
    cov_1yv2hwn7tg.f[4]++;cov_1yv2hwn7tg.s[32]++;return DecodeUtils.Conversion.toAddress(stack[stack.length - 2]);
  }))]);cov_1yv2hwn7tg.s[33]++;yield (0, _effects.put)(actions.receiveAddresses(addresses));
}function* advance() {
  cov_1yv2hwn7tg.f[5]++;cov_1yv2hwn7tg.s[34]++;yield (0, _effects.put)(actions.next());cov_1yv2hwn7tg.s[35]++;debug("TOCK to take");cov_1yv2hwn7tg.s[36]++;yield (0, _effects.take)([actions.TOCK, actions.END_OF_TRACE]);cov_1yv2hwn7tg.s[37]++;debug("TOCK taken");
}const SUBMODULE_COUNT = (cov_1yv2hwn7tg.s[38]++, 3);function* next() {
  cov_1yv2hwn7tg.f[6]++;let remaining = (cov_1yv2hwn7tg.s[39]++, yield (0, _effects.select)(_selectors2.default.stepsRemaining));cov_1yv2hwn7tg.s[40]++;debug("remaining: %o", remaining);let steps = (cov_1yv2hwn7tg.s[41]++, yield (0, _effects.select)(_selectors2.default.steps));cov_1yv2hwn7tg.s[42]++;debug("total steps: %o", steps.length);let waitingForSubmodules = (cov_1yv2hwn7tg.s[43]++, 0);cov_1yv2hwn7tg.s[44]++;if (remaining > 0) {
    cov_1yv2hwn7tg.b[6][0]++;cov_1yv2hwn7tg.s[45]++;debug("putting TICK");cov_1yv2hwn7tg.s[46]++;waitingForSubmodules = SUBMODULE_COUNT;cov_1yv2hwn7tg.s[47]++;yield (0, _effects.put)(actions.tick());cov_1yv2hwn7tg.s[48]++;debug("put TICK");cov_1yv2hwn7tg.s[49]++;while (waitingForSubmodules > 0) {
      cov_1yv2hwn7tg.s[50]++;yield (0, _effects.take)(actions.SUBTOCK);cov_1yv2hwn7tg.s[51]++;debug("got SUBTOCK");cov_1yv2hwn7tg.s[52]++;waitingForSubmodules--;
    }cov_1yv2hwn7tg.s[53]++;remaining--;
  } else {
    cov_1yv2hwn7tg.b[6][1]++;
  }cov_1yv2hwn7tg.s[54]++;if (remaining) {
    cov_1yv2hwn7tg.b[7][0]++;cov_1yv2hwn7tg.s[55]++;debug("putting TOCK");cov_1yv2hwn7tg.s[56]++;yield (0, _effects.put)(actions.tock());cov_1yv2hwn7tg.s[57]++;debug("put TOCK");
  } else {
    cov_1yv2hwn7tg.b[7][1]++;cov_1yv2hwn7tg.s[58]++;debug("putting END_OF_TRACE");cov_1yv2hwn7tg.s[59]++;yield (0, _effects.put)(actions.endTrace());cov_1yv2hwn7tg.s[60]++;debug("put END_OF_TRACE");
  }
}function* signalTickSagaCompletion() {
  cov_1yv2hwn7tg.f[7]++;cov_1yv2hwn7tg.s[61]++;yield (0, _effects.put)(actions.subtock());
}function* processTrace(trace) {
  cov_1yv2hwn7tg.f[8]++;cov_1yv2hwn7tg.s[62]++;yield (0, _effects.put)(actions.saveSteps(trace));let { addresses } = (cov_1yv2hwn7tg.s[63]++, yield (0, _effects.take)(actions.RECEIVE_ADDRESSES));cov_1yv2hwn7tg.s[64]++;debug("received addresses");cov_1yv2hwn7tg.s[65]++;return addresses;
}function* reset() {
  cov_1yv2hwn7tg.f[9]++;cov_1yv2hwn7tg.s[66]++;yield (0, _effects.put)(actions.reset());
}function* saga() {
  cov_1yv2hwn7tg.f[10]++;cov_1yv2hwn7tg.s[67]++;yield* waitForTrace();cov_1yv2hwn7tg.s[68]++;yield (0, _effects.takeEvery)(actions.NEXT, next);
}cov_1yv2hwn7tg.s[69]++;exports.default = (0, _helpers.prefixName)("trace", saga);

/***/ }),
/* 22 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/core-js/promise");

/***/ }),
/* 23 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/core-js/object/values");

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_2piveyac3q = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/session/actions/index.js",
      hash = "fdf70f501bdfdfcc34d439e1451284212e9def89",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/session/actions/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 22 } }, "2": { start: { line: 7, column: 0 }, end: { line: 7, column: 22 } }, "3": { start: { line: 8, column: 0 }, end: { line: 8, column: 22 } }, "4": { start: { line: 9, column: 0 }, end: { line: 9, column: 42 } }, "5": { start: { line: 10, column: 0 }, end: { line: 10, column: 42 } }, "6": { start: { line: 11, column: 0 }, end: { line: 11, column: 34 } }, "7": { start: { line: 12, column: 14 }, end: { line: 12, column: 45 } }, "8": { start: { line: 14, column: 2 }, end: { line: 18, column: 4 } }, "9": { start: { line: 21, column: 14 }, end: { line: 21, column: 45 } }, "10": { start: { line: 23, column: 2 }, end: { line: 25, column: 4 } }, "11": { start: { line: 28, column: 14 }, end: { line: 28, column: 45 } }, "12": { start: { line: 30, column: 2 }, end: { line: 33, column: 4 } }, "13": { start: { line: 36, column: 25 }, end: { line: 36, column: 70 } }, "14": { start: { line: 38, column: 2 }, end: { line: 42, column: 4 } }, "15": { start: { line: 45, column: 25 }, end: { line: 45, column: 70 } }, "16": { start: { line: 47, column: 2 }, end: { line: 50, column: 4 } }, "17": { start: { line: 53, column: 21 }, end: { line: 53, column: 58 } }, "18": { start: { line: 55, column: 2 }, end: { line: 58, column: 4 } } }, fnMap: { "0": { name: "start", decl: { start: { line: 13, column: 9 }, end: { line: 13, column: 14 } }, loc: { start: { line: 13, column: 33 }, end: { line: 19, column: 1 } }, line: 13 }, "1": { name: "ready", decl: { start: { line: 22, column: 9 }, end: { line: 22, column: 14 } }, loc: { start: { line: 22, column: 17 }, end: { line: 26, column: 1 } }, line: 22 }, "2": { name: "error", decl: { start: { line: 29, column: 9 }, end: { line: 29, column: 14 } }, loc: { start: { line: 29, column: 22 }, end: { line: 34, column: 1 } }, line: 29 }, "3": { name: "recordContracts", decl: { start: { line: 37, column: 9 }, end: { line: 37, column: 24 } }, loc: { start: { line: 37, column: 44 }, end: { line: 43, column: 1 } }, line: 37 }, "4": { name: "saveTransaction", decl: { start: { line: 46, column: 9 }, end: { line: 46, column: 24 } }, loc: { start: { line: 46, column: 38 }, end: { line: 51, column: 1 } }, line: 46 }, "5": { name: "saveReceipt", decl: { start: { line: 54, column: 9 }, end: { line: 54, column: 20 } }, loc: { start: { line: 54, column: 30 }, end: { line: 59, column: 1 } }, line: 54 } }, branchMap: {}, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0 }, b: {}, inputSourceMap: { version: 3, sources: ["lib/session/actions/index.js"], names: ["start", "ready", "error", "recordContracts", "saveTransaction", "saveReceipt", "START", "txHash", "provider", "type", "READY", "ERROR", "RECORD_CONTRACTS", "contexts", "sources", "SAVE_TRANSACTION", "transaction", "SAVE_RECEIPT", "receipt"], mappings: ";;;;;QACgBA,K,GAAAA,K;QASAC,K,GAAAA,K;QAOAC,K,GAAAA,K;QAQAC,e,GAAAA,e;QASAC,e,GAAAA,e;QAQAC,W,GAAAA,W;AA1CT,MAAMC,wBAAQ,eAAd;AACA,SAASN,KAAT,CAAeO,MAAf,EAAuBC,QAAvB,EAAiC;AACtC,SAAO;AACLC,UAAMH,KADD;AAELC,UAFK;AAGTC;AAHS,GAAP;AAKD;;AAEM,MAAME,wBAAQ,eAAd;AACA,SAAST,KAAT,GAAiB;AACtB,SAAO;AACLQ,UAAMC;AADD,GAAP;AAGD;;AAEM,MAAMC,wBAAQ,eAAd;AACA,SAAST,KAAT,CAAeA,KAAf,EAAsB;AAC3B,SAAO;AACLO,UAAME,KADD;AAELT;AAFK,GAAP;AAID;;AAEM,MAAMU,8CAAmB,kBAAzB;AACA,SAAST,eAAT,CAAyBU,QAAzB,EAAmCC,OAAnC,EAA4C;AACjD,SAAO;AACLL,UAAMG,gBADD;AAELC,YAFK;AAGTC;AAHS,GAAP;AAKD;;AAEM,MAAMC,8CAAmB,kBAAzB;AACA,SAASX,eAAT,CAAyBY,WAAzB,EAAsC;AAC3C,SAAO;AACLP,UAAMM,gBADD;AAELC;AAFK,GAAP;AAID;;AAEM,MAAMC,sCAAe,cAArB;AACA,SAASZ,WAAT,CAAqBa,OAArB,EAA8B;AACnC,SAAO;AACLT,UAAMQ,YADD;AAELC;AAFK,GAAP;AAID", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["export const START = \"SESSION_START\";\nexport function start(txHash, provider) {\n  return {\n    type: START,\n    txHash,\nprovider\n  };\n}\n\nexport const READY = \"SESSION_READY\";\nexport function ready() {\n  return {\n    type: READY,\n  };\n}\n\nexport const ERROR = \"SESSION_ERROR\";\nexport function error(error) {\n  return {\n    type: ERROR,\n    error\n  };\n}\n\nexport const RECORD_CONTRACTS = \"RECORD_CONTRACTS\";\nexport function recordContracts(contexts, sources) {\n  return {\n    type: RECORD_CONTRACTS,\n    contexts,\nsources\n  };\n}\n\nexport const SAVE_TRANSACTION = \"SAVE_TRANSACTION\";\nexport function saveTransaction(transaction) {\n  return {\n    type: SAVE_TRANSACTION,\n    transaction\n  };\n}\n\nexport const SAVE_RECEIPT = \"SAVE_RECEIPT\";\nexport function saveReceipt(receipt) {\n  return {\n    type: SAVE_RECEIPT,\n    receipt\n  };\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_2piveyac3q.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_2piveyac3q.s[1]++;exports.start = start;cov_2piveyac3q.s[2]++;exports.ready = ready;cov_2piveyac3q.s[3]++;exports.error = error;cov_2piveyac3q.s[4]++;exports.recordContracts = recordContracts;cov_2piveyac3q.s[5]++;exports.saveTransaction = saveTransaction;cov_2piveyac3q.s[6]++;exports.saveReceipt = saveReceipt;const START = (cov_2piveyac3q.s[7]++, exports.START = "SESSION_START");function start(txHash, provider) {
  cov_2piveyac3q.f[0]++;cov_2piveyac3q.s[8]++;return { type: START, txHash, provider };
}const READY = (cov_2piveyac3q.s[9]++, exports.READY = "SESSION_READY");function ready() {
  cov_2piveyac3q.f[1]++;cov_2piveyac3q.s[10]++;return { type: READY };
}const ERROR = (cov_2piveyac3q.s[11]++, exports.ERROR = "SESSION_ERROR");function error(error) {
  cov_2piveyac3q.f[2]++;cov_2piveyac3q.s[12]++;return { type: ERROR, error };
}const RECORD_CONTRACTS = (cov_2piveyac3q.s[13]++, exports.RECORD_CONTRACTS = "RECORD_CONTRACTS");function recordContracts(contexts, sources) {
  cov_2piveyac3q.f[3]++;cov_2piveyac3q.s[14]++;return { type: RECORD_CONTRACTS, contexts, sources };
}const SAVE_TRANSACTION = (cov_2piveyac3q.s[15]++, exports.SAVE_TRANSACTION = "SAVE_TRANSACTION");function saveTransaction(transaction) {
  cov_2piveyac3q.f[4]++;cov_2piveyac3q.s[16]++;return { type: SAVE_TRANSACTION, transaction };
}const SAVE_RECEIPT = (cov_2piveyac3q.s[17]++, exports.SAVE_RECEIPT = "SAVE_RECEIPT");function saveReceipt(receipt) {
  cov_2piveyac3q.f[5]++;cov_2piveyac3q.s[18]++;return { type: SAVE_RECEIPT, receipt };
}

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_rg5m4u2ng = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/data/selectors/index.js",
      hash = "2818d1242fefde5d7dffae7a5ce65e25357caf0f",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/data/selectors/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 15 }, end: { line: 7, column: 55 } }, "2": { start: { line: 9, column: 16 }, end: { line: 9, column: 48 } }, "3": { start: { line: 11, column: 25 }, end: { line: 11, column: 74 } }, "4": { start: { line: 13, column: 25 }, end: { line: 13, column: 67 } }, "5": { start: { line: 15, column: 14 }, end: { line: 15, column: 60 } }, "6": { start: { line: 17, column: 15 }, end: { line: 17, column: 46 } }, "7": { start: { line: 19, column: 16 }, end: { line: 19, column: 56 } }, "8": { start: { line: 21, column: 16 }, end: { line: 21, column: 49 } }, "9": { start: { line: 23, column: 15 }, end: { line: 23, column: 62 } }, "10": { start: { line: 25, column: 16 }, end: { line: 25, column: 48 } }, "11": { start: { line: 27, column: 14 }, end: { line: 27, column: 60 } }, "12": { start: { line: 29, column: 15 }, end: { line: 29, column: 46 } }, "13": { start: { line: 31, column: 13 }, end: { line: 31, column: 29 } }, "14": { start: { line: 33, column: 14 }, end: { line: 33, column: 44 } }, "15": { start: { line: 35, column: 20 }, end: { line: 35, column: 44 } }, "16": { start: { line: 37, column: 19 }, end: { line: 37, column: 42 } }, "17": { start: { line: 39, column: 20 }, end: { line: 39, column: 56 } }, "18": { start: { line: 41, column: 15 }, end: { line: 41, column: 37 } }, "19": { start: { line: 43, column: 17 }, end: { line: 43, column: 45 } }, "20": { start: { line: 45, column: 18 }, end: { line: 45, column: 52 } }, "21": { start: { line: 47, column: 18 }, end: { line: 47, column: 46 } }, "22": { start: { line: 49, column: 18 }, end: { line: 49, column: 53 } }, "23": { start: { line: 51, column: 18 }, end: { line: 51, column: 51 } }, "24": { start: { line: 53, column: 18 }, end: { line: 53, column: 53 } }, "25": { start: { line: 55, column: 26 }, end: { line: 55, column: 57 } }, "26": { start: { line: 57, column: 18 }, end: { line: 57, column: 62 } }, "27": { start: { line: 59, column: 22 }, end: { line: 59, column: 48 } }, "28": { start: { line: 61, column: 40 }, end: { line: 61, column: 267 } }, "29": { start: { line: 61, column: 69 }, end: { line: 61, column: 80 } }, "30": { start: { line: 61, column: 103 }, end: { line: 61, column: 105 } }, "31": { start: { line: 61, column: 107 }, end: { line: 61, column: 228 } }, "32": { start: { line: 61, column: 126 }, end: { line: 61, column: 226 } }, "33": { start: { line: 61, column: 149 }, end: { line: 61, column: 224 } }, "34": { start: { line: 61, column: 201 }, end: { line: 61, column: 224 } }, "35": { start: { line: 61, column: 229 }, end: { line: 61, column: 250 } }, "36": { start: { line: 61, column: 251 }, end: { line: 61, column: 265 } }, "37": { start: { line: 63, column: 39 }, end: { line: 63, column: 93 } }, "38": { start: { line: 65, column: 14 }, end: { line: 65, column: 61 } }, "39": { start: { line: 70, column: 17 }, end: { line: 70, column: 23 } }, "40": { start: { line: 70, column: 22 }, end: { line: 70, column: 23 } }, "41": { start: { line: 73, column: 2 }, end: { line: 90, column: 4 } }, "42": { start: { line: 77, column: 59 }, end: { line: 77, column: 122 } }, "43": { start: { line: 77, column: 85 }, end: { line: 77, column: 121 } }, "44": { start: { line: 82, column: 61 }, end: { line: 82, column: 107 } }, "45": { start: { line: 87, column: 65 }, end: { line: 89, column: 8 } }, "46": { start: { line: 87, column: 152 }, end: { line: 89, column: 5 } }, "47": { start: { line: 93, column: 13 }, end: { line: 425, column: 2 } }, "48": { start: { line: 94, column: 18 }, end: { line: 94, column: 28 } }, "49": { start: { line: 103, column: 78 }, end: { line: 103, column: 82 } }, "50": { start: { line: 108, column: 126 }, end: { line: 108, column: 131 } }, "51": { start: { line: 122, column: 89 }, end: { line: 126, column: 11 } }, "52": { start: { line: 123, column: 24 }, end: { line: 123, column: 56 } }, "53": { start: { line: 124, column: 10 }, end: { line: 124, column: 51 } }, "54": { start: { line: 125, column: 10 }, end: { line: 125, column: 35 } }, "55": { start: { line: 131, column: 120 }, end: { line: 136, column: 12 } }, "56": { start: { line: 131, column: 202 }, end: { line: 136, column: 9 } }, "57": { start: { line: 145, column: 210 }, end: { line: 150, column: 6 } }, "58": { start: { line: 145, column: 231 }, end: { line: 150, column: 6 } }, "59": { start: { line: 160, column: 131 }, end: { line: 160, column: 226 } }, "60": { start: { line: 160, column: 149 }, end: { line: 160, column: 170 } }, "61": { start: { line: 160, column: 187 }, end: { line: 160, column: 225 } }, "62": { start: { line: 166, column: 135 }, end: { line: 166, column: 226 } }, "63": { start: { line: 166, column: 192 }, end: { line: 166, column: 223 } }, "64": { start: { line: 171, column: 155 }, end: { line: 171, column: 369 } }, "65": { start: { line: 171, column: 292 }, end: { line: 171, column: 328 } }, "66": { start: { line: 171, column: 346 }, end: { line: 171, column: 368 } }, "67": { start: { line: 189, column: 100 }, end: { line: 212, column: 9 } }, "68": { start: { line: 190, column: 25 }, end: { line: 190, column: 47 } }, "69": { start: { line: 191, column: 8 }, end: { line: 193, column: 9 } }, "70": { start: { line: 192, column: 10 }, end: { line: 192, column: 33 } }, "71": { start: { line: 197, column: 8 }, end: { line: 197, column: 36 } }, "72": { start: { line: 198, column: 23 }, end: { line: 198, column: 56 } }, "73": { start: { line: 202, column: 46 }, end: { line: 202, column: 98 } }, "74": { start: { line: 204, column: 8 }, end: { line: 209, column: 11 } }, "75": { start: { line: 204, column: 92 }, end: { line: 204, column: 120 } }, "76": { start: { line: 207, column: 27 }, end: { line: 207, column: 58 } }, "77": { start: { line: 208, column: 10 }, end: { line: 208, column: 99 } }, "78": { start: { line: 211, column: 8 }, end: { line: 211, column: 34 } }, "79": { start: { line: 217, column: 62 }, end: { line: 217, column: 84 } }, "80": { start: { line: 227, column: 66 }, end: { line: 227, column: 96 } }, "81": { start: { line: 233, column: 73 }, end: { line: 233, column: 100 } }, "82": { start: { line: 243, column: 68 }, end: { line: 243, column: 90 } }, "83": { start: { line: 251, column: 68 }, end: { line: 251, column: 90 } }, "84": { start: { line: 258, column: 82 }, end: { line: 258, column: 109 } }, "85": { start: { line: 273, column: 84 }, end: { line: 273, column: 91 } }, "86": { start: { line: 292, column: 87 }, end: { line: 292, column: 99 } }, "87": { start: { line: 310, column: 18 }, end: { line: 310, column: 26 } }, "88": { start: { line: 311, column: 24 }, end: { line: 311, column: 26 } }, "89": { start: { line: 313, column: 8 }, end: { line: 318, column: 30 } }, "90": { start: { line: 314, column: 10 }, end: { line: 315, column: 87 } }, "91": { start: { line: 314, column: 100 }, end: { line: 314, column: 113 } }, "92": { start: { line: 315, column: 23 }, end: { line: 315, column: 53 } }, "93": { start: { line: 315, column: 65 }, end: { line: 315, column: 83 } }, "94": { start: { line: 317, column: 10 }, end: { line: 317, column: 37 } }, "95": { start: { line: 320, column: 8 }, end: { line: 320, column: 25 } }, "96": { start: { line: 328, column: 108 }, end: { line: 332, column: 9 } }, "97": { start: { line: 329, column: 29 }, end: { line: 329, column: 39 } }, "98": { start: { line: 331, column: 8 }, end: { line: 331, column: 44 } }, "99": { start: { line: 342, column: 76 }, end: { line: 382, column: 9 } }, "100": { start: { line: 347, column: 8 }, end: { line: 357, column: 9 } }, "101": { start: { line: 348, column: 25 }, end: { line: 348, column: 122 } }, "102": { start: { line: 348, column: 77 }, end: { line: 348, column: 121 } }, "103": { start: { line: 349, column: 10 }, end: { line: 351, column: 11 } }, "104": { start: { line: 350, column: 12 }, end: { line: 350, column: 29 } }, "105": { start: { line: 353, column: 25 }, end: { line: 353, column: 132 } }, "106": { start: { line: 353, column: 77 }, end: { line: 353, column: 131 } }, "107": { start: { line: 354, column: 10 }, end: { line: 356, column: 11 } }, "108": { start: { line: 355, column: 12 }, end: { line: 355, column: 29 } }, "109": { start: { line: 361, column: 8 }, end: { line: 370, column: 9 } }, "110": { start: { line: 362, column: 28 }, end: { line: 362, column: 152 } }, "111": { start: { line: 362, column: 73 }, end: { line: 362, column: 104 } }, "112": { start: { line: 362, column: 127 }, end: { line: 362, column: 151 } }, "113": { start: { line: 364, column: 10 }, end: { line: 369, column: 11 } }, "114": { start: { line: 367, column: 27 }, end: { line: 367, column: 75 } }, "115": { start: { line: 368, column: 12 }, end: { line: 368, column: 80 } }, "116": { start: { line: 374, column: 22 }, end: { line: 374, column: 48 } }, "117": { start: { line: 375, column: 8 }, end: { line: 377, column: 9 } }, "118": { start: { line: 376, column: 10 }, end: { line: 376, column: 27 } }, "119": { start: { line: 379, column: 8 }, end: { line: 381, column: 10 } }, "120": { start: { line: 390, column: 19 }, end: { line: 407, column: 10 } }, "121": { start: { line: 391, column: 10 }, end: { line: 391, column: 44 } }, "122": { start: { line: 392, column: 32 }, end: { line: 402, column: 15 } }, "123": { start: { line: 393, column: 24 }, end: { line: 397, column: 14 } }, "124": { start: { line: 394, column: 14 }, end: { line: 396, column: 16 } }, "125": { start: { line: 399, column: 12 }, end: { line: 401, column: 14 } }, "126": { start: { line: 400, column: 14 }, end: { line: 400, column: 50 } }, "127": { start: { line: 403, column: 10 }, end: { line: 403, column: 40 } }, "128": { start: { line: 404, column: 31 }, end: { line: 404, column: 73 } }, "129": { start: { line: 405, column: 10 }, end: { line: 405, column: 36 } }, "130": { start: { line: 406, column: 10 }, end: { line: 406, column: 100 } }, "131": { start: { line: 409, column: 8 }, end: { line: 411, column: 10 } }, "132": { start: { line: 410, column: 10 }, end: { line: 410, column: 45 } }, "133": { start: { line: 427, column: 0 }, end: { line: 427, column: 23 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 61, column: 9 }, end: { line: 61, column: 32 } }, loc: { start: { line: 61, column: 38 }, end: { line: 61, column: 269 } }, line: 61 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 63, column: 9 }, end: { line: 63, column: 31 } }, loc: { start: { line: 63, column: 37 }, end: { line: 63, column: 95 } }, line: 63 }, "2": { name: "(anonymous_2)", decl: { start: { line: 70, column: 17 }, end: { line: 70, column: 18 } }, loc: { start: { line: 70, column: 22 }, end: { line: 70, column: 23 } }, line: 70 }, "3": { name: "createStateSelectors", decl: { start: { line: 72, column: 9 }, end: { line: 72, column: 29 } }, loc: { start: { line: 72, column: 58 }, end: { line: 91, column: 1 } }, line: 72 }, "4": { name: "(anonymous_4)", decl: { start: { line: 77, column: 50 }, end: { line: 77, column: 51 } }, loc: { start: { line: 77, column: 59 }, end: { line: 77, column: 122 } }, line: 77 }, "5": { name: "(anonymous_5)", decl: { start: { line: 77, column: 77 }, end: { line: 77, column: 78 } }, loc: { start: { line: 77, column: 85 }, end: { line: 77, column: 121 } }, line: 77 }, "6": { name: "(anonymous_6)", decl: { start: { line: 82, column: 52 }, end: { line: 82, column: 53 } }, loc: { start: { line: 82, column: 61 }, end: { line: 82, column: 107 } }, line: 82 }, "7": { name: "(anonymous_7)", decl: { start: { line: 87, column: 54 }, end: { line: 87, column: 55 } }, loc: { start: { line: 87, column: 65 }, end: { line: 89, column: 8 } }, line: 87 }, "8": { name: "(anonymous_8)", decl: { start: { line: 87, column: 130 }, end: { line: 87, column: 131 } }, loc: { start: { line: 87, column: 152 }, end: { line: 89, column: 5 } }, line: 87 }, "9": { name: "(anonymous_9)", decl: { start: { line: 94, column: 9 }, end: { line: 94, column: 10 } }, loc: { start: { line: 94, column: 18 }, end: { line: 94, column: 28 } }, line: 94 }, "10": { name: "(anonymous_10)", decl: { start: { line: 103, column: 70 }, end: { line: 103, column: 71 } }, loc: { start: { line: 103, column: 78 }, end: { line: 103, column: 82 } }, line: 103 }, "11": { name: "(anonymous_11)", decl: { start: { line: 108, column: 117 }, end: { line: 108, column: 118 } }, loc: { start: { line: 108, column: 126 }, end: { line: 108, column: 131 } }, line: 108 }, "12": { name: "(anonymous_12)", decl: { start: { line: 122, column: 68 }, end: { line: 122, column: 69 } }, loc: { start: { line: 122, column: 89 }, end: { line: 126, column: 11 } }, line: 122 }, "13": { name: "(anonymous_13)", decl: { start: { line: 122, column: 154 }, end: { line: 122, column: 155 } }, loc: { start: { line: 122, column: 170 }, end: { line: 126, column: 9 } }, line: 122 }, "14": { name: "(anonymous_14)", decl: { start: { line: 131, column: 99 }, end: { line: 131, column: 100 } }, loc: { start: { line: 131, column: 120 }, end: { line: 136, column: 12 } }, line: 131 }, "15": { name: "(anonymous_15)", decl: { start: { line: 131, column: 184 }, end: { line: 131, column: 185 } }, loc: { start: { line: 131, column: 202 }, end: { line: 136, column: 9 } }, line: 131 }, "16": { name: "(anonymous_16)", decl: { start: { line: 145, column: 143 }, end: { line: 145, column: 144 } }, loc: { start: { line: 145, column: 210 }, end: { line: 150, column: 6 } }, line: 145 }, "17": { name: "(anonymous_17)", decl: { start: { line: 145, column: 210 }, end: { line: 145, column: 211 } }, loc: { start: { line: 145, column: 231 }, end: { line: 150, column: 6 } }, line: 145 }, "18": { name: "(anonymous_18)", decl: { start: { line: 160, column: 110 }, end: { line: 160, column: 111 } }, loc: { start: { line: 160, column: 131 }, end: { line: 160, column: 226 } }, line: 160 }, "19": { name: "(anonymous_19)", decl: { start: { line: 160, column: 143 }, end: { line: 160, column: 144 } }, loc: { start: { line: 160, column: 149 }, end: { line: 160, column: 170 } }, line: 160 }, "20": { name: "(anonymous_20)", decl: { start: { line: 160, column: 179 }, end: { line: 160, column: 180 } }, loc: { start: { line: 160, column: 187 }, end: { line: 160, column: 225 } }, line: 160 }, "21": { name: "(anonymous_21)", decl: { start: { line: 166, column: 105 }, end: { line: 166, column: 106 } }, loc: { start: { line: 166, column: 135 }, end: { line: 166, column: 226 } }, line: 166 }, "22": { name: "(anonymous_22)", decl: { start: { line: 166, column: 185 }, end: { line: 166, column: 186 } }, loc: { start: { line: 166, column: 192 }, end: { line: 166, column: 223 } }, line: 166 }, "23": { name: "(anonymous_23)", decl: { start: { line: 171, column: 115 }, end: { line: 171, column: 116 } }, loc: { start: { line: 171, column: 155 }, end: { line: 171, column: 369 } }, line: 171 }, "24": { name: "(anonymous_24)", decl: { start: { line: 171, column: 269 }, end: { line: 171, column: 270 } }, loc: { start: { line: 171, column: 292 }, end: { line: 171, column: 328 } }, line: 171 }, "25": { name: "(anonymous_25)", decl: { start: { line: 171, column: 338 }, end: { line: 171, column: 339 } }, loc: { start: { line: 171, column: 346 }, end: { line: 171, column: 368 } }, line: 171 }, "26": { name: "(anonymous_26)", decl: { start: { line: 189, column: 79 }, end: { line: 189, column: 80 } }, loc: { start: { line: 189, column: 100 }, end: { line: 212, column: 9 } }, line: 189 }, "27": { name: "(anonymous_27)", decl: { start: { line: 189, column: 164 }, end: { line: 189, column: 165 } }, loc: { start: { line: 189, column: 181 }, end: { line: 212, column: 7 } }, line: 189 }, "28": { name: "(anonymous_28)", decl: { start: { line: 204, column: 78 }, end: { line: 204, column: 79 } }, loc: { start: { line: 204, column: 92 }, end: { line: 204, column: 120 } }, line: 204 }, "29": { name: "(anonymous_29)", decl: { start: { line: 204, column: 130 }, end: { line: 204, column: 131 } }, loc: { start: { line: 204, column: 142 }, end: { line: 209, column: 9 } }, line: 204 }, "30": { name: "(anonymous_30)", decl: { start: { line: 217, column: 53 }, end: { line: 217, column: 54 } }, loc: { start: { line: 217, column: 62 }, end: { line: 217, column: 84 } }, line: 217 }, "31": { name: "(anonymous_31)", decl: { start: { line: 227, column: 57 }, end: { line: 227, column: 58 } }, loc: { start: { line: 227, column: 66 }, end: { line: 227, column: 96 } }, line: 227 }, "32": { name: "(anonymous_32)", decl: { start: { line: 233, column: 64 }, end: { line: 233, column: 65 } }, loc: { start: { line: 233, column: 73 }, end: { line: 233, column: 100 } }, line: 233 }, "33": { name: "(anonymous_33)", decl: { start: { line: 243, column: 59 }, end: { line: 243, column: 60 } }, loc: { start: { line: 243, column: 68 }, end: { line: 243, column: 90 } }, line: 243 }, "34": { name: "(anonymous_34)", decl: { start: { line: 251, column: 59 }, end: { line: 251, column: 60 } }, loc: { start: { line: 251, column: 68 }, end: { line: 251, column: 90 } }, line: 251 }, "35": { name: "(anonymous_35)", decl: { start: { line: 258, column: 67 }, end: { line: 258, column: 68 } }, loc: { start: { line: 258, column: 82 }, end: { line: 258, column: 109 } }, line: 258 }, "36": { name: "(anonymous_36)", decl: { start: { line: 273, column: 76 }, end: { line: 273, column: 77 } }, loc: { start: { line: 273, column: 84 }, end: { line: 273, column: 91 } }, line: 273 }, "37": { name: "(anonymous_37)", decl: { start: { line: 292, column: 79 }, end: { line: 292, column: 80 } }, loc: { start: { line: 292, column: 87 }, end: { line: 292, column: 99 } }, line: 292 }, "38": { name: "(anonymous_38)", decl: { start: { line: 309, column: 84 }, end: { line: 309, column: 85 } }, loc: { start: { line: 309, column: 103 }, end: { line: 321, column: 7 } }, line: 309 }, "39": { name: "(anonymous_39)", decl: { start: { line: 314, column: 95 }, end: { line: 314, column: 96 } }, loc: { start: { line: 314, column: 100 }, end: { line: 314, column: 113 } }, line: 314 }, "40": { name: "(anonymous_40)", decl: { start: { line: 315, column: 18 }, end: { line: 315, column: 19 } }, loc: { start: { line: 315, column: 23 }, end: { line: 315, column: 53 } }, line: 315 }, "41": { name: "(anonymous_41)", decl: { start: { line: 315, column: 59 }, end: { line: 315, column: 60 } }, loc: { start: { line: 315, column: 65 }, end: { line: 315, column: 83 } }, line: 315 }, "42": { name: "(anonymous_42)", decl: { start: { line: 328, column: 83 }, end: { line: 328, column: 84 } }, loc: { start: { line: 328, column: 108 }, end: { line: 332, column: 9 } }, line: 328 }, "43": { name: "(anonymous_43)", decl: { start: { line: 328, column: 177 }, end: { line: 328, column: 178 } }, loc: { start: { line: 328, column: 199 }, end: { line: 332, column: 7 } }, line: 328 }, "44": { name: "(anonymous_44)", decl: { start: { line: 342, column: 9 }, end: { line: 342, column: 10 } }, loc: { start: { line: 342, column: 76 }, end: { line: 382, column: 9 } }, line: 342 }, "45": { name: "(anonymous_45)", decl: { start: { line: 342, column: 145 }, end: { line: 342, column: 146 } }, loc: { start: { line: 342, column: 170 }, end: { line: 382, column: 7 } }, line: 342 }, "46": { name: "(anonymous_46)", decl: { start: { line: 348, column: 67 }, end: { line: 348, column: 68 } }, loc: { start: { line: 348, column: 77 }, end: { line: 348, column: 121 } }, line: 348 }, "47": { name: "(anonymous_47)", decl: { start: { line: 353, column: 67 }, end: { line: 353, column: 68 } }, loc: { start: { line: 353, column: 77 }, end: { line: 353, column: 131 } }, line: 353 }, "48": { name: "(anonymous_48)", decl: { start: { line: 362, column: 67 }, end: { line: 362, column: 68 } }, loc: { start: { line: 362, column: 73 }, end: { line: 362, column: 104 } }, line: 362 }, "49": { name: "(anonymous_49)", decl: { start: { line: 362, column: 113 }, end: { line: 362, column: 114 } }, loc: { start: { line: 362, column: 127 }, end: { line: 362, column: 151 } }, line: 362 }, "50": { name: "(anonymous_50)", decl: { start: { line: 389, column: 93 }, end: { line: 389, column: 94 } }, loc: { start: { line: 389, column: 99 }, end: { line: 412, column: 7 } }, line: 389 }, "51": { name: "(anonymous_51)", decl: { start: { line: 390, column: 51 }, end: { line: 390, column: 52 } }, loc: { start: { line: 390, column: 89 }, end: { line: 407, column: 9 } }, line: 390 }, "52": { name: "(anonymous_52)", decl: { start: { line: 392, column: 66 }, end: { line: 392, column: 67 } }, loc: { start: { line: 392, column: 72 }, end: { line: 402, column: 11 } }, line: 392 }, "53": { name: "(anonymous_53)", decl: { start: { line: 393, column: 56 }, end: { line: 393, column: 57 } }, loc: { start: { line: 393, column: 86 }, end: { line: 397, column: 13 } }, line: 393 }, "54": { name: "(anonymous_54)", decl: { start: { line: 399, column: 19 }, end: { line: 399, column: 20 } }, loc: { start: { line: 399, column: 34 }, end: { line: 401, column: 13 } }, line: 399 }, "55": { name: "(anonymous_55)", decl: { start: { line: 409, column: 15 }, end: { line: 409, column: 16 } }, loc: { start: { line: 409, column: 39 }, end: { line: 411, column: 9 } }, line: 409 } }, branchMap: { "0": { loc: { start: { line: 61, column: 40 }, end: { line: 61, column: 267 } }, type: "if", locations: [{ start: { line: 61, column: 40 }, end: { line: 61, column: 267 } }, { start: { line: 61, column: 40 }, end: { line: 61, column: 267 } }], line: 61 }, "1": { loc: { start: { line: 61, column: 44 }, end: { line: 61, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 61, column: 44 }, end: { line: 61, column: 47 } }, { start: { line: 61, column: 51 }, end: { line: 61, column: 65 } }], line: 61 }, "2": { loc: { start: { line: 61, column: 107 }, end: { line: 61, column: 228 } }, type: "if", locations: [{ start: { line: 61, column: 107 }, end: { line: 61, column: 228 } }, { start: { line: 61, column: 107 }, end: { line: 61, column: 228 } }], line: 61 }, "3": { loc: { start: { line: 61, column: 149 }, end: { line: 61, column: 224 } }, type: "if", locations: [{ start: { line: 61, column: 149 }, end: { line: 61, column: 224 } }, { start: { line: 61, column: 149 }, end: { line: 61, column: 224 } }], line: 61 }, "4": { loc: { start: { line: 63, column: 46 }, end: { line: 63, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 63, column: 70 }, end: { line: 63, column: 73 } }, { start: { line: 63, column: 76 }, end: { line: 63, column: 92 } }], line: 63 }, "5": { loc: { start: { line: 63, column: 46 }, end: { line: 63, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 63, column: 46 }, end: { line: 63, column: 49 } }, { start: { line: 63, column: 53 }, end: { line: 63, column: 67 } }], line: 63 }, "6": { loc: { start: { line: 77, column: 60 }, end: { line: 77, column: 71 } }, type: "binary-expr", locations: [{ start: { line: 77, column: 60 }, end: { line: 77, column: 65 } }, { start: { line: 77, column: 69 }, end: { line: 77, column: 71 } }], line: 77 }, "7": { loc: { start: { line: 171, column: 191 }, end: { line: 171, column: 255 } }, type: "binary-expr", locations: [{ start: { line: 171, column: 191 }, end: { line: 171, column: 237 } }, { start: { line: 171, column: 241 }, end: { line: 171, column: 255 } }], line: 171 }, "8": { loc: { start: { line: 171, column: 213 }, end: { line: 171, column: 236 } }, type: "binary-expr", locations: [{ start: { line: 171, column: 213 }, end: { line: 171, column: 220 } }, { start: { line: 171, column: 224 }, end: { line: 171, column: 236 } }], line: 171 }, "9": { loc: { start: { line: 191, column: 8 }, end: { line: 193, column: 9 } }, type: "if", locations: [{ start: { line: 191, column: 8 }, end: { line: 193, column: 9 } }, { start: { line: 191, column: 8 }, end: { line: 193, column: 9 } }], line: 191 }, "10": { loc: { start: { line: 191, column: 12 }, end: { line: 191, column: 89 } }, type: "binary-expr", locations: [{ start: { line: 191, column: 12 }, end: { line: 191, column: 56 } }, { start: { line: 191, column: 60 }, end: { line: 191, column: 89 } }], line: 191 }, "11": { loc: { start: { line: 208, column: 17 }, end: { line: 208, column: 98 } }, type: "binary-expr", locations: [{ start: { line: 208, column: 17 }, end: { line: 208, column: 37 } }, { start: { line: 208, column: 41 }, end: { line: 208, column: 98 } }], line: 208 }, "12": { loc: { start: { line: 314, column: 59 }, end: { line: 314, column: 86 } }, type: "binary-expr", locations: [{ start: { line: 314, column: 59 }, end: { line: 314, column: 80 } }, { start: { line: 314, column: 84 }, end: { line: 314, column: 86 } }], line: 314 }, "13": { loc: { start: { line: 347, column: 8 }, end: { line: 357, column: 9 } }, type: "if", locations: [{ start: { line: 347, column: 8 }, end: { line: 357, column: 9 } }, { start: { line: 347, column: 8 }, end: { line: 357, column: 9 } }], line: 347 }, "14": { loc: { start: { line: 348, column: 26 }, end: { line: 348, column: 58 } }, type: "binary-expr", locations: [{ start: { line: 348, column: 26 }, end: { line: 348, column: 52 } }, { start: { line: 348, column: 56 }, end: { line: 348, column: 58 } }], line: 348 }, "15": { loc: { start: { line: 349, column: 10 }, end: { line: 351, column: 11 } }, type: "if", locations: [{ start: { line: 349, column: 10 }, end: { line: 351, column: 11 } }, { start: { line: 349, column: 10 }, end: { line: 351, column: 11 } }], line: 349 }, "16": { loc: { start: { line: 353, column: 26 }, end: { line: 353, column: 58 } }, type: "binary-expr", locations: [{ start: { line: 353, column: 26 }, end: { line: 353, column: 52 } }, { start: { line: 353, column: 56 }, end: { line: 353, column: 58 } }], line: 353 }, "17": { loc: { start: { line: 354, column: 10 }, end: { line: 356, column: 11 } }, type: "if", locations: [{ start: { line: 354, column: 10 }, end: { line: 356, column: 11 } }, { start: { line: 354, column: 10 }, end: { line: 356, column: 11 } }], line: 354 }, "18": { loc: { start: { line: 361, column: 8 }, end: { line: 370, column: 9 } }, type: "if", locations: [{ start: { line: 361, column: 8 }, end: { line: 370, column: 9 } }, { start: { line: 361, column: 8 }, end: { line: 370, column: 9 } }], line: 361 }, "19": { loc: { start: { line: 362, column: 29 }, end: { line: 362, column: 61 } }, type: "binary-expr", locations: [{ start: { line: 362, column: 29 }, end: { line: 362, column: 55 } }, { start: { line: 362, column: 59 }, end: { line: 362, column: 61 } }], line: 362 }, "20": { loc: { start: { line: 364, column: 10 }, end: { line: 369, column: 11 } }, type: "if", locations: [{ start: { line: 364, column: 10 }, end: { line: 369, column: 11 } }, { start: { line: 364, column: 10 }, end: { line: 369, column: 11 } }], line: 364 }, "21": { loc: { start: { line: 374, column: 22 }, end: { line: 374, column: 48 } }, type: "binary-expr", locations: [{ start: { line: 374, column: 22 }, end: { line: 374, column: 42 } }, { start: { line: 374, column: 46 }, end: { line: 374, column: 48 } }], line: 374 }, "22": { loc: { start: { line: 375, column: 8 }, end: { line: 377, column: 9 } }, type: "if", locations: [{ start: { line: 375, column: 8 }, end: { line: 377, column: 9 } }, { start: { line: 375, column: 8 }, end: { line: 377, column: 9 } }], line: 375 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0, "49": 0, "50": 0, "51": 0, "52": 0, "53": 0, "54": 0, "55": 0, "56": 0, "57": 0, "58": 0, "59": 0, "60": 0, "61": 0, "62": 0, "63": 0, "64": 0, "65": 0, "66": 0, "67": 0, "68": 0, "69": 0, "70": 0, "71": 0, "72": 0, "73": 0, "74": 0, "75": 0, "76": 0, "77": 0, "78": 0, "79": 0, "80": 0, "81": 0, "82": 0, "83": 0, "84": 0, "85": 0, "86": 0, "87": 0, "88": 0, "89": 0, "90": 0, "91": 0, "92": 0, "93": 0, "94": 0, "95": 0, "96": 0, "97": 0, "98": 0, "99": 0, "100": 0, "101": 0, "102": 0, "103": 0, "104": 0, "105": 0, "106": 0, "107": 0, "108": 0, "109": 0, "110": 0, "111": 0, "112": 0, "113": 0, "114": 0, "115": 0, "116": 0, "117": 0, "118": 0, "119": 0, "120": 0, "121": 0, "122": 0, "123": 0, "124": 0, "125": 0, "126": 0, "127": 0, "128": 0, "129": 0, "130": 0, "131": 0, "132": 0, "133": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0, "49": 0, "50": 0, "51": 0, "52": 0, "53": 0, "54": 0, "55": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0, 0], "7": [0, 0], "8": [0, 0], "9": [0, 0], "10": [0, 0], "11": [0, 0], "12": [0, 0], "13": [0, 0], "14": [0, 0], "15": [0, 0], "16": [0, 0], "17": [0, 0], "18": [0, 0], "19": [0, 0], "20": [0, 0], "21": [0, 0], "22": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/data/selectors/index.js"], names: ["DecodeUtils", "debug", "identity", "x", "createStateSelectors", "stack", "memory", "storage", "words", "map", "word", "Conversion", "toBytes", "join", "mapping", "address", "data", "state", "views", "ast", "current", "tree", "atLastInstructionForSourceRange", "solidity", "isSourceRangeFinal", "final", "scopes", "inlined", "_", "id", "info", "newInfo", "variables", "raw", "sources", "entry", "definition", "jsonpointer", "get", "sourceId", "pointer", "decoder", "referenceDeclarations", "mappingKeys", "storageAllocations", "ref", "userDefinedTypes", "contractDefinitions", "typeIds", "filter", "node", "nodeType", "mappedPaths", "dummyAddress", "concat", "byAddress", "byType", "bySlotAddress", "slot", "key", "undefined", "scope", "newScope", "linearizedBaseContractsFromBase", "linearizedBaseContracts", "slice", "reverse", "contractId", "variable", "constant", "Definition", "isSimpleConstant", "value", "byId", "allocations", "proc", "assignments", "decodingKeys", "decodingStarted", "evm", "functionDepth", "call", "creationDepth", "identifiers", "cur", "v", "name", "parentId", "definitions", "identifier", "refs", "currentDepth", "astId", "matchIds", "byAstId", "idHash", "length", "matchFrames", "stackframe", "maxMatch", "Math", "min", "max", "decoded", "decode", "keyedPromises", "keyedResults", "all", "cleanContainers", "next"], mappings: "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", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:data:selectors\"); // eslint-disable-line no-unused-vars\n\nimport { createSelectorTree, createLeaf } from \"reselect-tree\";\nimport jsonpointer from \"json-pointer\";\n\nimport { stableKeccak256 } from \"lib/helpers\";\n\nimport ast from \"lib/ast/selectors\";\nimport evm from \"lib/evm/selectors\";\nimport solidity from \"lib/solidity/selectors\";\n\nimport * as DecodeUtils from \"truffle-decode-utils\";\nimport { forEvmState } from \"truffle-decoder\";\n\n/**\n * @private\n */\nconst identity = x => x;\n\nfunction createStateSelectors({ stack, memory, storage }) {\n  return {\n    /**\n     * .stack\n     */\n    stack: createLeaf(\n      [stack],\n\n      words => (words || []).map(word => DecodeUtils.Conversion.toBytes(word))\n    ),\n\n    /**\n     * .memory\n     */\n    memory: createLeaf(\n      [memory],\n\n      words => DecodeUtils.Conversion.toBytes(words.join(\"\"))\n    ),\n\n    /**\n     * .storage\n     */\n    storage: createLeaf(\n      [storage],\n\n      mapping =>\n        Object.assign(\n          {},\n          ...Object.entries(mapping).map(([address, word]) => ({\n            [`0x${address}`]: DecodeUtils.Conversion.toBytes(word)\n          }))\n        )\n    )\n  };\n}\n\nconst data = createSelectorTree({\n  state: state => state.data,\n\n  /**\n   * data.views\n   */\n  views: {\n    /**\n     * data.views.ast\n     */\n    ast: createLeaf([ast.current], tree => tree),\n\n    /*\n     * data.views.atLastInstructionForSourceRange\n     */\n    atLastInstructionForSourceRange: createLeaf(\n      [solidity.current.isSourceRangeFinal],\n      final => final\n    ),\n\n    /**\n     * data.views.scopes (namespace)\n     */\n    scopes: {\n      /**\n       * data.views.scopes.inlined (namespace)\n       */\n      inlined: {\n        /**\n         * data.views.scopes.inlined (selector)\n         * see data.info.scopes for how this differs from the raw version\n         */\n        _: createLeaf([\"/info/scopes\", \"./raw\"], (scopes, inlined) =>\n          Object.assign(\n            {},\n            ...Object.entries(inlined).map(([id, info]) => {\n              let newInfo = { ...info };\n              newInfo.variables = scopes[id].variables;\n              return { [id]: newInfo };\n            })\n          )\n        ),\n\n        /**\n         * data.views.scopes.inlined.raw\n         */\n        raw: createLeaf(\n          [\"/info/scopes/raw\", solidity.info.sources],\n\n          (scopes, sources) =>\n            Object.assign(\n              {},\n              ...Object.entries(scopes).map(([id, entry]) => ({\n                [id]: {\n                  ...entry,\n\n                  definition: jsonpointer.get(\n                    sources[entry.sourceId].ast,\n                    entry.pointer\n                  )\n                }\n              }))\n            )\n        )\n      }\n    },\n\n    /**\n     * data.views.decoder\n     *\n     * selector returns (ast node definition, data reference) => Promise<value>\n     */\n    decoder: createLeaf(\n      [\n        \"/views/referenceDeclarations\",\n        \"/next/state\",\n        \"/views/mappingKeys\",\n        \"/info/allocations/storage\"\n      ],\n\n      (referenceDeclarations, state, mappingKeys, storageAllocations) => (\n        definition,\n        ref\n      ) =>\n        forEvmState(definition, ref, {\n          referenceDeclarations,\n          state,\n          mappingKeys,\n          storageAllocations\n        })\n    ),\n\n    /*\n     * data.views.userDefinedTypes\n     */\n    userDefinedTypes: {\n      /*\n       * data.views.userDefinedTypes.contractDefinitions\n       * restrict to contracts only, and get their definitions\n       */\n      contractDefinitions: createLeaf(\n        [\"/info/userDefinedTypes\", \"/views/scopes/inlined\"],\n        (typeIds, scopes) =>\n          typeIds\n            .map(id => scopes[id].definition)\n            .filter(node => node.nodeType === \"ContractDefinition\")\n      )\n    },\n\n    /*\n     * data.views.referenceDeclarations\n     */\n    referenceDeclarations: createLeaf(\n      [\"./scopes/inlined\", \"/info/userDefinedTypes\"],\n      (scopes, userDefinedTypes) =>\n        Object.assign(\n          {},\n          ...userDefinedTypes.map(id => ({ [id]: scopes[id].definition }))\n        )\n    ),\n\n    /**\n     * data.views.mappingKeys\n     */\n    mappingKeys: createLeaf(\n      [\"/proc/mappedPaths\", \"/current/address\", \"/current/dummyAddress\"],\n      (mappedPaths, address, dummyAddress) =>\n        []\n          .concat(\n            ...Object.values(\n              (mappedPaths.byAddress[address || dummyAddress] || { byType: {} })\n                .byType\n            ).map(({ bySlotAddress }) => Object.values(bySlotAddress))\n          )\n          .filter(slot => slot.key !== undefined)\n    )\n  },\n\n  /**\n   * data.info\n   */\n  info: {\n    /**\n     * data.info.scopes (namespace)\n     */\n    scopes: {\n      /**\n       * data.info.scopes (selector)\n       * the raw version is below; this version accounts for inheritance\n       * NOTE: doesn't this selector really belong in data.views?  Yes.\n       * But, since it's replacing the old data.info.scopes (which is now\n       * data.info.scopes.raw), I didn't want to move it.\n       */\n      _: createLeaf([\"./raw\", \"/views/scopes/inlined/raw\"], (scopes, inlined) =>\n        Object.assign(\n          {},\n          ...Object.entries(scopes).map(([id, scope]) => {\n            let definition = inlined[id].definition;\n            if (\n              definition.nodeType !== \"ContractDefinition\" ||\n              scope.variables === undefined\n            ) {\n              return { [id]: scope };\n            }\n            //if we've reached this point, we should be dealing with a\n            //contract, and specifically a contract -- not an interface or\n            //library (those don't get \"variables\" entries in their scopes)\n            debug(\"contract id %d\", id);\n            let newScope = { ...scope };\n            //note that Solidity gives us the linearization in order from most\n            //derived to most base, but we want most base to most derived;\n            //annoyingly, reverse() is in-place, so we clone with slice() first\n            let linearizedBaseContractsFromBase = definition.linearizedBaseContracts\n              .slice()\n              .reverse();\n            //now, we put it all together\n            newScope.variables = []\n              .concat(\n                ...linearizedBaseContractsFromBase.map(\n                  contractId => scopes[contractId].variables\n                )\n              )\n              .filter(variable => {\n                //...except, HACK, let's filter out those constants we don't know\n                //how to read.  they'll just clutter things up.\n                let definition = inlined[variable.id].definition;\n                return (\n                  !definition.constant ||\n                  DecodeUtils.Definition.isSimpleConstant(definition.value)\n                );\n              });\n\n            return { [id]: newScope };\n          })\n        )\n      ),\n\n      /*\n       * data.info.scopes.raw\n       */\n      raw: createLeaf([\"/state\"], state => state.info.scopes.byId)\n    },\n\n    /*\n     * data.info.allocations\n     */\n    allocations: {\n      /*\n       * data.info.allocations.storage\n       */\n      storage: createLeaf([\"/state\"], state => state.info.allocations.storage)\n    },\n\n    /**\n     * data.info.userDefinedTypes\n     */\n    userDefinedTypes: createLeaf(\n      [\"/state\"],\n      state => state.info.userDefinedTypes\n    )\n  },\n\n  /**\n   * data.proc\n   */\n  proc: {\n    /**\n     * data.proc.assignments\n     */\n    assignments: createLeaf(\n      [\"/state\"],\n      state => state.proc.assignments\n      //note: this no longer fetches just the byId, but rather the whole\n      //assignments object\n    ),\n\n    /*\n     * data.proc.mappedPaths\n     */\n    mappedPaths: createLeaf([\"/state\"], state => state.proc.mappedPaths),\n\n    /**\n     * data.proc.decodingKeys\n     *\n     * number of keys that are still decoding\n     */\n    decodingKeys: createLeaf(\n      [\"./mappedPaths\"],\n      mappedPaths => mappedPaths.decodingStarted\n    )\n  },\n\n  /**\n   * data.current\n   */\n  current: {\n    /**\n     *\n     * data.current.scope\n     */\n    scope: {\n      /**\n       * data.current.scope.id\n       */\n      id: createLeaf([ast.current.node], node => node.id)\n    },\n\n    /**\n     * data.current.state\n     */\n    state: createStateSelectors(evm.current.state),\n\n    /**\n     * data.current.functionDepth\n     */\n\n    functionDepth: createLeaf([solidity.current.functionDepth], identity),\n\n    /**\n     * data.current.address\n     * Note: May be undefined (if in an initializer)\n     */\n\n    address: createLeaf([evm.current.call], call => call.address),\n\n    /**\n     * data.current.dummyAddress\n     */\n\n    dummyAddress: createLeaf([evm.current.creationDepth], identity),\n\n    /**\n     * data.current.identifiers (namespace)\n     */\n    identifiers: {\n      /**\n       * data.current.identifiers (selector)\n       *\n       * returns identifers and corresponding definition node ID\n       */\n      _: createLeaf(\n        [\"/views/scopes/inlined\", \"/current/scope\"],\n\n        (scopes, scope) => {\n          let cur = scope.id;\n          let variables = {};\n\n          do {\n            variables = Object.assign(\n              variables,\n              ...(scopes[cur].variables || [])\n                .filter(v => v.name !== \"\") //exclude anonymous output params\n                .filter(v => variables[v.name] == undefined)\n                .map(v => ({ [v.name]: v.id }))\n            );\n\n            cur = scopes[cur].parentId;\n          } while (cur != null);\n\n          return variables;\n        }\n      ),\n\n      /**\n       * data.current.identifiers.definitions\n       *\n       * current variable definitions\n       */\n      definitions: createLeaf(\n        [\"/views/scopes/inlined\", \"./_\"],\n\n        (scopes, identifiers) =>\n          Object.assign(\n            {},\n            ...Object.entries(identifiers).map(([identifier, id]) => {\n              let { definition } = scopes[id];\n\n              return { [identifier]: definition };\n            })\n          )\n      ),\n\n      /**\n       * data.current.identifiers.refs\n       *\n       * current variables' value refs\n       */\n      refs: createLeaf(\n        [\n          \"/proc/assignments\",\n          \"./_\",\n          solidity.current.functionDepth, //for pruning things too deep on stack\n          \"/current/address\", //for contract variables\n          \"/current/dummyAddress\" //for contract vars when in creation call\n        ],\n\n        (assignments, identifiers, currentDepth, address, dummyAddress) =>\n          Object.assign(\n            {},\n            ...Object.entries(identifiers).map(([identifier, astId]) => {\n              //note: this needs tweaking for specials later\n              let id;\n\n              //first, check if it's a contract var\n              if (address !== undefined) {\n                let matchIds = (assignments.byAstId[astId] || []).filter(\n                  idHash => assignments.byId[idHash].address === address\n                );\n                if (matchIds.length > 0) {\n                  id = matchIds[0]; //there should only be one!\n                }\n              } else {\n                let matchIds = (assignments.byAstId[astId] || []).filter(\n                  idHash =>\n                    assignments.byId[idHash].dummyAddress === dummyAddress\n                );\n                if (matchIds.length > 0) {\n                  id = matchIds[0]; //again, there should only be one!\n                }\n              }\n\n              //if not contract, it's local, so find the innermost\n              //(but not beyond current depth)\n              if (id === undefined) {\n                let matchFrames = (assignments.byAstId[astId] || [])\n                  .map(id => assignments.byId[id].stackframe)\n                  .filter(stackframe => stackframe !== undefined);\n\n                if (matchFrames.length > 0) {\n                  //this check isn't *really*\n                  //necessary, but may as well prevent stupid stuff\n                  let maxMatch = Math.min(\n                    currentDepth,\n                    Math.max(...matchFrames)\n                  );\n                  id = stableKeccak256({ astId, stackframe: maxMatch });\n                }\n              }\n\n              //if we still didn't find it, oh well\n\n              let { ref } = assignments.byId[id] || {};\n              if (!ref) {\n                return undefined;\n              }\n\n              return {\n                [identifier]: ref\n              };\n            })\n          )\n      ),\n\n      /**\n       * data.current.identifiers.decoded\n       *\n       * Returns an object with values as Promises\n       */\n      decoded: createLeaf(\n        [\"/views/decoder\", \"./definitions\", \"./refs\"],\n\n        async (decode, definitions, refs) => {\n          debug(\"setting up keyedPromises\");\n          const keyedPromises = Object.entries(refs).map(\n            async ([identifier, ref]) => ({\n              [identifier]: await decode(definitions[identifier], ref)\n            })\n          );\n          debug(\"set up keyedPromises\");\n          const keyedResults = await Promise.all(keyedPromises);\n          debug(\"got keyedResults\");\n          return DecodeUtils.Conversion.cleanContainers(\n            Object.assign({}, ...keyedResults)\n          );\n        }\n      )\n    }\n  },\n\n  /**\n   * data.next\n   */\n  next: {\n    /**\n     * data.next.state\n     */\n    state: createStateSelectors(evm.next.state)\n  }\n});\n\nexport default data;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_rg5m4u2ng.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _promise = (cov_rg5m4u2ng.s[1]++, __webpack_require__(22));var _promise2 = (cov_rg5m4u2ng.s[2]++, _interopRequireDefault(_promise));var _asyncToGenerator2 = (cov_rg5m4u2ng.s[3]++, __webpack_require__(1));var _asyncToGenerator3 = (cov_rg5m4u2ng.s[4]++, _interopRequireDefault(_asyncToGenerator2));var _values = (cov_rg5m4u2ng.s[5]++, __webpack_require__(23));var _values2 = (cov_rg5m4u2ng.s[6]++, _interopRequireDefault(_values));var _extends2 = (cov_rg5m4u2ng.s[7]++, __webpack_require__(13));var _extends3 = (cov_rg5m4u2ng.s[8]++, _interopRequireDefault(_extends2));var _entries = (cov_rg5m4u2ng.s[9]++, __webpack_require__(9));var _entries2 = (cov_rg5m4u2ng.s[10]++, _interopRequireDefault(_entries));var _assign = (cov_rg5m4u2ng.s[11]++, __webpack_require__(12));var _assign2 = (cov_rg5m4u2ng.s[12]++, _interopRequireDefault(_assign));var _debug = (cov_rg5m4u2ng.s[13]++, __webpack_require__(0));var _debug2 = (cov_rg5m4u2ng.s[14]++, _interopRequireDefault(_debug));var _reselectTree = (cov_rg5m4u2ng.s[15]++, __webpack_require__(14));var _jsonPointer = (cov_rg5m4u2ng.s[16]++, __webpack_require__(29));var _jsonPointer2 = (cov_rg5m4u2ng.s[17]++, _interopRequireDefault(_jsonPointer));var _helpers = (cov_rg5m4u2ng.s[18]++, __webpack_require__(3));var _selectors = (cov_rg5m4u2ng.s[19]++, __webpack_require__(19));var _selectors2 = (cov_rg5m4u2ng.s[20]++, _interopRequireDefault(_selectors));var _selectors3 = (cov_rg5m4u2ng.s[21]++, __webpack_require__(10));var _selectors4 = (cov_rg5m4u2ng.s[22]++, _interopRequireDefault(_selectors3));var _selectors5 = (cov_rg5m4u2ng.s[23]++, __webpack_require__(2));var _selectors6 = (cov_rg5m4u2ng.s[24]++, _interopRequireDefault(_selectors5));var _truffleDecodeUtils = (cov_rg5m4u2ng.s[25]++, __webpack_require__(6));var DecodeUtils = (cov_rg5m4u2ng.s[26]++, _interopRequireWildcard(_truffleDecodeUtils));var _truffleDecoder = (cov_rg5m4u2ng.s[27]++, __webpack_require__(31));function _interopRequireWildcard(obj) {
  cov_rg5m4u2ng.f[0]++;cov_rg5m4u2ng.s[28]++;if ((cov_rg5m4u2ng.b[1][0]++, obj) && (cov_rg5m4u2ng.b[1][1]++, obj.__esModule)) {
    cov_rg5m4u2ng.b[0][0]++;cov_rg5m4u2ng.s[29]++;return obj;
  } else {
    cov_rg5m4u2ng.b[0][1]++;var newObj = (cov_rg5m4u2ng.s[30]++, {});cov_rg5m4u2ng.s[31]++;if (obj != null) {
      cov_rg5m4u2ng.b[2][0]++;cov_rg5m4u2ng.s[32]++;for (var key in obj) {
        cov_rg5m4u2ng.s[33]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_rg5m4u2ng.b[3][0]++;cov_rg5m4u2ng.s[34]++;newObj[key] = obj[key];
        } else {
          cov_rg5m4u2ng.b[3][1]++;
        }
      }
    } else {
      cov_rg5m4u2ng.b[2][1]++;
    }cov_rg5m4u2ng.s[35]++;newObj.default = obj;cov_rg5m4u2ng.s[36]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_rg5m4u2ng.f[1]++;cov_rg5m4u2ng.s[37]++;return (cov_rg5m4u2ng.b[5][0]++, obj) && (cov_rg5m4u2ng.b[5][1]++, obj.__esModule) ? (cov_rg5m4u2ng.b[4][0]++, obj) : (cov_rg5m4u2ng.b[4][1]++, { default: obj });
}const debug = (cov_rg5m4u2ng.s[38]++, (0, _debug2.default)("debugger:data:selectors"));cov_rg5m4u2ng.s[39]++;const identity = x => {
  cov_rg5m4u2ng.f[2]++;cov_rg5m4u2ng.s[40]++;return x;
};function createStateSelectors({ stack, memory, storage }) {
  cov_rg5m4u2ng.f[3]++;cov_rg5m4u2ng.s[41]++;return { stack: (0, _reselectTree.createLeaf)([stack], words => {
      cov_rg5m4u2ng.f[4]++;cov_rg5m4u2ng.s[42]++;return ((cov_rg5m4u2ng.b[6][0]++, words) || (cov_rg5m4u2ng.b[6][1]++, [])).map(word => {
        cov_rg5m4u2ng.f[5]++;cov_rg5m4u2ng.s[43]++;return DecodeUtils.Conversion.toBytes(word);
      });
    }), memory: (0, _reselectTree.createLeaf)([memory], words => {
      cov_rg5m4u2ng.f[6]++;cov_rg5m4u2ng.s[44]++;return DecodeUtils.Conversion.toBytes(words.join(""));
    }), storage: (0, _reselectTree.createLeaf)([storage], mapping => {
      cov_rg5m4u2ng.f[7]++;cov_rg5m4u2ng.s[45]++;return (0, _assign2.default)({}, ...(0, _entries2.default)(mapping).map(([address, word]) => {
        cov_rg5m4u2ng.f[8]++;cov_rg5m4u2ng.s[46]++;return { [`0x${address}`]: DecodeUtils.Conversion.toBytes(word) };
      }));
    }) };
}const data = (cov_rg5m4u2ng.s[47]++, (0, _reselectTree.createSelectorTree)({ state: state => {
    cov_rg5m4u2ng.f[9]++;cov_rg5m4u2ng.s[48]++;return state.data;
  }, views: { ast: (0, _reselectTree.createLeaf)([_selectors2.default.current], tree => {
      cov_rg5m4u2ng.f[10]++;cov_rg5m4u2ng.s[49]++;return tree;
    }), atLastInstructionForSourceRange: (0, _reselectTree.createLeaf)([_selectors6.default.current.isSourceRangeFinal], final => {
      cov_rg5m4u2ng.f[11]++;cov_rg5m4u2ng.s[50]++;return final;
    }), scopes: { inlined: { _: (0, _reselectTree.createLeaf)(["/info/scopes", "./raw"], (scopes, inlined) => {
          cov_rg5m4u2ng.f[12]++;cov_rg5m4u2ng.s[51]++;return (0, _assign2.default)({}, ...(0, _entries2.default)(inlined).map(([id, info]) => {
            cov_rg5m4u2ng.f[13]++;let newInfo = (cov_rg5m4u2ng.s[52]++, (0, _extends3.default)({}, info));cov_rg5m4u2ng.s[53]++;newInfo.variables = scopes[id].variables;cov_rg5m4u2ng.s[54]++;return { [id]: newInfo };
          }));
        }), raw: (0, _reselectTree.createLeaf)(["/info/scopes/raw", _selectors6.default.info.sources], (scopes, sources) => {
          cov_rg5m4u2ng.f[14]++;cov_rg5m4u2ng.s[55]++;return (0, _assign2.default)({}, ...(0, _entries2.default)(scopes).map(([id, entry]) => {
            cov_rg5m4u2ng.f[15]++;cov_rg5m4u2ng.s[56]++;return { [id]: (0, _extends3.default)({}, entry, { definition: _jsonPointer2.default.get(sources[entry.sourceId].ast, entry.pointer) }) };
          }));
        }) } }, decoder: (0, _reselectTree.createLeaf)(["/views/referenceDeclarations", "/next/state", "/views/mappingKeys", "/info/allocations/storage"], (referenceDeclarations, state, mappingKeys, storageAllocations) => {
      cov_rg5m4u2ng.f[16]++;cov_rg5m4u2ng.s[57]++;return (definition, ref) => {
        cov_rg5m4u2ng.f[17]++;cov_rg5m4u2ng.s[58]++;return (0, _truffleDecoder.forEvmState)(definition, ref, { referenceDeclarations, state, mappingKeys, storageAllocations });
      };
    }), userDefinedTypes: { contractDefinitions: (0, _reselectTree.createLeaf)(["/info/userDefinedTypes", "/views/scopes/inlined"], (typeIds, scopes) => {
        cov_rg5m4u2ng.f[18]++;cov_rg5m4u2ng.s[59]++;return typeIds.map(id => {
          cov_rg5m4u2ng.f[19]++;cov_rg5m4u2ng.s[60]++;return scopes[id].definition;
        }).filter(node => {
          cov_rg5m4u2ng.f[20]++;cov_rg5m4u2ng.s[61]++;return node.nodeType === "ContractDefinition";
        });
      }) }, referenceDeclarations: (0, _reselectTree.createLeaf)(["./scopes/inlined", "/info/userDefinedTypes"], (scopes, userDefinedTypes) => {
      cov_rg5m4u2ng.f[21]++;cov_rg5m4u2ng.s[62]++;return (0, _assign2.default)({}, ...userDefinedTypes.map(id => {
        cov_rg5m4u2ng.f[22]++;cov_rg5m4u2ng.s[63]++;return { [id]: scopes[id].definition };
      }));
    }), mappingKeys: (0, _reselectTree.createLeaf)(["/proc/mappedPaths", "/current/address", "/current/dummyAddress"], (mappedPaths, address, dummyAddress) => {
      cov_rg5m4u2ng.f[23]++;cov_rg5m4u2ng.s[64]++;return [].concat(...(0, _values2.default)(((cov_rg5m4u2ng.b[7][0]++, mappedPaths.byAddress[(cov_rg5m4u2ng.b[8][0]++, address) || (cov_rg5m4u2ng.b[8][1]++, dummyAddress)]) || (cov_rg5m4u2ng.b[7][1]++, { byType: {} })).byType).map(({ bySlotAddress }) => {
        cov_rg5m4u2ng.f[24]++;cov_rg5m4u2ng.s[65]++;return (0, _values2.default)(bySlotAddress);
      })).filter(slot => {
        cov_rg5m4u2ng.f[25]++;cov_rg5m4u2ng.s[66]++;return slot.key !== undefined;
      });
    }) }, info: { scopes: { _: (0, _reselectTree.createLeaf)(["./raw", "/views/scopes/inlined/raw"], (scopes, inlined) => {
        cov_rg5m4u2ng.f[26]++;cov_rg5m4u2ng.s[67]++;return (0, _assign2.default)({}, ...(0, _entries2.default)(scopes).map(([id, scope]) => {
          cov_rg5m4u2ng.f[27]++;let definition = (cov_rg5m4u2ng.s[68]++, inlined[id].definition);cov_rg5m4u2ng.s[69]++;if ((cov_rg5m4u2ng.b[10][0]++, definition.nodeType !== "ContractDefinition") || (cov_rg5m4u2ng.b[10][1]++, scope.variables === undefined)) {
            cov_rg5m4u2ng.b[9][0]++;cov_rg5m4u2ng.s[70]++;return { [id]: scope };
          } else {
            cov_rg5m4u2ng.b[9][1]++;
          }cov_rg5m4u2ng.s[71]++;debug("contract id %d", id);let newScope = (cov_rg5m4u2ng.s[72]++, (0, _extends3.default)({}, scope));let linearizedBaseContractsFromBase = (cov_rg5m4u2ng.s[73]++, definition.linearizedBaseContracts.slice().reverse());cov_rg5m4u2ng.s[74]++;newScope.variables = [].concat(...linearizedBaseContractsFromBase.map(contractId => {
            cov_rg5m4u2ng.f[28]++;cov_rg5m4u2ng.s[75]++;return scopes[contractId].variables;
          })).filter(variable => {
            cov_rg5m4u2ng.f[29]++;let definition = (cov_rg5m4u2ng.s[76]++, inlined[variable.id].definition);cov_rg5m4u2ng.s[77]++;return (cov_rg5m4u2ng.b[11][0]++, !definition.constant) || (cov_rg5m4u2ng.b[11][1]++, DecodeUtils.Definition.isSimpleConstant(definition.value));
          });cov_rg5m4u2ng.s[78]++;return { [id]: newScope };
        }));
      }), raw: (0, _reselectTree.createLeaf)(["/state"], state => {
        cov_rg5m4u2ng.f[30]++;cov_rg5m4u2ng.s[79]++;return state.info.scopes.byId;
      }) }, allocations: { storage: (0, _reselectTree.createLeaf)(["/state"], state => {
        cov_rg5m4u2ng.f[31]++;cov_rg5m4u2ng.s[80]++;return state.info.allocations.storage;
      }) }, userDefinedTypes: (0, _reselectTree.createLeaf)(["/state"], state => {
      cov_rg5m4u2ng.f[32]++;cov_rg5m4u2ng.s[81]++;return state.info.userDefinedTypes;
    }) }, proc: { assignments: (0, _reselectTree.createLeaf)(["/state"], state => {
      cov_rg5m4u2ng.f[33]++;cov_rg5m4u2ng.s[82]++;return state.proc.assignments;
    }), mappedPaths: (0, _reselectTree.createLeaf)(["/state"], state => {
      cov_rg5m4u2ng.f[34]++;cov_rg5m4u2ng.s[83]++;return state.proc.mappedPaths;
    }), decodingKeys: (0, _reselectTree.createLeaf)(["./mappedPaths"], mappedPaths => {
      cov_rg5m4u2ng.f[35]++;cov_rg5m4u2ng.s[84]++;return mappedPaths.decodingStarted;
    }) }, current: { scope: { id: (0, _reselectTree.createLeaf)([_selectors2.default.current.node], node => {
        cov_rg5m4u2ng.f[36]++;cov_rg5m4u2ng.s[85]++;return node.id;
      }) }, state: createStateSelectors(_selectors4.default.current.state), functionDepth: (0, _reselectTree.createLeaf)([_selectors6.default.current.functionDepth], identity), address: (0, _reselectTree.createLeaf)([_selectors4.default.current.call], call => {
      cov_rg5m4u2ng.f[37]++;cov_rg5m4u2ng.s[86]++;return call.address;
    }), dummyAddress: (0, _reselectTree.createLeaf)([_selectors4.default.current.creationDepth], identity), identifiers: { _: (0, _reselectTree.createLeaf)(["/views/scopes/inlined", "/current/scope"], (scopes, scope) => {
        cov_rg5m4u2ng.f[38]++;let cur = (cov_rg5m4u2ng.s[87]++, scope.id);let variables = (cov_rg5m4u2ng.s[88]++, {});cov_rg5m4u2ng.s[89]++;do {
          cov_rg5m4u2ng.s[90]++;variables = (0, _assign2.default)(variables, ...((cov_rg5m4u2ng.b[12][0]++, scopes[cur].variables) || (cov_rg5m4u2ng.b[12][1]++, [])).filter(v => {
            cov_rg5m4u2ng.f[39]++;cov_rg5m4u2ng.s[91]++;return v.name !== "";
          }).filter(v => {
            cov_rg5m4u2ng.f[40]++;cov_rg5m4u2ng.s[92]++;return variables[v.name] == undefined;
          }).map(v => {
            cov_rg5m4u2ng.f[41]++;cov_rg5m4u2ng.s[93]++;return { [v.name]: v.id };
          }));cov_rg5m4u2ng.s[94]++;cur = scopes[cur].parentId;
        } while (cur != null);cov_rg5m4u2ng.s[95]++;return variables;
      }), definitions: (0, _reselectTree.createLeaf)(["/views/scopes/inlined", "./_"], (scopes, identifiers) => {
        cov_rg5m4u2ng.f[42]++;cov_rg5m4u2ng.s[96]++;return (0, _assign2.default)({}, ...(0, _entries2.default)(identifiers).map(([identifier, id]) => {
          cov_rg5m4u2ng.f[43]++;let { definition } = (cov_rg5m4u2ng.s[97]++, scopes[id]);cov_rg5m4u2ng.s[98]++;return { [identifier]: definition };
        }));
      }), refs: (0, _reselectTree.createLeaf)(["/proc/assignments", "./_", _selectors6.default.current.functionDepth, "/current/address", "/current/dummyAddress"], (assignments, identifiers, currentDepth, address, dummyAddress) => {
        cov_rg5m4u2ng.f[44]++;cov_rg5m4u2ng.s[99]++;return (0, _assign2.default)({}, ...(0, _entries2.default)(identifiers).map(([identifier, astId]) => {
          cov_rg5m4u2ng.f[45]++;let id;cov_rg5m4u2ng.s[100]++;if (address !== undefined) {
            cov_rg5m4u2ng.b[13][0]++;let matchIds = (cov_rg5m4u2ng.s[101]++, ((cov_rg5m4u2ng.b[14][0]++, assignments.byAstId[astId]) || (cov_rg5m4u2ng.b[14][1]++, [])).filter(idHash => {
              cov_rg5m4u2ng.f[46]++;cov_rg5m4u2ng.s[102]++;return assignments.byId[idHash].address === address;
            }));cov_rg5m4u2ng.s[103]++;if (matchIds.length > 0) {
              cov_rg5m4u2ng.b[15][0]++;cov_rg5m4u2ng.s[104]++;id = matchIds[0];
            } else {
              cov_rg5m4u2ng.b[15][1]++;
            }
          } else {
            cov_rg5m4u2ng.b[13][1]++;let matchIds = (cov_rg5m4u2ng.s[105]++, ((cov_rg5m4u2ng.b[16][0]++, assignments.byAstId[astId]) || (cov_rg5m4u2ng.b[16][1]++, [])).filter(idHash => {
              cov_rg5m4u2ng.f[47]++;cov_rg5m4u2ng.s[106]++;return assignments.byId[idHash].dummyAddress === dummyAddress;
            }));cov_rg5m4u2ng.s[107]++;if (matchIds.length > 0) {
              cov_rg5m4u2ng.b[17][0]++;cov_rg5m4u2ng.s[108]++;id = matchIds[0];
            } else {
              cov_rg5m4u2ng.b[17][1]++;
            }
          }cov_rg5m4u2ng.s[109]++;if (id === undefined) {
            cov_rg5m4u2ng.b[18][0]++;let matchFrames = (cov_rg5m4u2ng.s[110]++, ((cov_rg5m4u2ng.b[19][0]++, assignments.byAstId[astId]) || (cov_rg5m4u2ng.b[19][1]++, [])).map(id => {
              cov_rg5m4u2ng.f[48]++;cov_rg5m4u2ng.s[111]++;return assignments.byId[id].stackframe;
            }).filter(stackframe => {
              cov_rg5m4u2ng.f[49]++;cov_rg5m4u2ng.s[112]++;return stackframe !== undefined;
            }));cov_rg5m4u2ng.s[113]++;if (matchFrames.length > 0) {
              cov_rg5m4u2ng.b[20][0]++;let maxMatch = (cov_rg5m4u2ng.s[114]++, Math.min(currentDepth, Math.max(...matchFrames)));cov_rg5m4u2ng.s[115]++;id = (0, _helpers.stableKeccak256)({ astId, stackframe: maxMatch });
            } else {
              cov_rg5m4u2ng.b[20][1]++;
            }
          } else {
            cov_rg5m4u2ng.b[18][1]++;
          }let { ref } = (cov_rg5m4u2ng.s[116]++, (cov_rg5m4u2ng.b[21][0]++, assignments.byId[id]) || (cov_rg5m4u2ng.b[21][1]++, {}));cov_rg5m4u2ng.s[117]++;if (!ref) {
            cov_rg5m4u2ng.b[22][0]++;cov_rg5m4u2ng.s[118]++;return undefined;
          } else {
            cov_rg5m4u2ng.b[22][1]++;
          }cov_rg5m4u2ng.s[119]++;return { [identifier]: ref };
        }));
      }), decoded: (0, _reselectTree.createLeaf)(["/views/decoder", "./definitions", "./refs"], (() => {
        cov_rg5m4u2ng.f[50]++;var _ref = (cov_rg5m4u2ng.s[120]++, (0, _asyncToGenerator3.default)(function* (decode, definitions, refs) {
          cov_rg5m4u2ng.f[51]++;cov_rg5m4u2ng.s[121]++;debug("setting up keyedPromises");const keyedPromises = (cov_rg5m4u2ng.s[122]++, (0, _entries2.default)(refs).map((() => {
            cov_rg5m4u2ng.f[52]++;var _ref2 = (cov_rg5m4u2ng.s[123]++, (0, _asyncToGenerator3.default)(function* ([identifier, ref]) {
              cov_rg5m4u2ng.f[53]++;cov_rg5m4u2ng.s[124]++;return { [identifier]: yield decode(definitions[identifier], ref) };
            }));cov_rg5m4u2ng.s[125]++;return function (_x4) {
              cov_rg5m4u2ng.f[54]++;cov_rg5m4u2ng.s[126]++;return _ref2.apply(this, arguments);
            };
          })()));cov_rg5m4u2ng.s[127]++;debug("set up keyedPromises");const keyedResults = (cov_rg5m4u2ng.s[128]++, yield _promise2.default.all(keyedPromises));cov_rg5m4u2ng.s[129]++;debug("got keyedResults");cov_rg5m4u2ng.s[130]++;return DecodeUtils.Conversion.cleanContainers((0, _assign2.default)({}, ...keyedResults));
        }));cov_rg5m4u2ng.s[131]++;return function (_x, _x2, _x3) {
          cov_rg5m4u2ng.f[55]++;cov_rg5m4u2ng.s[132]++;return _ref.apply(this, arguments);
        };
      })()) } }, next: { state: createStateSelectors(_selectors4.default.next.state) } }));cov_rg5m4u2ng.s[133]++;exports.default = data;

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_lonpljgf9 = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/data/sagas/index.js",
      hash = "60dca3f01576e4950d4f24a97395ac991bd54dab",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/data/sagas/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 16 }, end: { line: 7, column: 56 } }, "2": { start: { line: 9, column: 16 }, end: { line: 9, column: 49 } }, "3": { start: { line: 11, column: 0 }, end: { line: 11, column: 22 } }, "4": { start: { line: 12, column: 0 }, end: { line: 12, column: 26 } }, "5": { start: { line: 13, column: 0 }, end: { line: 13, column: 32 } }, "6": { start: { line: 14, column: 0 }, end: { line: 14, column: 22 } }, "7": { start: { line: 15, column: 0 }, end: { line: 15, column: 44 } }, "8": { start: { line: 16, column: 0 }, end: { line: 16, column: 46 } }, "9": { start: { line: 17, column: 0 }, end: { line: 17, column: 20 } }, "10": { start: { line: 19, column: 13 }, end: { line: 19, column: 29 } }, "11": { start: { line: 21, column: 14 }, end: { line: 21, column: 44 } }, "12": { start: { line: 23, column: 15 }, end: { line: 23, column: 44 } }, "13": { start: { line: 25, column: 15 }, end: { line: 25, column: 37 } }, "14": { start: { line: 27, column: 15 }, end: { line: 27, column: 43 } }, "15": { start: { line: 29, column: 16 }, end: { line: 29, column: 37 } }, "16": { start: { line: 31, column: 14 }, end: { line: 31, column: 48 } }, "17": { start: { line: 33, column: 13 }, end: { line: 33, column: 39 } }, "18": { start: { line: 35, column: 12 }, end: { line: 35, column: 43 } }, "19": { start: { line: 37, column: 17 }, end: { line: 37, column: 40 } }, "20": { start: { line: 39, column: 18 }, end: { line: 39, column: 52 } }, "21": { start: { line: 41, column: 26 }, end: { line: 41, column: 57 } }, "22": { start: { line: 43, column: 18 }, end: { line: 43, column: 62 } }, "23": { start: { line: 45, column: 22 }, end: { line: 45, column: 48 } }, "24": { start: { line: 47, column: 10 }, end: { line: 47, column: 26 } }, "25": { start: { line: 49, column: 11 }, end: { line: 49, column: 38 } }, "26": { start: { line: 51, column: 40 }, end: { line: 51, column: 267 } }, "27": { start: { line: 51, column: 69 }, end: { line: 51, column: 80 } }, "28": { start: { line: 51, column: 103 }, end: { line: 51, column: 105 } }, "29": { start: { line: 51, column: 107 }, end: { line: 51, column: 228 } }, "30": { start: { line: 51, column: 126 }, end: { line: 51, column: 226 } }, "31": { start: { line: 51, column: 149 }, end: { line: 51, column: 224 } }, "32": { start: { line: 51, column: 201 }, end: { line: 51, column: 224 } }, "33": { start: { line: 51, column: 229 }, end: { line: 51, column: 250 } }, "34": { start: { line: 51, column: 251 }, end: { line: 51, column: 265 } }, "35": { start: { line: 53, column: 39 }, end: { line: 53, column: 93 } }, "36": { start: { line: 55, column: 14 }, end: { line: 55, column: 57 } }, "37": { start: { line: 58, column: 2 }, end: { line: 58, column: 85 } }, "38": { start: { line: 62, column: 2 }, end: { line: 62, column: 56 } }, "39": { start: { line: 66, column: 2 }, end: { line: 66, column: 59 } }, "40": { start: { line: 70, column: 2 }, end: { line: 70, column: 20 } }, "41": { start: { line: 72, column: 2 }, end: { line: 72, column: 36 } }, "42": { start: { line: 73, column: 2 }, end: { line: 73, column: 42 } }, "43": { start: { line: 77, column: 13 }, end: { line: 77, column: 77 } }, "44": { start: { line: 78, column: 15 }, end: { line: 78, column: 76 } }, "45": { start: { line: 79, column: 15 }, end: { line: 79, column: 83 } }, "46": { start: { line: 80, column: 30 }, end: { line: 80, column: 105 } }, "47": { start: { line: 81, column: 20 }, end: { line: 81, column: 92 } }, "48": { start: { line: 82, column: 27 }, end: { line: 82, column: 91 } }, "49": { start: { line: 83, column: 20 }, end: { line: 83, column: 84 } }, "50": { start: { line: 84, column: 21 }, end: { line: 84, column: 90 } }, "51": { start: { line: 85, column: 16 }, end: { line: 85, column: 79 } }, "52": { start: { line: 86, column: 21 }, end: { line: 86, column: 89 } }, "53": { start: { line: 88, column: 14 }, end: { line: 88, column: 78 } }, "54": { start: { line: 89, column: 2 }, end: { line: 91, column: 3 } }, "55": { start: { line: 90, column: 4 }, end: { line: 90, column: 11 } }, "56": { start: { line: 93, column: 12 }, end: { line: 93, column: 28 } }, "57": { start: { line: 96, column: 2 }, end: { line: 98, column: 3 } }, "58": { start: { line: 97, column: 4 }, end: { line: 97, column: 11 } }, "59": { start: { line: 107, column: 2 }, end: { line: 109, column: 3 } }, "60": { start: { line: 108, column: 4 }, end: { line: 108, column: 11 } }, "61": { start: { line: 111, column: 2 }, end: { line: 398, column: 3 } }, "62": { start: { line: 113, column: 23 }, end: { line: 113, column: 49 } }, "63": { start: { line: 117, column: 30 }, end: { line: 117, column: 58 } }, "64": { start: { line: 119, column: 6 }, end: { line: 119, column: 48 } }, "65": { start: { line: 121, column: 28 }, end: { line: 121, column: 31 } }, "66": { start: { line: 122, column: 6 }, end: { line: 122, column: 33 } }, "67": { start: { line: 124, column: 6 }, end: { line: 135, column: 7 } }, "68": { start: { line: 125, column: 20 }, end: { line: 125, column: 63 } }, "69": { start: { line: 126, column: 22 }, end: { line: 131, column: 9 } }, "70": { start: { line: 132, column: 25 }, end: { line: 132, column: 99 } }, "71": { start: { line: 133, column: 8 }, end: { line: 133, column: 53 } }, "72": { start: { line: 134, column: 8 }, end: { line: 134, column: 33 } }, "73": { start: { line: 137, column: 6 }, end: { line: 137, column: 40 } }, "74": { start: { line: 138, column: 6 }, end: { line: 138, column: 43 } }, "75": { start: { line: 140, column: 6 }, end: { line: 140, column: 59 } }, "76": { start: { line: 141, column: 6 }, end: { line: 141, column: 12 } }, "77": { start: { line: 144, column: 23 }, end: { line: 144, column: 43 } }, "78": { start: { line: 146, column: 6 }, end: { line: 146, column: 40 } }, "79": { start: { line: 147, column: 6 }, end: { line: 147, column: 43 } }, "80": { start: { line: 148, column: 6 }, end: { line: 148, column: 41 } }, "81": { start: { line: 149, column: 6 }, end: { line: 149, column: 33 } }, "82": { start: { line: 150, column: 6 }, end: { line: 160, column: 7 } }, "83": { start: { line: 151, column: 8 }, end: { line: 151, column: 24 } }, "84": { start: { line: 152, column: 20 }, end: { line: 152, column: 96 } }, "85": { start: { line: 153, column: 21 }, end: { line: 153, column: 57 } }, "86": { start: { line: 155, column: 8 }, end: { line: 158, column: 11 } }, "87": { start: { line: 159, column: 8 }, end: { line: 159, column: 46 } }, "88": { start: { line: 161, column: 6 }, end: { line: 161, column: 43 } }, "89": { start: { line: 163, column: 6 }, end: { line: 163, column: 59 } }, "90": { start: { line: 164, column: 6 }, end: { line: 164, column: 12 } }, "91": { start: { line: 167, column: 18 }, end: { line: 167, column: 25 } }, "92": { start: { line: 168, column: 6 }, end: { line: 168, column: 41 } }, "93": { start: { line: 169, column: 6 }, end: { line: 169, column: 61 } }, "94": { start: { line: 179, column: 6 }, end: { line: 181, column: 7 } }, "95": { start: { line: 179, column: 106 }, end: { line: 179, column: 213 } }, "96": { start: { line: 180, column: 8 }, end: { line: 180, column: 14 } }, "97": { start: { line: 184, column: 6 }, end: { line: 189, column: 9 } }, "98": { start: { line: 190, column: 6 }, end: { line: 190, column: 62 } }, "99": { start: { line: 191, column: 6 }, end: { line: 191, column: 59 } }, "100": { start: { line: 192, column: 6 }, end: { line: 192, column: 12 } }, "101": { start: { line: 198, column: 6 }, end: { line: 198, column: 33 } }, "102": { start: { line: 203, column: 6 }, end: { line: 203, column: 66 } }, "103": { start: { line: 206, column: 6 }, end: { line: 206, column: 43 } }, "104": { start: { line: 214, column: 6 }, end: { line: 221, column: 7 } }, "105": { start: { line: 215, column: 8 }, end: { line: 215, column: 45 } }, "106": { start: { line: 216, column: 8 }, end: { line: 216, column: 80 } }, "107": { start: { line: 217, column: 8 }, end: { line: 217, column: 88 } }, "108": { start: { line: 218, column: 8 }, end: { line: 218, column: 80 } }, "109": { start: { line: 219, column: 8 }, end: { line: 219, column: 61 } }, "110": { start: { line: 220, column: 8 }, end: { line: 220, column: 14 } }, "111": { start: { line: 223, column: 26 }, end: { line: 223, column: 86 } }, "112": { start: { line: 230, column: 6 }, end: { line: 230, column: 60 } }, "113": { start: { line: 233, column: 28 }, end: { line: 233, column: 48 } }, "114": { start: { line: 237, column: 6 }, end: { line: 311, column: 7 } }, "115": { start: { line: 238, column: 22 }, end: { line: 238, column: 40 } }, "116": { start: { line: 240, column: 25 }, end: { line: 240, column: 69 } }, "117": { start: { line: 241, column: 26 }, end: { line: 241, column: 67 } }, "118": { start: { line: 243, column: 31 }, end: { line: 243, column: 79 } }, "119": { start: { line: 245, column: 8 }, end: { line: 309, column: 13 } }, "120": { start: { line: 254, column: 10 }, end: { line: 256, column: 13 } }, "121": { start: { line: 257, column: 15 }, end: { line: 309, column: 13 } }, "122": { start: { line: 264, column: 10 }, end: { line: 270, column: 11 } }, "123": { start: { line: 265, column: 12 }, end: { line: 265, column: 140 } }, "124": { start: { line: 269, column: 12 }, end: { line: 269, column: 46 } }, "125": { start: { line: 271, column: 10 }, end: { line: 271, column: 91 } }, "126": { start: { line: 272, column: 15 }, end: { line: 309, column: 13 } }, "127": { start: { line: 277, column: 10 }, end: { line: 277, column: 83 } }, "128": { start: { line: 278, column: 41 }, end: { line: 278, column: 97 } }, "129": { start: { line: 279, column: 10 }, end: { line: 279, column: 73 } }, "130": { start: { line: 280, column: 10 }, end: { line: 288, column: 11 } }, "131": { start: { line: 281, column: 42 }, end: { line: 281, column: 72 } }, "132": { start: { line: 283, column: 12 }, end: { line: 287, column: 13 } }, "133": { start: { line: 284, column: 14 }, end: { line: 286, column: 17 } }, "134": { start: { line: 299, column: 13 }, end: { line: 309, column: 13 } }, "135": { start: { line: 300, column: 12 }, end: { line: 300, column: 59 } }, "136": { start: { line: 308, column: 14 }, end: { line: 308, column: 32 } }, "137": { start: { line: 313, column: 6 }, end: { line: 313, column: 61 } }, "138": { start: { line: 316, column: 6 }, end: { line: 316, column: 42 } }, "139": { start: { line: 317, column: 6 }, end: { line: 317, column: 47 } }, "140": { start: { line: 321, column: 6 }, end: { line: 349, column: 7 } }, "141": { start: { line: 322, column: 8 }, end: { line: 322, column: 92 } }, "142": { start: { line: 324, column: 19 }, end: { line: 324, column: 27 } }, "143": { start: { line: 328, column: 8 }, end: { line: 340, column: 9 } }, "144": { start: { line: 330, column: 12 }, end: { line: 330, column: 82 } }, "145": { start: { line: 331, column: 12 }, end: { line: 331, column: 124 } }, "146": { start: { line: 332, column: 12 }, end: { line: 332, column: 18 } }, "147": { start: { line: 334, column: 12 }, end: { line: 334, column: 34 } }, "148": { start: { line: 335, column: 12 }, end: { line: 335, column: 81 } }, "149": { start: { line: 336, column: 12 }, end: { line: 336, column: 46 } }, "150": { start: { line: 337, column: 12 }, end: { line: 337, column: 18 } }, "151": { start: { line: 339, column: 12 }, end: { line: 339, column: 48 } }, "152": { start: { line: 341, column: 8 }, end: { line: 341, column: 31 } }, "153": { start: { line: 344, column: 8 }, end: { line: 344, column: 202 } }, "154": { start: { line: 347, column: 8 }, end: { line: 347, column: 50 } }, "155": { start: { line: 348, column: 8 }, end: { line: 348, column: 61 } }, "156": { start: { line: 351, column: 6 }, end: { line: 351, column: 12 } }, "157": { start: { line: 357, column: 6 }, end: { line: 357, column: 66 } }, "158": { start: { line: 359, column: 6 }, end: { line: 359, column: 34 } }, "159": { start: { line: 362, column: 6 }, end: { line: 362, column: 39 } }, "160": { start: { line: 367, column: 6 }, end: { line: 371, column: 7 } }, "161": { start: { line: 368, column: 8 }, end: { line: 368, column: 46 } }, "162": { start: { line: 369, column: 8 }, end: { line: 369, column: 61 } }, "163": { start: { line: 370, column: 8 }, end: { line: 370, column: 14 } }, "164": { start: { line: 374, column: 6 }, end: { line: 374, column: 90 } }, "165": { start: { line: 376, column: 6 }, end: { line: 376, column: 22 } }, "166": { start: { line: 378, column: 21 }, end: { line: 378, column: 66 } }, "167": { start: { line: 379, column: 29 }, end: { line: 379, column: 86 } }, "168": { start: { line: 381, column: 6 }, end: { line: 381, column: 78 } }, "169": { start: { line: 383, column: 6 }, end: { line: 383, column: 29 } }, "170": { start: { line: 384, column: 6 }, end: { line: 384, column: 200 } }, "171": { start: { line: 387, column: 6 }, end: { line: 389, column: 7 } }, "172": { start: { line: 388, column: 8 }, end: { line: 388, column: 14 } }, "173": { start: { line: 391, column: 6 }, end: { line: 391, column: 67 } }, "174": { start: { line: 392, column: 6 }, end: { line: 392, column: 28 } }, "175": { start: { line: 393, column: 6 }, end: { line: 393, column: 65 } }, "176": { start: { line: 395, column: 6 }, end: { line: 395, column: 66 } }, "177": { start: { line: 396, column: 6 }, end: { line: 396, column: 59 } }, "178": { start: { line: 397, column: 6 }, end: { line: 397, column: 12 } }, "179": { start: { line: 402, column: 2 }, end: { line: 402, column: 43 } }, "180": { start: { line: 406, column: 2 }, end: { line: 406, column: 37 } }, "181": { start: { line: 407, column: 2 }, end: { line: 407, column: 71 } }, "182": { start: { line: 408, column: 2 }, end: { line: 408, column: 26 } }, "183": { start: { line: 412, column: 18 }, end: { line: 412, column: 108 } }, "184": { start: { line: 413, column: 2 }, end: { line: 413, column: 35 } }, "185": { start: { line: 414, column: 30 }, end: { line: 414, column: 105 } }, "186": { start: { line: 415, column: 2 }, end: { line: 415, column: 59 } }, "187": { start: { line: 416, column: 27 }, end: { line: 416, column: 103 } }, "188": { start: { line: 417, column: 2 }, end: { line: 417, column: 53 } }, "189": { start: { line: 418, column: 2 }, end: { line: 418, column: 64 } }, "190": { start: { line: 422, column: 11 }, end: { line: 422, column: 47 } }, "191": { start: { line: 423, column: 2 }, end: { line: 423, column: 56 } }, "192": { start: { line: 427, column: 12 }, end: { line: 427, column: 28 } }, "193": { start: { line: 429, column: 16 }, end: { line: 429, column: 108 } }, "194": { start: { line: 431, column: 19 }, end: { line: 431, column: 92 } }, "195": { start: { line: 433, column: 2 }, end: { line: 433, column: 51 } }, "196": { start: { line: 437, column: 15 }, end: { line: 440, column: 4 } }, "197": { start: { line: 441, column: 20 }, end: { line: 441, column: 44 } }, "198": { start: { line: 446, column: 2 }, end: { line: 453, column: 3 } }, "199": { start: { line: 447, column: 4 }, end: { line: 447, column: 128 } }, "200": { start: { line: 451, column: 17 }, end: { line: 451, column: 89 } }, "201": { start: { line: 452, column: 4 }, end: { line: 452, column: 22 } }, "202": { start: { line: 457, column: 2 }, end: { line: 457, column: 57 } }, "203": { start: { line: 460, column: 0 }, end: { line: 460, column: 57 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 51, column: 9 }, end: { line: 51, column: 32 } }, loc: { start: { line: 51, column: 38 }, end: { line: 51, column: 269 } }, line: 51 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 53, column: 9 }, end: { line: 53, column: 31 } }, loc: { start: { line: 53, column: 37 }, end: { line: 53, column: 95 } }, line: 53 }, "2": { name: "scope", decl: { start: { line: 57, column: 10 }, end: { line: 57, column: 15 } }, loc: { start: { line: 57, column: 53 }, end: { line: 59, column: 1 } }, line: 57 }, "3": { name: "declare", decl: { start: { line: 61, column: 10 }, end: { line: 61, column: 17 } }, loc: { start: { line: 61, column: 24 }, end: { line: 63, column: 1 } }, line: 61 }, "4": { name: "defineType", decl: { start: { line: 65, column: 10 }, end: { line: 65, column: 20 } }, loc: { start: { line: 65, column: 27 }, end: { line: 67, column: 1 } }, line: 65 }, "5": { name: "tickSaga", decl: { start: { line: 69, column: 10 }, end: { line: 69, column: 18 } }, loc: { start: { line: 69, column: 21 }, end: { line: 74, column: 1 } }, line: 69 }, "6": { name: "variablesAndMappingsSaga", decl: { start: { line: 76, column: 10 }, end: { line: 76, column: 34 } }, loc: { start: { line: 76, column: 37 }, end: { line: 399, column: 1 } }, line: 76 }, "7": { name: "(anonymous_7)", decl: { start: { line: 179, column: 100 }, end: { line: 179, column: 101 } }, loc: { start: { line: 179, column: 106 }, end: { line: 179, column: 213 } }, line: 179 }, "8": { name: "reset", decl: { start: { line: 401, column: 10 }, end: { line: 401, column: 15 } }, loc: { start: { line: 401, column: 18 }, end: { line: 403, column: 1 } }, line: 401 }, "9": { name: "learnAddressSaga", decl: { start: { line: 405, column: 10 }, end: { line: 405, column: 26 } }, loc: { start: { line: 405, column: 50 }, end: { line: 409, column: 1 } }, line: 405 }, "10": { name: "recordAllocations", decl: { start: { line: 411, column: 10 }, end: { line: 411, column: 27 } }, loc: { start: { line: 411, column: 30 }, end: { line: 419, column: 1 } }, line: 411 }, "11": { name: "makeAssignment", decl: { start: { line: 421, column: 9 }, end: { line: 421, column: 23 } }, loc: { start: { line: 421, column: 36 }, end: { line: 424, column: 1 } }, line: 421 }, "12": { name: "literalAssignments", decl: { start: { line: 426, column: 9 }, end: { line: 426, column: 27 } }, loc: { start: { line: 426, column: 55 }, end: { line: 434, column: 1 } }, line: 426 }, "13": { name: "fetchBasePath", decl: { start: { line: 436, column: 9 }, end: { line: 436, column: 22 } }, loc: { start: { line: 436, column: 80 }, end: { line: 454, column: 1 } }, line: 436 }, "14": { name: "saga", decl: { start: { line: 456, column: 10 }, end: { line: 456, column: 14 } }, loc: { start: { line: 456, column: 17 }, end: { line: 458, column: 1 } }, line: 456 } }, branchMap: { "0": { loc: { start: { line: 51, column: 40 }, end: { line: 51, column: 267 } }, type: "if", locations: [{ start: { line: 51, column: 40 }, end: { line: 51, column: 267 } }, { start: { line: 51, column: 40 }, end: { line: 51, column: 267 } }], line: 51 }, "1": { loc: { start: { line: 51, column: 44 }, end: { line: 51, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 51, column: 44 }, end: { line: 51, column: 47 } }, { start: { line: 51, column: 51 }, end: { line: 51, column: 65 } }], line: 51 }, "2": { loc: { start: { line: 51, column: 107 }, end: { line: 51, column: 228 } }, type: "if", locations: [{ start: { line: 51, column: 107 }, end: { line: 51, column: 228 } }, { start: { line: 51, column: 107 }, end: { line: 51, column: 228 } }], line: 51 }, "3": { loc: { start: { line: 51, column: 149 }, end: { line: 51, column: 224 } }, type: "if", locations: [{ start: { line: 51, column: 149 }, end: { line: 51, column: 224 } }, { start: { line: 51, column: 149 }, end: { line: 51, column: 224 } }], line: 51 }, "4": { loc: { start: { line: 53, column: 46 }, end: { line: 53, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 53, column: 70 }, end: { line: 53, column: 73 } }, { start: { line: 53, column: 76 }, end: { line: 53, column: 92 } }], line: 53 }, "5": { loc: { start: { line: 53, column: 46 }, end: { line: 53, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 53, column: 46 }, end: { line: 53, column: 49 } }, { start: { line: 53, column: 53 }, end: { line: 53, column: 67 } }], line: 53 }, "6": { loc: { start: { line: 89, column: 2 }, end: { line: 91, column: 3 } }, type: "if", locations: [{ start: { line: 89, column: 2 }, end: { line: 91, column: 3 } }, { start: { line: 89, column: 2 }, end: { line: 91, column: 3 } }], line: 89 }, "7": { loc: { start: { line: 96, column: 2 }, end: { line: 98, column: 3 } }, type: "if", locations: [{ start: { line: 96, column: 2 }, end: { line: 98, column: 3 } }, { start: { line: 96, column: 2 }, end: { line: 98, column: 3 } }], line: 96 }, "8": { loc: { start: { line: 107, column: 2 }, end: { line: 109, column: 3 } }, type: "if", locations: [{ start: { line: 107, column: 2 }, end: { line: 109, column: 3 } }, { start: { line: 107, column: 2 }, end: { line: 109, column: 3 } }], line: 107 }, "9": { loc: { start: { line: 111, column: 2 }, end: { line: 398, column: 3 } }, type: "switch", locations: [{ start: { line: 112, column: 4 }, end: { line: 141, column: 12 } }, { start: { line: 143, column: 4 }, end: { line: 164, column: 12 } }, { start: { line: 166, column: 4 }, end: { line: 192, column: 12 } }, { start: { line: 194, column: 4 }, end: { line: 351, column: 12 } }, { start: { line: 353, column: 4 }, end: { line: 384, column: 200 } }, { start: { line: 386, column: 4 }, end: { line: 397, column: 12 } }], line: 111 }, "10": { loc: { start: { line: 152, column: 20 }, end: { line: 152, column: 96 } }, type: "cond-expr", locations: [{ start: { line: 152, column: 44 }, end: { line: 152, column: 66 } }, { start: { line: 152, column: 69 }, end: { line: 152, column: 96 } }], line: 152 }, "11": { loc: { start: { line: 157, column: 42 }, end: { line: 157, column: 91 } }, type: "binary-expr", locations: [{ start: { line: 157, column: 42 }, end: { line: 157, column: 85 } }, { start: { line: 157, column: 89 }, end: { line: 157, column: 91 } }], line: 157 }, "12": { loc: { start: { line: 157, column: 43 }, end: { line: 157, column: 80 } }, type: "binary-expr", locations: [{ start: { line: 157, column: 43 }, end: { line: 157, column: 74 } }, { start: { line: 157, column: 78 }, end: { line: 157, column: 80 } }], line: 157 }, "13": { loc: { start: { line: 179, column: 6 }, end: { line: 181, column: 7 } }, type: "if", locations: [{ start: { line: 179, column: 6 }, end: { line: 181, column: 7 } }, { start: { line: 179, column: 6 }, end: { line: 181, column: 7 } }], line: 179 }, "14": { loc: { start: { line: 179, column: 10 }, end: { line: 179, column: 214 } }, type: "binary-expr", locations: [{ start: { line: 179, column: 10 }, end: { line: 179, column: 57 } }, { start: { line: 179, column: 61 }, end: { line: 179, column: 214 } }], line: 179 }, "15": { loc: { start: { line: 179, column: 106 }, end: { line: 179, column: 213 } }, type: "binary-expr", locations: [{ start: { line: 179, column: 106 }, end: { line: 179, column: 155 } }, { start: { line: 179, column: 159 }, end: { line: 179, column: 213 } }], line: 179 }, "16": { loc: { start: { line: 214, column: 6 }, end: { line: 221, column: 7 } }, type: "if", locations: [{ start: { line: 214, column: 6 }, end: { line: 221, column: 7 } }, { start: { line: 214, column: 6 }, end: { line: 221, column: 7 } }], line: 214 }, "17": { loc: { start: { line: 214, column: 10 }, end: { line: 214, column: 291 } }, type: "binary-expr", locations: [{ start: { line: 214, column: 10 }, end: { line: 214, column: 70 } }, { start: { line: 214, column: 74 }, end: { line: 214, column: 134 } }, { start: { line: 214, column: 139 }, end: { line: 214, column: 290 } }], line: 214 }, "18": { loc: { start: { line: 214, column: 139 }, end: { line: 214, column: 290 } }, type: "cond-expr", locations: [{ start: { line: 214, column: 182 }, end: { line: 214, column: 248 } }, { start: { line: 214, column: 251 }, end: { line: 214, column: 290 } }], line: 214 }, "19": { loc: { start: { line: 243, column: 32 }, end: { line: 243, column: 74 } }, type: "binary-expr", locations: [{ start: { line: 243, column: 32 }, end: { line: 243, column: 68 } }, { start: { line: 243, column: 72 }, end: { line: 243, column: 74 } }], line: 243 }, "20": { loc: { start: { line: 245, column: 8 }, end: { line: 309, column: 13 } }, type: "if", locations: [{ start: { line: 245, column: 8 }, end: { line: 309, column: 13 } }, { start: { line: 245, column: 8 }, end: { line: 309, column: 13 } }], line: 245 }, "21": { loc: { start: { line: 257, column: 15 }, end: { line: 309, column: 13 } }, type: "if", locations: [{ start: { line: 257, column: 15 }, end: { line: 309, column: 13 } }, { start: { line: 257, column: 15 }, end: { line: 309, column: 13 } }], line: 257 }, "22": { loc: { start: { line: 264, column: 10 }, end: { line: 270, column: 11 } }, type: "if", locations: [{ start: { line: 264, column: 10 }, end: { line: 270, column: 11 } }, { start: { line: 264, column: 10 }, end: { line: 270, column: 11 } }], line: 264 }, "23": { loc: { start: { line: 272, column: 15 }, end: { line: 309, column: 13 } }, type: "if", locations: [{ start: { line: 272, column: 15 }, end: { line: 309, column: 13 } }, { start: { line: 272, column: 15 }, end: { line: 309, column: 13 } }], line: 272 }, "24": { loc: { start: { line: 272, column: 19 }, end: { line: 272, column: 104 } }, type: "binary-expr", locations: [{ start: { line: 272, column: 19 }, end: { line: 272, column: 56 } }, { start: { line: 272, column: 60 }, end: { line: 272, column: 104 } }], line: 272 }, "25": { loc: { start: { line: 280, column: 10 }, end: { line: 288, column: 11 } }, type: "if", locations: [{ start: { line: 280, column: 10 }, end: { line: 288, column: 11 } }, { start: { line: 280, column: 10 }, end: { line: 288, column: 11 } }], line: 280 }, "26": { loc: { start: { line: 283, column: 12 }, end: { line: 287, column: 13 } }, type: "if", locations: [{ start: { line: 283, column: 12 }, end: { line: 287, column: 13 } }, { start: { line: 283, column: 12 }, end: { line: 287, column: 13 } }], line: 283 }, "27": { loc: { start: { line: 299, column: 13 }, end: { line: 309, column: 13 } }, type: "if", locations: [{ start: { line: 299, column: 13 }, end: { line: 309, column: 13 } }, { start: { line: 299, column: 13 }, end: { line: 309, column: 13 } }], line: 299 }, "28": { loc: { start: { line: 321, column: 6 }, end: { line: 349, column: 7 } }, type: "if", locations: [{ start: { line: 321, column: 6 }, end: { line: 349, column: 7 } }, { start: { line: 321, column: 6 }, end: { line: 349, column: 7 } }], line: 321 }, "29": { loc: { start: { line: 328, column: 8 }, end: { line: 340, column: 9 } }, type: "switch", locations: [{ start: { line: 329, column: 10 }, end: { line: 332, column: 18 } }, { start: { line: 333, column: 10 }, end: { line: 337, column: 18 } }, { start: { line: 338, column: 10 }, end: { line: 339, column: 48 } }], line: 328 }, "30": { loc: { start: { line: 344, column: 57 }, end: { line: 344, column: 80 } }, type: "binary-expr", locations: [{ start: { line: 344, column: 57 }, end: { line: 344, column: 64 } }, { start: { line: 344, column: 68 }, end: { line: 344, column: 80 } }], line: 344 }, "31": { loc: { start: { line: 367, column: 6 }, end: { line: 371, column: 7 } }, type: "if", locations: [{ start: { line: 367, column: 6 }, end: { line: 371, column: 7 } }, { start: { line: 367, column: 6 }, end: { line: 371, column: 7 } }], line: 367 }, "32": { loc: { start: { line: 367, column: 10 }, end: { line: 367, column: 228 } }, type: "binary-expr", locations: [{ start: { line: 367, column: 10 }, end: { line: 367, column: 71 } }, { start: { line: 367, column: 76 }, end: { line: 367, column: 227 } }], line: 367 }, "33": { loc: { start: { line: 367, column: 76 }, end: { line: 367, column: 227 } }, type: "cond-expr", locations: [{ start: { line: 367, column: 119 }, end: { line: 367, column: 185 } }, { start: { line: 367, column: 188 }, end: { line: 367, column: 227 } }], line: 367 }, "34": { loc: { start: { line: 384, column: 55 }, end: { line: 384, column: 78 } }, type: "binary-expr", locations: [{ start: { line: 384, column: 55 }, end: { line: 384, column: 62 } }, { start: { line: 384, column: 66 }, end: { line: 384, column: 78 } }], line: 384 }, "35": { loc: { start: { line: 387, column: 6 }, end: { line: 389, column: 7 } }, type: "if", locations: [{ start: { line: 387, column: 6 }, end: { line: 389, column: 7 } }, { start: { line: 387, column: 6 }, end: { line: 389, column: 7 } }], line: 387 }, "36": { loc: { start: { line: 446, column: 2 }, end: { line: 453, column: 3 } }, type: "if", locations: [{ start: { line: 446, column: 2 }, end: { line: 453, column: 3 } }, { start: { line: 446, column: 2 }, end: { line: 453, column: 3 } }], line: 446 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0, "49": 0, "50": 0, "51": 0, "52": 0, "53": 0, "54": 0, "55": 0, "56": 0, "57": 0, "58": 0, "59": 0, "60": 0, "61": 0, "62": 0, "63": 0, "64": 0, "65": 0, "66": 0, "67": 0, "68": 0, "69": 0, "70": 0, "71": 0, "72": 0, "73": 0, "74": 0, "75": 0, "76": 0, "77": 0, "78": 0, "79": 0, "80": 0, "81": 0, "82": 0, "83": 0, "84": 0, "85": 0, "86": 0, "87": 0, "88": 0, "89": 0, "90": 0, "91": 0, "92": 0, "93": 0, "94": 0, "95": 0, "96": 0, "97": 0, "98": 0, "99": 0, "100": 0, "101": 0, "102": 0, "103": 0, "104": 0, "105": 0, "106": 0, "107": 0, "108": 0, "109": 0, "110": 0, "111": 0, "112": 0, "113": 0, "114": 0, "115": 0, "116": 0, "117": 0, "118": 0, "119": 0, "120": 0, "121": 0, "122": 0, "123": 0, "124": 0, "125": 0, "126": 0, "127": 0, "128": 0, "129": 0, "130": 0, "131": 0, "132": 0, "133": 0, "134": 0, "135": 0, "136": 0, "137": 0, "138": 0, "139": 0, "140": 0, "141": 0, "142": 0, "143": 0, "144": 0, "145": 0, "146": 0, "147": 0, "148": 0, "149": 0, "150": 0, "151": 0, "152": 0, "153": 0, "154": 0, "155": 0, "156": 0, "157": 0, "158": 0, "159": 0, "160": 0, "161": 0, "162": 0, "163": 0, "164": 0, "165": 0, "166": 0, "167": 0, "168": 0, "169": 0, "170": 0, "171": 0, "172": 0, "173": 0, "174": 0, "175": 0, "176": 0, "177": 0, "178": 0, "179": 0, "180": 0, "181": 0, "182": 0, "183": 0, "184": 0, "185": 0, "186": 0, "187": 0, "188": 0, "189": 0, "190": 0, "191": 0, "192": 0, "193": 0, "194": 0, "195": 0, "196": 0, "197": 0, "198": 0, "199": 0, "200": 0, "201": 0, "202": 0, "203": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0, 0], "7": [0, 0], "8": [0, 0], "9": [0, 0, 0, 0, 0, 0], "10": [0, 0], "11": [0, 0], "12": [0, 0], "13": [0, 0], "14": [0, 0], "15": [0, 0], "16": [0, 0], "17": [0, 0, 0], "18": [0, 0], "19": [0, 0], "20": [0, 0], "21": [0, 0], "22": [0, 0], "23": [0, 0], "24": [0, 0], "25": [0, 0], "26": [0, 0], "27": [0, 0], "28": [0, 0], "29": [0, 0, 0], "30": [0, 0], "31": [0, 0], "32": [0, 0], "33": [0, 0], "34": [0, 0], "35": [0, 0], "36": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/data/sagas/index.js"], names: ["scope", "declare", "defineType", "reset", "learnAddressSaga", "recordAllocations", "saga", "actions", "trace", "DecodeUtils", "debug", "nodeId", "pointer", "parentId", "sourceId", "node", "tickSaga", "variablesAndMappingsSaga", "signalTickSagaCompletion", "data", "views", "ast", "decode", "decoder", "scopes", "inlined", "referenceDeclarations", "allocations", "info", "storage", "currentAssignments", "proc", "assignments", "mappedPaths", "currentDepth", "current", "functionDepth", "address", "dummyAddress", "stack", "next", "state", "top", "length", "assignment", "baseExpression", "slot", "path", "atLastInstructionForSourceRange", "nodeType", "parameters", "reverseParameters", "slice", "reverse", "currentPosition", "byId", "parameter", "words", "Definition", "stackSize", "from", "to", "makeAssignment", "astId", "id", "stackframe", "assign", "allocation", "members", "Number", "idObj", "undefined", "fullId", "ref", "varId", "byAstId", "some", "literalAssignments", "typeClass", "isReference", "referenceType", "isMapping", "keyDefinition", "mapKeyDecoding", "indexValue", "indexDefinition", "indexExpression", "indexId", "indexIdObj", "fullIndexId", "indexReference", "isSimpleConstant", "definition", "splicedDefinition", "spliceLocation", "referencedDeclaration", "referenceDeclaration", "indexConstantDeclaration", "constant", "indexConstantDefinition", "value", "kind", "arguments", "fetchBasePath", "hashPath", "isDynamicArray", "offset", "muln", "key", "keyEncoding", "BN", "mapPathAndAssign", "typeIdentifier", "expression", "structId", "typeId", "memberAllocation", "clone", "typeDescriptions", "learnAddress", "contracts", "userDefinedTypes", "contractDefinitions", "storageAllocations", "allocate", "literal", "baseNode", "basePathRef", "byAddress", "byType", "bySlotAddress", "slotAddress", "Conversion", "toBN", "TICK"], mappings: "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", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:data:sagas\");\n\nimport { put, takeEvery, select, call, putResolve } from \"redux-saga/effects\";\n\nimport { prefixName, stableKeccak256 } from \"lib/helpers\";\n\nimport { TICK } from \"lib/trace/actions\";\nimport * as actions from \"../actions\";\nimport * as trace from \"lib/trace/sagas\";\n\nimport data from \"../selectors\";\n\nimport * as DecodeUtils from \"truffle-decode-utils\";\nimport { getStorageAllocations, readStack, storageSize } from \"truffle-decoder\";\nimport BN from \"bn.js\";\n\nexport function* scope(nodeId, pointer, parentId, sourceId) {\n  yield putResolve(actions.scope(nodeId, pointer, parentId, sourceId));\n}\n\nexport function* declare(node) {\n  yield putResolve(actions.declare(node));\n}\n\nexport function* defineType(node) {\n  yield putResolve(actions.defineType(node));\n}\n\nfunction* tickSaga() {\n  debug(\"got TICK\");\n\n  yield* variablesAndMappingsSaga();\n  yield* trace.signalTickSagaCompletion();\n}\n\nfunction* variablesAndMappingsSaga() {\n  let node = (yield select(data.views.ast)).node;\n  let decode = yield select(data.views.decoder);\n  let scopes = yield select(data.views.scopes.inlined);\n  let referenceDeclarations = yield select(data.views.referenceDeclarations);\n  let allocations = yield select(data.info.allocations.storage);\n  let currentAssignments = yield select(data.proc.assignments);\n  let mappedPaths = yield select(data.proc.mappedPaths);\n  let currentDepth = yield select(data.current.functionDepth);\n  let address = yield select(data.current.address); //may be undefined\n  let dummyAddress = yield select(data.current.dummyAddress);\n\n  let stack = yield select(data.next.state.stack);\n  if (!stack) {\n    return;\n  }\n\n  let top = stack.length - 1;\n  var assignment, assignments, baseExpression, slot, path;\n\n  if (!node) {\n    return;\n  }\n\n  // stack is only ready for interpretation after the last step of each\n  // source range\n  //\n  // the data module always looks at the result of a particular opcode\n  // (i.e., the following trace step's stack/memory/storage), so this\n  // asserts that the _current_ operation is the final one before\n  // proceeding\n  if (!(yield select(data.views.atLastInstructionForSourceRange))) {\n    return;\n  }\n\n  switch (node.nodeType) {\n    case \"FunctionDefinition\":\n      let parameters = node.parameters.parameters;\n      //note that we do *not* include return parameters, since those are\n      //handled by the VariableDeclaration case (no, I don't know why it\n      //works out that way)\n      let reverseParameters = parameters.slice().reverse();\n      //reverse is in-place, so we use slice() to clone first\n      debug(\"reverseParameters %o\", parameters);\n\n      let currentPosition = top;\n      assignments = { byId: {} };\n\n      for (let parameter of reverseParameters) {\n        let words = DecodeUtils.Definition.stackSize(parameter);\n        let pointer = {\n          stack: {\n            from: currentPosition - words + 1,\n            to: currentPosition\n          }\n        };\n        let assignment = makeAssignment(\n          { astId: parameter.id, stackframe: currentDepth },\n          pointer\n        );\n        assignments.byId[assignment.id] = assignment;\n        currentPosition -= words;\n      }\n\n      debug(\"Function definition case\");\n      debug(\"assignments %O\", assignments);\n\n      yield put(actions.assign(assignments));\n      break;\n\n    case \"ContractDefinition\":\n      let allocation = allocations[node.id];\n\n      debug(\"Contract definition case\");\n      debug(\"allocations %O\", allocations);\n      debug(\"allocation %O\", allocation);\n      assignments = { byId: {} };\n      for (let id in allocation.members) {\n        id = Number(id); //not sure why we're getting them as strings, but...\n        let idObj =\n          address !== undefined\n            ? { astId: id, address }\n            : { astId: id, dummyAddress };\n        let fullId = stableKeccak256(idObj);\n        //we don't use makeAssignment here as we had to compute the ID anyway\n        assignment = {\n          ...idObj,\n          id: fullId,\n          ref: {\n            ...((currentAssignments.byId[fullId] || {}).ref || {}),\n            ...allocation.members[id].pointer\n          }\n        };\n        assignments.byId[fullId] = assignment;\n      }\n      debug(\"assignments %O\", assignments);\n\n      yield put(actions.assign(assignments));\n      break;\n\n    case \"VariableDeclaration\":\n      let varId = node.id;\n      debug(\"Variable declaration case\");\n      debug(\"currentDepth %d varId %d\", currentDepth, varId);\n\n      //NOTE: We're going to make the assignment conditional here; here's why.\n      //There's a bug where calling the autogenerated accessor for a public\n      //contract variable causes the debugger to see two additional\n      //declarations for that variable... which this code reads as local\n      //variable declarations.  Rather than prevent this at the source, we're\n      //just going to check for it here, by not adding a local variable if said\n      //variable is already a contract variable.\n\n      if (\n        currentAssignments.byAstId[varId] !== undefined &&\n        currentAssignments.byAstId[varId].some(\n          id =>\n            currentAssignments.byId[id].address !== undefined ||\n            currentAssignments.byId[id].dummyAddress !== undefined\n        )\n      ) {\n        break;\n      }\n\n      //otherwise, go ahead and make the assignment\n      assignment = makeAssignment(\n        { astId: varId, stackframe: currentDepth },\n        {\n          stack: {\n            from: top - DecodeUtils.Definition.stackSize(node) + 1,\n            to: top\n          }\n        }\n      );\n      assignments = { byId: { [assignment.id]: assignment } };\n      yield put(actions.assign(assignments));\n      break;\n\n    case \"IndexAccess\":\n      // to track `mapping` types known indices\n      // (and also *some* known indices for arrays)\n\n      debug(\"Index access case\");\n\n      //we're going to start by doing the same thing as in the default case\n      //(see below) -- getting things ready for an assignment.  Then we're\n      //going to forget this for a bit while we handle the rest...\n      assignments = literalAssignments(node, stack, currentDepth);\n\n      //we'll need this\n      baseExpression = node.baseExpression;\n\n      //but first, a diversion -- is this something that could not *possibly*\n      //lead to a mapping?  i.e., either a bytes, or an array of non-reference\n      //types, or a non-storage array?\n      //if so, we'll just do the assign and quit out early\n      //(note: we write it this way because mappings aren't caught by\n      //isReference)\n      if (\n        DecodeUtils.Definition.typeClass(baseExpression) === \"bytes\" ||\n        (DecodeUtils.Definition.typeClass(baseExpression) === \"array\" &&\n          (DecodeUtils.Definition.isReference(node)\n            ? DecodeUtils.Definition.referenceType(baseExpression) !== \"storage\"\n            : !DecodeUtils.Definition.isMapping(node)))\n      ) {\n        debug(\"Index case bailed out early\");\n        debug(\"typeClass %s\", DecodeUtils.Definition.typeClass(baseExpression));\n        debug(\n          \"referenceType %s\",\n          DecodeUtils.Definition.referenceType(baseExpression)\n        );\n        debug(\"isReference(node) %o\", DecodeUtils.Definition.isReference(node));\n        yield put(actions.assign(assignments));\n        break;\n      }\n\n      let keyDefinition = DecodeUtils.Definition.keyDefinition(\n        baseExpression,\n        scopes\n      );\n      //if we're dealing with an array, this will just hack up a uint definition\n      //:)\n\n      //begin subsection: key decoding\n      //(I tried factoring this out into its own saga but it didn't work when I\n      //did :P )\n      yield put(actions.mapKeyDecoding(true));\n\n      let indexValue;\n      let indexDefinition = node.indexExpression;\n\n      //why the loop? see the end of the block it heads for an explanatory\n      //comment\n      while (indexValue === undefined) {\n        let indexId = indexDefinition.id;\n        //indices need to be identified by stackframe\n        let indexIdObj = { astId: indexId, stackframe: currentDepth };\n        let fullIndexId = stableKeccak256(indexIdObj);\n\n        const indexReference = (currentAssignments.byId[fullIndexId] || {}).ref;\n\n        if (DecodeUtils.Definition.isSimpleConstant(indexDefinition)) {\n          //while the main case is the next one, where we look for a prior\n          //assignment, we need this case (and need it first) for two reasons:\n          //1. some constant expressions (specifically, string and hex literals)\n          //aren't sourcemapped to and so won't have a prior assignment\n          //2. if the key type is bytesN but the expression is constant, the\n          //value will go on the stack *left*-padded instead of right-padded,\n          //so looking for a prior assignment will read the wrong value.\n          //so instead it's preferable to use the constant directly.\n          indexValue = yield call(decode, keyDefinition, {\n            definition: indexDefinition\n          });\n        } else if (indexReference) {\n          //if a prior assignment is found\n          let splicedDefinition;\n          //in general, we want to decode using the key definition, not the index\n          //definition. however, the key definition may have the wrong location\n          //on it.  so, when applicable, we splice the index definition location\n          //onto the key definition location.\n          if (DecodeUtils.Definition.isReference(indexDefinition)) {\n            splicedDefinition = DecodeUtils.Definition.spliceLocation(\n              keyDefinition,\n              DecodeUtils.Definition.referenceType(indexDefinition)\n            );\n            //we could put code here to add on the \"_ptr\" ending when absent,\n            //but we presently ignore that ending, so we'll skip that\n          } else {\n            splicedDefinition = keyDefinition;\n          }\n          indexValue = yield call(decode, splicedDefinition, indexReference);\n        } else if (\n          indexDefinition.referencedDeclaration &&\n          scopes[indexDefinition.referenceDeclaration]\n        ) {\n          //there's one more reason we might have failed to decode it: it might be a\n          //constant state variable.  Unfortunately, we don't know how to decode all\n          //those at the moment, but we can handle the ones we do know how to decode.\n          //In the future hopefully we will decode all of them\n          debug(\n            \"referencedDeclaration %d\",\n            indexDefinition.referencedDeclaration\n          );\n          let indexConstantDeclaration =\n            scopes[indexDefinition.referencedDeclaration].definition;\n          debug(\"indexConstantDeclaration %O\", indexConstantDeclaration);\n          if (indexConstantDeclaration.constant) {\n            let indexConstantDefinition = indexConstantDeclaration.value;\n            //next line filters out constants we don't know how to handle\n            if (\n              DecodeUtils.Definition.isSimpleConstant(indexConstantDefinition)\n            ) {\n              indexValue = yield call(decode, keyDefinition, {\n                definition: indexConstantDeclaration.value\n              });\n            }\n          }\n        }\n        //there's still one more reason we might have failed to decode it:\n        //certain (silent) type conversions aren't sourcemapped either.\n        //(thankfully, any type conversion that actually *does* something seems\n        //to be sourcemapped.)  So if we've failed to decode it, we try again\n        //with the argument of the type conversion, if it is one; we leave\n        //indexValue undefined so the loop will continue\n        //(note that this case is last for a reason; if this were earlier, it\n        //would catch *non*-silent type conversions, which we want to just read\n        //off the stack)\n        else if (indexDefinition.kind === \"typeConversion\") {\n          indexDefinition = indexDefinition.arguments[0];\n        }\n        //otherwise, we've just totally failed to decode it, so we mark\n        //indexValue as null (as distinct from undefined) to indicate this.  In\n        //the future, we should be able to decode all mapping keys, but we're\n        //not quite there yet, sorry (because we can't yet handle all constant\n        //state variables)\n        else {\n          indexValue = null;\n        }\n        //now, as mentioned, retry in the typeConversion case\n      }\n\n      yield put(actions.mapKeyDecoding(false));\n      //end subsection: key decoding\n\n      debug(\"index value %O\", indexValue);\n      debug(\"keyDefinition %o\", keyDefinition);\n\n      //whew! But we're not done yet -- we need to turn this decoded key into\n      //an actual path (assuming we *did* decode it)\n      if (indexValue !== null) {\n        path = fetchBasePath(\n          baseExpression,\n          mappedPaths,\n          currentAssignments,\n          currentDepth\n        );\n\n        let slot = { path };\n\n        //we need to do things differently depending on whether we're dealing\n        //with an array or mapping\n        switch (DecodeUtils.Definition.typeClass(baseExpression)) {\n          case \"array\":\n            slot.hashPath = DecodeUtils.Definition.isDynamicArray(\n              baseExpression\n            );\n            slot.offset = indexValue.muln(\n              storageSize(node, referenceDeclarations, allocations).words\n            );\n            break;\n          case \"mapping\":\n            slot.key = indexValue;\n            slot.keyEncoding = DecodeUtils.Definition.keyEncoding(\n              keyDefinition\n            );\n            slot.offset = new BN(0);\n            break;\n          default:\n            debug(\"unrecognized index access!\");\n        }\n        debug(\"slot %O\", slot);\n\n        //now, map it! (and do the assign as well)\n        yield put(\n          actions.mapPathAndAssign(\n            address || dummyAddress,\n            slot,\n            assignments,\n            DecodeUtils.Definition.typeIdentifier(node),\n            DecodeUtils.Definition.typeIdentifier(baseExpression)\n          )\n        );\n      } else {\n        //if we failed to decode, just do the assign from above\n        debug(\"failed to decode, just assigning\");\n        yield put(actions.assign(assignments));\n      }\n\n      break;\n\n    case \"MemberAccess\":\n      //we're going to start by doing the same thing as in the default case\n      //(see below) -- getting things ready for an assignment.  Then we're\n      //going to forget this for a bit while we handle the rest...\n      assignments = literalAssignments(node, stack, currentDepth);\n\n      debug(\"Member access case\");\n\n      //MemberAccess uses expression, not baseExpression\n      baseExpression = node.expression;\n\n      //if this isn't a storage struct, or the element isn't of reference type,\n      //we'll just do the assignment and quit out (again, note that mappings\n      //aren't caught by isReference)\n      if (\n        DecodeUtils.Definition.typeClass(baseExpression) !== \"struct\" ||\n        (DecodeUtils.Definition.isReference(node)\n          ? DecodeUtils.Definition.referenceType(baseExpression) !== \"storage\"\n          : !DecodeUtils.Definition.isMapping(node))\n      ) {\n        debug(\"Member case bailed out early\");\n        yield put(actions.assign(assignments));\n        break;\n      }\n\n      //but if it is a storage struct, we have to map the path as well\n      path = fetchBasePath(\n        baseExpression,\n        mappedPaths,\n        currentAssignments,\n        currentDepth\n      );\n\n      slot = { path };\n\n      let structId = DecodeUtils.Definition.typeId(baseExpression);\n      let memberAllocation =\n        allocations[structId].members[node.referencedDeclaration];\n\n      slot.offset = memberAllocation.pointer.storage.from.slot.offset.clone();\n\n      debug(\"slot %o\", slot);\n      yield put(\n        actions.mapPathAndAssign(\n          address || dummyAddress,\n          slot,\n          assignments,\n          DecodeUtils.Definition.typeIdentifier(node),\n          DecodeUtils.Definition.typeIdentifier(baseExpression)\n        )\n      );\n\n    default:\n      if (node.typeDescriptions == undefined) {\n        break;\n      }\n\n      debug(\"decoding expression value %O\", node.typeDescriptions);\n      debug(\"default case\");\n      debug(\"currentDepth %d node.id %d\", currentDepth, node.id);\n\n      assignments = literalAssignments(node, stack, currentDepth);\n      yield put(actions.assign(assignments));\n      break;\n  }\n}\n\nexport function* reset() {\n  yield put(actions.reset());\n}\n\nexport function* learnAddressSaga(dummyAddress, address) {\n  debug(\"about to learn an address\");\n  yield put(actions.learnAddress(dummyAddress, address));\n  debug(\"address learnt\");\n}\n\nexport function* recordAllocations() {\n  let contracts = yield select(data.views.userDefinedTypes.contractDefinitions);\n  debug(\"contracts %O\", contracts);\n  let referenceDeclarations = yield select(data.views.referenceDeclarations);\n  debug(\"referenceDeclarations %O\", referenceDeclarations);\n  let storageAllocations = getStorageAllocations(\n    referenceDeclarations,\n    contracts\n  );\n  debug(\"storageAllocations %O\", storageAllocations);\n  yield put(actions.allocate(storageAllocations));\n}\n\nfunction makeAssignment(idObj, ref) {\n  let id = stableKeccak256(idObj);\n  return { ...idObj, id, ref };\n}\n\nfunction literalAssignments(node, stack, currentDepth) {\n  let top = stack.length - 1;\n\n  let literal = readStack(\n    stack,\n    top - DecodeUtils.Definition.stackSize(node) + 1,\n    top\n  );\n\n  let assignment = makeAssignment(\n    { astId: node.id, stackframe: currentDepth },\n    { literal }\n  );\n\n  return { byId: { [assignment.id]: assignment } };\n}\n\nfunction fetchBasePath(\n  baseNode,\n  mappedPaths,\n  currentAssignments,\n  currentDepth\n) {\n  let fullId = stableKeccak256({\n    astId: baseNode.id,\n    stackframe: currentDepth\n  });\n  let basePathRef = mappedPaths.byId[fullId];\n  //may be undefined! this means that the base is not an index or member\n  //access, but just an ordinary mapping or array or struct.  note that it may\n  //be via a pointer! for this reason, we fetch the base from the stack rather\n  //than from the allocation table\n  if (basePathRef !== undefined) {\n    return mappedPaths.byAddress[basePathRef.address].byType[\n      basePathRef.typeIdentifier\n    ].bySlotAddress[basePathRef.slotAddress];\n  } else {\n    //base expression is an expression, and so has a literal assigned to\n    //it\n    let offset = DecodeUtils.Conversion.toBN(\n      currentAssignments.byId[fullId].ref.literal\n    );\n    return { offset };\n  }\n}\n\nexport function* saga() {\n  yield takeEvery(TICK, tickSaga);\n}\n\nexport default prefixName(\"data\", saga);\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_lonpljgf9.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _extends2 = (cov_lonpljgf9.s[1]++, __webpack_require__(13));var _extends3 = (cov_lonpljgf9.s[2]++, _interopRequireDefault(_extends2));cov_lonpljgf9.s[3]++;exports.scope = scope;cov_lonpljgf9.s[4]++;exports.declare = declare;cov_lonpljgf9.s[5]++;exports.defineType = defineType;cov_lonpljgf9.s[6]++;exports.reset = reset;cov_lonpljgf9.s[7]++;exports.learnAddressSaga = learnAddressSaga;cov_lonpljgf9.s[8]++;exports.recordAllocations = recordAllocations;cov_lonpljgf9.s[9]++;exports.saga = saga;var _debug = (cov_lonpljgf9.s[10]++, __webpack_require__(0));var _debug2 = (cov_lonpljgf9.s[11]++, _interopRequireDefault(_debug));var _effects = (cov_lonpljgf9.s[12]++, __webpack_require__(15));var _helpers = (cov_lonpljgf9.s[13]++, __webpack_require__(3));var _actions = (cov_lonpljgf9.s[14]++, __webpack_require__(20));var _actions2 = (cov_lonpljgf9.s[15]++, __webpack_require__(34));var actions = (cov_lonpljgf9.s[16]++, _interopRequireWildcard(_actions2));var _sagas = (cov_lonpljgf9.s[17]++, __webpack_require__(21));var trace = (cov_lonpljgf9.s[18]++, _interopRequireWildcard(_sagas));var _selectors = (cov_lonpljgf9.s[19]++, __webpack_require__(25));var _selectors2 = (cov_lonpljgf9.s[20]++, _interopRequireDefault(_selectors));var _truffleDecodeUtils = (cov_lonpljgf9.s[21]++, __webpack_require__(6));var DecodeUtils = (cov_lonpljgf9.s[22]++, _interopRequireWildcard(_truffleDecodeUtils));var _truffleDecoder = (cov_lonpljgf9.s[23]++, __webpack_require__(31));var _bn = (cov_lonpljgf9.s[24]++, __webpack_require__(18));var _bn2 = (cov_lonpljgf9.s[25]++, _interopRequireDefault(_bn));function _interopRequireWildcard(obj) {
  cov_lonpljgf9.f[0]++;cov_lonpljgf9.s[26]++;if ((cov_lonpljgf9.b[1][0]++, obj) && (cov_lonpljgf9.b[1][1]++, obj.__esModule)) {
    cov_lonpljgf9.b[0][0]++;cov_lonpljgf9.s[27]++;return obj;
  } else {
    cov_lonpljgf9.b[0][1]++;var newObj = (cov_lonpljgf9.s[28]++, {});cov_lonpljgf9.s[29]++;if (obj != null) {
      cov_lonpljgf9.b[2][0]++;cov_lonpljgf9.s[30]++;for (var key in obj) {
        cov_lonpljgf9.s[31]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_lonpljgf9.b[3][0]++;cov_lonpljgf9.s[32]++;newObj[key] = obj[key];
        } else {
          cov_lonpljgf9.b[3][1]++;
        }
      }
    } else {
      cov_lonpljgf9.b[2][1]++;
    }cov_lonpljgf9.s[33]++;newObj.default = obj;cov_lonpljgf9.s[34]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_lonpljgf9.f[1]++;cov_lonpljgf9.s[35]++;return (cov_lonpljgf9.b[5][0]++, obj) && (cov_lonpljgf9.b[5][1]++, obj.__esModule) ? (cov_lonpljgf9.b[4][0]++, obj) : (cov_lonpljgf9.b[4][1]++, { default: obj });
}const debug = (cov_lonpljgf9.s[36]++, (0, _debug2.default)("debugger:data:sagas"));function* scope(nodeId, pointer, parentId, sourceId) {
  cov_lonpljgf9.f[2]++;cov_lonpljgf9.s[37]++;yield (0, _effects.putResolve)(actions.scope(nodeId, pointer, parentId, sourceId));
}function* declare(node) {
  cov_lonpljgf9.f[3]++;cov_lonpljgf9.s[38]++;yield (0, _effects.putResolve)(actions.declare(node));
}function* defineType(node) {
  cov_lonpljgf9.f[4]++;cov_lonpljgf9.s[39]++;yield (0, _effects.putResolve)(actions.defineType(node));
}function* tickSaga() {
  cov_lonpljgf9.f[5]++;cov_lonpljgf9.s[40]++;debug("got TICK");cov_lonpljgf9.s[41]++;yield* variablesAndMappingsSaga();cov_lonpljgf9.s[42]++;yield* trace.signalTickSagaCompletion();
}function* variablesAndMappingsSaga() {
  cov_lonpljgf9.f[6]++;let node = (cov_lonpljgf9.s[43]++, (yield (0, _effects.select)(_selectors2.default.views.ast)).node);let decode = (cov_lonpljgf9.s[44]++, yield (0, _effects.select)(_selectors2.default.views.decoder));let scopes = (cov_lonpljgf9.s[45]++, yield (0, _effects.select)(_selectors2.default.views.scopes.inlined));let referenceDeclarations = (cov_lonpljgf9.s[46]++, yield (0, _effects.select)(_selectors2.default.views.referenceDeclarations));let allocations = (cov_lonpljgf9.s[47]++, yield (0, _effects.select)(_selectors2.default.info.allocations.storage));let currentAssignments = (cov_lonpljgf9.s[48]++, yield (0, _effects.select)(_selectors2.default.proc.assignments));let mappedPaths = (cov_lonpljgf9.s[49]++, yield (0, _effects.select)(_selectors2.default.proc.mappedPaths));let currentDepth = (cov_lonpljgf9.s[50]++, yield (0, _effects.select)(_selectors2.default.current.functionDepth));let address = (cov_lonpljgf9.s[51]++, yield (0, _effects.select)(_selectors2.default.current.address));let dummyAddress = (cov_lonpljgf9.s[52]++, yield (0, _effects.select)(_selectors2.default.current.dummyAddress));let stack = (cov_lonpljgf9.s[53]++, yield (0, _effects.select)(_selectors2.default.next.state.stack));cov_lonpljgf9.s[54]++;if (!stack) {
    cov_lonpljgf9.b[6][0]++;cov_lonpljgf9.s[55]++;return;
  } else {
    cov_lonpljgf9.b[6][1]++;
  }let top = (cov_lonpljgf9.s[56]++, stack.length - 1);var assignment, assignments, baseExpression, slot, path;cov_lonpljgf9.s[57]++;if (!node) {
    cov_lonpljgf9.b[7][0]++;cov_lonpljgf9.s[58]++;return;
  } else {
    cov_lonpljgf9.b[7][1]++;
  }cov_lonpljgf9.s[59]++;if (!(yield (0, _effects.select)(_selectors2.default.views.atLastInstructionForSourceRange))) {
    cov_lonpljgf9.b[8][0]++;cov_lonpljgf9.s[60]++;return;
  } else {
    cov_lonpljgf9.b[8][1]++;
  }cov_lonpljgf9.s[61]++;switch (node.nodeType) {case "FunctionDefinition":
      cov_lonpljgf9.b[9][0]++;let parameters = (cov_lonpljgf9.s[62]++, node.parameters.parameters);let reverseParameters = (cov_lonpljgf9.s[63]++, parameters.slice().reverse());cov_lonpljgf9.s[64]++;debug("reverseParameters %o", parameters);let currentPosition = (cov_lonpljgf9.s[65]++, top);cov_lonpljgf9.s[66]++;assignments = { byId: {} };cov_lonpljgf9.s[67]++;for (let parameter of reverseParameters) {
        let words = (cov_lonpljgf9.s[68]++, DecodeUtils.Definition.stackSize(parameter));let pointer = (cov_lonpljgf9.s[69]++, { stack: { from: currentPosition - words + 1, to: currentPosition } });let assignment = (cov_lonpljgf9.s[70]++, makeAssignment({ astId: parameter.id, stackframe: currentDepth }, pointer));cov_lonpljgf9.s[71]++;assignments.byId[assignment.id] = assignment;cov_lonpljgf9.s[72]++;currentPosition -= words;
      }cov_lonpljgf9.s[73]++;debug("Function definition case");cov_lonpljgf9.s[74]++;debug("assignments %O", assignments);cov_lonpljgf9.s[75]++;yield (0, _effects.put)(actions.assign(assignments));cov_lonpljgf9.s[76]++;break;case "ContractDefinition":
      cov_lonpljgf9.b[9][1]++;let allocation = (cov_lonpljgf9.s[77]++, allocations[node.id]);cov_lonpljgf9.s[78]++;debug("Contract definition case");cov_lonpljgf9.s[79]++;debug("allocations %O", allocations);cov_lonpljgf9.s[80]++;debug("allocation %O", allocation);cov_lonpljgf9.s[81]++;assignments = { byId: {} };cov_lonpljgf9.s[82]++;for (let id in allocation.members) {
        cov_lonpljgf9.s[83]++;id = Number(id);let idObj = (cov_lonpljgf9.s[84]++, address !== undefined ? (cov_lonpljgf9.b[10][0]++, { astId: id, address }) : (cov_lonpljgf9.b[10][1]++, { astId: id, dummyAddress }));let fullId = (cov_lonpljgf9.s[85]++, (0, _helpers.stableKeccak256)(idObj));cov_lonpljgf9.s[86]++;assignment = (0, _extends3.default)({}, idObj, { id: fullId, ref: (0, _extends3.default)({}, (cov_lonpljgf9.b[11][0]++, ((cov_lonpljgf9.b[12][0]++, currentAssignments.byId[fullId]) || (cov_lonpljgf9.b[12][1]++, {})).ref) || (cov_lonpljgf9.b[11][1]++, {}), allocation.members[id].pointer) });cov_lonpljgf9.s[87]++;assignments.byId[fullId] = assignment;
      }cov_lonpljgf9.s[88]++;debug("assignments %O", assignments);cov_lonpljgf9.s[89]++;yield (0, _effects.put)(actions.assign(assignments));cov_lonpljgf9.s[90]++;break;case "VariableDeclaration":
      cov_lonpljgf9.b[9][2]++;let varId = (cov_lonpljgf9.s[91]++, node.id);cov_lonpljgf9.s[92]++;debug("Variable declaration case");cov_lonpljgf9.s[93]++;debug("currentDepth %d varId %d", currentDepth, varId);cov_lonpljgf9.s[94]++;if ((cov_lonpljgf9.b[14][0]++, currentAssignments.byAstId[varId] !== undefined) && (cov_lonpljgf9.b[14][1]++, currentAssignments.byAstId[varId].some(id => {
        cov_lonpljgf9.f[7]++;cov_lonpljgf9.s[95]++;return (cov_lonpljgf9.b[15][0]++, currentAssignments.byId[id].address !== undefined) || (cov_lonpljgf9.b[15][1]++, currentAssignments.byId[id].dummyAddress !== undefined);
      }))) {
        cov_lonpljgf9.b[13][0]++;cov_lonpljgf9.s[96]++;break;
      } else {
        cov_lonpljgf9.b[13][1]++;
      }cov_lonpljgf9.s[97]++;assignment = makeAssignment({ astId: varId, stackframe: currentDepth }, { stack: { from: top - DecodeUtils.Definition.stackSize(node) + 1, to: top } });cov_lonpljgf9.s[98]++;assignments = { byId: { [assignment.id]: assignment } };cov_lonpljgf9.s[99]++;yield (0, _effects.put)(actions.assign(assignments));cov_lonpljgf9.s[100]++;break;case "IndexAccess":
      cov_lonpljgf9.b[9][3]++;cov_lonpljgf9.s[101]++;debug("Index access case");cov_lonpljgf9.s[102]++;assignments = literalAssignments(node, stack, currentDepth);cov_lonpljgf9.s[103]++;baseExpression = node.baseExpression;cov_lonpljgf9.s[104]++;if ((cov_lonpljgf9.b[17][0]++, DecodeUtils.Definition.typeClass(baseExpression) === "bytes") || (cov_lonpljgf9.b[17][1]++, DecodeUtils.Definition.typeClass(baseExpression) === "array") && (cov_lonpljgf9.b[17][2]++, DecodeUtils.Definition.isReference(node) ? (cov_lonpljgf9.b[18][0]++, DecodeUtils.Definition.referenceType(baseExpression) !== "storage") : (cov_lonpljgf9.b[18][1]++, !DecodeUtils.Definition.isMapping(node)))) {
        cov_lonpljgf9.b[16][0]++;cov_lonpljgf9.s[105]++;debug("Index case bailed out early");cov_lonpljgf9.s[106]++;debug("typeClass %s", DecodeUtils.Definition.typeClass(baseExpression));cov_lonpljgf9.s[107]++;debug("referenceType %s", DecodeUtils.Definition.referenceType(baseExpression));cov_lonpljgf9.s[108]++;debug("isReference(node) %o", DecodeUtils.Definition.isReference(node));cov_lonpljgf9.s[109]++;yield (0, _effects.put)(actions.assign(assignments));cov_lonpljgf9.s[110]++;break;
      } else {
        cov_lonpljgf9.b[16][1]++;
      }let keyDefinition = (cov_lonpljgf9.s[111]++, DecodeUtils.Definition.keyDefinition(baseExpression, scopes));cov_lonpljgf9.s[112]++;yield (0, _effects.put)(actions.mapKeyDecoding(true));let indexValue;let indexDefinition = (cov_lonpljgf9.s[113]++, node.indexExpression);cov_lonpljgf9.s[114]++;while (indexValue === undefined) {
        let indexId = (cov_lonpljgf9.s[115]++, indexDefinition.id);let indexIdObj = (cov_lonpljgf9.s[116]++, { astId: indexId, stackframe: currentDepth });let fullIndexId = (cov_lonpljgf9.s[117]++, (0, _helpers.stableKeccak256)(indexIdObj));const indexReference = (cov_lonpljgf9.s[118]++, ((cov_lonpljgf9.b[19][0]++, currentAssignments.byId[fullIndexId]) || (cov_lonpljgf9.b[19][1]++, {})).ref);cov_lonpljgf9.s[119]++;if (DecodeUtils.Definition.isSimpleConstant(indexDefinition)) {
          cov_lonpljgf9.b[20][0]++;cov_lonpljgf9.s[120]++;indexValue = yield (0, _effects.call)(decode, keyDefinition, { definition: indexDefinition });
        } else {
          cov_lonpljgf9.b[20][1]++;cov_lonpljgf9.s[121]++;if (indexReference) {
            cov_lonpljgf9.b[21][0]++;let splicedDefinition;cov_lonpljgf9.s[122]++;if (DecodeUtils.Definition.isReference(indexDefinition)) {
              cov_lonpljgf9.b[22][0]++;cov_lonpljgf9.s[123]++;splicedDefinition = DecodeUtils.Definition.spliceLocation(keyDefinition, DecodeUtils.Definition.referenceType(indexDefinition));
            } else {
              cov_lonpljgf9.b[22][1]++;cov_lonpljgf9.s[124]++;splicedDefinition = keyDefinition;
            }cov_lonpljgf9.s[125]++;indexValue = yield (0, _effects.call)(decode, splicedDefinition, indexReference);
          } else {
            cov_lonpljgf9.b[21][1]++;cov_lonpljgf9.s[126]++;if ((cov_lonpljgf9.b[24][0]++, indexDefinition.referencedDeclaration) && (cov_lonpljgf9.b[24][1]++, scopes[indexDefinition.referenceDeclaration])) {
              cov_lonpljgf9.b[23][0]++;cov_lonpljgf9.s[127]++;debug("referencedDeclaration %d", indexDefinition.referencedDeclaration);let indexConstantDeclaration = (cov_lonpljgf9.s[128]++, scopes[indexDefinition.referencedDeclaration].definition);cov_lonpljgf9.s[129]++;debug("indexConstantDeclaration %O", indexConstantDeclaration);cov_lonpljgf9.s[130]++;if (indexConstantDeclaration.constant) {
                cov_lonpljgf9.b[25][0]++;let indexConstantDefinition = (cov_lonpljgf9.s[131]++, indexConstantDeclaration.value);cov_lonpljgf9.s[132]++;if (DecodeUtils.Definition.isSimpleConstant(indexConstantDefinition)) {
                  cov_lonpljgf9.b[26][0]++;cov_lonpljgf9.s[133]++;indexValue = yield (0, _effects.call)(decode, keyDefinition, { definition: indexConstantDeclaration.value });
                } else {
                  cov_lonpljgf9.b[26][1]++;
                }
              } else {
                cov_lonpljgf9.b[25][1]++;
              }
            } else {
              cov_lonpljgf9.b[23][1]++;cov_lonpljgf9.s[134]++;if (indexDefinition.kind === "typeConversion") {
                cov_lonpljgf9.b[27][0]++;cov_lonpljgf9.s[135]++;indexDefinition = indexDefinition.arguments[0];
              } else {
                cov_lonpljgf9.b[27][1]++;cov_lonpljgf9.s[136]++;indexValue = null;
              }
            }
          }
        }
      }cov_lonpljgf9.s[137]++;yield (0, _effects.put)(actions.mapKeyDecoding(false));cov_lonpljgf9.s[138]++;debug("index value %O", indexValue);cov_lonpljgf9.s[139]++;debug("keyDefinition %o", keyDefinition);cov_lonpljgf9.s[140]++;if (indexValue !== null) {
        cov_lonpljgf9.b[28][0]++;cov_lonpljgf9.s[141]++;path = fetchBasePath(baseExpression, mappedPaths, currentAssignments, currentDepth);let slot = (cov_lonpljgf9.s[142]++, { path });cov_lonpljgf9.s[143]++;switch (DecodeUtils.Definition.typeClass(baseExpression)) {case "array":
            cov_lonpljgf9.b[29][0]++;cov_lonpljgf9.s[144]++;slot.hashPath = DecodeUtils.Definition.isDynamicArray(baseExpression);cov_lonpljgf9.s[145]++;slot.offset = indexValue.muln((0, _truffleDecoder.storageSize)(node, referenceDeclarations, allocations).words);cov_lonpljgf9.s[146]++;break;case "mapping":
            cov_lonpljgf9.b[29][1]++;cov_lonpljgf9.s[147]++;slot.key = indexValue;cov_lonpljgf9.s[148]++;slot.keyEncoding = DecodeUtils.Definition.keyEncoding(keyDefinition);cov_lonpljgf9.s[149]++;slot.offset = new _bn2.default(0);cov_lonpljgf9.s[150]++;break;default:
            cov_lonpljgf9.b[29][2]++;cov_lonpljgf9.s[151]++;debug("unrecognized index access!");}cov_lonpljgf9.s[152]++;debug("slot %O", slot);cov_lonpljgf9.s[153]++;yield (0, _effects.put)(actions.mapPathAndAssign((cov_lonpljgf9.b[30][0]++, address) || (cov_lonpljgf9.b[30][1]++, dummyAddress), slot, assignments, DecodeUtils.Definition.typeIdentifier(node), DecodeUtils.Definition.typeIdentifier(baseExpression)));
      } else {
        cov_lonpljgf9.b[28][1]++;cov_lonpljgf9.s[154]++;debug("failed to decode, just assigning");cov_lonpljgf9.s[155]++;yield (0, _effects.put)(actions.assign(assignments));
      }cov_lonpljgf9.s[156]++;break;case "MemberAccess":
      cov_lonpljgf9.b[9][4]++;cov_lonpljgf9.s[157]++;assignments = literalAssignments(node, stack, currentDepth);cov_lonpljgf9.s[158]++;debug("Member access case");cov_lonpljgf9.s[159]++;baseExpression = node.expression;cov_lonpljgf9.s[160]++;if ((cov_lonpljgf9.b[32][0]++, DecodeUtils.Definition.typeClass(baseExpression) !== "struct") || (cov_lonpljgf9.b[32][1]++, DecodeUtils.Definition.isReference(node) ? (cov_lonpljgf9.b[33][0]++, DecodeUtils.Definition.referenceType(baseExpression) !== "storage") : (cov_lonpljgf9.b[33][1]++, !DecodeUtils.Definition.isMapping(node)))) {
        cov_lonpljgf9.b[31][0]++;cov_lonpljgf9.s[161]++;debug("Member case bailed out early");cov_lonpljgf9.s[162]++;yield (0, _effects.put)(actions.assign(assignments));cov_lonpljgf9.s[163]++;break;
      } else {
        cov_lonpljgf9.b[31][1]++;
      }cov_lonpljgf9.s[164]++;path = fetchBasePath(baseExpression, mappedPaths, currentAssignments, currentDepth);cov_lonpljgf9.s[165]++;slot = { path };let structId = (cov_lonpljgf9.s[166]++, DecodeUtils.Definition.typeId(baseExpression));let memberAllocation = (cov_lonpljgf9.s[167]++, allocations[structId].members[node.referencedDeclaration]);cov_lonpljgf9.s[168]++;slot.offset = memberAllocation.pointer.storage.from.slot.offset.clone();cov_lonpljgf9.s[169]++;debug("slot %o", slot);cov_lonpljgf9.s[170]++;yield (0, _effects.put)(actions.mapPathAndAssign((cov_lonpljgf9.b[34][0]++, address) || (cov_lonpljgf9.b[34][1]++, dummyAddress), slot, assignments, DecodeUtils.Definition.typeIdentifier(node), DecodeUtils.Definition.typeIdentifier(baseExpression)));default:
      cov_lonpljgf9.b[9][5]++;cov_lonpljgf9.s[171]++;if (node.typeDescriptions == undefined) {
        cov_lonpljgf9.b[35][0]++;cov_lonpljgf9.s[172]++;break;
      } else {
        cov_lonpljgf9.b[35][1]++;
      }cov_lonpljgf9.s[173]++;debug("decoding expression value %O", node.typeDescriptions);cov_lonpljgf9.s[174]++;debug("default case");cov_lonpljgf9.s[175]++;debug("currentDepth %d node.id %d", currentDepth, node.id);cov_lonpljgf9.s[176]++;assignments = literalAssignments(node, stack, currentDepth);cov_lonpljgf9.s[177]++;yield (0, _effects.put)(actions.assign(assignments));cov_lonpljgf9.s[178]++;break;}
}function* reset() {
  cov_lonpljgf9.f[8]++;cov_lonpljgf9.s[179]++;yield (0, _effects.put)(actions.reset());
}function* learnAddressSaga(dummyAddress, address) {
  cov_lonpljgf9.f[9]++;cov_lonpljgf9.s[180]++;debug("about to learn an address");cov_lonpljgf9.s[181]++;yield (0, _effects.put)(actions.learnAddress(dummyAddress, address));cov_lonpljgf9.s[182]++;debug("address learnt");
}function* recordAllocations() {
  cov_lonpljgf9.f[10]++;let contracts = (cov_lonpljgf9.s[183]++, yield (0, _effects.select)(_selectors2.default.views.userDefinedTypes.contractDefinitions));cov_lonpljgf9.s[184]++;debug("contracts %O", contracts);let referenceDeclarations = (cov_lonpljgf9.s[185]++, yield (0, _effects.select)(_selectors2.default.views.referenceDeclarations));cov_lonpljgf9.s[186]++;debug("referenceDeclarations %O", referenceDeclarations);let storageAllocations = (cov_lonpljgf9.s[187]++, (0, _truffleDecoder.getStorageAllocations)(referenceDeclarations, contracts));cov_lonpljgf9.s[188]++;debug("storageAllocations %O", storageAllocations);cov_lonpljgf9.s[189]++;yield (0, _effects.put)(actions.allocate(storageAllocations));
}function makeAssignment(idObj, ref) {
  cov_lonpljgf9.f[11]++;let id = (cov_lonpljgf9.s[190]++, (0, _helpers.stableKeccak256)(idObj));cov_lonpljgf9.s[191]++;return (0, _extends3.default)({}, idObj, { id, ref });
}function literalAssignments(node, stack, currentDepth) {
  cov_lonpljgf9.f[12]++;let top = (cov_lonpljgf9.s[192]++, stack.length - 1);let literal = (cov_lonpljgf9.s[193]++, (0, _truffleDecoder.readStack)(stack, top - DecodeUtils.Definition.stackSize(node) + 1, top));let assignment = (cov_lonpljgf9.s[194]++, makeAssignment({ astId: node.id, stackframe: currentDepth }, { literal }));cov_lonpljgf9.s[195]++;return { byId: { [assignment.id]: assignment } };
}function fetchBasePath(baseNode, mappedPaths, currentAssignments, currentDepth) {
  cov_lonpljgf9.f[13]++;let fullId = (cov_lonpljgf9.s[196]++, (0, _helpers.stableKeccak256)({ astId: baseNode.id, stackframe: currentDepth }));let basePathRef = (cov_lonpljgf9.s[197]++, mappedPaths.byId[fullId]);cov_lonpljgf9.s[198]++;if (basePathRef !== undefined) {
    cov_lonpljgf9.b[36][0]++;cov_lonpljgf9.s[199]++;return mappedPaths.byAddress[basePathRef.address].byType[basePathRef.typeIdentifier].bySlotAddress[basePathRef.slotAddress];
  } else {
    cov_lonpljgf9.b[36][1]++;let offset = (cov_lonpljgf9.s[200]++, DecodeUtils.Conversion.toBN(currentAssignments.byId[fullId].ref.literal));cov_lonpljgf9.s[201]++;return { offset };
  }
}function* saga() {
  cov_lonpljgf9.f[14]++;cov_lonpljgf9.s[202]++;yield (0, _effects.takeEvery)(_actions.TICK, tickSaga);
}cov_lonpljgf9.s[203]++;exports.default = (0, _helpers.prefixName)("data", saga);

/***/ }),
/* 27 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/core-js/set");

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_2rf8afohf4 = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/controller/actions/index.js",
      hash = "b67c0d87bae47c72de74b0d99f4a8957152d0629",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/controller/actions/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 26 } }, "2": { start: { line: 7, column: 0 }, end: { line: 7, column: 28 } }, "3": { start: { line: 8, column: 0 }, end: { line: 8, column: 28 } }, "4": { start: { line: 9, column: 0 }, end: { line: 9, column: 28 } }, "5": { start: { line: 10, column: 0 }, end: { line: 10, column: 26 } }, "6": { start: { line: 11, column: 0 }, end: { line: 11, column: 22 } }, "7": { start: { line: 12, column: 0 }, end: { line: 12, column: 30 } }, "8": { start: { line: 13, column: 0 }, end: { line: 13, column: 58 } }, "9": { start: { line: 14, column: 0 }, end: { line: 14, column: 38 } }, "10": { start: { line: 15, column: 0 }, end: { line: 15, column: 44 } }, "11": { start: { line: 16, column: 0 }, end: { line: 16, column: 52 } }, "12": { start: { line: 17, column: 0 }, end: { line: 17, column: 36 } }, "13": { start: { line: 18, column: 16 }, end: { line: 18, column: 43 } }, "14": { start: { line: 20, column: 2 }, end: { line: 20, column: 27 } }, "15": { start: { line: 23, column: 18 }, end: { line: 23, column: 49 } }, "16": { start: { line: 25, column: 2 }, end: { line: 25, column: 29 } }, "17": { start: { line: 28, column: 18 }, end: { line: 28, column: 49 } }, "18": { start: { line: 30, column: 2 }, end: { line: 30, column: 29 } }, "19": { start: { line: 33, column: 18 }, end: { line: 33, column: 49 } }, "20": { start: { line: 35, column: 2 }, end: { line: 35, column: 29 } }, "21": { start: { line: 38, column: 17 }, end: { line: 38, column: 46 } }, "22": { start: { line: 40, column: 2 }, end: { line: 40, column: 28 } }, "23": { start: { line: 43, column: 14 }, end: { line: 43, column: 37 } }, "24": { start: { line: 45, column: 2 }, end: { line: 45, column: 25 } }, "25": { start: { line: 48, column: 18 }, end: { line: 48, column: 49 } }, "26": { start: { line: 50, column: 2 }, end: { line: 50, column: 29 } }, "27": { start: { line: 53, column: 17 }, end: { line: 53, column: 46 } }, "28": { start: { line: 56, column: 2 }, end: { line: 56, column: 28 } }, "29": { start: { line: 59, column: 23 }, end: { line: 59, column: 64 } }, "30": { start: { line: 61, column: 2 }, end: { line: 64, column: 4 } }, "31": { start: { line: 67, column: 26 }, end: { line: 67, column: 73 } }, "32": { start: { line: 69, column: 2 }, end: { line: 72, column: 4 } }, "33": { start: { line: 75, column: 31 }, end: { line: 75, column: 88 } }, "34": { start: { line: 77, column: 2 }, end: { line: 79, column: 4 } }, "35": { start: { line: 82, column: 22 }, end: { line: 82, column: 61 } }, "36": { start: { line: 84, column: 2 }, end: { line: 86, column: 4 } } }, fnMap: { "0": { name: "advance", decl: { start: { line: 19, column: 9 }, end: { line: 19, column: 16 } }, loc: { start: { line: 19, column: 19 }, end: { line: 21, column: 1 } }, line: 19 }, "1": { name: "stepNext", decl: { start: { line: 24, column: 9 }, end: { line: 24, column: 17 } }, loc: { start: { line: 24, column: 20 }, end: { line: 26, column: 1 } }, line: 24 }, "2": { name: "stepOver", decl: { start: { line: 29, column: 9 }, end: { line: 29, column: 17 } }, loc: { start: { line: 29, column: 20 }, end: { line: 31, column: 1 } }, line: 29 }, "3": { name: "stepInto", decl: { start: { line: 34, column: 9 }, end: { line: 34, column: 17 } }, loc: { start: { line: 34, column: 20 }, end: { line: 36, column: 1 } }, line: 34 }, "4": { name: "stepOut", decl: { start: { line: 39, column: 9 }, end: { line: 39, column: 16 } }, loc: { start: { line: 39, column: 19 }, end: { line: 41, column: 1 } }, line: 39 }, "5": { name: "reset", decl: { start: { line: 44, column: 9 }, end: { line: 44, column: 14 } }, loc: { start: { line: 44, column: 17 }, end: { line: 46, column: 1 } }, line: 44 }, "6": { name: "interrupt", decl: { start: { line: 49, column: 9 }, end: { line: 49, column: 18 } }, loc: { start: { line: 49, column: 21 }, end: { line: 51, column: 1 } }, line: 49 }, "7": { name: "continueUntilBreakpoint", decl: { start: { line: 54, column: 9 }, end: { line: 54, column: 32 } }, loc: { start: { line: 54, column: 35 }, end: { line: 57, column: 1 } }, line: 54 }, "8": { name: "addBreakpoint", decl: { start: { line: 60, column: 9 }, end: { line: 60, column: 22 } }, loc: { start: { line: 60, column: 35 }, end: { line: 65, column: 1 } }, line: 60 }, "9": { name: "removeBreakpoint", decl: { start: { line: 68, column: 9 }, end: { line: 68, column: 25 } }, loc: { start: { line: 68, column: 38 }, end: { line: 73, column: 1 } }, line: 68 }, "10": { name: "removeAllBreakpoints", decl: { start: { line: 76, column: 9 }, end: { line: 76, column: 29 } }, loc: { start: { line: 76, column: 32 }, end: { line: 80, column: 1 } }, line: 76 }, "11": { name: "doneStepping", decl: { start: { line: 83, column: 9 }, end: { line: 83, column: 21 } }, loc: { start: { line: 83, column: 24 }, end: { line: 87, column: 1 } }, line: 83 } }, branchMap: {}, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0 }, b: {}, inputSourceMap: { version: 3, sources: ["lib/controller/actions/index.js"], names: ["advance", "stepNext", "stepOver", "stepInto", "stepOut", "reset", "interrupt", "continueUntilBreakpoint", "addBreakpoint", "removeBreakpoint", "removeAllBreakpoints", "doneStepping", "ADVANCE", "type", "STEP_NEXT", "STEP_OVER", "STEP_INTO", "STEP_OUT", "RESET", "INTERRUPT", "CONTINUE", "ADD_BREAKPOINT", "breakpoint", "REMOVE_BREAKPOINT", "REMOVE_ALL_BREAKPOINTS", "DONE_STEPPING"], mappings: ";;;;;QACgBA,O,GAAAA,O;QAKAC,Q,GAAAA,Q;QAKAC,Q,GAAAA,Q;QAKAC,Q,GAAAA,Q;QAKAC,O,GAAAA,O;QAKAC,K,GAAAA,K;QAKAC,S,GAAAA,S;QAKAC,uB,GAAAA,uB;QAMAC,a,GAAAA,a;QAQAC,gB,GAAAA,gB;QAQAC,oB,GAAAA,oB;QAOAC,Y,GAAAA,Y;AAjET,MAAMC,4BAAU,SAAhB;AACA,SAASZ,OAAT,GAAmB;AACxB,SAAO,EAAEa,MAAMD,OAAR,EAAP;AACD;;AAEM,MAAME,gCAAY,WAAlB;AACA,SAASb,QAAT,GAAoB;AACzB,SAAO,EAAEY,MAAMC,SAAR,EAAP;AACD;;AAEM,MAAMC,gCAAY,WAAlB;AACA,SAASb,QAAT,GAAoB;AACzB,SAAO,EAAEW,MAAME,SAAR,EAAP;AACD;;AAEM,MAAMC,gCAAY,WAAlB;AACA,SAASb,QAAT,GAAoB;AACzB,SAAO,EAAEU,MAAMG,SAAR,EAAP;AACD;;AAEM,MAAMC,8BAAW,UAAjB;AACA,SAASb,OAAT,GAAmB;AACxB,SAAO,EAAES,MAAMI,QAAR,EAAP;AACD;;AAEM,MAAMC,wBAAQ,OAAd;AACA,SAASb,KAAT,GAAiB;AACtB,SAAO,EAAEQ,MAAMK,KAAR,EAAP;AACD;;AAEM,MAAMC,gCAAY,WAAlB;AACA,SAASb,SAAT,GAAqB;AAC1B,SAAO,EAAEO,MAAMM,SAAR,EAAP;AACD;;AAEM,MAAMC,8BAAW,UAAjB;AACA,SAASb,uBAAT,GAAmC;AACxC;AACA,SAAO,EAAEM,MAAMO,QAAR,EAAP;AACD;;AAEM,MAAMC,0CAAiB,gBAAvB;AACA,SAASb,aAAT,CAAuBc,UAAvB,EAAmC;AACxC,SAAO;AACLT,UAAMQ,cADD;AAELC;AAFK,GAAP;AAID;;AAEM,MAAMC,gDAAoB,mBAA1B;AACA,SAASd,gBAAT,CAA0Ba,UAA1B,EAAsC;AAC3C,SAAO;AACLT,UAAMU,iBADD;AAELD;AAFK,GAAP;AAID;;AAEM,MAAME,0DAAyB,wBAA/B;AACA,SAASd,oBAAT,GAAgC;AACrC,SAAO;AACLG,UAAMW;AADD,GAAP;AAGD;;AAEM,MAAMC,wCAAgB,eAAtB;AACA,SAASd,YAAT,GAAwB;AAC7B,SAAO;AACLE,UAAMY;AADD,GAAP;AAGD", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["export const ADVANCE = \"ADVANCE\";\nexport function advance() {\n  return { type: ADVANCE };\n}\n\nexport const STEP_NEXT = \"STEP_NEXT\";\nexport function stepNext() {\n  return { type: STEP_NEXT };\n}\n\nexport const STEP_OVER = \"STEP_OVER\";\nexport function stepOver() {\n  return { type: STEP_OVER };\n}\n\nexport const STEP_INTO = \"STEP_INTO\";\nexport function stepInto() {\n  return { type: STEP_INTO };\n}\n\nexport const STEP_OUT = \"STEP_OUT\";\nexport function stepOut() {\n  return { type: STEP_OUT };\n}\n\nexport const RESET = \"RESET\";\nexport function reset() {\n  return { type: RESET };\n}\n\nexport const INTERRUPT = \"INTERRUPT\";\nexport function interrupt() {\n  return { type: INTERRUPT };\n}\n\nexport const CONTINUE = \"CONTINUE\";\nexport function continueUntilBreakpoint() {\n  //\"continue\" is not a legal name\n  return { type: CONTINUE };\n}\n\nexport const ADD_BREAKPOINT = \"ADD_BREAKPOINT\";\nexport function addBreakpoint(breakpoint) {\n  return {\n    type: ADD_BREAKPOINT,\n    breakpoint\n  };\n}\n\nexport const REMOVE_BREAKPOINT = \"REMOVE_BREAKPOINT\";\nexport function removeBreakpoint(breakpoint) {\n  return {\n    type: REMOVE_BREAKPOINT,\n    breakpoint\n  };\n}\n\nexport const REMOVE_ALL_BREAKPOINTS = \"REMOVE_ALL_BREAKPOINTS\";\nexport function removeAllBreakpoints() {\n  return {\n    type: REMOVE_ALL_BREAKPOINTS\n  };\n}\n\nexport const DONE_STEPPING = \"DONE_STEPPING\";\nexport function doneStepping() {\n  return {\n    type: DONE_STEPPING\n  };\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_2rf8afohf4.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_2rf8afohf4.s[1]++;exports.advance = advance;cov_2rf8afohf4.s[2]++;exports.stepNext = stepNext;cov_2rf8afohf4.s[3]++;exports.stepOver = stepOver;cov_2rf8afohf4.s[4]++;exports.stepInto = stepInto;cov_2rf8afohf4.s[5]++;exports.stepOut = stepOut;cov_2rf8afohf4.s[6]++;exports.reset = reset;cov_2rf8afohf4.s[7]++;exports.interrupt = interrupt;cov_2rf8afohf4.s[8]++;exports.continueUntilBreakpoint = continueUntilBreakpoint;cov_2rf8afohf4.s[9]++;exports.addBreakpoint = addBreakpoint;cov_2rf8afohf4.s[10]++;exports.removeBreakpoint = removeBreakpoint;cov_2rf8afohf4.s[11]++;exports.removeAllBreakpoints = removeAllBreakpoints;cov_2rf8afohf4.s[12]++;exports.doneStepping = doneStepping;const ADVANCE = (cov_2rf8afohf4.s[13]++, exports.ADVANCE = "ADVANCE");function advance() {
  cov_2rf8afohf4.f[0]++;cov_2rf8afohf4.s[14]++;return { type: ADVANCE };
}const STEP_NEXT = (cov_2rf8afohf4.s[15]++, exports.STEP_NEXT = "STEP_NEXT");function stepNext() {
  cov_2rf8afohf4.f[1]++;cov_2rf8afohf4.s[16]++;return { type: STEP_NEXT };
}const STEP_OVER = (cov_2rf8afohf4.s[17]++, exports.STEP_OVER = "STEP_OVER");function stepOver() {
  cov_2rf8afohf4.f[2]++;cov_2rf8afohf4.s[18]++;return { type: STEP_OVER };
}const STEP_INTO = (cov_2rf8afohf4.s[19]++, exports.STEP_INTO = "STEP_INTO");function stepInto() {
  cov_2rf8afohf4.f[3]++;cov_2rf8afohf4.s[20]++;return { type: STEP_INTO };
}const STEP_OUT = (cov_2rf8afohf4.s[21]++, exports.STEP_OUT = "STEP_OUT");function stepOut() {
  cov_2rf8afohf4.f[4]++;cov_2rf8afohf4.s[22]++;return { type: STEP_OUT };
}const RESET = (cov_2rf8afohf4.s[23]++, exports.RESET = "RESET");function reset() {
  cov_2rf8afohf4.f[5]++;cov_2rf8afohf4.s[24]++;return { type: RESET };
}const INTERRUPT = (cov_2rf8afohf4.s[25]++, exports.INTERRUPT = "INTERRUPT");function interrupt() {
  cov_2rf8afohf4.f[6]++;cov_2rf8afohf4.s[26]++;return { type: INTERRUPT };
}const CONTINUE = (cov_2rf8afohf4.s[27]++, exports.CONTINUE = "CONTINUE");function continueUntilBreakpoint() {
  cov_2rf8afohf4.f[7]++;cov_2rf8afohf4.s[28]++;return { type: CONTINUE };
}const ADD_BREAKPOINT = (cov_2rf8afohf4.s[29]++, exports.ADD_BREAKPOINT = "ADD_BREAKPOINT");function addBreakpoint(breakpoint) {
  cov_2rf8afohf4.f[8]++;cov_2rf8afohf4.s[30]++;return { type: ADD_BREAKPOINT, breakpoint };
}const REMOVE_BREAKPOINT = (cov_2rf8afohf4.s[31]++, exports.REMOVE_BREAKPOINT = "REMOVE_BREAKPOINT");function removeBreakpoint(breakpoint) {
  cov_2rf8afohf4.f[9]++;cov_2rf8afohf4.s[32]++;return { type: REMOVE_BREAKPOINT, breakpoint };
}const REMOVE_ALL_BREAKPOINTS = (cov_2rf8afohf4.s[33]++, exports.REMOVE_ALL_BREAKPOINTS = "REMOVE_ALL_BREAKPOINTS");function removeAllBreakpoints() {
  cov_2rf8afohf4.f[10]++;cov_2rf8afohf4.s[34]++;return { type: REMOVE_ALL_BREAKPOINTS };
}const DONE_STEPPING = (cov_2rf8afohf4.s[35]++, exports.DONE_STEPPING = "DONE_STEPPING");function doneStepping() {
  cov_2rf8afohf4.f[11]++;cov_2rf8afohf4.s[36]++;return { type: DONE_STEPPING };
}

/***/ }),
/* 29 */
/***/ (function(module, exports) {

module.exports = require("json-pointer");

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_1e4tw6tegl = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/ast/map.js",
      hash = "7166507383c0ea0c36795aea8cb5315b0881e100",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/ast/map.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 12 }, end: { line: 7, column: 56 } }, "2": { start: { line: 9, column: 13 }, end: { line: 9, column: 42 } }, "3": { start: { line: 11, column: 0 }, end: { line: 11, column: 28 } }, "4": { start: { line: 12, column: 0 }, end: { line: 12, column: 32 } }, "5": { start: { line: 13, column: 0 }, end: { line: 13, column: 30 } }, "6": { start: { line: 15, column: 13 }, end: { line: 15, column: 29 } }, "7": { start: { line: 17, column: 14 }, end: { line: 17, column: 44 } }, "8": { start: { line: 19, column: 24 }, end: { line: 19, column: 53 } }, "9": { start: { line: 21, column: 25 }, end: { line: 21, column: 66 } }, "10": { start: { line: 23, column: 39 }, end: { line: 23, column: 93 } }, "11": { start: { line: 25, column: 14 }, end: { line: 25, column: 54 } }, "12": { start: { line: 33, column: 24 }, end: { line: 33, column: 77 } }, "13": { start: { line: 33, column: 65 }, end: { line: 33, column: 76 } }, "14": { start: { line: 35, column: 2 }, end: { line: 35, column: 33 } }, "15": { start: { line: 42, column: 2 }, end: { line: 54, column: 3 } }, "16": { start: { line: 43, column: 4 }, end: { line: 43, column: 82 } }, "17": { start: { line: 43, column: 45 }, end: { line: 43, column: 79 } }, "18": { start: { line: 44, column: 9 }, end: { line: 54, column: 3 } }, "19": { start: { line: 45, column: 18 }, end: { line: 45, column: 20 } }, "20": { start: { line: 47, column: 4 }, end: { line: 49, column: 5 } }, "21": { start: { line: 48, column: 6 }, end: { line: 48, column: 55 } }, "22": { start: { line: 51, column: 4 }, end: { line: 51, column: 111 } }, "23": { start: { line: 51, column: 66 }, end: { line: 51, column: 108 } }, "24": { start: { line: 53, column: 4 }, end: { line: 53, column: 14 } }, "25": { start: { line: 61, column: 15 }, end: { line: 61, column: 31 } }, "26": { start: { line: 62, column: 13 }, end: { line: 62, column: 45 } }, "27": { start: { line: 64, column: 2 }, end: { line: 68, column: 5 } }, "28": { start: { line: 65, column: 23 }, end: { line: 65, column: 28 } }, "29": { start: { line: 67, column: 4 }, end: { line: 67, column: 48 } }, "30": { start: { line: 70, column: 18 }, end: { line: 70, column: 44 } }, "31": { start: { line: 72, column: 20 }, end: { line: 72, column: 55 } }, "32": { start: { line: 76, column: 2 }, end: { line: 76, column: 173 } }, "33": { start: { line: 76, column: 43 }, end: { line: 76, column: 91 } }, "34": { start: { line: 76, column: 114 }, end: { line: 76, column: 121 } }, "35": { start: { line: 76, column: 140 }, end: { line: 76, column: 167 } } }, fnMap: { "0": { name: "_interopRequireDefault", decl: { start: { line: 23, column: 9 }, end: { line: 23, column: 31 } }, loc: { start: { line: 23, column: 37 }, end: { line: 23, column: 95 } }, line: 23 }, "1": { name: "getRange", decl: { start: { line: 30, column: 9 }, end: { line: 30, column: 17 } }, loc: { start: { line: 30, column: 24 }, end: { line: 36, column: 1 } }, line: 30 }, "2": { name: "(anonymous_2)", decl: { start: { line: 33, column: 60 }, end: { line: 33, column: 61 } }, loc: { start: { line: 33, column: 65 }, end: { line: 33, column: 76 } }, line: 33 }, "3": { name: "rangeNodes", decl: { start: { line: 41, column: 9 }, end: { line: 41, column: 19 } }, loc: { start: { line: 41, column: 40 }, end: { line: 55, column: 1 } }, line: 41 }, "4": { name: "(anonymous_4)", decl: { start: { line: 43, column: 33 }, end: { line: 43, column: 34 } }, loc: { start: { line: 43, column: 45 }, end: { line: 43, column: 79 } }, line: 43 }, "5": { name: "(anonymous_5)", decl: { start: { line: 51, column: 59 }, end: { line: 51, column: 60 } }, loc: { start: { line: 51, column: 66 }, end: { line: 51, column: 108 } }, line: 51 }, "6": { name: "findRange", decl: { start: { line: 60, column: 9 }, end: { line: 60, column: 18 } }, loc: { start: { line: 60, column: 52 }, end: { line: 77, column: 1 } }, line: 60 }, "7": { name: "(anonymous_7)", decl: { start: { line: 64, column: 17 }, end: { line: 64, column: 18 } }, loc: { start: { line: 64, column: 41 }, end: { line: 68, column: 3 } }, line: 64 }, "8": { name: "(anonymous_8)", decl: { start: { line: 76, column: 28 }, end: { line: 76, column: 29 } }, loc: { start: { line: 76, column: 43 }, end: { line: 76, column: 91 } }, line: 76 }, "9": { name: "(anonymous_9)", decl: { start: { line: 76, column: 97 }, end: { line: 76, column: 98 } }, loc: { start: { line: 76, column: 114 }, end: { line: 76, column: 121 } }, line: 76 }, "10": { name: "(anonymous_10)", decl: { start: { line: 76, column: 130 }, end: { line: 76, column: 131 } }, loc: { start: { line: 76, column: 140 }, end: { line: 76, column: 167 } }, line: 76 } }, branchMap: { "0": { loc: { start: { line: 23, column: 46 }, end: { line: 23, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 23, column: 70 }, end: { line: 23, column: 73 } }, { start: { line: 23, column: 76 }, end: { line: 23, column: 92 } }], line: 23 }, "1": { loc: { start: { line: 23, column: 46 }, end: { line: 23, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 23, column: 46 }, end: { line: 23, column: 49 } }, { start: { line: 23, column: 53 }, end: { line: 23, column: 67 } }], line: 23 }, "2": { loc: { start: { line: 41, column: 26 }, end: { line: 41, column: 38 } }, type: "default-arg", locations: [{ start: { line: 41, column: 36 }, end: { line: 41, column: 38 } }], line: 41 }, "3": { loc: { start: { line: 42, column: 2 }, end: { line: 54, column: 3 } }, type: "if", locations: [{ start: { line: 42, column: 2 }, end: { line: 54, column: 3 } }, { start: { line: 42, column: 2 }, end: { line: 54, column: 3 } }], line: 42 }, "4": { loc: { start: { line: 44, column: 9 }, end: { line: 54, column: 3 } }, type: "if", locations: [{ start: { line: 44, column: 9 }, end: { line: 54, column: 3 } }, { start: { line: 44, column: 9 }, end: { line: 54, column: 3 } }], line: 44 }, "5": { loc: { start: { line: 47, column: 4 }, end: { line: 49, column: 5 } }, type: "if", locations: [{ start: { line: 47, column: 4 }, end: { line: 49, column: 5 } }, { start: { line: 47, column: 4 }, end: { line: 49, column: 5 } }], line: 47 }, "6": { loc: { start: { line: 76, column: 43 }, end: { line: 76, column: 91 } }, type: "binary-expr", locations: [{ start: { line: 76, column: 43 }, end: { line: 76, column: 66 } }, { start: { line: 76, column: 70 }, end: { line: 76, column: 91 } }], line: 76 }, "7": { loc: { start: { line: 76, column: 140 }, end: { line: 76, column: 167 } }, type: "cond-expr", locations: [{ start: { line: 76, column: 162 }, end: { line: 76, column: 163 } }, { start: { line: 76, column: 166 }, end: { line: 76, column: 167 } }], line: 76 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0, 0], "7": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/ast/map.js"], names: ["getRange", "rangeNodes", "findRange", "debug", "node", "start", "length", "src", "split", "slice", "map", "i", "parseInt", "pointer", "Array", "concat", "sub", "Object", "results", "push", "range", "key", "sourceStart", "sourceLength", "ranges", "tree", "IntervalTree", "forEach", "end", "insert", "sourceEnd", "overlapping", "search", "filter", "reduce", "a", "b"], mappings: ";;;;;;;;;;QASgBA,Q,GAAAA,Q;QAcAC,U,GAAAA,U;QAyBAC,S,GAAAA,S;;AAhDhB;;;;AAGA;;;;;;AAFA,MAAMC,QAAQ,qBAAY,kBAAZ,CAAd;;AAKA;;;AAGO,SAASH,QAAT,CAAkBI,IAAlB,EAAwB;AAC7B;AACA;AACA,MAAI,CAACC,KAAD,EAAQC,MAAR,IAAkBF,KAAKG,GAAL,CACnBC,KADmB,CACb,GADa,EAEnBC,KAFmB,CAEb,CAFa,EAEV,CAFU,EAGnBC,GAHmB,CAGbC,CAAD,IAAOC,SAASD,CAAT,CAHO,CAAtB;;AAKA,SAAO,CAACN,KAAD,EAAQA,QAAQC,MAAhB,CAAP;AACD;;AAED;;;AAGO,SAASL,UAAT,CAAoBG,IAApB,EAA0BS,UAAU,EAApC,EAAwC;AAC7C,MAAIT,gBAAgBU,KAApB,EAA2B;AACzB,WAAO,GAAGC,MAAH,CACL,GAAGX,KAAKM,GAAL,CAAU,CAACM,GAAD,EAAML,CAAN,KAAYV,WAAWe,GAAX,EAAiB,GAAEH,OAAQ,IAAGF,CAAE,EAAhC,CAAtB,CADE,CAAP;AAGD,GAJD,MAIO,IAAIP,gBAAgBa,MAApB,EAA4B;AACjC,QAAIC,UAAU,EAAd;;AAEA,QAAId,KAAKG,GAAT,EAAc;AACZW,cAAQC,IAAR,CAAa,EAACN,OAAD,EAAUO,OAAOpB,SAASI,IAAT,CAAjB,EAAb;AACD;;AAED,WAAOc,QAAQH,MAAR,CACL,GAAG,oBAAYX,IAAZ,EAAkBM,GAAlB,CACAW,GAAD,IAASpB,WAAWG,KAAKiB,GAAL,CAAX,EAAuB,GAAER,OAAQ,IAAGQ,GAAI,EAAxC,CADR,CADE,CAAP;AAKD,GAZM,MAYA;AACL,WAAO,EAAP;AACD;AACF;;AAED;;;AAGO,SAASnB,SAAT,CAAmBE,IAAnB,EAAyBkB,WAAzB,EAAsCC,YAAtC,EAAoD;AACzD,MAAIC,SAASvB,WAAWG,IAAX,CAAb;AACA,MAAIqB,OAAO,IAAIC,0BAAJ,EAAX;;AAEAF,SAAOG,OAAP,CAAgB,CAAC,EAACP,KAAD,EAAQP,OAAR,EAAD,KAAsB;AACpC,QAAI,CAACR,KAAD,EAAQuB,GAAR,IAAeR,KAAnB;;AAEAK,SAAKI,MAAL,CAAYxB,KAAZ,EAAmBuB,GAAnB,EAAwB,EAACR,KAAD,EAAQP,OAAR,EAAxB;AACD,GAJD;;AAMA,MAAIiB,YAAYR,cAAcC,YAA9B;;AAEA,MAAIQ,cAAcN,KAAKO,MAAL,CAAYV,WAAZ,EAAyBQ,SAAzB,CAAlB;;AAEA;AACA;AACA,SAAOC,YACJE,MADI,CACI,CAAC,EAACb,KAAD,EAAD,KAAaE,eAAeF,MAAM,CAAN,CAAf,IAA2BU,aAAaV,MAAM,CAAN,CADzD,EAEJV,GAFI,CAEC,CAAC,EAACG,OAAD,EAAD,KAAeA,OAFhB,EAGJqB,MAHI,CAGI,CAACC,CAAD,EAAIC,CAAJ,KAAUD,EAAE7B,MAAF,GAAW8B,EAAE9B,MAAb,GAAsB6B,CAAtB,GAA0BC,CAHxC,EAG2C,EAH3C,CAAP;AAID", file: "map.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:ast:map\");\n\nimport IntervalTree from \"node-interval-tree\";\n\n\n/**\n * @private\n */\nexport function getRange(node) {\n  // src: \"<start>:<length>:<_>\"\n  // returns [start, end]\n  let [start, length] = node.src\n    .split(\":\")\n    .slice(0, 2)\n    .map( (i) => parseInt(i) );\n\n  return [start, start + length];\n}\n\n/**\n * @private\n */\nexport function rangeNodes(node, pointer = \"\") {\n  if (node instanceof Array) {\n    return [].concat(\n      ...node.map( (sub, i) => rangeNodes(sub, `${pointer}/${i}`) )\n    );\n  } else if (node instanceof Object) {\n    let results = [];\n\n    if (node.src) {\n      results.push({pointer, range: getRange(node)});\n    }\n\n    return results.concat(\n      ...Object.keys(node).map(\n        (key) => rangeNodes(node[key], `${pointer}/${key}`)\n      )\n    );\n  } else {\n    return [];\n  }\n}\n\n/**\n * @private\n */\nexport function findRange(node, sourceStart, sourceLength) {\n  let ranges = rangeNodes(node);\n  let tree = new IntervalTree();\n\n  ranges.forEach( ({range, pointer}) => {\n    let [start, end] = range;\n\n    tree.insert(start, end, {range, pointer});\n  });\n\n  let sourceEnd = sourceStart + sourceLength;\n\n  let overlapping = tree.search(sourceStart, sourceEnd);\n\n  // find nodes that fully contain requested range,\n  // return longest pointer\n  return overlapping\n    .filter( ({range}) => sourceStart >= range[0] && sourceEnd <= range[1] )\n    .map( ({pointer}) => pointer )\n    .reduce( (a, b) => a.length > b.length ? a : b, \"\" );\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_1e4tw6tegl.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _keys = (cov_1e4tw6tegl.s[1]++, __webpack_require__(17));var _keys2 = (cov_1e4tw6tegl.s[2]++, _interopRequireDefault(_keys));cov_1e4tw6tegl.s[3]++;exports.getRange = getRange;cov_1e4tw6tegl.s[4]++;exports.rangeNodes = rangeNodes;cov_1e4tw6tegl.s[5]++;exports.findRange = findRange;var _debug = (cov_1e4tw6tegl.s[6]++, __webpack_require__(0));var _debug2 = (cov_1e4tw6tegl.s[7]++, _interopRequireDefault(_debug));var _nodeIntervalTree = (cov_1e4tw6tegl.s[8]++, __webpack_require__(66));var _nodeIntervalTree2 = (cov_1e4tw6tegl.s[9]++, _interopRequireDefault(_nodeIntervalTree));function _interopRequireDefault(obj) {
  cov_1e4tw6tegl.f[0]++;cov_1e4tw6tegl.s[10]++;return (cov_1e4tw6tegl.b[1][0]++, obj) && (cov_1e4tw6tegl.b[1][1]++, obj.__esModule) ? (cov_1e4tw6tegl.b[0][0]++, obj) : (cov_1e4tw6tegl.b[0][1]++, { default: obj });
}const debug = (cov_1e4tw6tegl.s[11]++, (0, _debug2.default)("debugger:ast:map"));function getRange(node) {
  cov_1e4tw6tegl.f[1]++;let [start, length] = (cov_1e4tw6tegl.s[12]++, node.src.split(":").slice(0, 2).map(i => {
    cov_1e4tw6tegl.f[2]++;cov_1e4tw6tegl.s[13]++;return parseInt(i);
  }));cov_1e4tw6tegl.s[14]++;return [start, start + length];
}function rangeNodes(node, pointer = (cov_1e4tw6tegl.b[2][0]++, "")) {
  cov_1e4tw6tegl.f[3]++;cov_1e4tw6tegl.s[15]++;if (node instanceof Array) {
    cov_1e4tw6tegl.b[3][0]++;cov_1e4tw6tegl.s[16]++;return [].concat(...node.map((sub, i) => {
      cov_1e4tw6tegl.f[4]++;cov_1e4tw6tegl.s[17]++;return rangeNodes(sub, `${pointer}/${i}`);
    }));
  } else {
    cov_1e4tw6tegl.b[3][1]++;cov_1e4tw6tegl.s[18]++;if (node instanceof Object) {
      cov_1e4tw6tegl.b[4][0]++;let results = (cov_1e4tw6tegl.s[19]++, []);cov_1e4tw6tegl.s[20]++;if (node.src) {
        cov_1e4tw6tegl.b[5][0]++;cov_1e4tw6tegl.s[21]++;results.push({ pointer, range: getRange(node) });
      } else {
        cov_1e4tw6tegl.b[5][1]++;
      }cov_1e4tw6tegl.s[22]++;return results.concat(...(0, _keys2.default)(node).map(key => {
        cov_1e4tw6tegl.f[5]++;cov_1e4tw6tegl.s[23]++;return rangeNodes(node[key], `${pointer}/${key}`);
      }));
    } else {
      cov_1e4tw6tegl.b[4][1]++;cov_1e4tw6tegl.s[24]++;return [];
    }
  }
}function findRange(node, sourceStart, sourceLength) {
  cov_1e4tw6tegl.f[6]++;let ranges = (cov_1e4tw6tegl.s[25]++, rangeNodes(node));let tree = (cov_1e4tw6tegl.s[26]++, new _nodeIntervalTree2.default());cov_1e4tw6tegl.s[27]++;ranges.forEach(({ range, pointer }) => {
    cov_1e4tw6tegl.f[7]++;let [start, end] = (cov_1e4tw6tegl.s[28]++, range);cov_1e4tw6tegl.s[29]++;tree.insert(start, end, { range, pointer });
  });let sourceEnd = (cov_1e4tw6tegl.s[30]++, sourceStart + sourceLength);let overlapping = (cov_1e4tw6tegl.s[31]++, tree.search(sourceStart, sourceEnd));cov_1e4tw6tegl.s[32]++;return overlapping.filter(({ range }) => {
    cov_1e4tw6tegl.f[8]++;cov_1e4tw6tegl.s[33]++;return (cov_1e4tw6tegl.b[6][0]++, sourceStart >= range[0]) && (cov_1e4tw6tegl.b[6][1]++, sourceEnd <= range[1]);
  }).map(({ pointer }) => {
    cov_1e4tw6tegl.f[9]++;cov_1e4tw6tegl.s[34]++;return pointer;
  }).reduce((a, b) => {
    cov_1e4tw6tegl.f[10]++;cov_1e4tw6tegl.s[35]++;return a.length > b.length ? (cov_1e4tw6tegl.b[7][0]++, a) : (cov_1e4tw6tegl.b[7][1]++, b);
  }, "");
}

/***/ }),
/* 31 */
/***/ (function(module, exports) {

module.exports = require("truffle-decoder");

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_1h116yd0jo = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/session/selectors/index.js",
      hash = "d08154de8aed48d9298f3cdd396ca6307af473e0",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/session/selectors/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 15 }, end: { line: 7, column: 62 } }, "2": { start: { line: 9, column: 16 }, end: { line: 9, column: 48 } }, "3": { start: { line: 11, column: 14 }, end: { line: 11, column: 60 } }, "4": { start: { line: 13, column: 15 }, end: { line: 13, column: 46 } }, "5": { start: { line: 15, column: 13 }, end: { line: 15, column: 29 } }, "6": { start: { line: 17, column: 14 }, end: { line: 17, column: 44 } }, "7": { start: { line: 19, column: 20 }, end: { line: 19, column: 44 } }, "8": { start: { line: 21, column: 17 }, end: { line: 21, column: 45 } }, "9": { start: { line: 23, column: 18 }, end: { line: 23, column: 52 } }, "10": { start: { line: 25, column: 18 }, end: { line: 25, column: 51 } }, "11": { start: { line: 27, column: 18 }, end: { line: 27, column: 53 } }, "12": { start: { line: 29, column: 39 }, end: { line: 29, column: 93 } }, "13": { start: { line: 31, column: 14 }, end: { line: 31, column: 64 } }, "14": { start: { line: 33, column: 16 }, end: { line: 80, column: 2 } }, "15": { start: { line: 42, column: 243 }, end: { line: 57, column: 7 } }, "16": { start: { line: 43, column: 6 }, end: { line: 43, column: 39 } }, "17": { start: { line: 44, column: 6 }, end: { line: 44, column: 37 } }, "18": { start: { line: 45, column: 37 }, end: { line: 45, column: 54 } }, "19": { start: { line: 46, column: 26 }, end: { line: 46, column: 51 } }, "20": { start: { line: 48, column: 23 }, end: { line: 50, column: 63 } }, "21": { start: { line: 52, column: 6 }, end: { line: 56, column: 8 } }, "22": { start: { line: 70, column: 16 }, end: { line: 70, column: 41 } }, "23": { start: { line: 76, column: 22 }, end: { line: 76, column: 43 } }, "24": { start: { line: 82, column: 0 }, end: { line: 82, column: 26 } } }, fnMap: { "0": { name: "_interopRequireDefault", decl: { start: { line: 29, column: 9 }, end: { line: 29, column: 31 } }, loc: { start: { line: 29, column: 37 }, end: { line: 29, column: 95 } }, line: 29 }, "1": { name: "(anonymous_1)", decl: { start: { line: 42, column: 197 }, end: { line: 42, column: 198 } }, loc: { start: { line: 42, column: 243 }, end: { line: 57, column: 7 } }, line: 42 }, "2": { name: "(anonymous_2)", decl: { start: { line: 42, column: 310 }, end: { line: 42, column: 311 } }, loc: { start: { line: 42, column: 338 }, end: { line: 57, column: 5 } }, line: 42 }, "3": { name: "(anonymous_3)", decl: { start: { line: 70, column: 7 }, end: { line: 70, column: 8 } }, loc: { start: { line: 70, column: 16 }, end: { line: 70, column: 41 } }, line: 70 }, "4": { name: "(anonymous_4)", decl: { start: { line: 76, column: 13 }, end: { line: 76, column: 14 } }, loc: { start: { line: 76, column: 22 }, end: { line: 76, column: 43 } }, line: 76 } }, branchMap: { "0": { loc: { start: { line: 29, column: 46 }, end: { line: 29, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 29, column: 70 }, end: { line: 29, column: 73 } }, { start: { line: 29, column: 76 }, end: { line: 29, column: 92 } }], line: 29 }, "1": { loc: { start: { line: 29, column: 46 }, end: { line: 29, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 29, column: 46 }, end: { line: 29, column: 49 } }, { start: { line: 29, column: 53 }, end: { line: 29, column: 67 } }], line: 29 }, "2": { loc: { start: { line: 46, column: 26 }, end: { line: 46, column: 51 } }, type: "binary-expr", locations: [{ start: { line: 46, column: 26 }, end: { line: 46, column: 45 } }, { start: { line: 46, column: 49 }, end: { line: 46, column: 51 } }], line: 46 }, "3": { loc: { start: { line: 48, column: 23 }, end: { line: 50, column: 63 } }, type: "cond-expr", locations: [{ start: { line: 50, column: 6 }, end: { line: 50, column: 58 } }, { start: { line: 50, column: 61 }, end: { line: 50, column: 63 } }], line: 48 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/session/selectors/index.js"], names: ["debug", "session", "info", "affectedInstances", "evm", "instances", "contexts", "solidity", "sources", "sourceMaps", "map", "address", "context", "contractName", "binary", "sourceMap", "source", "match", "transaction", "_", "state", "receipt"], mappings: ";;;;;;;;;;;;;;AAAA;;;;AAGA;;AAEA;;;;AACA;;;;;;AALA,MAAMA,QAAQ,qBAAY,4BAAZ,CAAd;;AAOA,MAAMC,UAAU,sCAAmB;AACjC;;;AAGAC,QAAM;;AAEJ;;;AAGAC,uBAAmB,8BACjB,CAACC,oBAAIF,IAAJ,CAASG,SAAV,EAAqBD,oBAAIF,IAAJ,CAASI,QAA9B,EAAwCC,oBAASL,IAAT,CAAcM,OAAtD,EAA+DD,oBAASL,IAAT,CAAcO,UAA7E,CADiB,EAGjB,CAACJ,SAAD,EAAYC,QAAZ,EAAsBE,OAAtB,EAA+BC,UAA/B,KAA8C,sBAAc,EAAd,EAC5C,GAAG,uBAAeJ,SAAf,EAA0BK,GAA1B,CACD,CAAC,CAACC,OAAD,EAAU,EAACC,OAAD,EAAV,CAAD,KAA0B;AACxBZ,YAAM,cAAN,EAAsBK,SAAtB;AACAL,YAAM,aAAN,EAAqBM,QAArB;AACA,UAAI,EAAEO,YAAF,EAAgBC,MAAhB,KAA2BR,SAASM,OAAT,CAA/B;AACA,UAAI,EAAEG,SAAF,KAAgBN,WAAWG,OAAX,KAAuB,EAA3C;;AAEA,UAAI,EAAEI,MAAF,KAAaD;AACf;AACAP,cAAQO,UAAUE,KAAV,CAAgB,uBAAhB,EAAyC,CAAzC,CAAR,CAFe,GAGf,EAHF;;AAKA,aAAO;AACL,SAACN,OAAD,GAAW;AACTE,sBADS,EACKG,MADL,EACaF;AADb;AADN,OAAP;AAKD,KAjBA,CADyC,CAH7B;;AALf,GAJ2B;;AAsCjC;;;AAGAI,eAAa;;AAEX;;;;AAIAC,OAAIC,KAAD,IAAWA,MAAMnB,OAAN,CAAciB,WANjB;;AAQX;;;;AAIAG,aAAUD,KAAD,IAAWA,MAAMnB,OAAN,CAAcoB;;AAZvB;;AAzCoB,CAAnB,CAAhB;;kBA2DepB,O", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:session:selectors\");\n\nimport { createSelectorTree, createLeaf } from \"reselect-tree\";\n\nimport evm from \"lib/evm/selectors\";\nimport solidity from \"lib/solidity/selectors\";\n\nconst session = createSelectorTree({\n  /**\n   * session.info\n   */\n  info: {\n\n    /**\n     * session.info.affectedInstances\n     */\n    affectedInstances: createLeaf(\n      [evm.info.instances, evm.info.contexts, solidity.info.sources, solidity.info.sourceMaps],\n\n      (instances, contexts, sources, sourceMaps) => Object.assign({},\n        ...Object.entries(instances).map(\n          ([address, {context}]) => {\n            debug(\"instances %O\", instances);\n            debug(\"contexts %O\", contexts);\n            let { contractName, binary } = contexts[context];\n            let { sourceMap } = sourceMaps[context] || {};\n\n            let { source } = sourceMap ?\n              // look for source ID between second and third colons (HACK)\n              sources[sourceMap.match(/^[^:]+:[^:]+:([^:]+):/)[1]] :\n              {};\n\n            return {\n              [address]: {\n                contractName, source, binary\n              }\n            };\n          }\n        )\n      )\n    )\n\n  },\n\n\n  /**\n   * session.transaction (namespace)\n   */\n  transaction: {\n\n    /**\n     * session.transaction (selector)\n     * contains the web3 transaction object\n     */\n    _: (state) => state.session.transaction,\n\n    /**\n     * session.transaction.receipt\n     * contains the web3 receipt object\n     */\n    receipt: (state) => state.session.receipt,\n\n  }\n  \n});\n\nexport default session;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_1h116yd0jo.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _entries = (cov_1h116yd0jo.s[1]++, __webpack_require__(9));var _entries2 = (cov_1h116yd0jo.s[2]++, _interopRequireDefault(_entries));var _assign = (cov_1h116yd0jo.s[3]++, __webpack_require__(12));var _assign2 = (cov_1h116yd0jo.s[4]++, _interopRequireDefault(_assign));var _debug = (cov_1h116yd0jo.s[5]++, __webpack_require__(0));var _debug2 = (cov_1h116yd0jo.s[6]++, _interopRequireDefault(_debug));var _reselectTree = (cov_1h116yd0jo.s[7]++, __webpack_require__(14));var _selectors = (cov_1h116yd0jo.s[8]++, __webpack_require__(10));var _selectors2 = (cov_1h116yd0jo.s[9]++, _interopRequireDefault(_selectors));var _selectors3 = (cov_1h116yd0jo.s[10]++, __webpack_require__(2));var _selectors4 = (cov_1h116yd0jo.s[11]++, _interopRequireDefault(_selectors3));function _interopRequireDefault(obj) {
  cov_1h116yd0jo.f[0]++;cov_1h116yd0jo.s[12]++;return (cov_1h116yd0jo.b[1][0]++, obj) && (cov_1h116yd0jo.b[1][1]++, obj.__esModule) ? (cov_1h116yd0jo.b[0][0]++, obj) : (cov_1h116yd0jo.b[0][1]++, { default: obj });
}const debug = (cov_1h116yd0jo.s[13]++, (0, _debug2.default)("debugger:session:selectors"));const session = (cov_1h116yd0jo.s[14]++, (0, _reselectTree.createSelectorTree)({ info: { affectedInstances: (0, _reselectTree.createLeaf)([_selectors2.default.info.instances, _selectors2.default.info.contexts, _selectors4.default.info.sources, _selectors4.default.info.sourceMaps], (instances, contexts, sources, sourceMaps) => {
      cov_1h116yd0jo.f[1]++;cov_1h116yd0jo.s[15]++;return (0, _assign2.default)({}, ...(0, _entries2.default)(instances).map(([address, { context }]) => {
        cov_1h116yd0jo.f[2]++;cov_1h116yd0jo.s[16]++;debug("instances %O", instances);cov_1h116yd0jo.s[17]++;debug("contexts %O", contexts);let { contractName, binary } = (cov_1h116yd0jo.s[18]++, contexts[context]);let { sourceMap } = (cov_1h116yd0jo.s[19]++, (cov_1h116yd0jo.b[2][0]++, sourceMaps[context]) || (cov_1h116yd0jo.b[2][1]++, {}));let { source } = (cov_1h116yd0jo.s[20]++, sourceMap ? (cov_1h116yd0jo.b[3][0]++, sources[sourceMap.match(/^[^:]+:[^:]+:([^:]+):/)[1]]) : (cov_1h116yd0jo.b[3][1]++, {}));cov_1h116yd0jo.s[21]++;return { [address]: { contractName, source, binary } };
      }));
    }) }, transaction: { _: state => {
      cov_1h116yd0jo.f[3]++;cov_1h116yd0jo.s[22]++;return state.session.transaction;
    }, receipt: state => {
      cov_1h116yd0jo.f[4]++;cov_1h116yd0jo.s[23]++;return state.session.receipt;
    } } }));cov_1h116yd0jo.s[24]++;exports.default = session;

/***/ }),
/* 33 */
/***/ (function(module, exports) {

module.exports = require("web3");

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_1fosgkqbd2 = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/data/actions/index.js",
      hash = "369bae7023efd09373206bdba7ad971f1d28980e",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/data/actions/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 22 } }, "2": { start: { line: 7, column: 0 }, end: { line: 7, column: 26 } }, "3": { start: { line: 8, column: 0 }, end: { line: 8, column: 24 } }, "4": { start: { line: 9, column: 0 }, end: { line: 9, column: 44 } }, "5": { start: { line: 10, column: 0 }, end: { line: 10, column: 40 } }, "6": { start: { line: 11, column: 0 }, end: { line: 11, column: 22 } }, "7": { start: { line: 12, column: 0 }, end: { line: 12, column: 36 } }, "8": { start: { line: 13, column: 0 }, end: { line: 13, column: 32 } }, "9": { start: { line: 14, column: 0 }, end: { line: 14, column: 28 } }, "10": { start: { line: 15, column: 14 }, end: { line: 15, column: 37 } }, "11": { start: { line: 17, column: 2 }, end: { line: 23, column: 4 } }, "12": { start: { line: 26, column: 16 }, end: { line: 26, column: 52 } }, "13": { start: { line: 28, column: 2 }, end: { line: 31, column: 4 } }, "14": { start: { line: 34, column: 15 }, end: { line: 34, column: 40 } }, "15": { start: { line: 36, column: 2 }, end: { line: 39, column: 4 } }, "16": { start: { line: 42, column: 28 }, end: { line: 42, column: 79 } }, "17": { start: { line: 44, column: 2 }, end: { line: 51, column: 4 } }, "18": { start: { line: 54, column: 25 }, end: { line: 54, column: 70 } }, "19": { start: { line: 56, column: 2 }, end: { line: 59, column: 4 } }, "20": { start: { line: 62, column: 14 }, end: { line: 62, column: 42 } }, "21": { start: { line: 64, column: 2 }, end: { line: 64, column: 25 } }, "22": { start: { line: 67, column: 22 }, end: { line: 67, column: 61 } }, "23": { start: { line: 69, column: 2 }, end: { line: 73, column: 4 } }, "24": { start: { line: 76, column: 20 }, end: { line: 76, column: 55 } }, "25": { start: { line: 78, column: 2 }, end: { line: 81, column: 4 } }, "26": { start: { line: 84, column: 17 }, end: { line: 84, column: 46 } }, "27": { start: { line: 86, column: 2 }, end: { line: 90, column: 4 } } }, fnMap: { "0": { name: "scope", decl: { start: { line: 16, column: 9 }, end: { line: 16, column: 14 } }, loc: { start: { line: 16, column: 48 }, end: { line: 24, column: 1 } }, line: 16 }, "1": { name: "declare", decl: { start: { line: 27, column: 9 }, end: { line: 27, column: 16 } }, loc: { start: { line: 27, column: 23 }, end: { line: 32, column: 1 } }, line: 27 }, "2": { name: "assign", decl: { start: { line: 35, column: 9 }, end: { line: 35, column: 15 } }, loc: { start: { line: 35, column: 29 }, end: { line: 40, column: 1 } }, line: 35 }, "3": { name: "mapPathAndAssign", decl: { start: { line: 43, column: 9 }, end: { line: 43, column: 25 } }, loc: { start: { line: 43, column: 80 }, end: { line: 52, column: 1 } }, line: 43 }, "4": { name: "mapKeyDecoding", decl: { start: { line: 55, column: 9 }, end: { line: 55, column: 23 } }, loc: { start: { line: 55, column: 33 }, end: { line: 60, column: 1 } }, line: 55 }, "5": { name: "reset", decl: { start: { line: 63, column: 9 }, end: { line: 63, column: 14 } }, loc: { start: { line: 63, column: 17 }, end: { line: 65, column: 1 } }, line: 63 }, "6": { name: "learnAddress", decl: { start: { line: 68, column: 9 }, end: { line: 68, column: 21 } }, loc: { start: { line: 68, column: 45 }, end: { line: 74, column: 1 } }, line: 68 }, "7": { name: "defineType", decl: { start: { line: 77, column: 9 }, end: { line: 77, column: 19 } }, loc: { start: { line: 77, column: 26 }, end: { line: 82, column: 1 } }, line: 77 }, "8": { name: "allocate", decl: { start: { line: 85, column: 9 }, end: { line: 85, column: 17 } }, loc: { start: { line: 85, column: 27 }, end: { line: 91, column: 1 } }, line: 85 } }, branchMap: {}, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0 }, b: {}, inputSourceMap: { version: 3, sources: ["lib/data/actions/index.js"], names: ["scope", "declare", "assign", "mapPathAndAssign", "mapKeyDecoding", "reset", "learnAddress", "defineType", "allocate", "SCOPE", "id", "pointer", "parentId", "sourceId", "type", "DECLARE", "node", "ASSIGN", "assignments", "MAP_PATH_AND_ASSIGN", "address", "slot", "typeIdentifier", "baseType", "MAP_KEY_DECODING", "started", "RESET", "LEARN_ADDRESS", "dummyAddress", "DEFINE_TYPE", "ALLOCATE", "storage"], mappings: ";;;;;QACgBA,K,GAAAA,K;QAWAC,O,GAAAA,O;QAQAC,M,GAAAA,M;QAQAC,gB,GAAAA,gB;QAkBAC,c,GAAAA,c;QAQAC,K,GAAAA,K;QAKAC,Y,GAAAA,Y;QASAC,U,GAAAA,U;QAQAC,Q,GAAAA,Q;AA5ET,MAAMC,wBAAQ,OAAd;AACA,SAAST,KAAT,CAAeU,EAAf,EAAmBC,OAAnB,EAA4BC,QAA5B,EAAsCC,QAAtC,EAAgD;AACrD,SAAO;AACLC,UAAML,KADD;AAELC,MAFK;AAGLC,WAHK;AAILC,YAJK;AAKLC;AALK,GAAP;AAOD;;AAEM,MAAME,4BAAU,kBAAhB;AACA,SAASd,OAAT,CAAiBe,IAAjB,EAAuB;AAC5B,SAAO;AACLF,UAAMC,OADD;AAELC;AAFK,GAAP;AAID;;AAEM,MAAMC,0BAAS,QAAf;AACA,SAASf,MAAT,CAAgBgB,WAAhB,EAA6B;AAClC,SAAO;AACLJ,UAAMG,MADD;AAELC;AAFK,GAAP;AAID;;AAEM,MAAMC,oDAAsB,qBAA5B;AACA,SAAShB,gBAAT,CACLiB,OADK,EAELC,IAFK,EAGLH,WAHK,EAILI,cAJK,EAKLC,QALK,EAML;AACA,SAAO;AACLT,UAAMK,mBADD;AAELC,WAFK;AAGLC,QAHK;AAILH,eAJK;AAKLI,kBALK;AAMLC;AANK,GAAP;AAQD;;AAEM,MAAMC,8CAAmB,kBAAzB;AACA,SAASpB,cAAT,CAAwBqB,OAAxB,EAAiC;AACtC,SAAO;AACLX,UAAMU,gBADD;AAELC;AAFK,GAAP;AAID;;AAEM,MAAMC,wBAAQ,YAAd;AACA,SAASrB,KAAT,GAAiB;AACtB,SAAO,EAAES,MAAMY,KAAR,EAAP;AACD;;AAEM,MAAMC,wCAAgB,eAAtB;AACA,SAASrB,YAAT,CAAsBsB,YAAtB,EAAoCR,OAApC,EAA6C;AAClD,SAAO;AACLN,UAAMa,aADD;AAELC,gBAFK;AAGLR;AAHK,GAAP;AAKD;;AAEM,MAAMS,oCAAc,aAApB;AACA,SAAStB,UAAT,CAAoBS,IAApB,EAA0B;AAC/B,SAAO;AACLF,UAAMe,WADD;AAELb;AAFK,GAAP;AAID;;AAEM,MAAMc,8BAAW,UAAjB;AACA,SAAStB,QAAT,CAAkBuB,OAAlB,EAA2B;AAChC,SAAO;AACLjB,UAAMgB,QADD;AAELC;AACA;AAHK,GAAP;AAKD", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["export const SCOPE = \"SCOPE\";\nexport function scope(id, pointer, parentId, sourceId) {\n  return {\n    type: SCOPE,\n    id,\n    pointer,\n    parentId,\n    sourceId\n  };\n}\n\nexport const DECLARE = \"DECLARE_VARIABLE\";\nexport function declare(node) {\n  return {\n    type: DECLARE,\n    node\n  };\n}\n\nexport const ASSIGN = \"ASSIGN\";\nexport function assign(assignments) {\n  return {\n    type: ASSIGN,\n    assignments\n  };\n}\n\nexport const MAP_PATH_AND_ASSIGN = \"MAP_PATH_AND_ASSIGN\";\nexport function mapPathAndAssign(\n  address,\n  slot,\n  assignments,\n  typeIdentifier,\n  baseType\n) {\n  return {\n    type: MAP_PATH_AND_ASSIGN,\n    address,\n    slot,\n    assignments,\n    typeIdentifier,\n    baseType\n  };\n}\n\nexport const MAP_KEY_DECODING = \"MAP_KEY_DECODING\";\nexport function mapKeyDecoding(started) {\n  return {\n    type: MAP_KEY_DECODING,\n    started\n  };\n}\n\nexport const RESET = \"DATA_RESET\";\nexport function reset() {\n  return { type: RESET };\n}\n\nexport const LEARN_ADDRESS = \"LEARN_ADDRESS\";\nexport function learnAddress(dummyAddress, address) {\n  return {\n    type: LEARN_ADDRESS,\n    dummyAddress,\n    address\n  };\n}\n\nexport const DEFINE_TYPE = \"DEFINE_TYPE\";\nexport function defineType(node) {\n  return {\n    type: DEFINE_TYPE,\n    node\n  };\n}\n\nexport const ALLOCATE = \"ALLOCATE\";\nexport function allocate(storage) {\n  return {\n    type: ALLOCATE,\n    storage\n    //later there will be more\n  };\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_1fosgkqbd2.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_1fosgkqbd2.s[1]++;exports.scope = scope;cov_1fosgkqbd2.s[2]++;exports.declare = declare;cov_1fosgkqbd2.s[3]++;exports.assign = assign;cov_1fosgkqbd2.s[4]++;exports.mapPathAndAssign = mapPathAndAssign;cov_1fosgkqbd2.s[5]++;exports.mapKeyDecoding = mapKeyDecoding;cov_1fosgkqbd2.s[6]++;exports.reset = reset;cov_1fosgkqbd2.s[7]++;exports.learnAddress = learnAddress;cov_1fosgkqbd2.s[8]++;exports.defineType = defineType;cov_1fosgkqbd2.s[9]++;exports.allocate = allocate;const SCOPE = (cov_1fosgkqbd2.s[10]++, exports.SCOPE = "SCOPE");function scope(id, pointer, parentId, sourceId) {
  cov_1fosgkqbd2.f[0]++;cov_1fosgkqbd2.s[11]++;return { type: SCOPE, id, pointer, parentId, sourceId };
}const DECLARE = (cov_1fosgkqbd2.s[12]++, exports.DECLARE = "DECLARE_VARIABLE");function declare(node) {
  cov_1fosgkqbd2.f[1]++;cov_1fosgkqbd2.s[13]++;return { type: DECLARE, node };
}const ASSIGN = (cov_1fosgkqbd2.s[14]++, exports.ASSIGN = "ASSIGN");function assign(assignments) {
  cov_1fosgkqbd2.f[2]++;cov_1fosgkqbd2.s[15]++;return { type: ASSIGN, assignments };
}const MAP_PATH_AND_ASSIGN = (cov_1fosgkqbd2.s[16]++, exports.MAP_PATH_AND_ASSIGN = "MAP_PATH_AND_ASSIGN");function mapPathAndAssign(address, slot, assignments, typeIdentifier, baseType) {
  cov_1fosgkqbd2.f[3]++;cov_1fosgkqbd2.s[17]++;return { type: MAP_PATH_AND_ASSIGN, address, slot, assignments, typeIdentifier, baseType };
}const MAP_KEY_DECODING = (cov_1fosgkqbd2.s[18]++, exports.MAP_KEY_DECODING = "MAP_KEY_DECODING");function mapKeyDecoding(started) {
  cov_1fosgkqbd2.f[4]++;cov_1fosgkqbd2.s[19]++;return { type: MAP_KEY_DECODING, started };
}const RESET = (cov_1fosgkqbd2.s[20]++, exports.RESET = "DATA_RESET");function reset() {
  cov_1fosgkqbd2.f[5]++;cov_1fosgkqbd2.s[21]++;return { type: RESET };
}const LEARN_ADDRESS = (cov_1fosgkqbd2.s[22]++, exports.LEARN_ADDRESS = "LEARN_ADDRESS");function learnAddress(dummyAddress, address) {
  cov_1fosgkqbd2.f[6]++;cov_1fosgkqbd2.s[23]++;return { type: LEARN_ADDRESS, dummyAddress, address };
}const DEFINE_TYPE = (cov_1fosgkqbd2.s[24]++, exports.DEFINE_TYPE = "DEFINE_TYPE");function defineType(node) {
  cov_1fosgkqbd2.f[7]++;cov_1fosgkqbd2.s[25]++;return { type: DEFINE_TYPE, node };
}const ALLOCATE = (cov_1fosgkqbd2.s[26]++, exports.ALLOCATE = "ALLOCATE");function allocate(storage) {
  cov_1fosgkqbd2.f[8]++;cov_1fosgkqbd2.s[27]++;return { type: ALLOCATE, storage };
}

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_gj3m4bc7n = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/evm/sagas/index.js",
      hash = "e87aafc120a7591244821ed78ad9e6c49b2b5f76",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/evm/sagas/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 32 } }, "2": { start: { line: 7, column: 0 }, end: { line: 7, column: 34 } }, "3": { start: { line: 8, column: 0 }, end: { line: 8, column: 22 } }, "4": { start: { line: 9, column: 0 }, end: { line: 9, column: 38 } }, "5": { start: { line: 10, column: 0 }, end: { line: 10, column: 22 } }, "6": { start: { line: 11, column: 0 }, end: { line: 11, column: 20 } }, "7": { start: { line: 13, column: 13 }, end: { line: 13, column: 29 } }, "8": { start: { line: 15, column: 14 }, end: { line: 15, column: 44 } }, "9": { start: { line: 17, column: 15 }, end: { line: 17, column: 44 } }, "10": { start: { line: 19, column: 15 }, end: { line: 19, column: 37 } }, "11": { start: { line: 21, column: 15 }, end: { line: 21, column: 43 } }, "12": { start: { line: 23, column: 16 }, end: { line: 23, column: 37 } }, "13": { start: { line: 25, column: 14 }, end: { line: 25, column: 48 } }, "14": { start: { line: 27, column: 17 }, end: { line: 27, column: 40 } }, "15": { start: { line: 29, column: 18 }, end: { line: 29, column: 52 } }, "16": { start: { line: 31, column: 13 }, end: { line: 31, column: 38 } }, "17": { start: { line: 33, column: 11 }, end: { line: 33, column: 42 } }, "18": { start: { line: 35, column: 14 }, end: { line: 35, column: 40 } }, "19": { start: { line: 37, column: 12 }, end: { line: 37, column: 44 } }, "20": { start: { line: 39, column: 26 }, end: { line: 39, column: 57 } }, "21": { start: { line: 41, column: 18 }, end: { line: 41, column: 62 } }, "22": { start: { line: 43, column: 40 }, end: { line: 43, column: 267 } }, "23": { start: { line: 43, column: 69 }, end: { line: 43, column: 80 } }, "24": { start: { line: 43, column: 103 }, end: { line: 43, column: 105 } }, "25": { start: { line: 43, column: 107 }, end: { line: 43, column: 228 } }, "26": { start: { line: 43, column: 126 }, end: { line: 43, column: 226 } }, "27": { start: { line: 43, column: 149 }, end: { line: 43, column: 224 } }, "28": { start: { line: 43, column: 201 }, end: { line: 43, column: 224 } }, "29": { start: { line: 43, column: 229 }, end: { line: 43, column: 250 } }, "30": { start: { line: 43, column: 251 }, end: { line: 43, column: 265 } }, "31": { start: { line: 45, column: 39 }, end: { line: 45, column: 93 } }, "32": { start: { line: 47, column: 14 }, end: { line: 47, column: 56 } }, "33": { start: { line: 55, column: 14 }, end: { line: 55, column: 31 } }, "34": { start: { line: 56, column: 18 }, end: { line: 56, column: 46 } }, "35": { start: { line: 58, column: 2 }, end: { line: 58, column: 75 } }, "36": { start: { line: 60, column: 2 }, end: { line: 62, column: 3 } }, "37": { start: { line: 61, column: 4 }, end: { line: 61, column: 64 } }, "38": { start: { line: 64, column: 2 }, end: { line: 64, column: 17 } }, "39": { start: { line: 74, column: 15 }, end: { line: 74, column: 83 } }, "40": { start: { line: 75, column: 20 }, end: { line: 75, column: 34 } }, "41": { start: { line: 78, column: 2 }, end: { line: 80, column: 3 } }, "42": { start: { line: 79, column: 4 }, end: { line: 79, column: 67 } }, "43": { start: { line: 82, column: 2 }, end: { line: 82, column: 73 } }, "44": { start: { line: 84, column: 2 }, end: { line: 84, column: 17 } }, "45": { start: { line: 88, column: 2 }, end: { line: 92, column: 3 } }, "46": { start: { line: 89, column: 4 }, end: { line: 89, column: 51 } }, "47": { start: { line: 91, column: 4 }, end: { line: 91, column: 52 } }, "48": { start: { line: 96, column: 2 }, end: { line: 96, column: 20 } }, "49": { start: { line: 98, column: 2 }, end: { line: 98, column: 25 } }, "50": { start: { line: 99, column: 2 }, end: { line: 99, column: 42 } }, "51": { start: { line: 103, column: 2 }, end: { line: 149, column: 3 } }, "52": { start: { line: 104, column: 4 }, end: { line: 104, column: 22 } }, "53": { start: { line: 105, column: 18 }, end: { line: 105, column: 90 } }, "54": { start: { line: 107, column: 4 }, end: { line: 107, column: 41 } }, "55": { start: { line: 113, column: 4 }, end: { line: 115, column: 5 } }, "56": { start: { line: 114, column: 6 }, end: { line: 114, column: 13 } }, "57": { start: { line: 117, column: 4 }, end: { line: 117, column: 51 } }, "58": { start: { line: 118, column: 9 }, end: { line: 149, column: 3 } }, "59": { start: { line: 119, column: 4 }, end: { line: 119, column: 24 } }, "60": { start: { line: 120, column: 17 }, end: { line: 120, column: 90 } }, "61": { start: { line: 122, column: 4 }, end: { line: 122, column: 52 } }, "62": { start: { line: 123, column: 9 }, end: { line: 149, column: 3 } }, "63": { start: { line: 124, column: 4 }, end: { line: 124, column: 24 } }, "64": { start: { line: 126, column: 20 }, end: { line: 126, column: 85 } }, "65": { start: { line: 131, column: 4 }, end: { line: 146, column: 5 } }, "66": { start: { line: 132, column: 25 }, end: { line: 132, column: 94 } }, "67": { start: { line: 133, column: 6 }, end: { line: 133, column: 45 } }, "68": { start: { line: 140, column: 18 }, end: { line: 140, column: 82 } }, "69": { start: { line: 141, column: 27 }, end: { line: 141, column: 84 } }, "70": { start: { line: 142, column: 6 }, end: { line: 142, column: 49 } }, "71": { start: { line: 144, column: 6 }, end: { line: 144, column: 65 } }, "72": { start: { line: 145, column: 6 }, end: { line: 145, column: 30 } }, "73": { start: { line: 148, column: 4 }, end: { line: 148, column: 50 } }, "74": { start: { line: 151, column: 2 }, end: { line: 151, column: 42 } }, "75": { start: { line: 155, column: 2 }, end: { line: 155, column: 43 } }, "76": { start: { line: 159, column: 2 }, end: { line: 159, column: 57 } }, "77": { start: { line: 162, column: 0 }, end: { line: 162, column: 56 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 43, column: 9 }, end: { line: 43, column: 32 } }, loc: { start: { line: 43, column: 38 }, end: { line: 43, column: 269 } }, line: 43 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 45, column: 9 }, end: { line: 45, column: 31 } }, loc: { start: { line: 45, column: 37 }, end: { line: 45, column: 95 } }, line: 45 }, "2": { name: "addContext", decl: { start: { line: 54, column: 10 }, end: { line: 54, column: 20 } }, loc: { start: { line: 54, column: 66 }, end: { line: 65, column: 1 } }, line: 54 }, "3": { name: "addInstance", decl: { start: { line: 73, column: 10 }, end: { line: 73, column: 21 } }, loc: { start: { line: 73, column: 39 }, end: { line: 85, column: 1 } }, line: 73 }, "4": { name: "begin", decl: { start: { line: 87, column: 10 }, end: { line: 87, column: 15 } }, loc: { start: { line: 87, column: 37 }, end: { line: 93, column: 1 } }, line: 87 }, "5": { name: "tickSaga", decl: { start: { line: 95, column: 10 }, end: { line: 95, column: 18 } }, loc: { start: { line: 95, column: 21 }, end: { line: 100, column: 1 } }, line: 95 }, "6": { name: "callstackSaga", decl: { start: { line: 102, column: 10 }, end: { line: 102, column: 23 } }, loc: { start: { line: 102, column: 26 }, end: { line: 152, column: 1 } }, line: 102 }, "7": { name: "reset", decl: { start: { line: 154, column: 10 }, end: { line: 154, column: 15 } }, loc: { start: { line: 154, column: 18 }, end: { line: 156, column: 1 } }, line: 154 }, "8": { name: "saga", decl: { start: { line: 158, column: 10 }, end: { line: 158, column: 14 } }, loc: { start: { line: 158, column: 17 }, end: { line: 160, column: 1 } }, line: 158 } }, branchMap: { "0": { loc: { start: { line: 43, column: 40 }, end: { line: 43, column: 267 } }, type: "if", locations: [{ start: { line: 43, column: 40 }, end: { line: 43, column: 267 } }, { start: { line: 43, column: 40 }, end: { line: 43, column: 267 } }], line: 43 }, "1": { loc: { start: { line: 43, column: 44 }, end: { line: 43, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 43, column: 44 }, end: { line: 43, column: 47 } }, { start: { line: 43, column: 51 }, end: { line: 43, column: 65 } }], line: 43 }, "2": { loc: { start: { line: 43, column: 107 }, end: { line: 43, column: 228 } }, type: "if", locations: [{ start: { line: 43, column: 107 }, end: { line: 43, column: 228 } }, { start: { line: 43, column: 107 }, end: { line: 43, column: 228 } }], line: 43 }, "3": { loc: { start: { line: 43, column: 149 }, end: { line: 43, column: 224 } }, type: "if", locations: [{ start: { line: 43, column: 149 }, end: { line: 43, column: 224 } }, { start: { line: 43, column: 149 }, end: { line: 43, column: 224 } }], line: 43 }, "4": { loc: { start: { line: 45, column: 46 }, end: { line: 45, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 45, column: 70 }, end: { line: 45, column: 73 } }, { start: { line: 45, column: 76 }, end: { line: 45, column: 92 } }], line: 45 }, "5": { loc: { start: { line: 45, column: 46 }, end: { line: 45, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 45, column: 46 }, end: { line: 45, column: 49 } }, { start: { line: 45, column: 53 }, end: { line: 45, column: 67 } }], line: 45 }, "6": { loc: { start: { line: 55, column: 14 }, end: { line: 55, column: 31 } }, type: "binary-expr", locations: [{ start: { line: 55, column: 14 }, end: { line: 55, column: 20 } }, { start: { line: 55, column: 24 }, end: { line: 55, column: 31 } }], line: 55 }, "7": { loc: { start: { line: 60, column: 2 }, end: { line: 62, column: 3 } }, type: "if", locations: [{ start: { line: 60, column: 2 }, end: { line: 62, column: 3 } }, { start: { line: 60, column: 2 }, end: { line: 62, column: 3 } }], line: 60 }, "8": { loc: { start: { line: 78, column: 2 }, end: { line: 80, column: 3 } }, type: "if", locations: [{ start: { line: 78, column: 2 }, end: { line: 80, column: 3 } }, { start: { line: 78, column: 2 }, end: { line: 80, column: 3 } }], line: 78 }, "9": { loc: { start: { line: 88, column: 2 }, end: { line: 92, column: 3 } }, type: "if", locations: [{ start: { line: 88, column: 2 }, end: { line: 92, column: 3 } }, { start: { line: 88, column: 2 }, end: { line: 92, column: 3 } }], line: 88 }, "10": { loc: { start: { line: 103, column: 2 }, end: { line: 149, column: 3 } }, type: "if", locations: [{ start: { line: 103, column: 2 }, end: { line: 149, column: 3 } }, { start: { line: 103, column: 2 }, end: { line: 149, column: 3 } }], line: 103 }, "11": { loc: { start: { line: 113, column: 4 }, end: { line: 115, column: 5 } }, type: "if", locations: [{ start: { line: 113, column: 4 }, end: { line: 115, column: 5 } }, { start: { line: 113, column: 4 }, end: { line: 115, column: 5 } }], line: 113 }, "12": { loc: { start: { line: 118, column: 9 }, end: { line: 149, column: 3 } }, type: "if", locations: [{ start: { line: 118, column: 9 }, end: { line: 149, column: 3 } }, { start: { line: 118, column: 9 }, end: { line: 149, column: 3 } }], line: 118 }, "13": { loc: { start: { line: 123, column: 9 }, end: { line: 149, column: 3 } }, type: "if", locations: [{ start: { line: 123, column: 9 }, end: { line: 149, column: 3 } }, { start: { line: 123, column: 9 }, end: { line: 149, column: 3 } }], line: 123 }, "14": { loc: { start: { line: 131, column: 4 }, end: { line: 146, column: 5 } }, type: "if", locations: [{ start: { line: 131, column: 4 }, end: { line: 146, column: 5 } }, { start: { line: 131, column: 4 }, end: { line: 146, column: 5 } }], line: 131 }, "15": { loc: { start: { line: 131, column: 8 }, end: { line: 131, column: 85 } }, type: "binary-expr", locations: [{ start: { line: 131, column: 8 }, end: { line: 131, column: 28 } }, { start: { line: 131, column: 32 }, end: { line: 131, column: 85 } }], line: 131 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0, "49": 0, "50": 0, "51": 0, "52": 0, "53": 0, "54": 0, "55": 0, "56": 0, "57": 0, "58": 0, "59": 0, "60": 0, "61": 0, "62": 0, "63": 0, "64": 0, "65": 0, "66": 0, "67": 0, "68": 0, "69": 0, "70": 0, "71": 0, "72": 0, "73": 0, "74": 0, "75": 0, "76": 0, "77": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0, 0], "7": [0, 0], "8": [0, 0], "9": [0, 0], "10": [0, 0], "11": [0, 0], "12": [0, 0], "13": [0, 0], "14": [0, 0], "15": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/evm/sagas/index.js"], names: ["addContext", "addInstance", "begin", "callstackSaga", "reset", "saga", "actions", "data", "trace", "DecodeUtils", "debug", "contractName", "address", "binary", "compiler", "raw", "context", "addBinary", "search", "evm", "info", "binaries", "undefined", "call", "create", "tickSaga", "signalTickSagaCompletion", "current", "step", "isCall", "callAddress", "callsPrecompile", "isCreate", "createBinary", "isHalting", "callstack", "length", "dummyAddress", "creationDepth", "stack", "next", "state", "createdAddress", "Conversion", "toAddress", "learnAddressSaga", "returnCall", "TICK"], mappings: "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", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:evm:sagas\");\n\nimport { put, takeEvery, select } from \"redux-saga/effects\";\nimport { prefixName, keccak256 } from \"lib/helpers\";\n\nimport { TICK } from \"lib/trace/actions\";\nimport * as actions from \"../actions\";\n\nimport evm from \"../selectors\";\n\nimport * as data from \"lib/data/sagas\";\nimport * as trace from \"lib/trace/sagas\";\n\nimport * as DecodeUtils from \"truffle-decode-utils\";\n\n/**\n * Adds EVM bytecode context\n *\n * @return {string} ID (0x-prefixed keccak of binary)\n */\nexport function* addContext(contractName, { address, binary }, compiler) {\n  const raw = binary || address;\n  const context = keccak256(raw);\n\n  yield put(actions.addContext(contractName, raw, compiler));\n\n  if (binary) {\n    yield put(actions.addBinary(context, binary));\n  }\n\n  return context;\n}\n\n/**\n * Adds known deployed instance of binary at address\n *\n * @param {string} binary - may be undefined (e.g. precompiles)\n * @return {string} ID (0x-prefixed keccak of binary)\n */\nexport function* addInstance(address, binary) {\n  let search = yield select(evm.info.binaries.search);\n  let { context } = search(binary);\n\n  // in case binary is unknown, add context for address\n  if (!context) {\n    context = yield* addContext(undefined, { address }, undefined);\n  }\n\n  yield put(actions.addInstance(address, context, binary));\n\n  return context;\n}\n\nexport function* begin({ address, binary }) {\n  if (address) {\n    yield put(actions.call(address));\n  } else {\n    yield put(actions.create(binary));\n  }\n}\n\nfunction* tickSaga() {\n  debug(\"got TICK\");\n\n  yield* callstackSaga();\n  yield* trace.signalTickSagaCompletion();\n}\n\nexport function* callstackSaga() {\n  if (yield select(evm.current.step.isCall)) {\n    debug(\"got call\");\n    let address = yield select(evm.current.step.callAddress);\n\n    debug(\"calling address %s\", address);\n\n    // if there is no binary (e.g. in the case of precompiled contracts),\n    // then there will be no trace steps for the called code, and so we\n    // shouldn't tell the debugger that we're entering another execution\n    // context\n    if (yield select(evm.current.step.callsPrecompile)) {\n      return;\n    }\n\n    yield put(actions.call(address));\n  } else if (yield select(evm.current.step.isCreate)) {\n    debug(\"got create\");\n    let binary = yield select(evm.current.step.createBinary);\n\n    yield put(actions.create(binary));\n  } else if (yield select(evm.current.step.isHalting)) {\n    debug(\"got return\");\n\n    let callstack = yield select(evm.current.callstack);\n\n    //if the program's not ending, and we just returned from a constructor,\n    //learn the address of what we just initialized\n    //(do this before we put the return action to avoid off-by-one error)\n    if (\n      callstack.length > 1 &&\n      callstack[callstack.length - 1].address === undefined\n    ) {\n      let dummyAddress = yield select(evm.current.creationDepth);\n      debug(\"dummyAddress %d\", dummyAddress);\n\n      //NOTE: the following logic, for getting the created address, really\n      //belongs in a selector.  However, every time I try to make it a\n      //selector, I get mysterious error messages.  So, we'll do it ourselves\n      //in the saga instead.\n\n      let stack = yield select(evm.next.state.stack);\n      let createdAddress = DecodeUtils.Conversion.toAddress(\n        stack[stack.length - 1]\n      );\n      debug(\"createdAddress %s\", createdAddress);\n\n      yield* data.learnAddressSaga(dummyAddress, createdAddress);\n      debug(\"address learnt\");\n    }\n\n    yield put(actions.returnCall());\n  }\n\n  yield* trace.signalTickSagaCompletion();\n}\n\nexport function* reset() {\n  yield put(actions.reset());\n}\n\nexport function* saga() {\n  yield takeEvery(TICK, tickSaga);\n}\n\nexport default prefixName(\"evm\", saga);\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_gj3m4bc7n.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_gj3m4bc7n.s[1]++;exports.addContext = addContext;cov_gj3m4bc7n.s[2]++;exports.addInstance = addInstance;cov_gj3m4bc7n.s[3]++;exports.begin = begin;cov_gj3m4bc7n.s[4]++;exports.callstackSaga = callstackSaga;cov_gj3m4bc7n.s[5]++;exports.reset = reset;cov_gj3m4bc7n.s[6]++;exports.saga = saga;var _debug = (cov_gj3m4bc7n.s[7]++, __webpack_require__(0));var _debug2 = (cov_gj3m4bc7n.s[8]++, _interopRequireDefault(_debug));var _effects = (cov_gj3m4bc7n.s[9]++, __webpack_require__(15));var _helpers = (cov_gj3m4bc7n.s[10]++, __webpack_require__(3));var _actions = (cov_gj3m4bc7n.s[11]++, __webpack_require__(20));var _actions2 = (cov_gj3m4bc7n.s[12]++, __webpack_require__(36));var actions = (cov_gj3m4bc7n.s[13]++, _interopRequireWildcard(_actions2));var _selectors = (cov_gj3m4bc7n.s[14]++, __webpack_require__(10));var _selectors2 = (cov_gj3m4bc7n.s[15]++, _interopRequireDefault(_selectors));var _sagas = (cov_gj3m4bc7n.s[16]++, __webpack_require__(26));var data = (cov_gj3m4bc7n.s[17]++, _interopRequireWildcard(_sagas));var _sagas2 = (cov_gj3m4bc7n.s[18]++, __webpack_require__(21));var trace = (cov_gj3m4bc7n.s[19]++, _interopRequireWildcard(_sagas2));var _truffleDecodeUtils = (cov_gj3m4bc7n.s[20]++, __webpack_require__(6));var DecodeUtils = (cov_gj3m4bc7n.s[21]++, _interopRequireWildcard(_truffleDecodeUtils));function _interopRequireWildcard(obj) {
  cov_gj3m4bc7n.f[0]++;cov_gj3m4bc7n.s[22]++;if ((cov_gj3m4bc7n.b[1][0]++, obj) && (cov_gj3m4bc7n.b[1][1]++, obj.__esModule)) {
    cov_gj3m4bc7n.b[0][0]++;cov_gj3m4bc7n.s[23]++;return obj;
  } else {
    cov_gj3m4bc7n.b[0][1]++;var newObj = (cov_gj3m4bc7n.s[24]++, {});cov_gj3m4bc7n.s[25]++;if (obj != null) {
      cov_gj3m4bc7n.b[2][0]++;cov_gj3m4bc7n.s[26]++;for (var key in obj) {
        cov_gj3m4bc7n.s[27]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_gj3m4bc7n.b[3][0]++;cov_gj3m4bc7n.s[28]++;newObj[key] = obj[key];
        } else {
          cov_gj3m4bc7n.b[3][1]++;
        }
      }
    } else {
      cov_gj3m4bc7n.b[2][1]++;
    }cov_gj3m4bc7n.s[29]++;newObj.default = obj;cov_gj3m4bc7n.s[30]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_gj3m4bc7n.f[1]++;cov_gj3m4bc7n.s[31]++;return (cov_gj3m4bc7n.b[5][0]++, obj) && (cov_gj3m4bc7n.b[5][1]++, obj.__esModule) ? (cov_gj3m4bc7n.b[4][0]++, obj) : (cov_gj3m4bc7n.b[4][1]++, { default: obj });
}const debug = (cov_gj3m4bc7n.s[32]++, (0, _debug2.default)("debugger:evm:sagas"));function* addContext(contractName, { address, binary }, compiler) {
  cov_gj3m4bc7n.f[2]++;const raw = (cov_gj3m4bc7n.s[33]++, (cov_gj3m4bc7n.b[6][0]++, binary) || (cov_gj3m4bc7n.b[6][1]++, address));const context = (cov_gj3m4bc7n.s[34]++, (0, _helpers.keccak256)(raw));cov_gj3m4bc7n.s[35]++;yield (0, _effects.put)(actions.addContext(contractName, raw, compiler));cov_gj3m4bc7n.s[36]++;if (binary) {
    cov_gj3m4bc7n.b[7][0]++;cov_gj3m4bc7n.s[37]++;yield (0, _effects.put)(actions.addBinary(context, binary));
  } else {
    cov_gj3m4bc7n.b[7][1]++;
  }cov_gj3m4bc7n.s[38]++;return context;
}function* addInstance(address, binary) {
  cov_gj3m4bc7n.f[3]++;let search = (cov_gj3m4bc7n.s[39]++, yield (0, _effects.select)(_selectors2.default.info.binaries.search));let { context } = (cov_gj3m4bc7n.s[40]++, search(binary));cov_gj3m4bc7n.s[41]++;if (!context) {
    cov_gj3m4bc7n.b[8][0]++;cov_gj3m4bc7n.s[42]++;context = yield* addContext(undefined, { address }, undefined);
  } else {
    cov_gj3m4bc7n.b[8][1]++;
  }cov_gj3m4bc7n.s[43]++;yield (0, _effects.put)(actions.addInstance(address, context, binary));cov_gj3m4bc7n.s[44]++;return context;
}function* begin({ address, binary }) {
  cov_gj3m4bc7n.f[4]++;cov_gj3m4bc7n.s[45]++;if (address) {
    cov_gj3m4bc7n.b[9][0]++;cov_gj3m4bc7n.s[46]++;yield (0, _effects.put)(actions.call(address));
  } else {
    cov_gj3m4bc7n.b[9][1]++;cov_gj3m4bc7n.s[47]++;yield (0, _effects.put)(actions.create(binary));
  }
}function* tickSaga() {
  cov_gj3m4bc7n.f[5]++;cov_gj3m4bc7n.s[48]++;debug("got TICK");cov_gj3m4bc7n.s[49]++;yield* callstackSaga();cov_gj3m4bc7n.s[50]++;yield* trace.signalTickSagaCompletion();
}function* callstackSaga() {
  cov_gj3m4bc7n.f[6]++;cov_gj3m4bc7n.s[51]++;if (yield (0, _effects.select)(_selectors2.default.current.step.isCall)) {
    cov_gj3m4bc7n.b[10][0]++;cov_gj3m4bc7n.s[52]++;debug("got call");let address = (cov_gj3m4bc7n.s[53]++, yield (0, _effects.select)(_selectors2.default.current.step.callAddress));cov_gj3m4bc7n.s[54]++;debug("calling address %s", address);cov_gj3m4bc7n.s[55]++;if (yield (0, _effects.select)(_selectors2.default.current.step.callsPrecompile)) {
      cov_gj3m4bc7n.b[11][0]++;cov_gj3m4bc7n.s[56]++;return;
    } else {
      cov_gj3m4bc7n.b[11][1]++;
    }cov_gj3m4bc7n.s[57]++;yield (0, _effects.put)(actions.call(address));
  } else {
    cov_gj3m4bc7n.b[10][1]++;cov_gj3m4bc7n.s[58]++;if (yield (0, _effects.select)(_selectors2.default.current.step.isCreate)) {
      cov_gj3m4bc7n.b[12][0]++;cov_gj3m4bc7n.s[59]++;debug("got create");let binary = (cov_gj3m4bc7n.s[60]++, yield (0, _effects.select)(_selectors2.default.current.step.createBinary));cov_gj3m4bc7n.s[61]++;yield (0, _effects.put)(actions.create(binary));
    } else {
      cov_gj3m4bc7n.b[12][1]++;cov_gj3m4bc7n.s[62]++;if (yield (0, _effects.select)(_selectors2.default.current.step.isHalting)) {
        cov_gj3m4bc7n.b[13][0]++;cov_gj3m4bc7n.s[63]++;debug("got return");let callstack = (cov_gj3m4bc7n.s[64]++, yield (0, _effects.select)(_selectors2.default.current.callstack));cov_gj3m4bc7n.s[65]++;if ((cov_gj3m4bc7n.b[15][0]++, callstack.length > 1) && (cov_gj3m4bc7n.b[15][1]++, callstack[callstack.length - 1].address === undefined)) {
          cov_gj3m4bc7n.b[14][0]++;let dummyAddress = (cov_gj3m4bc7n.s[66]++, yield (0, _effects.select)(_selectors2.default.current.creationDepth));cov_gj3m4bc7n.s[67]++;debug("dummyAddress %d", dummyAddress);let stack = (cov_gj3m4bc7n.s[68]++, yield (0, _effects.select)(_selectors2.default.next.state.stack));let createdAddress = (cov_gj3m4bc7n.s[69]++, DecodeUtils.Conversion.toAddress(stack[stack.length - 1]));cov_gj3m4bc7n.s[70]++;debug("createdAddress %s", createdAddress);cov_gj3m4bc7n.s[71]++;yield* data.learnAddressSaga(dummyAddress, createdAddress);cov_gj3m4bc7n.s[72]++;debug("address learnt");
        } else {
          cov_gj3m4bc7n.b[14][1]++;
        }cov_gj3m4bc7n.s[73]++;yield (0, _effects.put)(actions.returnCall());
      } else {
        cov_gj3m4bc7n.b[13][1]++;
      }
    }
  }cov_gj3m4bc7n.s[74]++;yield* trace.signalTickSagaCompletion();
}function* reset() {
  cov_gj3m4bc7n.f[7]++;cov_gj3m4bc7n.s[75]++;yield (0, _effects.put)(actions.reset());
}function* saga() {
  cov_gj3m4bc7n.f[8]++;cov_gj3m4bc7n.s[76]++;yield (0, _effects.takeEvery)(_actions.TICK, tickSaga);
}cov_gj3m4bc7n.s[77]++;exports.default = (0, _helpers.prefixName)("evm", saga);

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_2sixj2yze = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/evm/actions/index.js",
      hash = "0ef92ca900cc537b647a9be9cd094578d9495227",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/evm/actions/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 32 } }, "2": { start: { line: 7, column: 0 }, end: { line: 7, column: 30 } }, "3": { start: { line: 8, column: 0 }, end: { line: 8, column: 34 } }, "4": { start: { line: 9, column: 0 }, end: { line: 9, column: 20 } }, "5": { start: { line: 10, column: 0 }, end: { line: 10, column: 24 } }, "6": { start: { line: 11, column: 0 }, end: { line: 11, column: 32 } }, "7": { start: { line: 12, column: 0 }, end: { line: 12, column: 22 } }, "8": { start: { line: 13, column: 20 }, end: { line: 13, column: 59 } }, "9": { start: { line: 15, column: 2 }, end: { line: 20, column: 4 } }, "10": { start: { line: 23, column: 19 }, end: { line: 23, column: 56 } }, "11": { start: { line: 25, column: 2 }, end: { line: 29, column: 4 } }, "12": { start: { line: 32, column: 21 }, end: { line: 32, column: 62 } }, "13": { start: { line: 34, column: 2 }, end: { line: 39, column: 4 } }, "14": { start: { line: 42, column: 13 }, end: { line: 42, column: 34 } }, "15": { start: { line: 44, column: 2 }, end: { line: 47, column: 4 } }, "16": { start: { line: 50, column: 15 }, end: { line: 50, column: 40 } }, "17": { start: { line: 52, column: 2 }, end: { line: 55, column: 4 } }, "18": { start: { line: 58, column: 15 }, end: { line: 58, column: 40 } }, "19": { start: { line: 60, column: 2 }, end: { line: 62, column: 4 } }, "20": { start: { line: 65, column: 14 }, end: { line: 65, column: 41 } }, "21": { start: { line: 67, column: 2 }, end: { line: 67, column: 25 } } }, fnMap: { "0": { name: "addContext", decl: { start: { line: 14, column: 9 }, end: { line: 14, column: 19 } }, loc: { start: { line: 14, column: 49 }, end: { line: 21, column: 1 } }, line: 14 }, "1": { name: "addBinary", decl: { start: { line: 24, column: 9 }, end: { line: 24, column: 18 } }, loc: { start: { line: 24, column: 36 }, end: { line: 30, column: 1 } }, line: 24 }, "2": { name: "addInstance", decl: { start: { line: 33, column: 9 }, end: { line: 33, column: 20 } }, loc: { start: { line: 33, column: 47 }, end: { line: 40, column: 1 } }, line: 33 }, "3": { name: "call", decl: { start: { line: 43, column: 9 }, end: { line: 43, column: 13 } }, loc: { start: { line: 43, column: 23 }, end: { line: 48, column: 1 } }, line: 43 }, "4": { name: "create", decl: { start: { line: 51, column: 9 }, end: { line: 51, column: 15 } }, loc: { start: { line: 51, column: 24 }, end: { line: 56, column: 1 } }, line: 51 }, "5": { name: "returnCall", decl: { start: { line: 59, column: 9 }, end: { line: 59, column: 19 } }, loc: { start: { line: 59, column: 22 }, end: { line: 63, column: 1 } }, line: 59 }, "6": { name: "reset", decl: { start: { line: 66, column: 9 }, end: { line: 66, column: 14 } }, loc: { start: { line: 66, column: 17 }, end: { line: 68, column: 1 } }, line: 66 } }, branchMap: {}, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0 }, b: {}, inputSourceMap: { version: 3, sources: ["lib/evm/actions/index.js"], names: ["addContext", "addBinary", "addInstance", "call", "create", "returnCall", "reset", "ADD_CONTEXT", "contractName", "raw", "compiler", "type", "ADD_BINARY", "context", "binary", "ADD_INSTANCE", "address", "CALL", "CREATE", "RETURN", "RESET"], mappings: ";;;;;QACgBA,U,GAAAA,U;QAUAC,S,GAAAA,S;QASAC,W,GAAAA,W;QAUAC,I,GAAAA,I;QAQAC,M,GAAAA,M;QAQAC,U,GAAAA,U;QAOAC,K,GAAAA,K;AArDT,MAAMC,oCAAc,iBAApB;AACA,SAASP,UAAT,CAAoBQ,YAApB,EAAkCC,GAAlC,EAAuCC,QAAvC,EAAiD;AACtD,SAAO;AACLC,UAAMJ,WADD;AAELC,gBAFK;AAGLC,OAHK;AAILC;AAJK,GAAP;AAMD;;AAEM,MAAME,kCAAa,gBAAnB;AACA,SAASX,SAAT,CAAmBY,OAAnB,EAA4BC,MAA5B,EAAoC;AACzC,SAAO;AACLH,UAAMC,UADD;AAELC,WAFK;AAGLC;AAHK,GAAP;AAKD;;AAEM,MAAMC,sCAAe,kBAArB;AACA,SAASb,WAAT,CAAqBc,OAArB,EAA8BH,OAA9B,EAAuCC,MAAvC,EAA+C;AACpD,SAAO;AACLH,UAAMI,YADD;AAELC,WAFK;AAGLH,WAHK;AAILC;AAJK,GAAP;AAMD;;AAEM,MAAMG,sBAAO,MAAb;AACA,SAASd,IAAT,CAAca,OAAd,EAAuB;AAC5B,SAAO;AACLL,UAAMM,IADD;AAELD;AAFK,GAAP;AAID;;AAEM,MAAME,0BAAS,QAAf;AACA,SAASd,MAAT,CAAgBU,MAAhB,EAAwB;AAC7B,SAAO;AACLH,UAAMO,MADD;AAELJ;AAFK,GAAP;AAID;;AAEM,MAAMK,0BAAS,QAAf;AACA,SAASd,UAAT,GAAsB;AAC3B,SAAO;AACLM,UAAMQ;AADD,GAAP;AAGD;;AAEM,MAAMC,wBAAQ,WAAd;AACA,SAASd,KAAT,GAAiB;AACtB,SAAO,EAAEK,MAAMS,KAAR,EAAP;AACD", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["export const ADD_CONTEXT = \"EVM_ADD_CONTEXT\";\nexport function addContext(contractName, raw, compiler) {\n  return {\n    type: ADD_CONTEXT,\n    contractName,\n    raw,\n    compiler\n  };\n}\n\nexport const ADD_BINARY = \"EVM_ADD_BINARY\";\nexport function addBinary(context, binary) {\n  return {\n    type: ADD_BINARY,\n    context,\n    binary\n  };\n}\n\nexport const ADD_INSTANCE = \"EVM_ADD_INSTANCE\";\nexport function addInstance(address, context, binary) {\n  return {\n    type: ADD_INSTANCE,\n    address,\n    context,\n    binary\n  };\n}\n\nexport const CALL = \"CALL\";\nexport function call(address) {\n  return {\n    type: CALL,\n    address\n  };\n}\n\nexport const CREATE = \"CREATE\";\nexport function create(binary) {\n  return {\n    type: CREATE,\n    binary\n  };\n}\n\nexport const RETURN = \"RETURN\";\nexport function returnCall() {\n  return {\n    type: RETURN\n  };\n}\n\nexport const RESET = \"EVM_RESET\";\nexport function reset() {\n  return { type: RESET };\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_2sixj2yze.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_2sixj2yze.s[1]++;exports.addContext = addContext;cov_2sixj2yze.s[2]++;exports.addBinary = addBinary;cov_2sixj2yze.s[3]++;exports.addInstance = addInstance;cov_2sixj2yze.s[4]++;exports.call = call;cov_2sixj2yze.s[5]++;exports.create = create;cov_2sixj2yze.s[6]++;exports.returnCall = returnCall;cov_2sixj2yze.s[7]++;exports.reset = reset;const ADD_CONTEXT = (cov_2sixj2yze.s[8]++, exports.ADD_CONTEXT = "EVM_ADD_CONTEXT");function addContext(contractName, raw, compiler) {
  cov_2sixj2yze.f[0]++;cov_2sixj2yze.s[9]++;return { type: ADD_CONTEXT, contractName, raw, compiler };
}const ADD_BINARY = (cov_2sixj2yze.s[10]++, exports.ADD_BINARY = "EVM_ADD_BINARY");function addBinary(context, binary) {
  cov_2sixj2yze.f[1]++;cov_2sixj2yze.s[11]++;return { type: ADD_BINARY, context, binary };
}const ADD_INSTANCE = (cov_2sixj2yze.s[12]++, exports.ADD_INSTANCE = "EVM_ADD_INSTANCE");function addInstance(address, context, binary) {
  cov_2sixj2yze.f[2]++;cov_2sixj2yze.s[13]++;return { type: ADD_INSTANCE, address, context, binary };
}const CALL = (cov_2sixj2yze.s[14]++, exports.CALL = "CALL");function call(address) {
  cov_2sixj2yze.f[3]++;cov_2sixj2yze.s[15]++;return { type: CALL, address };
}const CREATE = (cov_2sixj2yze.s[16]++, exports.CREATE = "CREATE");function create(binary) {
  cov_2sixj2yze.f[4]++;cov_2sixj2yze.s[17]++;return { type: CREATE, binary };
}const RETURN = (cov_2sixj2yze.s[18]++, exports.RETURN = "RETURN");function returnCall() {
  cov_2sixj2yze.f[5]++;cov_2sixj2yze.s[19]++;return { type: RETURN };
}const RESET = (cov_2sixj2yze.s[20]++, exports.RESET = "EVM_RESET");function reset() {
  cov_2sixj2yze.f[6]++;cov_2sixj2yze.s[21]++;return { type: RESET };
}

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_l72hxq5wc = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/solidity/sagas/index.js",
      hash = "d068b70bd8f2d55eb2e5f6631effba02a58edfe1",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/solidity/sagas/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 30 } }, "2": { start: { line: 7, column: 0 }, end: { line: 7, column: 36 } }, "3": { start: { line: 8, column: 0 }, end: { line: 8, column: 22 } }, "4": { start: { line: 9, column: 0 }, end: { line: 9, column: 20 } }, "5": { start: { line: 11, column: 13 }, end: { line: 11, column: 29 } }, "6": { start: { line: 13, column: 14 }, end: { line: 13, column: 44 } }, "7": { start: { line: 15, column: 15 }, end: { line: 15, column: 44 } }, "8": { start: { line: 17, column: 15 }, end: { line: 17, column: 37 } }, "9": { start: { line: 19, column: 15 }, end: { line: 19, column: 36 } }, "10": { start: { line: 21, column: 14 }, end: { line: 21, column: 47 } }, "11": { start: { line: 23, column: 16 }, end: { line: 23, column: 44 } }, "12": { start: { line: 25, column: 13 }, end: { line: 25, column: 39 } }, "13": { start: { line: 27, column: 12 }, end: { line: 27, column: 43 } }, "14": { start: { line: 29, column: 17 }, end: { line: 29, column: 40 } }, "15": { start: { line: 31, column: 18 }, end: { line: 31, column: 52 } }, "16": { start: { line: 33, column: 40 }, end: { line: 33, column: 267 } }, "17": { start: { line: 33, column: 69 }, end: { line: 33, column: 80 } }, "18": { start: { line: 33, column: 103 }, end: { line: 33, column: 105 } }, "19": { start: { line: 33, column: 107 }, end: { line: 33, column: 228 } }, "20": { start: { line: 33, column: 126 }, end: { line: 33, column: 226 } }, "21": { start: { line: 33, column: 149 }, end: { line: 33, column: 224 } }, "22": { start: { line: 33, column: 201 }, end: { line: 33, column: 224 } }, "23": { start: { line: 33, column: 229 }, end: { line: 33, column: 250 } }, "24": { start: { line: 33, column: 251 }, end: { line: 33, column: 265 } }, "25": { start: { line: 35, column: 39 }, end: { line: 35, column: 93 } }, "26": { start: { line: 37, column: 14 }, end: { line: 37, column: 61 } }, "27": { start: { line: 40, column: 2 }, end: { line: 40, column: 70 } }, "28": { start: { line: 44, column: 2 }, end: { line: 44, column: 67 } }, "29": { start: { line: 48, column: 2 }, end: { line: 48, column: 20 } }, "30": { start: { line: 50, column: 2 }, end: { line: 50, column: 29 } }, "31": { start: { line: 51, column: 2 }, end: { line: 51, column: 42 } }, "32": { start: { line: 55, column: 2 }, end: { line: 90, column: 3 } }, "33": { start: { line: 56, column: 24 }, end: { line: 56, column: 93 } }, "34": { start: { line: 57, column: 4 }, end: { line: 57, column: 57 } }, "35": { start: { line: 58, column: 9 }, end: { line: 90, column: 3 } }, "36": { start: { line: 64, column: 4 }, end: { line: 64, column: 27 } }, "37": { start: { line: 65, column: 4 }, end: { line: 84, column: 5 } }, "38": { start: { line: 67, column: 11 }, end: { line: 84, column: 5 } }, "39": { start: { line: 79, column: 6 }, end: { line: 79, column: 35 } }, "40": { start: { line: 80, column: 6 }, end: { line: 80, column: 49 } }, "41": { start: { line: 83, column: 6 }, end: { line: 83, column: 49 } }, "42": { start: { line: 85, column: 9 }, end: { line: 90, column: 3 } }, "43": { start: { line: 87, column: 4 }, end: { line: 87, column: 47 } }, "44": { start: { line: 88, column: 9 }, end: { line: 90, column: 3 } }, "45": { start: { line: 89, column: 4 }, end: { line: 89, column: 47 } }, "46": { start: { line: 94, column: 2 }, end: { line: 94, column: 43 } }, "47": { start: { line: 98, column: 2 }, end: { line: 98, column: 58 } }, "48": { start: { line: 101, column: 0 }, end: { line: 101, column: 61 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 33, column: 9 }, end: { line: 33, column: 32 } }, loc: { start: { line: 33, column: 38 }, end: { line: 33, column: 269 } }, line: 33 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 35, column: 9 }, end: { line: 35, column: 31 } }, loc: { start: { line: 35, column: 37 }, end: { line: 35, column: 95 } }, line: 35 }, "2": { name: "addSource", decl: { start: { line: 39, column: 10 }, end: { line: 39, column: 19 } }, loc: { start: { line: 39, column: 45 }, end: { line: 41, column: 1 } }, line: 39 }, "3": { name: "addSourceMap", decl: { start: { line: 43, column: 10 }, end: { line: 43, column: 22 } }, loc: { start: { line: 43, column: 42 }, end: { line: 45, column: 1 } }, line: 43 }, "4": { name: "tickSaga", decl: { start: { line: 47, column: 10 }, end: { line: 47, column: 18 } }, loc: { start: { line: 47, column: 21 }, end: { line: 52, column: 1 } }, line: 47 }, "5": { name: "functionDepthSaga", decl: { start: { line: 54, column: 10 }, end: { line: 54, column: 27 } }, loc: { start: { line: 54, column: 30 }, end: { line: 91, column: 1 } }, line: 54 }, "6": { name: "reset", decl: { start: { line: 93, column: 10 }, end: { line: 93, column: 15 } }, loc: { start: { line: 93, column: 18 }, end: { line: 95, column: 1 } }, line: 93 }, "7": { name: "saga", decl: { start: { line: 97, column: 10 }, end: { line: 97, column: 14 } }, loc: { start: { line: 97, column: 17 }, end: { line: 99, column: 1 } }, line: 97 } }, branchMap: { "0": { loc: { start: { line: 33, column: 40 }, end: { line: 33, column: 267 } }, type: "if", locations: [{ start: { line: 33, column: 40 }, end: { line: 33, column: 267 } }, { start: { line: 33, column: 40 }, end: { line: 33, column: 267 } }], line: 33 }, "1": { loc: { start: { line: 33, column: 44 }, end: { line: 33, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 33, column: 44 }, end: { line: 33, column: 47 } }, { start: { line: 33, column: 51 }, end: { line: 33, column: 65 } }], line: 33 }, "2": { loc: { start: { line: 33, column: 107 }, end: { line: 33, column: 228 } }, type: "if", locations: [{ start: { line: 33, column: 107 }, end: { line: 33, column: 228 } }, { start: { line: 33, column: 107 }, end: { line: 33, column: 228 } }], line: 33 }, "3": { loc: { start: { line: 33, column: 149 }, end: { line: 33, column: 224 } }, type: "if", locations: [{ start: { line: 33, column: 149 }, end: { line: 33, column: 224 } }, { start: { line: 33, column: 149 }, end: { line: 33, column: 224 } }], line: 33 }, "4": { loc: { start: { line: 35, column: 46 }, end: { line: 35, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 35, column: 70 }, end: { line: 35, column: 73 } }, { start: { line: 35, column: 76 }, end: { line: 35, column: 92 } }], line: 35 }, "5": { loc: { start: { line: 35, column: 46 }, end: { line: 35, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 35, column: 46 }, end: { line: 35, column: 49 } }, { start: { line: 35, column: 53 }, end: { line: 35, column: 67 } }], line: 35 }, "6": { loc: { start: { line: 55, column: 2 }, end: { line: 90, column: 3 } }, type: "if", locations: [{ start: { line: 55, column: 2 }, end: { line: 90, column: 3 } }, { start: { line: 55, column: 2 }, end: { line: 90, column: 3 } }], line: 55 }, "7": { loc: { start: { line: 58, column: 9 }, end: { line: 90, column: 3 } }, type: "if", locations: [{ start: { line: 58, column: 9 }, end: { line: 90, column: 3 } }, { start: { line: 58, column: 9 }, end: { line: 90, column: 3 } }], line: 58 }, "8": { loc: { start: { line: 65, column: 4 }, end: { line: 84, column: 5 } }, type: "if", locations: [{ start: { line: 65, column: 4 }, end: { line: 84, column: 5 } }, { start: { line: 65, column: 4 }, end: { line: 84, column: 5 } }], line: 65 }, "9": { loc: { start: { line: 67, column: 11 }, end: { line: 84, column: 5 } }, type: "if", locations: [{ start: { line: 67, column: 11 }, end: { line: 84, column: 5 } }, { start: { line: 67, column: 11 }, end: { line: 84, column: 5 } }], line: 67 }, "10": { loc: { start: { line: 67, column: 15 }, end: { line: 67, column: 177 } }, type: "binary-expr", locations: [{ start: { line: 67, column: 16 }, end: { line: 67, column: 100 } }, { start: { line: 67, column: 106 }, end: { line: 67, column: 176 } }], line: 67 }, "11": { loc: { start: { line: 85, column: 9 }, end: { line: 90, column: 3 } }, type: "if", locations: [{ start: { line: 85, column: 9 }, end: { line: 90, column: 3 } }, { start: { line: 85, column: 9 }, end: { line: 90, column: 3 } }], line: 85 }, "12": { loc: { start: { line: 88, column: 9 }, end: { line: 90, column: 3 } }, type: "if", locations: [{ start: { line: 88, column: 9 }, end: { line: 90, column: 3 } }, { start: { line: 88, column: 9 }, end: { line: 90, column: 3 } }], line: 88 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0, 0], "7": [0, 0], "8": [0, 0], "9": [0, 0], "10": [0, 0], "11": [0, 0], "12": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/solidity/sagas/index.js"], names: ["addSource", "addSourceMap", "reset", "saga", "actions", "trace", "debug", "source", "sourcePath", "ast", "binary", "sourceMap", "tickSaga", "functionDepthSaga", "signalTickSagaCompletion", "solidity", "current", "willJump", "jumpDirection", "jump", "willCall", "callsPrecompile", "needsFunctionDepthWorkaround", "isContractCall", "willCreate", "willReturn", "TICK"], mappings: ";;;;;QAYiBA,S,GAAAA,S;QAIAC,Y,GAAAA,Y;QAqDAC,K,GAAAA,K;QAIAC,I,GAAAA,I;;AAzEjB;;;;AAGA;;AACA;;AAEA;;IAAYC,O;;AACZ;;AACA;;IAAYC,K;;AAEZ;;;;;;;;AATA,MAAMC,QAAQ,qBAAY,yBAAZ,CAAd;;AAWO,UAAUN,SAAV,CAAoBO,MAApB,EAA4BC,UAA5B,EAAwCC,GAAxC,EAA6C;AAClD,QAAM,kBAAIL,QAAQJ,SAAR,CAAkBO,MAAlB,EAA0BC,UAA1B,EAAsCC,GAAtC,CAAJ,CAAN;AACD;;AAEM,UAAUR,YAAV,CAAuBS,MAAvB,EAA+BC,SAA/B,EAA0C;AAC/C,QAAM,kBAAIP,QAAQH,YAAR,CAAqBS,MAArB,EAA6BC,SAA7B,CAAJ,CAAN;AACD;;AAED,UAAUC,QAAV,GAAqB;AACnBN,QAAM,UAAN;;AAEA,SAAOO,mBAAP;AACA,SAAOR,MAAMS,wBAAN,EAAP;AACD;;AAED,UAAUD,iBAAV,GAA8B;AAC5B,MAAI,MAAM,qBAAOE,oBAASC,OAAT,CAAiBC,QAAxB,CAAV,EAA6C;AAC3C,QAAIC,gBAAgB,MAAM,qBAAOH,oBAASC,OAAT,CAAiBE,aAAxB,CAA1B;AACA,UAAM,kBAAId,QAAQe,IAAR,CAAaD,aAAb,CAAJ,CAAN;AACD,GAHD,MAGO,IAAI,MAAM,qBAAOH,oBAASC,OAAT,CAAiBI,QAAxB,CAAV,EAA6C;AAClD;AACA;AACA;AACA;;AAEAd,UAAM,eAAN;AACA,QAAI,MAAM,qBAAOS,oBAASC,OAAT,CAAiBK,eAAxB,CAAV,EAAoD;AAClD;AACD,KAFD,MAEO,IACL,CAAC,MAAM,qBAAON,oBAASC,OAAT,CAAiBM,4BAAxB,CAAP,MACC,MAAM,qBAAOP,oBAASC,OAAT,CAAiBO,cAAxB,CADP,CADK,EAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAjB,YAAM,qBAAN;AACA,YAAM,kBAAIF,QAAQe,IAAR,CAAa,GAAb,CAAJ,CAAN;AACD,KAjBM,MAiBA;AACL;AACA,YAAM,kBAAIf,QAAQe,IAAR,CAAa,GAAb,CAAJ,CAAN;AACD;AACF,GA9BM,MA8BA,IAAI,MAAM,qBAAOJ,oBAASC,OAAT,CAAiBQ,UAAxB,CAAV,EAA+C;AACpD;AACA,UAAM,kBAAIpB,QAAQe,IAAR,CAAa,GAAb,CAAJ,CAAN;AACD,GAHM,MAGA,IAAI,MAAM,qBAAOJ,oBAASC,OAAT,CAAiBS,UAAxB,CAAV,EAA+C;AACpD,UAAM,kBAAIrB,QAAQe,IAAR,CAAa,GAAb,CAAJ,CAAN;AACD;AACF;;AAEM,UAAUjB,KAAV,GAAkB;AACvB,QAAM,kBAAIE,QAAQF,KAAR,EAAJ,CAAN;AACD;;AAEM,UAAUC,IAAV,GAAiB;AACtB,QAAM,wBAAUuB,cAAV,EAAgBd,QAAhB,CAAN;AACD;;kBAEc,yBAAW,UAAX,EAAuBT,IAAvB,C", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:solidity:sagas\");\n\nimport { put, takeEvery, select } from \"redux-saga/effects\";\nimport { prefixName } from \"lib/helpers\";\n\nimport * as actions from \"../actions\";\nimport { TICK } from \"lib/trace/actions\";\nimport * as trace from \"lib/trace/sagas\";\n\nimport solidity from \"../selectors\";\n\nexport function* addSource(source, sourcePath, ast) {\n  yield put(actions.addSource(source, sourcePath, ast));\n}\n\nexport function* addSourceMap(binary, sourceMap) {\n  yield put(actions.addSourceMap(binary, sourceMap));\n}\n\nfunction* tickSaga() {\n  debug(\"got TICK\");\n\n  yield* functionDepthSaga();\n  yield* trace.signalTickSagaCompletion();\n}\n\nfunction* functionDepthSaga() {\n  if (yield select(solidity.current.willJump)) {\n    let jumpDirection = yield select(solidity.current.jumpDirection);\n    yield put(actions.jump(jumpDirection));\n  } else if (yield select(solidity.current.willCall)) {\n    //we have several cases here:\n    //1. precompile -- *don't* put any jump\n    //2. workaround case -- put a double jump (see below)\n    //3. general case -- put a single jump as expected\n\n    debug(\"about to call\");\n    if (yield select(solidity.current.callsPrecompile)) {\n      //call to precompile; do nothing\n    } else if (\n      (yield select(solidity.current.needsFunctionDepthWorkaround)) &&\n      (yield select(solidity.current.isContractCall))\n    ) {\n      //all these parentheses are necessary\n      //HACK WORKAROUND\n      //because of the problem in solc <0.5.1 where contract method calls\n      //essentially return twice, we compensate by putting *two* inward jumps\n      //for such a call.\n      //Note that this won't work if the contract method was previously placed\n      //in a function variable!  Those will continue to screw things up!  But\n      //if a contract call is being made directly, we can detect that.\n      //Of course, all of this should work fine as of solidity 0.5.1, with no\n      //workaround necessary; this branch should only get take on old\n      //contracts.\n      debug(\"workaround invoked!\");\n      yield put(actions.jump(\"2\"));\n    } else {\n      //an ordinary call, not to a precompile & with no workaround needed\n      yield put(actions.jump(\"i\"));\n    }\n  } else if (yield select(solidity.current.willCreate)) {\n    //this case, thankfully, needs no further breakdown\n    yield put(actions.jump(\"i\"));\n  } else if (yield select(solidity.current.willReturn)) {\n    yield put(actions.jump(\"o\"));\n  }\n}\n\nexport function* reset() {\n  yield put(actions.reset());\n}\n\nexport function* saga() {\n  yield takeEvery(TICK, tickSaga);\n}\n\nexport default prefixName(\"solidity\", saga);\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_l72hxq5wc.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_l72hxq5wc.s[1]++;exports.addSource = addSource;cov_l72hxq5wc.s[2]++;exports.addSourceMap = addSourceMap;cov_l72hxq5wc.s[3]++;exports.reset = reset;cov_l72hxq5wc.s[4]++;exports.saga = saga;var _debug = (cov_l72hxq5wc.s[5]++, __webpack_require__(0));var _debug2 = (cov_l72hxq5wc.s[6]++, _interopRequireDefault(_debug));var _effects = (cov_l72hxq5wc.s[7]++, __webpack_require__(15));var _helpers = (cov_l72hxq5wc.s[8]++, __webpack_require__(3));var _actions = (cov_l72hxq5wc.s[9]++, __webpack_require__(38));var actions = (cov_l72hxq5wc.s[10]++, _interopRequireWildcard(_actions));var _actions2 = (cov_l72hxq5wc.s[11]++, __webpack_require__(20));var _sagas = (cov_l72hxq5wc.s[12]++, __webpack_require__(21));var trace = (cov_l72hxq5wc.s[13]++, _interopRequireWildcard(_sagas));var _selectors = (cov_l72hxq5wc.s[14]++, __webpack_require__(2));var _selectors2 = (cov_l72hxq5wc.s[15]++, _interopRequireDefault(_selectors));function _interopRequireWildcard(obj) {
  cov_l72hxq5wc.f[0]++;cov_l72hxq5wc.s[16]++;if ((cov_l72hxq5wc.b[1][0]++, obj) && (cov_l72hxq5wc.b[1][1]++, obj.__esModule)) {
    cov_l72hxq5wc.b[0][0]++;cov_l72hxq5wc.s[17]++;return obj;
  } else {
    cov_l72hxq5wc.b[0][1]++;var newObj = (cov_l72hxq5wc.s[18]++, {});cov_l72hxq5wc.s[19]++;if (obj != null) {
      cov_l72hxq5wc.b[2][0]++;cov_l72hxq5wc.s[20]++;for (var key in obj) {
        cov_l72hxq5wc.s[21]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_l72hxq5wc.b[3][0]++;cov_l72hxq5wc.s[22]++;newObj[key] = obj[key];
        } else {
          cov_l72hxq5wc.b[3][1]++;
        }
      }
    } else {
      cov_l72hxq5wc.b[2][1]++;
    }cov_l72hxq5wc.s[23]++;newObj.default = obj;cov_l72hxq5wc.s[24]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_l72hxq5wc.f[1]++;cov_l72hxq5wc.s[25]++;return (cov_l72hxq5wc.b[5][0]++, obj) && (cov_l72hxq5wc.b[5][1]++, obj.__esModule) ? (cov_l72hxq5wc.b[4][0]++, obj) : (cov_l72hxq5wc.b[4][1]++, { default: obj });
}const debug = (cov_l72hxq5wc.s[26]++, (0, _debug2.default)("debugger:solidity:sagas"));function* addSource(source, sourcePath, ast) {
  cov_l72hxq5wc.f[2]++;cov_l72hxq5wc.s[27]++;yield (0, _effects.put)(actions.addSource(source, sourcePath, ast));
}function* addSourceMap(binary, sourceMap) {
  cov_l72hxq5wc.f[3]++;cov_l72hxq5wc.s[28]++;yield (0, _effects.put)(actions.addSourceMap(binary, sourceMap));
}function* tickSaga() {
  cov_l72hxq5wc.f[4]++;cov_l72hxq5wc.s[29]++;debug("got TICK");cov_l72hxq5wc.s[30]++;yield* functionDepthSaga();cov_l72hxq5wc.s[31]++;yield* trace.signalTickSagaCompletion();
}function* functionDepthSaga() {
  cov_l72hxq5wc.f[5]++;cov_l72hxq5wc.s[32]++;if (yield (0, _effects.select)(_selectors2.default.current.willJump)) {
    cov_l72hxq5wc.b[6][0]++;let jumpDirection = (cov_l72hxq5wc.s[33]++, yield (0, _effects.select)(_selectors2.default.current.jumpDirection));cov_l72hxq5wc.s[34]++;yield (0, _effects.put)(actions.jump(jumpDirection));
  } else {
    cov_l72hxq5wc.b[6][1]++;cov_l72hxq5wc.s[35]++;if (yield (0, _effects.select)(_selectors2.default.current.willCall)) {
      cov_l72hxq5wc.b[7][0]++;cov_l72hxq5wc.s[36]++;debug("about to call");cov_l72hxq5wc.s[37]++;if (yield (0, _effects.select)(_selectors2.default.current.callsPrecompile)) {
        cov_l72hxq5wc.b[8][0]++;
      } else {
        cov_l72hxq5wc.b[8][1]++;cov_l72hxq5wc.s[38]++;if ((cov_l72hxq5wc.b[10][0]++, yield (0, _effects.select)(_selectors2.default.current.needsFunctionDepthWorkaround)) && (cov_l72hxq5wc.b[10][1]++, yield (0, _effects.select)(_selectors2.default.current.isContractCall))) {
          cov_l72hxq5wc.b[9][0]++;cov_l72hxq5wc.s[39]++;debug("workaround invoked!");cov_l72hxq5wc.s[40]++;yield (0, _effects.put)(actions.jump("2"));
        } else {
          cov_l72hxq5wc.b[9][1]++;cov_l72hxq5wc.s[41]++;yield (0, _effects.put)(actions.jump("i"));
        }
      }
    } else {
      cov_l72hxq5wc.b[7][1]++;cov_l72hxq5wc.s[42]++;if (yield (0, _effects.select)(_selectors2.default.current.willCreate)) {
        cov_l72hxq5wc.b[11][0]++;cov_l72hxq5wc.s[43]++;yield (0, _effects.put)(actions.jump("i"));
      } else {
        cov_l72hxq5wc.b[11][1]++;cov_l72hxq5wc.s[44]++;if (yield (0, _effects.select)(_selectors2.default.current.willReturn)) {
          cov_l72hxq5wc.b[12][0]++;cov_l72hxq5wc.s[45]++;yield (0, _effects.put)(actions.jump("o"));
        } else {
          cov_l72hxq5wc.b[12][1]++;
        }
      }
    }
  }
}function* reset() {
  cov_l72hxq5wc.f[6]++;cov_l72hxq5wc.s[46]++;yield (0, _effects.put)(actions.reset());
}function* saga() {
  cov_l72hxq5wc.f[7]++;cov_l72hxq5wc.s[47]++;yield (0, _effects.takeEvery)(_actions2.TICK, tickSaga);
}cov_l72hxq5wc.s[48]++;exports.default = (0, _helpers.prefixName)("solidity", saga);

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_1dtgz8qh4v = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/solidity/actions/index.js",
      hash = "2fe0aa1b7f480b6858b87584ce8a371e2dc63611",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/solidity/actions/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 30 } }, "2": { start: { line: 7, column: 0 }, end: { line: 7, column: 36 } }, "3": { start: { line: 8, column: 0 }, end: { line: 8, column: 20 } }, "4": { start: { line: 9, column: 0 }, end: { line: 9, column: 22 } }, "5": { start: { line: 10, column: 19 }, end: { line: 10, column: 61 } }, "6": { start: { line: 12, column: 2 }, end: { line: 17, column: 4 } }, "7": { start: { line: 20, column: 22 }, end: { line: 20, column: 70 } }, "8": { start: { line: 22, column: 2 }, end: { line: 26, column: 4 } }, "9": { start: { line: 29, column: 13 }, end: { line: 29, column: 34 } }, "10": { start: { line: 31, column: 2 }, end: { line: 34, column: 4 } }, "11": { start: { line: 37, column: 14 }, end: { line: 37, column: 46 } }, "12": { start: { line: 39, column: 2 }, end: { line: 39, column: 25 } } }, fnMap: { "0": { name: "addSource", decl: { start: { line: 11, column: 9 }, end: { line: 11, column: 18 } }, loc: { start: { line: 11, column: 44 }, end: { line: 18, column: 1 } }, line: 11 }, "1": { name: "addSourceMap", decl: { start: { line: 21, column: 9 }, end: { line: 21, column: 21 } }, loc: { start: { line: 21, column: 41 }, end: { line: 27, column: 1 } }, line: 21 }, "2": { name: "jump", decl: { start: { line: 30, column: 9 }, end: { line: 30, column: 13 } }, loc: { start: { line: 30, column: 29 }, end: { line: 35, column: 1 } }, line: 30 }, "3": { name: "reset", decl: { start: { line: 38, column: 9 }, end: { line: 38, column: 14 } }, loc: { start: { line: 38, column: 17 }, end: { line: 40, column: 1 } }, line: 38 } }, branchMap: {}, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0 }, b: {}, inputSourceMap: { version: 3, sources: ["lib/solidity/actions/index.js"], names: ["addSource", "addSourceMap", "jump", "reset", "ADD_SOURCE", "source", "sourcePath", "ast", "type", "ADD_SOURCEMAP", "binary", "sourceMap", "JUMP", "jumpDirection", "RESET"], mappings: ";;;;;QACgBA,S,GAAAA,S;QAUAC,Y,GAAAA,Y;QASAC,I,GAAAA,I;QAQAC,K,GAAAA,K;AA5BT,MAAMC,kCAAa,qBAAnB;AACA,SAASJ,SAAT,CAAmBK,MAAnB,EAA2BC,UAA3B,EAAuCC,GAAvC,EAA4C;AACjD,SAAO;AACLC,UAAMJ,UADD;AAELC,UAFK;AAGLC,cAHK;AAILC;AAJK,GAAP;AAMD;;AAEM,MAAME,wCAAgB,wBAAtB;AACA,SAASR,YAAT,CAAsBS,MAAtB,EAA8BC,SAA9B,EAAyC;AAC9C,SAAO;AACLH,UAAMC,aADD;AAELC,UAFK;AAGLC;AAHK,GAAP;AAKD;;AAEM,MAAMC,sBAAO,MAAb;AACA,SAASV,IAAT,CAAcW,aAAd,EAA6B;AAClC,SAAO;AACLL,UAAMI,IADD;AAELC;AAFK,GAAP;AAID;;AAEM,MAAMC,wBAAQ,gBAAd;AACA,SAASX,KAAT,GAAiB;AACtB,SAAO,EAAEK,MAAMM,KAAR,EAAP;AACD", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["export const ADD_SOURCE = \"SOLIDITY_ADD_SOURCE\";\nexport function addSource(source, sourcePath, ast) {\n  return {\n    type: ADD_SOURCE,\n    source,\n    sourcePath,\n    ast\n  };\n}\n\nexport const ADD_SOURCEMAP = \"SOLIDITY_ADD_SOURCEMAP\";\nexport function addSourceMap(binary, sourceMap) {\n  return {\n    type: ADD_SOURCEMAP,\n    binary,\n    sourceMap\n  };\n}\n\nexport const JUMP = \"JUMP\";\nexport function jump(jumpDirection) {\n  return {\n    type: JUMP,\n    jumpDirection\n  };\n}\n\nexport const RESET = \"SOLIDITY_RESET\";\nexport function reset() {\n  return { type: RESET };\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_1dtgz8qh4v.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_1dtgz8qh4v.s[1]++;exports.addSource = addSource;cov_1dtgz8qh4v.s[2]++;exports.addSourceMap = addSourceMap;cov_1dtgz8qh4v.s[3]++;exports.jump = jump;cov_1dtgz8qh4v.s[4]++;exports.reset = reset;const ADD_SOURCE = (cov_1dtgz8qh4v.s[5]++, exports.ADD_SOURCE = "SOLIDITY_ADD_SOURCE");function addSource(source, sourcePath, ast) {
  cov_1dtgz8qh4v.f[0]++;cov_1dtgz8qh4v.s[6]++;return { type: ADD_SOURCE, source, sourcePath, ast };
}const ADD_SOURCEMAP = (cov_1dtgz8qh4v.s[7]++, exports.ADD_SOURCEMAP = "SOLIDITY_ADD_SOURCEMAP");function addSourceMap(binary, sourceMap) {
  cov_1dtgz8qh4v.f[1]++;cov_1dtgz8qh4v.s[8]++;return { type: ADD_SOURCEMAP, binary, sourceMap };
}const JUMP = (cov_1dtgz8qh4v.s[9]++, exports.JUMP = "JUMP");function jump(jumpDirection) {
  cov_1dtgz8qh4v.f[2]++;cov_1dtgz8qh4v.s[10]++;return { type: JUMP, jumpDirection };
}const RESET = (cov_1dtgz8qh4v.s[11]++, exports.RESET = "SOLIDITY_RESET");function reset() {
  cov_1dtgz8qh4v.f[3]++;cov_1dtgz8qh4v.s[12]++;return { type: RESET };
}

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_kojt2n1xq = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/controller/selectors/index.js",
      hash = "7ce1dcbb582dcefa587ae59006804b240b22fae9",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/controller/selectors/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 13 }, end: { line: 7, column: 29 } }, "2": { start: { line: 9, column: 14 }, end: { line: 9, column: 44 } }, "3": { start: { line: 11, column: 20 }, end: { line: 11, column: 44 } }, "4": { start: { line: 13, column: 17 }, end: { line: 13, column: 45 } }, "5": { start: { line: 15, column: 18 }, end: { line: 15, column: 52 } }, "6": { start: { line: 17, column: 18 }, end: { line: 17, column: 51 } }, "7": { start: { line: 19, column: 18 }, end: { line: 19, column: 53 } }, "8": { start: { line: 21, column: 18 }, end: { line: 21, column: 46 } }, "9": { start: { line: 23, column: 18 }, end: { line: 23, column: 53 } }, "10": { start: { line: 25, column: 18 }, end: { line: 25, column: 48 } }, "11": { start: { line: 27, column: 18 }, end: { line: 27, column: 53 } }, "12": { start: { line: 29, column: 39 }, end: { line: 29, column: 93 } }, "13": { start: { line: 31, column: 14 }, end: { line: 31, column: 63 } }, "14": { start: { line: 36, column: 17 }, end: { line: 36, column: 23 } }, "15": { start: { line: 36, column: 22 }, end: { line: 36, column: 23 } }, "16": { start: { line: 41, column: 19 }, end: { line: 105, column: 2 } }, "17": { start: { line: 45, column: 18 }, end: { line: 45, column: 34 } }, "18": { start: { line: 94, column: 67 }, end: { line: 94, column: 84 } }, "19": { start: { line: 99, column: 66 }, end: { line: 99, column: 82 } }, "20": { start: { line: 107, column: 0 }, end: { line: 107, column: 29 } } }, fnMap: { "0": { name: "_interopRequireDefault", decl: { start: { line: 29, column: 9 }, end: { line: 29, column: 31 } }, loc: { start: { line: 29, column: 37 }, end: { line: 29, column: 95 } }, line: 29 }, "1": { name: "(anonymous_1)", decl: { start: { line: 36, column: 17 }, end: { line: 36, column: 18 } }, loc: { start: { line: 36, column: 22 }, end: { line: 36, column: 23 } }, line: 36 }, "2": { name: "(anonymous_2)", decl: { start: { line: 45, column: 9 }, end: { line: 45, column: 10 } }, loc: { start: { line: 45, column: 18 }, end: { line: 45, column: 34 } }, line: 45 }, "3": { name: "(anonymous_3)", decl: { start: { line: 94, column: 58 }, end: { line: 94, column: 59 } }, loc: { start: { line: 94, column: 67 }, end: { line: 94, column: 84 } }, line: 94 }, "4": { name: "(anonymous_4)", decl: { start: { line: 99, column: 57 }, end: { line: 99, column: 58 } }, loc: { start: { line: 99, column: 66 }, end: { line: 99, column: 82 } }, line: 99 } }, branchMap: { "0": { loc: { start: { line: 29, column: 46 }, end: { line: 29, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 29, column: 70 }, end: { line: 29, column: 73 } }, { start: { line: 29, column: 76 }, end: { line: 29, column: 92 } }], line: 29 }, "1": { loc: { start: { line: 29, column: 46 }, end: { line: 29, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 29, column: 46 }, end: { line: 29, column: 49 } }, { start: { line: 29, column: 53 }, end: { line: 29, column: 67 } }], line: 29 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0 }, b: { "0": [0, 0], "1": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/controller/selectors/index.js"], names: ["debug", "identity", "x", "controller", "state", "current", "functionDepth", "solidity", "executionContext", "evm", "call", "willJump", "step", "isJump", "location", "sourceRange", "source", "node", "ast", "isMultiline", "breakpoints", "isStepping", "finished", "trace"], mappings: ";;;;;;AAAA;;;;AAGA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAPA,MAAMA,QAAQ,qBAAY,2BAAZ,CAAd,C,CAAwD;;AASxD;;;AAGA,MAAMC,WAAWC,KAAKA,CAAtB;;AAEA;;;AAGA,MAAMC,aAAa,sCAAmB;AACpC;;;AAGAC,SAAOA,SAASA,MAAMD,UAJc;AAKpC;;;AAGAE,WAAS;AACP;;;AAGAC,mBAAe,8BAAW,CAACC,oBAASF,OAAT,CAAiBC,aAAlB,CAAX,EAA6CL,QAA7C,CAJR;;AAMP;;;AAGAO,sBAAkB,8BAAW,CAACC,oBAAIJ,OAAJ,CAAYK,IAAb,CAAX,EAA+BT,QAA/B,CATX;;AAWP;;;AAGAU,cAAU,8BAAW,CAACF,oBAAIJ,OAAJ,CAAYO,IAAZ,CAAiBC,MAAlB,CAAX,EAAsCZ,QAAtC,CAdH;;AAgBP;;;AAGAa,cAAU;AACR;;;AAGAC,mBAAa,8BAAW,CAACR,oBAASF,OAAT,CAAiBU,WAAlB,CAAX,EAA2Cd,QAA3C,CAJL;;AAMR;;;AAGAe,cAAQ,8BAAW,CAACT,oBAASF,OAAT,CAAiBW,MAAlB,CAAX,EAAsCf,QAAtC,CATA;;AAWR;;;AAGAgB,YAAM,8BAAW,CAACC,oBAAIb,OAAJ,CAAYY,IAAb,CAAX,EAA+BhB,QAA/B,CAdE;;AAgBR;;;AAGAkB,mBAAa,8BAAW,CAACZ,oBAASF,OAAT,CAAiBc,WAAlB,CAAX,EAA2ClB,QAA3C;AAnBL;AAnBH,GAR2B;;AAkDpC;;;AAGAmB,eAAa,8BAAW,CAAC,SAAD,CAAX,EAAwBhB,SAASA,MAAMgB,WAAvC,CArDuB;;AAuDpC;;;AAGAC,cAAY,8BAAW,CAAC,SAAD,CAAX,EAAwBjB,SAASA,MAAMiB,UAAvC,CA1DwB;;AA4DpC;;;AAGAC,YAAU,8BAAW,CAACC,oBAAMD,QAAP,CAAX,EAA6BrB,QAA7B;AA/D0B,CAAnB,CAAnB;;kBAkEeE,U", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:controller:sagas\"); //eslint-disable-line no-unused-vars\n\nimport { createSelectorTree, createLeaf } from \"reselect-tree\";\n\nimport evm from \"lib/evm/selectors\";\nimport solidity from \"lib/solidity/selectors\";\nimport ast from \"lib/ast/selectors\";\nimport trace from \"lib/trace/selectors\";\n\n/**\n * @private\n */\nconst identity = x => x;\n\n/**\n * controller\n */\nconst controller = createSelectorTree({\n  /**\n   * controller.state\n   */\n  state: state => state.controller,\n  /**\n   * controller.current\n   */\n  current: {\n    /**\n     * controller.current.functionDepth\n     */\n    functionDepth: createLeaf([solidity.current.functionDepth], identity),\n\n    /**\n     * controller.current.executionContext\n     */\n    executionContext: createLeaf([evm.current.call], identity),\n\n    /**\n     * controller.current.willJump\n     */\n    willJump: createLeaf([evm.current.step.isJump], identity),\n\n    /**\n     * controller.current.location\n     */\n    location: {\n      /**\n       * controller.current.location.sourceRange\n       */\n      sourceRange: createLeaf([solidity.current.sourceRange], identity),\n\n      /**\n       * controller.current.location.source\n       */\n      source: createLeaf([solidity.current.source], identity),\n\n      /**\n       * controller.current.location.node\n       */\n      node: createLeaf([ast.current.node], identity),\n\n      /**\n       * controller.current.location.isMultiline\n       */\n      isMultiline: createLeaf([solidity.current.isMultiline], identity)\n    }\n  },\n\n  /**\n   * controller.breakpoints\n   */\n  breakpoints: createLeaf([\"./state\"], state => state.breakpoints),\n\n  /**\n   * controller.isStepping\n   */\n  isStepping: createLeaf([\"./state\"], state => state.isStepping),\n\n  /**\n   * controller.finished\n   */\n  finished: createLeaf([trace.finished], identity)\n});\n\nexport default controller;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_kojt2n1xq.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _debug = (cov_kojt2n1xq.s[1]++, __webpack_require__(0));var _debug2 = (cov_kojt2n1xq.s[2]++, _interopRequireDefault(_debug));var _reselectTree = (cov_kojt2n1xq.s[3]++, __webpack_require__(14));var _selectors = (cov_kojt2n1xq.s[4]++, __webpack_require__(10));var _selectors2 = (cov_kojt2n1xq.s[5]++, _interopRequireDefault(_selectors));var _selectors3 = (cov_kojt2n1xq.s[6]++, __webpack_require__(2));var _selectors4 = (cov_kojt2n1xq.s[7]++, _interopRequireDefault(_selectors3));var _selectors5 = (cov_kojt2n1xq.s[8]++, __webpack_require__(19));var _selectors6 = (cov_kojt2n1xq.s[9]++, _interopRequireDefault(_selectors5));var _selectors7 = (cov_kojt2n1xq.s[10]++, __webpack_require__(11));var _selectors8 = (cov_kojt2n1xq.s[11]++, _interopRequireDefault(_selectors7));function _interopRequireDefault(obj) {
  cov_kojt2n1xq.f[0]++;cov_kojt2n1xq.s[12]++;return (cov_kojt2n1xq.b[1][0]++, obj) && (cov_kojt2n1xq.b[1][1]++, obj.__esModule) ? (cov_kojt2n1xq.b[0][0]++, obj) : (cov_kojt2n1xq.b[0][1]++, { default: obj });
}const debug = (cov_kojt2n1xq.s[13]++, (0, _debug2.default)("debugger:controller:sagas"));cov_kojt2n1xq.s[14]++;const identity = x => {
  cov_kojt2n1xq.f[1]++;cov_kojt2n1xq.s[15]++;return x;
};const controller = (cov_kojt2n1xq.s[16]++, (0, _reselectTree.createSelectorTree)({ state: state => {
    cov_kojt2n1xq.f[2]++;cov_kojt2n1xq.s[17]++;return state.controller;
  }, current: { functionDepth: (0, _reselectTree.createLeaf)([_selectors4.default.current.functionDepth], identity), executionContext: (0, _reselectTree.createLeaf)([_selectors2.default.current.call], identity), willJump: (0, _reselectTree.createLeaf)([_selectors2.default.current.step.isJump], identity), location: { sourceRange: (0, _reselectTree.createLeaf)([_selectors4.default.current.sourceRange], identity), source: (0, _reselectTree.createLeaf)([_selectors4.default.current.source], identity), node: (0, _reselectTree.createLeaf)([_selectors6.default.current.node], identity), isMultiline: (0, _reselectTree.createLeaf)([_selectors4.default.current.isMultiline], identity) } }, breakpoints: (0, _reselectTree.createLeaf)(["./state"], state => {
    cov_kojt2n1xq.f[3]++;cov_kojt2n1xq.s[18]++;return state.breakpoints;
  }), isStepping: (0, _reselectTree.createLeaf)(["./state"], state => {
    cov_kojt2n1xq.f[4]++;cov_kojt2n1xq.s[19]++;return state.isStepping;
  }), finished: (0, _reselectTree.createLeaf)([_selectors8.default.finished], identity) }));cov_kojt2n1xq.s[20]++;exports.default = controller;

/***/ }),
/* 40 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/core-js/array/from");

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _entries = __webpack_require__(9);

var _entries2 = _interopRequireDefault(_entries);

var _assign = __webpack_require__(12);

var _assign2 = _interopRequireDefault(_assign);

var _values = __webpack_require__(23);

var _values2 = _interopRequireDefault(_values);

var _asyncToGenerator2 = __webpack_require__(1);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

let prepareDebugger = (() => {
  var _ref3 = (0, _asyncToGenerator3.default)(function* (testName, sources) {
    const provider = _ganacheCore2.default.provider({ seed: "debugger", gasLimit: 7000000 });

    let { abstractions, artifacts: contracts, files } = yield (0, _helpers.prepareContracts)(provider, sources);

    let instance = yield abstractions[contractName(testName)].deployed();
    let receipt = yield instance.run();
    let txHash = receipt.tx;

    let bugger = yield _debugger2.default.forTx(txHash, { provider, files, contracts });

    let session = bugger.connect();

    let source = sources[fileName(testName)];

    //we'll need the debugger-internal ID of this source
    let debuggerSources = session.view(_selectors2.default.info.sources);
    let matchingSources = (0, _values2.default)(debuggerSources).filter(function (sourceObject) {
      return sourceObject.sourcePath.includes(contractName(testName));
    });
    let sourceId = matchingSources[0].id;

    let breakpoint = {
      sourceId,
      line: lastStatementLine(source)
    };

    session.addBreakpoint(breakpoint);

    session.continueUntilBreakpoint();

    return session;
  });

  return function prepareDebugger(_x, _x2) {
    return _ref3.apply(this, arguments);
  };
})();

let decode = (() => {
  var _ref4 = (0, _asyncToGenerator3.default)(function* (name) {
    let result = yield this.session.variable(name);

    if (Array.isArray(result)) {
      result = result.map(function (element) {
        if (_bn2.default.isBN(element)) {
          // We're assuming these tests have small numbers
          return element.toNumber();
        } else if (typeof element.toString === "function") {
          return element.toString();
        } else {
          return element;
        }
      });
    } else if (typeof result === "object") {
      switch (result.type) {
        case "mapping":
          {
            result = (0, _assign2.default)({}, ...(0, _entries2.default)(result.members).map(function ([key, value]) {
              if (_bn2.default.isBN(value)) {
                // We're assuming these tests have small numbers
                value = value.toNumber();
              } else if (typeof value.toString === "function") {
                value = value.toString();
              }

              return {
                [key]: value
              };
            }));
            break;
          }
      }
    }

    return result;
  });

  return function decode(_x3) {
    return _ref4.apply(this, arguments);
  };
})();

exports.generateUints = generateUints;
exports.describeDecoding = describeDecoding;

var _debug = __webpack_require__(0);

var _debug2 = _interopRequireDefault(_debug);

var _ganacheCore = __webpack_require__(7);

var _ganacheCore2 = _interopRequireDefault(_ganacheCore);

var _chai = __webpack_require__(4);

var _changeCase = __webpack_require__(86);

var _changeCase2 = _interopRequireDefault(_changeCase);

var _bn = __webpack_require__(18);

var _bn2 = _interopRequireDefault(_bn);

var _helpers = __webpack_require__(5);

var _debugger = __webpack_require__(8);

var _debugger2 = _interopRequireDefault(_debugger);

var _selectors = __webpack_require__(2);

var _selectors2 = _interopRequireDefault(_selectors);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const debug = (0, _debug2.default)("test:data:decode");

function* generateUints() {
  let x = 0;
  while (true) {
    yield x;
    x++;
  }
}

function contractName(testName) {
  return testName.replace(/ /g, "");
}

function fileName(testName) {
  return `${contractName(testName)}.sol`;
}

function generateTests(fixtures) {
  var _this = this;

  for (let _ref of fixtures) {
    let { name, value: expected } = _ref;

    it(`correctly decodes ${name}`, (0, _asyncToGenerator3.default)(function* () {
      const response = yield _this.decode(name);
      _chai.assert.deepEqual(response, expected);
    }));
  }
}

function lastStatementLine(source) {
  const lines = source.split("\n");
  for (let i = lines.length - 1; i >= 0; i--) {
    let line = lines[i];
    if (line.indexOf(";") != -1) {
      return i;
    }
  }
}

function describeDecoding(testName, fixtures, selector, generateSource) {
  const sources = {
    [fileName(testName)]: generateSource(contractName(testName), fixtures)
  };

  describe(testName, function () {
    var _this2 = this;

    const testDebug = (0, _debug2.default)(`test:data:decode:${_changeCase2.default.paramCase(testName)}`);

    testDebug("source %s", (0, _values2.default)(sources)[0]);

    this.timeout(30000);

    before("runs and observes debugger", (0, _asyncToGenerator3.default)(function* () {
      _this2.session = yield prepareDebugger(testName, sources);
      _this2.decode = decode;

      if (selector) {
        debug("selector %O", _this2.session.view(selector));
      }
    }));

    generateTests.bind(this)(fixtures);
  });
}

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

// runtime helper
function inManifest(id) { return global.__webpackManifest__.indexOf(id) >= 0;}
function run(id) { __webpack_require__(id);}

// modules to execute goes here
var ids = [
/*require.resolve*/(43),/*require.resolve*/(82),/*require.resolve*/(83),/*require.resolve*/(41),/*require.resolve*/(87),/*require.resolve*/(88),/*require.resolve*/(90),/*require.resolve*/(91),/*require.resolve*/(92),/*require.resolve*/(5),/*require.resolve*/(93),/*require.resolve*/(94),/*require.resolve*/(95)
];

ids.filter(inManifest).forEach(run)

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _asyncToGenerator2 = __webpack_require__(1);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _debug = __webpack_require__(0);

var _debug2 = _interopRequireDefault(_debug);

var _chai = __webpack_require__(4);

var _ganacheCore = __webpack_require__(7);

var _ganacheCore2 = _interopRequireDefault(_ganacheCore);

var _helpers = __webpack_require__(5);

var _debugger = __webpack_require__(8);

var _debugger2 = _interopRequireDefault(_debugger);

var _selectors = __webpack_require__(19);

var _selectors2 = _interopRequireDefault(_selectors);

var _selectors3 = __webpack_require__(2);

var _selectors4 = _interopRequireDefault(_selectors3);

var _selectors5 = __webpack_require__(11);

var _selectors6 = _interopRequireDefault(_selectors5);

var _map = __webpack_require__(30);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const debug = (0, _debug2.default)("test:ast");

const __VARIABLES = `
pragma solidity ~0.5;

contract Variables {
  event Result(uint256 result);

  uint256 qux;
  string quux;

  function stack(uint256 foo) public returns (uint256) {
    uint256 bar = foo + 1;
    uint256 baz = innerStack(bar);

    baz += 4;

    qux = baz;

    emit Result(baz);

    return baz;
  }

  function innerStack(uint256 baz) public returns (uint256) {
    uint256 bar = baz + 2;
    return bar;
  }
}
`;

let sources = {
  "Variables.sol": __VARIABLES
};

describe("AST", function () {
  var provider;

  var abstractions;
  var artifacts;
  var files;

  before("Create Provider", (0, _asyncToGenerator3.default)(function* () {
    provider = _ganacheCore2.default.provider({ seed: "debugger", gasLimit: 7000000 });
  }));

  before("Prepare contracts and artifacts", (0, _asyncToGenerator3.default)(function* () {
    this.timeout(30000);

    let prepared = yield (0, _helpers.prepareContracts)(provider, sources);
    abstractions = prepared.abstractions;
    artifacts = prepared.artifacts;
    files = prepared.files;
  }));

  describe("Node pointer", function () {
    it("traverses", (0, _asyncToGenerator3.default)(function* () {
      this.timeout(0);
      let instance = yield abstractions.Variables.deployed();
      let receipt = yield instance.stack(4);
      let txHash = receipt.tx;

      let bugger = yield _debugger2.default.forTx(txHash, {
        provider,
        files,
        contracts: artifacts
      });

      let session = bugger.connect();
      debug("ast: %O", session.view(_selectors2.default.current.tree));

      do {
        let { start, length } = session.view(_selectors4.default.current.sourceRange);
        let end = start + length;

        let node = session.view(_selectors2.default.current.node);

        let [nodeStart, nodeLength] = (0, _map.getRange)(node);
        let nodeEnd = nodeStart + nodeLength;

        let pointer = session.view(_selectors2.default.current.pointer);

        _chai.assert.isAtMost(nodeStart, start, `Node ${pointer} at should not begin after instruction source range`);
        _chai.assert.isAtLeast(nodeEnd, end, `Node ${pointer} should not end after source`);

        session.stepNext();
      } while (!session.view(_selectors6.default.finished));
    }));
  });
});

/***/ }),
/* 44 */
/***/ (function(module, exports) {

module.exports = require("path");

/***/ }),
/* 45 */
/***/ (function(module, exports) {

module.exports = require("fs-extra");

/***/ }),
/* 46 */
/***/ (function(module, exports) {

module.exports = require("truffle-workflow-compile");

/***/ }),
/* 47 */
/***/ (function(module, exports) {

module.exports = require("truffle-debug-utils");

/***/ }),
/* 48 */
/***/ (function(module, exports) {

module.exports = require("truffle-artifactor");

/***/ }),
/* 49 */
/***/ (function(module, exports) {

module.exports = require("truffle-migrate");

/***/ }),
/* 50 */
/***/ (function(module, exports) {

module.exports = require("truffle-box");

/***/ }),
/* 51 */
/***/ (function(module, exports) {

module.exports = require("truffle-resolver");

/***/ }),
/* 52 */
/***/ (function(module, exports) {

module.exports = require("truffle-expect");

/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_18s41jxx88 = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/session/index.js",
      hash = "357c3f8860add2c97afa7318db54001d2cb37cdd",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/session/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 13 }, end: { line: 7, column: 29 } }, "2": { start: { line: 9, column: 14 }, end: { line: 9, column: 44 } }, "3": { start: { line: 11, column: 15 }, end: { line: 11, column: 35 } }, "4": { start: { line: 13, column: 39 }, end: { line: 13, column: 93 } }, "5": { start: { line: 15, column: 14 }, end: { line: 15, column: 54 } }, "6": { start: { line: 17, column: 0 }, end: { line: 17, column: 35 } } }, fnMap: { "0": { name: "_interopRequireDefault", decl: { start: { line: 13, column: 9 }, end: { line: 13, column: 31 } }, loc: { start: { line: 13, column: 37 }, end: { line: 13, column: 95 } }, line: 13 } }, branchMap: { "0": { loc: { start: { line: 13, column: 46 }, end: { line: 13, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 13, column: 70 }, end: { line: 13, column: 73 } }, { start: { line: 13, column: 76 }, end: { line: 13, column: 92 } }], line: 13 }, "1": { loc: { start: { line: 13, column: 46 }, end: { line: 13, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 13, column: 46 }, end: { line: 13, column: 49 } }, { start: { line: 13, column: 53 }, end: { line: 13, column: 67 } }], line: 13 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0 }, f: { "0": 0 }, b: { "0": [0, 0], "1": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/session/index.js"], names: ["debug", "Session"], mappings: ";;;;;;AAAA;;;;AAGA;;;;AAFA,MAAMA,QAAQ,qBAAY,kBAAZ,CAAd;;kBAIeC,gB", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:session\");\n\nimport { Session } from \"./session\";\n\nexport default Session;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_18s41jxx88.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _debug = (cov_18s41jxx88.s[1]++, __webpack_require__(0));var _debug2 = (cov_18s41jxx88.s[2]++, _interopRequireDefault(_debug));var _session = (cov_18s41jxx88.s[3]++, __webpack_require__(54));function _interopRequireDefault(obj) {
  cov_18s41jxx88.f[0]++;cov_18s41jxx88.s[4]++;return (cov_18s41jxx88.b[1][0]++, obj) && (cov_18s41jxx88.b[1][1]++, obj.__esModule) ? (cov_18s41jxx88.b[0][0]++, obj) : (cov_18s41jxx88.b[0][1]++, { default: obj });
}const debug = (cov_18s41jxx88.s[5]++, (0, _debug2.default)("debugger:session"));cov_18s41jxx88.s[6]++;exports.default = _session.Session;

/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_s5cpai8ti = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/session/session.js",
      hash = "90e6e9d0ca7a50e241ec989bb05ef1694f0bb0bc",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/session/session.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 28 } }, "2": { start: { line: 8, column: 25 }, end: { line: 8, column: 74 } }, "3": { start: { line: 10, column: 25 }, end: { line: 10, column: 67 } }, "4": { start: { line: 12, column: 14 }, end: { line: 12, column: 60 } }, "5": { start: { line: 14, column: 15 }, end: { line: 14, column: 46 } }, "6": { start: { line: 16, column: 15 }, end: { line: 16, column: 55 } }, "7": { start: { line: 18, column: 16 }, end: { line: 18, column: 48 } }, "8": { start: { line: 20, column: 13 }, end: { line: 20, column: 29 } }, "9": { start: { line: 22, column: 14 }, end: { line: 22, column: 44 } }, "10": { start: { line: 24, column: 13 }, end: { line: 24, column: 33 } }, "11": { start: { line: 26, column: 14 }, end: { line: 26, column: 44 } }, "12": { start: { line: 28, column: 15 }, end: { line: 28, column: 48 } }, "13": { start: { line: 30, column: 17 }, end: { line: 30, column: 50 } }, "14": { start: { line: 32, column: 16 }, end: { line: 32, column: 36 } }, "15": { start: { line: 34, column: 14 }, end: { line: 34, column: 48 } }, "16": { start: { line: 36, column: 17 }, end: { line: 36, column: 46 } }, "17": { start: { line: 38, column: 18 }, end: { line: 38, column: 52 } }, "18": { start: { line: 40, column: 13 }, end: { line: 40, column: 31 } }, "19": { start: { line: 42, column: 14 }, end: { line: 42, column: 44 } }, "20": { start: { line: 44, column: 16 }, end: { line: 44, column: 37 } }, "21": { start: { line: 46, column: 17 }, end: { line: 46, column: 50 } }, "22": { start: { line: 48, column: 40 }, end: { line: 48, column: 267 } }, "23": { start: { line: 48, column: 69 }, end: { line: 48, column: 80 } }, "24": { start: { line: 48, column: 103 }, end: { line: 48, column: 105 } }, "25": { start: { line: 48, column: 107 }, end: { line: 48, column: 228 } }, "26": { start: { line: 48, column: 126 }, end: { line: 48, column: 226 } }, "27": { start: { line: 48, column: 149 }, end: { line: 48, column: 224 } }, "28": { start: { line: 48, column: 201 }, end: { line: 48, column: 224 } }, "29": { start: { line: 48, column: 229 }, end: { line: 48, column: 250 } }, "30": { start: { line: 48, column: 251 }, end: { line: 48, column: 265 } }, "31": { start: { line: 50, column: 39 }, end: { line: 50, column: 93 } }, "32": { start: { line: 52, column: 14 }, end: { line: 52, column: 62 } }, "33": { start: { line: 69, column: 4 }, end: { line: 69, column: 76 } }, "34": { start: { line: 71, column: 32 }, end: { line: 71, column: 67 } }, "35": { start: { line: 74, column: 4 }, end: { line: 74, column: 69 } }, "36": { start: { line: 76, column: 4 }, end: { line: 76, column: 58 } }, "37": { start: { line: 80, column: 4 }, end: { line: 88, column: 7 } }, "38": { start: { line: 81, column: 6 }, end: { line: 87, column: 9 } }, "39": { start: { line: 82, column: 8 }, end: { line: 86, column: 9 } }, "40": { start: { line: 83, column: 10 }, end: { line: 83, column: 19 } }, "41": { start: { line: 84, column: 15 }, end: { line: 86, column: 9 } }, "42": { start: { line: 85, column: 10 }, end: { line: 85, column: 50 } }, "43": { start: { line: 104, column: 24 }, end: { line: 104, column: 26 } }, "44": { start: { line: 105, column: 19 }, end: { line: 105, column: 21 } }, "45": { start: { line: 108, column: 4 }, end: { line: 142, column: 5 } }, "46": { start: { line: 119, column: 10 }, end: { line: 119, column: 18 } }, "47": { start: { line: 121, column: 6 }, end: { line: 121, column: 39 } }, "48": { start: { line: 122, column: 6 }, end: { line: 122, column: 37 } }, "49": { start: { line: 124, column: 6 }, end: { line: 124, column: 62 } }, "50": { start: { line: 126, column: 6 }, end: { line: 132, column: 7 } }, "51": { start: { line: 127, column: 8 }, end: { line: 131, column: 11 } }, "52": { start: { line: 134, column: 6 }, end: { line: 141, column: 7 } }, "53": { start: { line: 135, column: 8 }, end: { line: 140, column: 11 } }, "54": { start: { line: 144, column: 4 }, end: { line: 148, column: 5 } }, "55": { start: { line: 145, column: 6 }, end: { line: 145, column: 53 } }, "56": { start: { line: 147, column: 6 }, end: { line: 147, column: 55 } }, "57": { start: { line: 147, column: 34 }, end: { line: 147, column: 53 } }, "58": { start: { line: 150, column: 4 }, end: { line: 150, column: 33 } }, "59": { start: { line: 154, column: 4 }, end: { line: 154, column: 34 } }, "60": { start: { line: 158, column: 4 }, end: { line: 158, column: 32 } }, "61": { start: { line: 162, column: 4 }, end: { line: 162, column: 33 } }, "62": { start: { line: 164, column: 4 }, end: { line: 164, column: 16 } }, "63": { start: { line: 168, column: 4 }, end: { line: 168, column: 49 } }, "64": { start: { line: 172, column: 16 }, end: { line: 172, column: 20 } }, "65": { start: { line: 174, column: 4 }, end: { line: 194, column: 9 } }, "66": { start: { line: 175, column: 6 }, end: { line: 193, column: 9 } }, "67": { start: { line: 176, column: 25 }, end: { line: 176, column: 30 } }, "68": { start: { line: 177, column: 26 }, end: { line: 177, column: 31 } }, "69": { start: { line: 178, column: 28 }, end: { line: 191, column: 10 } }, "70": { start: { line: 179, column: 29 }, end: { line: 179, column: 62 } }, "71": { start: { line: 181, column: 10 }, end: { line: 184, column: 11 } }, "72": { start: { line: 182, column: 12 }, end: { line: 182, column: 30 } }, "73": { start: { line: 183, column: 12 }, end: { line: 183, column: 19 } }, "74": { start: { line: 186, column: 10 }, end: { line: 190, column: 11 } }, "75": { start: { line: 187, column: 12 }, end: { line: 187, column: 31 } }, "76": { start: { line: 188, column: 12 }, end: { line: 188, column: 26 } }, "77": { start: { line: 189, column: 12 }, end: { line: 189, column: 26 } }, "78": { start: { line: 192, column: 8 }, end: { line: 192, column: 38 } }, "79": { start: { line: 198, column: 17 }, end: { line: 198, column: 21 } }, "80": { start: { line: 200, column: 4 }, end: { line: 202, column: 9 } }, "81": { start: { line: 201, column: 6 }, end: { line: 201, column: 61 } }, "82": { start: { line: 206, column: 17 }, end: { line: 206, column: 21 } }, "83": { start: { line: 208, column: 4 }, end: { line: 210, column: 9 } }, "84": { start: { line: 209, column: 6 }, end: { line: 209, column: 62 } }, "85": { start: { line: 214, column: 17 }, end: { line: 214, column: 21 } }, "86": { start: { line: 216, column: 4 }, end: { line: 218, column: 9 } }, "87": { start: { line: 217, column: 6 }, end: { line: 217, column: 62 } }, "88": { start: { line: 222, column: 17 }, end: { line: 222, column: 21 } }, "89": { start: { line: 224, column: 4 }, end: { line: 226, column: 9 } }, "90": { start: { line: 225, column: 6 }, end: { line: 225, column: 62 } }, "91": { start: { line: 230, column: 17 }, end: { line: 230, column: 21 } }, "92": { start: { line: 232, column: 4 }, end: { line: 234, column: 9 } }, "93": { start: { line: 233, column: 6 }, end: { line: 233, column: 61 } }, "94": { start: { line: 238, column: 17 }, end: { line: 238, column: 21 } }, "95": { start: { line: 240, column: 4 }, end: { line: 242, column: 9 } }, "96": { start: { line: 241, column: 6 }, end: { line: 241, column: 59 } }, "97": { start: { line: 246, column: 17 }, end: { line: 246, column: 21 } }, "98": { start: { line: 248, column: 4 }, end: { line: 250, column: 9 } }, "99": { start: { line: 249, column: 6 }, end: { line: 249, column: 77 } }, "100": { start: { line: 254, column: 4 }, end: { line: 254, column: 63 } }, "101": { start: { line: 258, column: 4 }, end: { line: 258, column: 66 } }, "102": { start: { line: 262, column: 4 }, end: { line: 262, column: 60 } }, "103": { start: { line: 266, column: 17 }, end: { line: 266, column: 21 } }, "104": { start: { line: 268, column: 4 }, end: { line: 293, column: 9 } }, "105": { start: { line: 269, column: 6 }, end: { line: 292, column: 9 } }, "106": { start: { line: 270, column: 27 }, end: { line: 270, column: 32 } }, "107": { start: { line: 271, column: 28 }, end: { line: 281, column: 10 } }, "108": { start: { line: 272, column: 46 }, end: { line: 272, column: 96 } }, "109": { start: { line: 274, column: 10 }, end: { line: 274, column: 79 } }, "110": { start: { line: 276, column: 10 }, end: { line: 280, column: 11 } }, "111": { start: { line: 277, column: 12 }, end: { line: 277, column: 32 } }, "112": { start: { line: 278, column: 12 }, end: { line: 278, column: 26 } }, "113": { start: { line: 279, column: 12 }, end: { line: 279, column: 22 } }, "114": { start: { line: 283, column: 32 }, end: { line: 283, column: 82 } }, "115": { start: { line: 285, column: 8 }, end: { line: 285, column: 63 } }, "116": { start: { line: 287, column: 8 }, end: { line: 291, column: 9 } }, "117": { start: { line: 288, column: 10 }, end: { line: 288, column: 30 } }, "118": { start: { line: 289, column: 10 }, end: { line: 289, column: 24 } }, "119": { start: { line: 290, column: 10 }, end: { line: 290, column: 20 } }, "120": { start: { line: 297, column: 18 }, end: { line: 297, column: 22 } }, "121": { start: { line: 299, column: 4 }, end: { line: 307, column: 9 } }, "122": { start: { line: 300, column: 6 }, end: { line: 300, column: 34 } }, "123": { start: { line: 302, column: 26 }, end: { line: 302, column: 91 } }, "124": { start: { line: 303, column: 19 }, end: { line: 303, column: 77 } }, "125": { start: { line: 305, column: 21 }, end: { line: 305, column: 68 } }, "126": { start: { line: 306, column: 6 }, end: { line: 306, column: 57 } }, "127": { start: { line: 311, column: 18 }, end: { line: 311, column: 22 } }, "128": { start: { line: 313, column: 4 }, end: { line: 320, column: 9 } }, "129": { start: { line: 314, column: 6 }, end: { line: 314, column: 36 } }, "130": { start: { line: 315, column: 6 }, end: { line: 315, column: 34 } }, "131": { start: { line: 316, column: 6 }, end: { line: 316, column: 32 } }, "132": { start: { line: 318, column: 6 }, end: { line: 318, column: 81 } }, "133": { start: { line: 319, column: 6 }, end: { line: 319, column: 29 } }, "134": { start: { line: 323, column: 0 }, end: { line: 323, column: 26 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 48, column: 9 }, end: { line: 48, column: 32 } }, loc: { start: { line: 48, column: 38 }, end: { line: 48, column: 269 } }, line: 48 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 50, column: 9 }, end: { line: 50, column: 31 } }, loc: { start: { line: 50, column: 37 }, end: { line: 50, column: 95 } }, line: 50 }, "2": { name: "(anonymous_2)", decl: { start: { line: 65, column: 2 }, end: { line: 65, column: 3 } }, loc: { start: { line: 65, column: 50 }, end: { line: 77, column: 3 } }, line: 65 }, "3": { name: "(anonymous_3)", decl: { start: { line: 79, column: 2 }, end: { line: 79, column: 3 } }, loc: { start: { line: 79, column: 10 }, end: { line: 89, column: 3 } }, line: 79 }, "4": { name: "(anonymous_4)", decl: { start: { line: 80, column: 33 }, end: { line: 80, column: 34 } }, loc: { start: { line: 80, column: 53 }, end: { line: 88, column: 5 } }, line: 80 }, "5": { name: "(anonymous_5)", decl: { start: { line: 81, column: 28 }, end: { line: 81, column: 29 } }, loc: { start: { line: 81, column: 34 }, end: { line: 87, column: 7 } }, line: 81 }, "6": { name: "(anonymous_6)", decl: { start: { line: 103, column: 2 }, end: { line: 103, column: 3 } }, loc: { start: { line: 103, column: 44 }, end: { line: 151, column: 3 } }, line: 103 }, "7": { name: "(anonymous_7)", decl: { start: { line: 147, column: 26 }, end: { line: 147, column: 27 } }, loc: { start: { line: 147, column: 34 }, end: { line: 147, column: 53 } }, line: 147 }, "8": { name: "(anonymous_8)", decl: { start: { line: 153, column: 2 }, end: { line: 153, column: 3 } }, loc: { start: { line: 153, column: 14 }, end: { line: 155, column: 3 } }, line: 153 }, "9": { name: "(anonymous_9)", decl: { start: { line: 157, column: 2 }, end: { line: 157, column: 3 } }, loc: { start: { line: 157, column: 17 }, end: { line: 159, column: 3 } }, line: 157 }, "10": { name: "(anonymous_10)", decl: { start: { line: 161, column: 2 }, end: { line: 161, column: 3 } }, loc: { start: { line: 161, column: 19 }, end: { line: 165, column: 3 } }, line: 161 }, "11": { name: "(anonymous_11)", decl: { start: { line: 167, column: 2 }, end: { line: 167, column: 3 } }, loc: { start: { line: 167, column: 14 }, end: { line: 169, column: 3 } }, line: 167 }, "12": { name: "(anonymous_12)", decl: { start: { line: 171, column: 2 }, end: { line: 171, column: 3 } }, loc: { start: { line: 171, column: 30 }, end: { line: 195, column: 3 } }, line: 171 }, "13": { name: "(anonymous_13)", decl: { start: { line: 174, column: 43 }, end: { line: 174, column: 44 } }, loc: { start: { line: 174, column: 56 }, end: { line: 194, column: 5 } }, line: 174 }, "14": { name: "(anonymous_14)", decl: { start: { line: 175, column: 35 }, end: { line: 175, column: 36 } }, loc: { start: { line: 175, column: 54 }, end: { line: 193, column: 7 } }, line: 175 }, "15": { name: "(anonymous_15)", decl: { start: { line: 178, column: 51 }, end: { line: 178, column: 52 } }, loc: { start: { line: 178, column: 63 }, end: { line: 191, column: 9 } }, line: 178 }, "16": { name: "(anonymous_16)", decl: { start: { line: 197, column: 2 }, end: { line: 197, column: 3 } }, loc: { start: { line: 197, column: 12 }, end: { line: 203, column: 3 } }, line: 197 }, "17": { name: "(anonymous_17)", decl: { start: { line: 200, column: 43 }, end: { line: 200, column: 44 } }, loc: { start: { line: 200, column: 56 }, end: { line: 202, column: 5 } }, line: 200 }, "18": { name: "(anonymous_18)", decl: { start: { line: 205, column: 2 }, end: { line: 205, column: 3 } }, loc: { start: { line: 205, column: 13 }, end: { line: 211, column: 3 } }, line: 205 }, "19": { name: "(anonymous_19)", decl: { start: { line: 208, column: 43 }, end: { line: 208, column: 44 } }, loc: { start: { line: 208, column: 56 }, end: { line: 210, column: 5 } }, line: 208 }, "20": { name: "(anonymous_20)", decl: { start: { line: 213, column: 2 }, end: { line: 213, column: 3 } }, loc: { start: { line: 213, column: 13 }, end: { line: 219, column: 3 } }, line: 213 }, "21": { name: "(anonymous_21)", decl: { start: { line: 216, column: 43 }, end: { line: 216, column: 44 } }, loc: { start: { line: 216, column: 56 }, end: { line: 218, column: 5 } }, line: 216 }, "22": { name: "(anonymous_22)", decl: { start: { line: 221, column: 2 }, end: { line: 221, column: 3 } }, loc: { start: { line: 221, column: 13 }, end: { line: 227, column: 3 } }, line: 221 }, "23": { name: "(anonymous_23)", decl: { start: { line: 224, column: 43 }, end: { line: 224, column: 44 } }, loc: { start: { line: 224, column: 56 }, end: { line: 226, column: 5 } }, line: 224 }, "24": { name: "(anonymous_24)", decl: { start: { line: 229, column: 2 }, end: { line: 229, column: 3 } }, loc: { start: { line: 229, column: 12 }, end: { line: 235, column: 3 } }, line: 229 }, "25": { name: "(anonymous_25)", decl: { start: { line: 232, column: 43 }, end: { line: 232, column: 44 } }, loc: { start: { line: 232, column: 56 }, end: { line: 234, column: 5 } }, line: 232 }, "26": { name: "(anonymous_26)", decl: { start: { line: 237, column: 2 }, end: { line: 237, column: 3 } }, loc: { start: { line: 237, column: 10 }, end: { line: 243, column: 3 } }, line: 237 }, "27": { name: "(anonymous_27)", decl: { start: { line: 240, column: 43 }, end: { line: 240, column: 44 } }, loc: { start: { line: 240, column: 56 }, end: { line: 242, column: 5 } }, line: 240 }, "28": { name: "(anonymous_28)", decl: { start: { line: 245, column: 2 }, end: { line: 245, column: 3 } }, loc: { start: { line: 245, column: 28 }, end: { line: 251, column: 3 } }, line: 245 }, "29": { name: "(anonymous_29)", decl: { start: { line: 248, column: 43 }, end: { line: 248, column: 44 } }, loc: { start: { line: 248, column: 56 }, end: { line: 250, column: 5 } }, line: 248 }, "30": { name: "(anonymous_30)", decl: { start: { line: 253, column: 2 }, end: { line: 253, column: 3 } }, loc: { start: { line: 253, column: 28 }, end: { line: 255, column: 3 } }, line: 253 }, "31": { name: "(anonymous_31)", decl: { start: { line: 257, column: 2 }, end: { line: 257, column: 3 } }, loc: { start: { line: 257, column: 31 }, end: { line: 259, column: 3 } }, line: 257 }, "32": { name: "(anonymous_32)", decl: { start: { line: 261, column: 2 }, end: { line: 261, column: 3 } }, loc: { start: { line: 261, column: 25 }, end: { line: 263, column: 3 } }, line: 261 }, "33": { name: "(anonymous_33)", decl: { start: { line: 265, column: 2 }, end: { line: 265, column: 3 } }, loc: { start: { line: 265, column: 16 }, end: { line: 294, column: 3 } }, line: 265 }, "34": { name: "(anonymous_34)", decl: { start: { line: 268, column: 43 }, end: { line: 268, column: 44 } }, loc: { start: { line: 268, column: 56 }, end: { line: 293, column: 5 } }, line: 268 }, "35": { name: "(anonymous_35)", decl: { start: { line: 269, column: 35 }, end: { line: 269, column: 36 } }, loc: { start: { line: 269, column: 54 }, end: { line: 292, column: 7 } }, line: 269 }, "36": { name: "(anonymous_36)", decl: { start: { line: 271, column: 52 }, end: { line: 271, column: 53 } }, loc: { start: { line: 271, column: 64 }, end: { line: 281, column: 9 } }, line: 271 }, "37": { name: "(anonymous_37)", decl: { start: { line: 296, column: 2 }, end: { line: 296, column: 3 } }, loc: { start: { line: 296, column: 17 }, end: { line: 308, column: 3 } }, line: 296 }, "38": { name: "(anonymous_38)", decl: { start: { line: 299, column: 43 }, end: { line: 299, column: 44 } }, loc: { start: { line: 299, column: 56 }, end: { line: 307, column: 5 } }, line: 299 }, "39": { name: "(anonymous_39)", decl: { start: { line: 310, column: 2 }, end: { line: 310, column: 3 } }, loc: { start: { line: 310, column: 14 }, end: { line: 321, column: 3 } }, line: 310 }, "40": { name: "(anonymous_40)", decl: { start: { line: 313, column: 43 }, end: { line: 313, column: 44 } }, loc: { start: { line: 313, column: 56 }, end: { line: 320, column: 5 } }, line: 313 } }, branchMap: { "0": { loc: { start: { line: 48, column: 40 }, end: { line: 48, column: 267 } }, type: "if", locations: [{ start: { line: 48, column: 40 }, end: { line: 48, column: 267 } }, { start: { line: 48, column: 40 }, end: { line: 48, column: 267 } }], line: 48 }, "1": { loc: { start: { line: 48, column: 44 }, end: { line: 48, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 48, column: 44 }, end: { line: 48, column: 47 } }, { start: { line: 48, column: 51 }, end: { line: 48, column: 65 } }], line: 48 }, "2": { loc: { start: { line: 48, column: 107 }, end: { line: 48, column: 228 } }, type: "if", locations: [{ start: { line: 48, column: 107 }, end: { line: 48, column: 228 } }, { start: { line: 48, column: 107 }, end: { line: 48, column: 228 } }], line: 48 }, "3": { loc: { start: { line: 48, column: 149 }, end: { line: 48, column: 224 } }, type: "if", locations: [{ start: { line: 48, column: 149 }, end: { line: 48, column: 224 } }, { start: { line: 48, column: 149 }, end: { line: 48, column: 224 } }], line: 48 }, "4": { loc: { start: { line: 50, column: 46 }, end: { line: 50, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 50, column: 70 }, end: { line: 50, column: 73 } }, { start: { line: 50, column: 76 }, end: { line: 50, column: 92 } }], line: 50 }, "5": { loc: { start: { line: 50, column: 46 }, end: { line: 50, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 50, column: 46 }, end: { line: 50, column: 49 } }, { start: { line: 50, column: 53 }, end: { line: 50, column: 67 } }], line: 50 }, "6": { loc: { start: { line: 82, column: 8 }, end: { line: 86, column: 9 } }, type: "if", locations: [{ start: { line: 82, column: 8 }, end: { line: 86, column: 9 } }, { start: { line: 82, column: 8 }, end: { line: 86, column: 9 } }], line: 82 }, "7": { loc: { start: { line: 84, column: 15 }, end: { line: 86, column: 9 } }, type: "if", locations: [{ start: { line: 84, column: 15 }, end: { line: 86, column: 9 } }, { start: { line: 84, column: 15 }, end: { line: 86, column: 9 } }], line: 84 }, "8": { loc: { start: { line: 103, column: 30 }, end: { line: 103, column: 42 } }, type: "default-arg", locations: [{ start: { line: 103, column: 38 }, end: { line: 103, column: 42 } }], line: 103 }, "9": { loc: { start: { line: 126, column: 6 }, end: { line: 132, column: 7 } }, type: "if", locations: [{ start: { line: 126, column: 6 }, end: { line: 132, column: 7 } }, { start: { line: 126, column: 6 }, end: { line: 132, column: 7 } }], line: 126 }, "10": { loc: { start: { line: 126, column: 10 }, end: { line: 126, column: 34 } }, type: "binary-expr", locations: [{ start: { line: 126, column: 10 }, end: { line: 126, column: 16 } }, { start: { line: 126, column: 20 }, end: { line: 126, column: 34 } }], line: 126 }, "11": { loc: { start: { line: 134, column: 6 }, end: { line: 141, column: 7 } }, type: "if", locations: [{ start: { line: 134, column: 6 }, end: { line: 141, column: 7 } }, { start: { line: 134, column: 6 }, end: { line: 141, column: 7 } }], line: 134 }, "12": { loc: { start: { line: 134, column: 10 }, end: { line: 134, column: 50 } }, type: "binary-expr", locations: [{ start: { line: 134, column: 10 }, end: { line: 134, column: 24 } }, { start: { line: 134, column: 28 }, end: { line: 134, column: 50 } }], line: 134 }, "13": { loc: { start: { line: 144, column: 4 }, end: { line: 148, column: 5 } }, type: "if", locations: [{ start: { line: 144, column: 4 }, end: { line: 148, column: 5 } }, { start: { line: 144, column: 4 }, end: { line: 148, column: 5 } }], line: 144 }, "14": { loc: { start: { line: 181, column: 10 }, end: { line: 184, column: 11 } }, type: "if", locations: [{ start: { line: 181, column: 10 }, end: { line: 184, column: 11 } }, { start: { line: 181, column: 10 }, end: { line: 184, column: 11 } }], line: 181 }, "15": { loc: { start: { line: 181, column: 14 }, end: { line: 181, column: 39 } }, type: "binary-expr", locations: [{ start: { line: 181, column: 14 }, end: { line: 181, column: 24 } }, { start: { line: 181, column: 28 }, end: { line: 181, column: 39 } }], line: 181 }, "16": { loc: { start: { line: 186, column: 10 }, end: { line: 190, column: 11 } }, type: "if", locations: [{ start: { line: 186, column: 10 }, end: { line: 190, column: 11 } }, { start: { line: 186, column: 10 }, end: { line: 190, column: 11 } }], line: 186 }, "17": { loc: { start: { line: 186, column: 14 }, end: { line: 186, column: 55 } }, type: "binary-expr", locations: [{ start: { line: 186, column: 14 }, end: { line: 186, column: 25 } }, { start: { line: 186, column: 29 }, end: { line: 186, column: 39 } }, { start: { line: 186, column: 43 }, end: { line: 186, column: 55 } }], line: 186 }, "18": { loc: { start: { line: 276, column: 10 }, end: { line: 280, column: 11 } }, type: "if", locations: [{ start: { line: 276, column: 10 }, end: { line: 280, column: 11 } }, { start: { line: 276, column: 10 }, end: { line: 280, column: 11 } }], line: 276 }, "19": { loc: { start: { line: 276, column: 14 }, end: { line: 276, column: 63 } }, type: "binary-expr", locations: [{ start: { line: 276, column: 14 }, end: { line: 276, column: 46 } }, { start: { line: 276, column: 50 }, end: { line: 276, column: 63 } }], line: 276 }, "20": { loc: { start: { line: 287, column: 8 }, end: { line: 291, column: 9 } }, type: "if", locations: [{ start: { line: 287, column: 8 }, end: { line: 291, column: 9 } }, { start: { line: 287, column: 8 }, end: { line: 291, column: 9 } }], line: 287 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0, "49": 0, "50": 0, "51": 0, "52": 0, "53": 0, "54": 0, "55": 0, "56": 0, "57": 0, "58": 0, "59": 0, "60": 0, "61": 0, "62": 0, "63": 0, "64": 0, "65": 0, "66": 0, "67": 0, "68": 0, "69": 0, "70": 0, "71": 0, "72": 0, "73": 0, "74": 0, "75": 0, "76": 0, "77": 0, "78": 0, "79": 0, "80": 0, "81": 0, "82": 0, "83": 0, "84": 0, "85": 0, "86": 0, "87": 0, "88": 0, "89": 0, "90": 0, "91": 0, "92": 0, "93": 0, "94": 0, "95": 0, "96": 0, "97": 0, "98": 0, "99": 0, "100": 0, "101": 0, "102": 0, "103": 0, "104": 0, "105": 0, "106": 0, "107": 0, "108": 0, "109": 0, "110": 0, "111": 0, "112": 0, "113": 0, "114": 0, "115": 0, "116": 0, "117": 0, "118": 0, "119": 0, "120": 0, "121": 0, "122": 0, "123": 0, "124": 0, "125": 0, "126": 0, "127": 0, "128": 0, "129": 0, "130": 0, "131": 0, "132": 0, "133": 0, "134": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0, 0], "7": [0, 0], "8": [0], "9": [0, 0], "10": [0, 0], "11": [0, 0], "12": [0, 0], "13": [0, 0], "14": [0, 0], "15": [0, 0], "16": [0, 0], "17": [0, 0, 0], "18": [0, 0], "19": [0, 0], "20": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/session/session.js"], names: ["controller", "actions", "debug", "Session", "constructor", "contracts", "files", "txHash", "provider", "_store", "reducer", "rootSaga", "contexts", "sources", "normalize", "dispatch", "recordContracts", "start", "ready", "accept", "reject", "subscribe", "state", "session", "status", "error", "sourcesByPath", "contract", "contractName", "binary", "sourceMap", "deployedBinary", "deployedSourceMap", "sourcePath", "source", "ast", "compiler", "push", "map", "file", "getState", "view", "selector", "action", "interrupt", "doneStepping", "stepperAction", "hasStarted", "hasResolved", "unsubscribe", "isStepping", "resolve", "advance", "stepNext", "stepOver", "stepInto", "stepOut", "reset", "continueUntilBreakpoint", "addBreakpoint", "breakpoint", "removeBreakpoint", "removeAllBreakpoints", "decodeReady", "haveResolved", "subscriptionDecodingStarted", "data", "proc", "decodingKeys", "decodingStarted", "variable", "name", "definitions", "current", "identifiers", "refs", "decode", "views", "decoder", "variables", "decoded"], mappings: "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", file: "session.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:session:session\");\n\nimport configureStore from \"lib/store\";\n\nimport * as controller from \"lib/controller/actions\";\nimport * as actions from \"./actions\";\nimport data from \"lib/data/selectors\";\n\nimport rootSaga from \"./sagas\";\nimport reducer from \"./reducers\";\n\n\n/**\n * Debugger Session\n */\nexport class Session {\n  /**\n   * @param {Array<Contract>} contracts - contract definitions\n   * @param {Array<String>} files - array of filenames for sourceMap indexes\n   * @param {string} txHash - transaction hash\n   * @param {Web3Provider} provider - web3 provider\n   * @private\n   */\n  constructor(contracts, files, txHash, provider) {\n    /**\n     * @private\n     */\n    this._store = configureStore(reducer, rootSaga);\n\n    let { contexts, sources } = Session.normalize(contracts, files);\n\n    // record contracts\n    this._store.dispatch(actions.recordContracts(contexts, sources));\n\n    this._store.dispatch(actions.start(txHash, provider));\n  }\n\n  ready() {\n    return new Promise((accept, reject) => {\n      this._store.subscribe(() => {\n        if (this.state.session.status == \"ACTIVE\") {\n          accept();\n        } else if (typeof this.state.session.status == \"object\") {\n          reject(this.state.session.status.error);\n        }\n      });\n    });\n  }\n\n  /**\n   * Split up artifacts into \"contexts\" and \"sources\", dividing artifact\n   * data into appropriate buckets.\n   *\n   * Multiple contracts can be defined in the same source file, but have\n   * different bytecodes.\n   *\n   * This iterates over the contracts and collects binaries separately\n   * from sources, using the optional `files` argument to force\n   * source ordering.\n   * @private\n   */\n  static normalize(contracts, files = null) {\n    let sourcesByPath = {};\n    let contexts = [];\n    let sources;\n\n    for (let contract of contracts) {\n      let {\n        contractName,\n        binary,\n        sourceMap,\n        deployedBinary,\n        deployedSourceMap,\n        sourcePath,\n        source,\n        ast,\n        compiler\n      } = contract;\n\n      debug(\"sourceMap %o\", sourceMap);\n      debug(\"compiler %o\", compiler);\n\n      sourcesByPath[sourcePath] = { sourcePath, source, ast };\n\n      if (binary && binary != \"0x\") {\n        contexts.push({\n          contractName,\n          binary,\n          sourceMap\n        });\n      }\n\n      if (deployedBinary && deployedBinary != \"0x\") {\n        contexts.push({\n          contractName,\n          binary: deployedBinary,\n          sourceMap: deployedSourceMap,\n          compiler\n        });\n      }\n    }\n\n    if (!files) {\n      sources = Object.values(sourcesByPath);\n    } else {\n      sources = files.map(file => sourcesByPath[file]);\n    }\n\n    return { contexts, sources };\n  }\n\n  get state() {\n    return this._store.getState();\n  }\n\n  view(selector) {\n    return selector(this.state);\n  }\n\n  dispatch(action) {\n    this._store.dispatch(action);\n\n    return true;\n  }\n\n  interrupt() {\n    return this.dispatch(controller.interrupt());\n  }\n\n  async doneStepping(stepperAction) {\n    return new Promise(resolve => {\n      let hasStarted = false;\n      let hasResolved = false;\n      const unsubscribe = this._store.subscribe(() => {\n        const isStepping = this.view(controller.isStepping);\n\n        if (isStepping && !hasStarted) {\n          hasStarted = true;\n          return;\n        }\n\n        if (!isStepping && hasStarted && !hasResolved) {\n          hasResolved = true;\n          unsubscribe();\n          resolve(true);\n        }\n      });\n      this.dispatch(stepperAction);\n    });\n  }\n\n  async advance() {\n    return await this.doneStepping(controller.advance());\n  }\n\n  async stepNext() {\n    return await this.doneStepping(controller.stepNext());\n  }\n\n  async stepOver() {\n    return await this.doneStepping(controller.stepOver());\n  }\n\n  async stepInto() {\n    return await this.doneStepping(controller.stepInto());\n  }\n\n  async stepOut() {\n    return await this.doneStepping(controller.stepOut());\n  }\n\n  async reset() {\n    return await this.doneStepping(controller.reset());\n  }\n\n  async continueUntilBreakpoint() {\n    return await this.doneStepping(controller.continueUntilBreakpoint());\n  }\n\n  addBreakpoint(breakpoint) {\n    return this.dispatch(controller.addBreakpoint(breakpoint));\n  }\n\n  removeBreakpoint(breakpoint) {\n    return this.dispatch(controller.removeBreakpoint(breakpoint));\n  }\n\n  removeAllBreakpoints() {\n    return this.dispatch(controller.removeAllBreakpoints());\n  }\n\n  async decodeReady() {\n    return new Promise(resolve => {\n      let haveResolved = false;\n      const unsubscribe = this._store.subscribe(() => {\n        const subscriptionDecodingStarted = this.view(data.proc.decodingKeys);\n\n        debug(\"following decoding started: %d\", subscriptionDecodingStarted);\n\n        if (subscriptionDecodingStarted <= 0 && !haveResolved) {\n          haveResolved = true;\n          unsubscribe();\n          resolve();\n        }\n      });\n\n      const decodingStarted = this.view(data.proc.decodingKeys);\n\n      debug(\"initial decoding started: %d\", decodingStarted);\n\n      if (decodingStarted <= 0) {\n        haveResolved = true;\n        unsubscribe();\n        resolve();\n      }\n    });\n  }\n\n  async variable(name) {\n    await this.decodeReady();\n\n    const definitions = this.view(data.current.identifiers.definitions);\n    const refs = this.view(data.current.identifiers.refs);\n\n    const decode = this.view(data.views.decoder);\n    return await decode(definitions[name], refs[name]);\n  }\n\n  async variables() {\n    debug(\"awaiting decodeReady\");\n    await this.decodeReady();\n    debug(\"decode now ready\");\n\n    return await this.view(data.current.identifiers.decoded);\n    debug(\"got variables\");\n  }\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_s5cpai8ti.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_s5cpai8ti.s[1]++;exports.Session = undefined;var _asyncToGenerator2 = (cov_s5cpai8ti.s[2]++, __webpack_require__(1));var _asyncToGenerator3 = (cov_s5cpai8ti.s[3]++, _interopRequireDefault(_asyncToGenerator2));var _values = (cov_s5cpai8ti.s[4]++, __webpack_require__(23));var _values2 = (cov_s5cpai8ti.s[5]++, _interopRequireDefault(_values));var _promise = (cov_s5cpai8ti.s[6]++, __webpack_require__(22));var _promise2 = (cov_s5cpai8ti.s[7]++, _interopRequireDefault(_promise));var _debug = (cov_s5cpai8ti.s[8]++, __webpack_require__(0));var _debug2 = (cov_s5cpai8ti.s[9]++, _interopRequireDefault(_debug));var _store = (cov_s5cpai8ti.s[10]++, __webpack_require__(55));var _store2 = (cov_s5cpai8ti.s[11]++, _interopRequireDefault(_store));var _actions = (cov_s5cpai8ti.s[12]++, __webpack_require__(28));var controller = (cov_s5cpai8ti.s[13]++, _interopRequireWildcard(_actions));var _actions2 = (cov_s5cpai8ti.s[14]++, __webpack_require__(24));var actions = (cov_s5cpai8ti.s[15]++, _interopRequireWildcard(_actions2));var _selectors = (cov_s5cpai8ti.s[16]++, __webpack_require__(25));var _selectors2 = (cov_s5cpai8ti.s[17]++, _interopRequireDefault(_selectors));var _sagas = (cov_s5cpai8ti.s[18]++, __webpack_require__(70));var _sagas2 = (cov_s5cpai8ti.s[19]++, _interopRequireDefault(_sagas));var _reducers = (cov_s5cpai8ti.s[20]++, __webpack_require__(76));var _reducers2 = (cov_s5cpai8ti.s[21]++, _interopRequireDefault(_reducers));function _interopRequireWildcard(obj) {
  cov_s5cpai8ti.f[0]++;cov_s5cpai8ti.s[22]++;if ((cov_s5cpai8ti.b[1][0]++, obj) && (cov_s5cpai8ti.b[1][1]++, obj.__esModule)) {
    cov_s5cpai8ti.b[0][0]++;cov_s5cpai8ti.s[23]++;return obj;
  } else {
    cov_s5cpai8ti.b[0][1]++;var newObj = (cov_s5cpai8ti.s[24]++, {});cov_s5cpai8ti.s[25]++;if (obj != null) {
      cov_s5cpai8ti.b[2][0]++;cov_s5cpai8ti.s[26]++;for (var key in obj) {
        cov_s5cpai8ti.s[27]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_s5cpai8ti.b[3][0]++;cov_s5cpai8ti.s[28]++;newObj[key] = obj[key];
        } else {
          cov_s5cpai8ti.b[3][1]++;
        }
      }
    } else {
      cov_s5cpai8ti.b[2][1]++;
    }cov_s5cpai8ti.s[29]++;newObj.default = obj;cov_s5cpai8ti.s[30]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_s5cpai8ti.f[1]++;cov_s5cpai8ti.s[31]++;return (cov_s5cpai8ti.b[5][0]++, obj) && (cov_s5cpai8ti.b[5][1]++, obj.__esModule) ? (cov_s5cpai8ti.b[4][0]++, obj) : (cov_s5cpai8ti.b[4][1]++, { default: obj });
}const debug = (cov_s5cpai8ti.s[32]++, (0, _debug2.default)("debugger:session:session"));class Session {
  constructor(contracts, files, txHash, provider) {
    cov_s5cpai8ti.f[2]++;cov_s5cpai8ti.s[33]++;this._store = (0, _store2.default)(_reducers2.default, _sagas2.default);let { contexts, sources } = (cov_s5cpai8ti.s[34]++, Session.normalize(contracts, files));cov_s5cpai8ti.s[35]++;this._store.dispatch(actions.recordContracts(contexts, sources));cov_s5cpai8ti.s[36]++;this._store.dispatch(actions.start(txHash, provider));
  }ready() {
    cov_s5cpai8ti.f[3]++;cov_s5cpai8ti.s[37]++;return new _promise2.default((accept, reject) => {
      cov_s5cpai8ti.f[4]++;cov_s5cpai8ti.s[38]++;this._store.subscribe(() => {
        cov_s5cpai8ti.f[5]++;cov_s5cpai8ti.s[39]++;if (this.state.session.status == "ACTIVE") {
          cov_s5cpai8ti.b[6][0]++;cov_s5cpai8ti.s[40]++;accept();
        } else {
          cov_s5cpai8ti.b[6][1]++;cov_s5cpai8ti.s[41]++;if (typeof this.state.session.status == "object") {
            cov_s5cpai8ti.b[7][0]++;cov_s5cpai8ti.s[42]++;reject(this.state.session.status.error);
          } else {
            cov_s5cpai8ti.b[7][1]++;
          }
        }
      });
    });
  }static normalize(contracts, files = (cov_s5cpai8ti.b[8][0]++, null)) {
    cov_s5cpai8ti.f[6]++;let sourcesByPath = (cov_s5cpai8ti.s[43]++, {});let contexts = (cov_s5cpai8ti.s[44]++, []);let sources;cov_s5cpai8ti.s[45]++;for (let contract of contracts) {
      let { contractName, binary, sourceMap, deployedBinary, deployedSourceMap, sourcePath, source, ast, compiler } = (cov_s5cpai8ti.s[46]++, contract);cov_s5cpai8ti.s[47]++;debug("sourceMap %o", sourceMap);cov_s5cpai8ti.s[48]++;debug("compiler %o", compiler);cov_s5cpai8ti.s[49]++;sourcesByPath[sourcePath] = { sourcePath, source, ast };cov_s5cpai8ti.s[50]++;if ((cov_s5cpai8ti.b[10][0]++, binary) && (cov_s5cpai8ti.b[10][1]++, binary != "0x")) {
        cov_s5cpai8ti.b[9][0]++;cov_s5cpai8ti.s[51]++;contexts.push({ contractName, binary, sourceMap });
      } else {
        cov_s5cpai8ti.b[9][1]++;
      }cov_s5cpai8ti.s[52]++;if ((cov_s5cpai8ti.b[12][0]++, deployedBinary) && (cov_s5cpai8ti.b[12][1]++, deployedBinary != "0x")) {
        cov_s5cpai8ti.b[11][0]++;cov_s5cpai8ti.s[53]++;contexts.push({ contractName, binary: deployedBinary, sourceMap: deployedSourceMap, compiler });
      } else {
        cov_s5cpai8ti.b[11][1]++;
      }
    }cov_s5cpai8ti.s[54]++;if (!files) {
      cov_s5cpai8ti.b[13][0]++;cov_s5cpai8ti.s[55]++;sources = (0, _values2.default)(sourcesByPath);
    } else {
      cov_s5cpai8ti.b[13][1]++;cov_s5cpai8ti.s[56]++;sources = files.map(file => {
        cov_s5cpai8ti.f[7]++;cov_s5cpai8ti.s[57]++;return sourcesByPath[file];
      });
    }cov_s5cpai8ti.s[58]++;return { contexts, sources };
  }get state() {
    cov_s5cpai8ti.f[8]++;cov_s5cpai8ti.s[59]++;return this._store.getState();
  }view(selector) {
    cov_s5cpai8ti.f[9]++;cov_s5cpai8ti.s[60]++;return selector(this.state);
  }dispatch(action) {
    cov_s5cpai8ti.f[10]++;cov_s5cpai8ti.s[61]++;this._store.dispatch(action);cov_s5cpai8ti.s[62]++;return true;
  }interrupt() {
    cov_s5cpai8ti.f[11]++;cov_s5cpai8ti.s[63]++;return this.dispatch(controller.interrupt());
  }doneStepping(stepperAction) {
    cov_s5cpai8ti.f[12]++;var _this = (cov_s5cpai8ti.s[64]++, this);cov_s5cpai8ti.s[65]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_s5cpai8ti.f[13]++;cov_s5cpai8ti.s[66]++;return new _promise2.default(function (resolve) {
        cov_s5cpai8ti.f[14]++;let hasStarted = (cov_s5cpai8ti.s[67]++, false);let hasResolved = (cov_s5cpai8ti.s[68]++, false);const unsubscribe = (cov_s5cpai8ti.s[69]++, _this._store.subscribe(function () {
          cov_s5cpai8ti.f[15]++;const isStepping = (cov_s5cpai8ti.s[70]++, _this.view(controller.isStepping));cov_s5cpai8ti.s[71]++;if ((cov_s5cpai8ti.b[15][0]++, isStepping) && (cov_s5cpai8ti.b[15][1]++, !hasStarted)) {
            cov_s5cpai8ti.b[14][0]++;cov_s5cpai8ti.s[72]++;hasStarted = true;cov_s5cpai8ti.s[73]++;return;
          } else {
            cov_s5cpai8ti.b[14][1]++;
          }cov_s5cpai8ti.s[74]++;if ((cov_s5cpai8ti.b[17][0]++, !isStepping) && (cov_s5cpai8ti.b[17][1]++, hasStarted) && (cov_s5cpai8ti.b[17][2]++, !hasResolved)) {
            cov_s5cpai8ti.b[16][0]++;cov_s5cpai8ti.s[75]++;hasResolved = true;cov_s5cpai8ti.s[76]++;unsubscribe();cov_s5cpai8ti.s[77]++;resolve(true);
          } else {
            cov_s5cpai8ti.b[16][1]++;
          }
        }));cov_s5cpai8ti.s[78]++;_this.dispatch(stepperAction);
      });
    })();
  }advance() {
    cov_s5cpai8ti.f[16]++;var _this2 = (cov_s5cpai8ti.s[79]++, this);cov_s5cpai8ti.s[80]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_s5cpai8ti.f[17]++;cov_s5cpai8ti.s[81]++;return yield _this2.doneStepping(controller.advance());
    })();
  }stepNext() {
    cov_s5cpai8ti.f[18]++;var _this3 = (cov_s5cpai8ti.s[82]++, this);cov_s5cpai8ti.s[83]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_s5cpai8ti.f[19]++;cov_s5cpai8ti.s[84]++;return yield _this3.doneStepping(controller.stepNext());
    })();
  }stepOver() {
    cov_s5cpai8ti.f[20]++;var _this4 = (cov_s5cpai8ti.s[85]++, this);cov_s5cpai8ti.s[86]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_s5cpai8ti.f[21]++;cov_s5cpai8ti.s[87]++;return yield _this4.doneStepping(controller.stepOver());
    })();
  }stepInto() {
    cov_s5cpai8ti.f[22]++;var _this5 = (cov_s5cpai8ti.s[88]++, this);cov_s5cpai8ti.s[89]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_s5cpai8ti.f[23]++;cov_s5cpai8ti.s[90]++;return yield _this5.doneStepping(controller.stepInto());
    })();
  }stepOut() {
    cov_s5cpai8ti.f[24]++;var _this6 = (cov_s5cpai8ti.s[91]++, this);cov_s5cpai8ti.s[92]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_s5cpai8ti.f[25]++;cov_s5cpai8ti.s[93]++;return yield _this6.doneStepping(controller.stepOut());
    })();
  }reset() {
    cov_s5cpai8ti.f[26]++;var _this7 = (cov_s5cpai8ti.s[94]++, this);cov_s5cpai8ti.s[95]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_s5cpai8ti.f[27]++;cov_s5cpai8ti.s[96]++;return yield _this7.doneStepping(controller.reset());
    })();
  }continueUntilBreakpoint() {
    cov_s5cpai8ti.f[28]++;var _this8 = (cov_s5cpai8ti.s[97]++, this);cov_s5cpai8ti.s[98]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_s5cpai8ti.f[29]++;cov_s5cpai8ti.s[99]++;return yield _this8.doneStepping(controller.continueUntilBreakpoint());
    })();
  }addBreakpoint(breakpoint) {
    cov_s5cpai8ti.f[30]++;cov_s5cpai8ti.s[100]++;return this.dispatch(controller.addBreakpoint(breakpoint));
  }removeBreakpoint(breakpoint) {
    cov_s5cpai8ti.f[31]++;cov_s5cpai8ti.s[101]++;return this.dispatch(controller.removeBreakpoint(breakpoint));
  }removeAllBreakpoints() {
    cov_s5cpai8ti.f[32]++;cov_s5cpai8ti.s[102]++;return this.dispatch(controller.removeAllBreakpoints());
  }decodeReady() {
    cov_s5cpai8ti.f[33]++;var _this9 = (cov_s5cpai8ti.s[103]++, this);cov_s5cpai8ti.s[104]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_s5cpai8ti.f[34]++;cov_s5cpai8ti.s[105]++;return new _promise2.default(function (resolve) {
        cov_s5cpai8ti.f[35]++;let haveResolved = (cov_s5cpai8ti.s[106]++, false);const unsubscribe = (cov_s5cpai8ti.s[107]++, _this9._store.subscribe(function () {
          cov_s5cpai8ti.f[36]++;const subscriptionDecodingStarted = (cov_s5cpai8ti.s[108]++, _this9.view(_selectors2.default.proc.decodingKeys));cov_s5cpai8ti.s[109]++;debug("following decoding started: %d", subscriptionDecodingStarted);cov_s5cpai8ti.s[110]++;if ((cov_s5cpai8ti.b[19][0]++, subscriptionDecodingStarted <= 0) && (cov_s5cpai8ti.b[19][1]++, !haveResolved)) {
            cov_s5cpai8ti.b[18][0]++;cov_s5cpai8ti.s[111]++;haveResolved = true;cov_s5cpai8ti.s[112]++;unsubscribe();cov_s5cpai8ti.s[113]++;resolve();
          } else {
            cov_s5cpai8ti.b[18][1]++;
          }
        }));const decodingStarted = (cov_s5cpai8ti.s[114]++, _this9.view(_selectors2.default.proc.decodingKeys));cov_s5cpai8ti.s[115]++;debug("initial decoding started: %d", decodingStarted);cov_s5cpai8ti.s[116]++;if (decodingStarted <= 0) {
          cov_s5cpai8ti.b[20][0]++;cov_s5cpai8ti.s[117]++;haveResolved = true;cov_s5cpai8ti.s[118]++;unsubscribe();cov_s5cpai8ti.s[119]++;resolve();
        } else {
          cov_s5cpai8ti.b[20][1]++;
        }
      });
    })();
  }variable(name) {
    cov_s5cpai8ti.f[37]++;var _this10 = (cov_s5cpai8ti.s[120]++, this);cov_s5cpai8ti.s[121]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_s5cpai8ti.f[38]++;cov_s5cpai8ti.s[122]++;yield _this10.decodeReady();const definitions = (cov_s5cpai8ti.s[123]++, _this10.view(_selectors2.default.current.identifiers.definitions));const refs = (cov_s5cpai8ti.s[124]++, _this10.view(_selectors2.default.current.identifiers.refs));const decode = (cov_s5cpai8ti.s[125]++, _this10.view(_selectors2.default.views.decoder));cov_s5cpai8ti.s[126]++;return yield decode(definitions[name], refs[name]);
    })();
  }variables() {
    cov_s5cpai8ti.f[39]++;var _this11 = (cov_s5cpai8ti.s[127]++, this);cov_s5cpai8ti.s[128]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_s5cpai8ti.f[40]++;cov_s5cpai8ti.s[129]++;debug("awaiting decodeReady");cov_s5cpai8ti.s[130]++;yield _this11.decodeReady();cov_s5cpai8ti.s[131]++;debug("decode now ready");cov_s5cpai8ti.s[132]++;return yield _this11.view(_selectors2.default.current.identifiers.decoded);cov_s5cpai8ti.s[133]++;debug("got variables");
    })();
  }
}cov_s5cpai8ti.s[134]++;exports.Session = Session;

/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_12n7kfeprd = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/store/index.js",
      hash = "2c477e814d42f7ad8eee3f02b1ab9611068ef769",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/store/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 9, column: 1 } }, "1": { start: { line: 4, column: 2 }, end: { line: 4, column: 43 } }, "2": { start: { line: 5, column: 7 }, end: { line: 9, column: 1 } }, "3": { start: { line: 6, column: 2 }, end: { line: 6, column: 37 } }, "4": { start: { line: 8, column: 2 }, end: { line: 8, column: 44 } } }, fnMap: {}, branchMap: { "0": { loc: { start: { line: 3, column: 0 }, end: { line: 9, column: 1 } }, type: "if", locations: [{ start: { line: 3, column: 0 }, end: { line: 9, column: 1 } }, { start: { line: 3, column: 0 }, end: { line: 9, column: 1 } }], line: 3 }, "1": { loc: { start: { line: 5, column: 7 }, end: { line: 9, column: 1 } }, type: "if", locations: [{ start: { line: 5, column: 7 }, end: { line: 9, column: 1 } }, { start: { line: 5, column: 7 }, end: { line: 9, column: 1 } }], line: 5 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0 }, f: {}, b: { "0": [0, 0], "1": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/store/index.js"], names: ["process", "env", "NODE_ENV", "module", "exports", "require"], mappings: ";;AAAA,IAAIA,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzCC,SAAOC,OAAP,GAAiBC,QAAQ,cAAR,CAAjB;AACD,CAFD,MAEO,IAAIL,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,MAA7B,EAAqC;AAC1CC,SAAOC,OAAP,GAAiBC,QAAQ,QAAR,CAAjB;AACD,CAFM,MAEA;AACLF,SAAOC,OAAP,GAAiBC,QAAQ,eAAR,CAAjB;AACD", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["if (process.env.NODE_ENV === \"production\") {\n  module.exports = require(\"./production\");\n} else if (process.env.NODE_ENV === \"test\") {\n  module.exports = require(\"./test\");\n} else {\n  module.exports = require(\"./development\");\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_12n7kfeprd.s[0]++;if (false) {
  cov_12n7kfeprd.b[0][0]++;cov_12n7kfeprd.s[1]++;module.exports = require("./production");
} else {
  cov_12n7kfeprd.b[0][1]++;cov_12n7kfeprd.s[2]++;if (true) {
    cov_12n7kfeprd.b[1][0]++;cov_12n7kfeprd.s[3]++;module.exports = __webpack_require__(56);
  } else {
    cov_12n7kfeprd.b[1][1]++;cov_12n7kfeprd.s[4]++;module.exports = require("./development");
  }
}

/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_2qhe9lqdcs = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/store/test.js",
      hash = "7add4b33a7ce2334dfc46ea41dba63e75bcdfed4",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/store/test.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 14 }, end: { line: 7, column: 33 } }, "2": { start: { line: 9, column: 15 }, end: { line: 9, column: 46 } }, "3": { start: { line: 11, column: 39 }, end: { line: 11, column: 93 } }, "4": { start: { line: 13, column: 0 }, end: { line: 13, column: 35 } } }, fnMap: { "0": { name: "_interopRequireDefault", decl: { start: { line: 11, column: 9 }, end: { line: 11, column: 31 } }, loc: { start: { line: 11, column: 37 }, end: { line: 11, column: 95 } }, line: 11 } }, branchMap: { "0": { loc: { start: { line: 11, column: 46 }, end: { line: 11, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 11, column: 70 }, end: { line: 11, column: 73 } }, { start: { line: 11, column: 76 }, end: { line: 11, column: 92 } }], line: 11 }, "1": { loc: { start: { line: 11, column: 46 }, end: { line: 11, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 11, column: 46 }, end: { line: 11, column: 49 } }, { start: { line: 11, column: 53 }, end: { line: 11, column: 67 } }], line: 11 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0 }, f: { "0": 0 }, b: { "0": [0, 0], "1": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/store/test.js"], names: ["configureStore"], mappings: ";;;;;;AAAA;;;;;;kBACeA,gB", file: "test.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import configureStore from \"./common\";\nexport default configureStore;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_2qhe9lqdcs.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _common = (cov_2qhe9lqdcs.s[1]++, __webpack_require__(57));var _common2 = (cov_2qhe9lqdcs.s[2]++, _interopRequireDefault(_common));function _interopRequireDefault(obj) {
  cov_2qhe9lqdcs.f[0]++;cov_2qhe9lqdcs.s[3]++;return (cov_2qhe9lqdcs.b[1][0]++, obj) && (cov_2qhe9lqdcs.b[1][1]++, obj.__esModule) ? (cov_2qhe9lqdcs.b[0][0]++, obj) : (cov_2qhe9lqdcs.b[0][1]++, { default: obj });
}cov_2qhe9lqdcs.s[4]++;exports.default = _common2.default;

/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_2hrt5b78ac = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/store/common.js",
      hash = "6c179ea26f8b371bf31388d795cfe32dfe4a52d7",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/store/common.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 15 }, end: { line: 7, column: 62 } }, "2": { start: { line: 9, column: 16 }, end: { line: 9, column: 48 } }, "3": { start: { line: 11, column: 14 }, end: { line: 11, column: 60 } }, "4": { start: { line: 13, column: 15 }, end: { line: 13, column: 46 } }, "5": { start: { line: 15, column: 0 }, end: { line: 15, column: 44 } }, "6": { start: { line: 16, column: 0 }, end: { line: 16, column: 33 } }, "7": { start: { line: 18, column: 13 }, end: { line: 18, column: 29 } }, "8": { start: { line: 20, column: 14 }, end: { line: 20, column: 44 } }, "9": { start: { line: 22, column: 13 }, end: { line: 22, column: 29 } }, "10": { start: { line: 24, column: 17 }, end: { line: 24, column: 38 } }, "11": { start: { line: 26, column: 18 }, end: { line: 26, column: 52 } }, "12": { start: { line: 28, column: 22 }, end: { line: 28, column: 49 } }, "13": { start: { line: 30, column: 23 }, end: { line: 30, column: 62 } }, "14": { start: { line: 32, column: 39 }, end: { line: 32, column: 93 } }, "15": { start: { line: 34, column: 14 }, end: { line: 34, column: 59 } }, "16": { start: { line: 35, column: 19 }, end: { line: 35, column: 57 } }, "17": { start: { line: 38, column: 2 }, end: { line: 38, column: 50 } }, "18": { start: { line: 39, column: 2 }, end: { line: 39, column: 47 } }, "19": { start: { line: 40, column: 2 }, end: { line: 40, column: 51 } }, "20": { start: { line: 42, column: 2 }, end: { line: 44, column: 3 } }, "21": { start: { line: 43, column: 4 }, end: { line: 43, column: 17 } }, "22": { start: { line: 46, column: 18 }, end: { line: 46, column: 70 } }, "23": { start: { line: 46, column: 27 }, end: { line: 46, column: 70 } }, "24": { start: { line: 48, column: 2 }, end: { line: 64, column: 3 } }, "25": { start: { line: 49, column: 4 }, end: { line: 51, column: 5 } }, "26": { start: { line: 50, column: 6 }, end: { line: 50, column: 124 } }, "27": { start: { line: 53, column: 4 }, end: { line: 53, column: 30 } }, "28": { start: { line: 54, column: 9 }, end: { line: 64, column: 3 } }, "29": { start: { line: 55, column: 4 }, end: { line: 55, column: 119 } }, "30": { start: { line: 55, column: 87 }, end: { line: 55, column: 115 } }, "31": { start: { line: 56, column: 9 }, end: { line: 64, column: 3 } }, "32": { start: { line: 57, column: 16 }, end: { line: 57, column: 21 } }, "33": { start: { line: 58, column: 24 }, end: { line: 58, column: 64 } }, "34": { start: { line: 59, column: 18 }, end: { line: 59, column: 58 } }, "35": { start: { line: 60, column: 19 }, end: { line: 60, column: 72 } }, "36": { start: { line: 61, column: 4 }, end: { line: 61, column: 43 } }, "37": { start: { line: 63, column: 4 }, end: { line: 63, column: 17 } }, "38": { start: { line: 68, column: 25 }, end: { line: 68, column: 51 } }, "39": { start: { line: 70, column: 2 }, end: { line: 72, column: 3 } }, "40": { start: { line: 71, column: 4 }, end: { line: 71, column: 38 } }, "41": { start: { line: 74, column: 27 }, end: { line: 81, column: 4 } }, "42": { start: { line: 76, column: 31 }, end: { line: 79, column: 6 } }, "43": { start: { line: 83, column: 14 }, end: { line: 83, column: 141 } }, "44": { start: { line: 85, column: 2 }, end: { line: 85, column: 27 } }, "45": { start: { line: 87, column: 2 }, end: { line: 87, column: 15 } } }, fnMap: { "0": { name: "_interopRequireDefault", decl: { start: { line: 32, column: 9 }, end: { line: 32, column: 31 } }, loc: { start: { line: 32, column: 37 }, end: { line: 32, column: 95 } }, line: 32 }, "1": { name: "abbreviateValues", decl: { start: { line: 37, column: 9 }, end: { line: 37, column: 25 } }, loc: { start: { line: 37, column: 58 }, end: { line: 65, column: 1 } }, line: 37 }, "2": { name: "(anonymous_2)", decl: { start: { line: 46, column: 18 }, end: { line: 46, column: 19 } }, loc: { start: { line: 46, column: 27 }, end: { line: 46, column: 70 } }, line: 46 }, "3": { name: "(anonymous_3)", decl: { start: { line: 55, column: 74 }, end: { line: 55, column: 75 } }, loc: { start: { line: 55, column: 87 }, end: { line: 55, column: 115 } }, line: 55 }, "4": { name: "configureStore", decl: { start: { line: 67, column: 9 }, end: { line: 67, column: 23 } }, loc: { start: { line: 67, column: 71 }, end: { line: 88, column: 1 } }, line: 67 }, "5": { name: "(anonymous_5)", decl: { start: { line: 76, column: 22 }, end: { line: 76, column: 23 } }, loc: { start: { line: 76, column: 31 }, end: { line: 79, column: 6 } }, line: 76 } }, branchMap: { "0": { loc: { start: { line: 32, column: 46 }, end: { line: 32, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 32, column: 70 }, end: { line: 32, column: 73 } }, { start: { line: 32, column: 76 }, end: { line: 32, column: 92 } }], line: 32 }, "1": { loc: { start: { line: 32, column: 46 }, end: { line: 32, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 32, column: 46 }, end: { line: 32, column: 49 } }, { start: { line: 32, column: 53 }, end: { line: 32, column: 67 } }], line: 32 }, "2": { loc: { start: { line: 37, column: 33 }, end: { line: 37, column: 45 } }, type: "default-arg", locations: [{ start: { line: 37, column: 43 }, end: { line: 37, column: 45 } }], line: 37 }, "3": { loc: { start: { line: 37, column: 47 }, end: { line: 37, column: 56 } }, type: "default-arg", locations: [{ start: { line: 37, column: 55 }, end: { line: 37, column: 56 } }], line: 37 }, "4": { loc: { start: { line: 38, column: 24 }, end: { line: 38, column: 49 } }, type: "binary-expr", locations: [{ start: { line: 38, column: 24 }, end: { line: 38, column: 43 } }, { start: { line: 38, column: 47 }, end: { line: 38, column: 49 } }], line: 38 }, "5": { loc: { start: { line: 39, column: 23 }, end: { line: 39, column: 46 } }, type: "binary-expr", locations: [{ start: { line: 39, column: 23 }, end: { line: 39, column: 41 } }, { start: { line: 39, column: 45 }, end: { line: 39, column: 46 } }], line: 39 }, "6": { loc: { start: { line: 40, column: 25 }, end: { line: 40, column: 50 } }, type: "binary-expr", locations: [{ start: { line: 40, column: 25 }, end: { line: 40, column: 45 } }, { start: { line: 40, column: 49 }, end: { line: 40, column: 50 } }], line: 40 }, "7": { loc: { start: { line: 42, column: 2 }, end: { line: 44, column: 3 } }, type: "if", locations: [{ start: { line: 42, column: 2 }, end: { line: 44, column: 3 } }, { start: { line: 42, column: 2 }, end: { line: 44, column: 3 } }], line: 42 }, "8": { loc: { start: { line: 48, column: 2 }, end: { line: 64, column: 3 } }, type: "if", locations: [{ start: { line: 48, column: 2 }, end: { line: 64, column: 3 } }, { start: { line: 48, column: 2 }, end: { line: 64, column: 3 } }], line: 48 }, "9": { loc: { start: { line: 49, column: 4 }, end: { line: 51, column: 5 } }, type: "if", locations: [{ start: { line: 49, column: 4 }, end: { line: 51, column: 5 } }, { start: { line: 49, column: 4 }, end: { line: 51, column: 5 } }], line: 49 }, "10": { loc: { start: { line: 54, column: 9 }, end: { line: 64, column: 3 } }, type: "if", locations: [{ start: { line: 54, column: 9 }, end: { line: 64, column: 3 } }, { start: { line: 54, column: 9 }, end: { line: 64, column: 3 } }], line: 54 }, "11": { loc: { start: { line: 56, column: 9 }, end: { line: 64, column: 3 } }, type: "if", locations: [{ start: { line: 56, column: 9 }, end: { line: 64, column: 3 } }, { start: { line: 56, column: 9 }, end: { line: 64, column: 3 } }], line: 56 }, "12": { loc: { start: { line: 56, column: 13 }, end: { line: 56, column: 76 } }, type: "binary-expr", locations: [{ start: { line: 56, column: 13 }, end: { line: 56, column: 38 } }, { start: { line: 56, column: 42 }, end: { line: 56, column: 76 } }], line: 56 }, "13": { loc: { start: { line: 70, column: 2 }, end: { line: 72, column: 3 } }, type: "if", locations: [{ start: { line: 70, column: 2 }, end: { line: 72, column: 3 } }, { start: { line: 70, column: 2 }, end: { line: 72, column: 3 } }], line: 70 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0], "3": [0], "4": [0, 0], "5": [0, 0], "6": [0, 0], "7": [0, 0], "8": [0, 0], "9": [0, 0], "10": [0, 0], "11": [0, 0], "12": [0, 0], "13": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/store/common.js"], names: ["abbreviateValues", "configureStore", "debug", "reduxDebug", "value", "options", "depth", "stringLimit", "arrayLimit", "recurseLimit", "recurse", "child", "Array", "length", "slice", "map", "Object", "k", "v", "inner", "extractAmount", "leading", "Math", "ceil", "trailing", "floor", "reducer", "saga", "initialState", "composeEnhancers", "sagaMiddleware", "compose", "loggerMiddleware", "log", "stateTransformer", "state", "actionTransformer", "store", "run"], mappings: ";;;;;;;;;;;;;;QAQgBA,gB,GAAAA,gB;kBAyCQC,c;;AAjDxB;;;;AAIA;;AACA;;;;AACA;;;;;;AALA,MAAMC,QAAQ,qBAAY,uBAAZ,CAAd;AACA,MAAMC,aAAa,qBAAY,gBAAZ,CAAnB;;AAMO,SAASH,gBAAT,CAA0BI,KAA1B,EAAiCC,UAAU,EAA3C,EAA+CC,QAAQ,CAAvD,EAA0D;AAC/DD,UAAQE,WAAR,GAAsBF,QAAQE,WAAR,IAAuB,EAA7C;AACAF,UAAQG,UAAR,GAAqBH,QAAQG,UAAR,IAAsB,CAA3C;AACAH,UAAQI,YAAR,GAAuBJ,QAAQI,YAAR,IAAwB,CAA/C;;AAEA,MAAIH,QAAQD,QAAQI,YAApB,EAAkC;AAChC,WAAO,KAAP;AACD;;AAED,QAAMC,UAAWC,KAAD,IAAWX,iBAAiBW,KAAjB,EAAwBN,OAAxB,EAAiCC,QAAQ,CAAzC,CAA3B;;AAEA,MAAIF,iBAAiBQ,KAArB,EAA4B;AAC1B,QAAIR,MAAMS,MAAN,GAAeR,QAAQG,UAA3B,EAAuC;AACrCJ,cAAQ,CACN,GAAGA,MAAMU,KAAN,CAAY,CAAZ,EAAeT,QAAQG,UAAR,GAAqB,CAApC,CADG,EAEN,KAFM,EAGN,GAAGJ,MAAMU,KAAN,CAAYV,MAAMS,MAAN,GAAeR,QAAQG,UAAR,GAAqB,CAApC,GAAwC,CAApD,CAHG,CAAR;AAKD;;AAED,WAAOJ,MAAMW,GAAN,CAAUL,OAAV,CAAP;AAED,GAXD,MAWO,IAAIN,iBAAiBY,MAArB,EAA6B;AAClC,WAAO,sBAAc,EAAd,EACL,GAAG,uBAAeZ,KAAf,EAAsBW,GAAtB,CACD,CAAC,CAACE,CAAD,EAAIC,CAAJ,CAAD,MAAa,EAAE,CAACR,QAAQO,CAAR,CAAD,GAAcP,QAAQQ,CAAR,CAAhB,EAAb,CADC,CADE,CAAP;AAMD,GAPM,MAOA,IAAI,OAAOd,KAAP,KAAiB,QAAjB,IAA6BA,MAAMS,MAAN,GAAeR,QAAQE,WAAxD,EAAqE;AAC1E,QAAIY,QAAQ,KAAZ;AACA,QAAIC,gBAAgB,CAACf,QAAQE,WAAR,GAAsBY,MAAMN,MAA7B,IAAuC,CAA3D;AACA,QAAIQ,UAAUjB,MAAMU,KAAN,CAAY,CAAZ,EAAeQ,KAAKC,IAAL,CAAUH,aAAV,CAAf,CAAd;AACA,QAAII,WAAWpB,MAAMU,KAAN,CAAYV,MAAMS,MAAN,GAAeS,KAAKG,KAAL,CAAWL,aAAX,CAA3B,CAAf;AACA,WAAQ,GAAEC,OAAQ,GAAEF,KAAM,GAAEK,QAAS,EAArC;AAED,GAPM,MAOA;AACL,WAAOpB,KAAP;AACD;AACF;;AAEc,SAASH,cAAT,CAAyByB,OAAzB,EAAkCC,IAAlC,EAAwCC,YAAxC,EAAsDC,gBAAtD,EAAwE;AACrF,QAAMC,iBAAiB,0BAAvB;;AAEA,MAAI,CAACD,gBAAL,EAAuB;AACrBA,uBAAmBE,cAAnB;AACD;;AAED,QAAMC,mBAAmB,8BAAa;AACpCC,SAAK9B,UAD+B;AAEpC+B,sBAAmBC,KAAD,IAAWnC,iBAAiBmC,KAAjB,EAAwB;AACnD3B,kBAAY,CADuC;AAEnDC,oBAAc;AAFqC,KAAxB,CAFO;AAMpC2B,uBAAmBpC;AANiB,GAAb,CAAzB;;AASA,MAAIqC,QAAQ,wBACVX,OADU,EACDE,YADC,EAGVC,iBACE,4BACEC,cADF,EAEEE,gBAFF,CADF,CAHU,CAAZ;;AAWAF,iBAAeQ,GAAf,CAAmBX,IAAnB;;AAEA,SAAOU,KAAP;AACD", file: "common.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:store:common\");\nconst reduxDebug = debugModule(\"debugger:redux\");\n\nimport { compose, createStore, applyMiddleware } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport createLogger from \"redux-cli-logger\";\n\nexport function abbreviateValues(value, options = {}, depth = 0) {\n  options.stringLimit = options.stringLimit || 66;\n  options.arrayLimit = options.arrayLimit || 8;\n  options.recurseLimit = options.recurseLimit || 4;\n\n  if (depth > options.recurseLimit) {\n    return \"...\";\n  }\n\n  const recurse = (child) => abbreviateValues(child, options, depth + 1);\n\n  if (value instanceof Array) {\n    if (value.length > options.arrayLimit) {\n      value = [\n        ...value.slice(0, options.arrayLimit / 2),\n        \"...\",\n        ...value.slice(value.length - options.arrayLimit / 2 + 1)\n      ];\n    }\n\n    return value.map(recurse);\n\n  } else if (value instanceof Object) {\n    return Object.assign({},\n      ...Object.entries(value).map(\n        ([k, v]) => ({ [recurse(k)]: recurse(v) })\n      )\n    );\n\n  } else if (typeof value === \"string\" && value.length > options.stringLimit) {\n    let inner = \"...\";\n    let extractAmount = (options.stringLimit - inner.length) / 2;\n    let leading = value.slice(0, Math.ceil(extractAmount));\n    let trailing = value.slice(value.length - Math.floor(extractAmount));\n    return `${leading}${inner}${trailing}`;\n\n  } else {\n    return value;\n  }\n}\n\nexport default function configureStore (reducer, saga, initialState, composeEnhancers) {\n  const sagaMiddleware = createSagaMiddleware();\n\n  if (!composeEnhancers) {\n    composeEnhancers = compose;\n  }\n\n  const loggerMiddleware = createLogger({\n    log: reduxDebug,\n    stateTransformer: (state) => abbreviateValues(state, {\n      arrayLimit: 4,\n      recurseLimit: 3\n    }),\n    actionTransformer: abbreviateValues,\n  });\n\n  let store = createStore(\n    reducer, initialState,\n\n    composeEnhancers(\n      applyMiddleware(\n        sagaMiddleware,\n        loggerMiddleware\n      )\n    )\n  );\n\n  sagaMiddleware.run(saga);\n\n  return store;\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_2hrt5b78ac.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _entries = (cov_2hrt5b78ac.s[1]++, __webpack_require__(9));var _entries2 = (cov_2hrt5b78ac.s[2]++, _interopRequireDefault(_entries));var _assign = (cov_2hrt5b78ac.s[3]++, __webpack_require__(12));var _assign2 = (cov_2hrt5b78ac.s[4]++, _interopRequireDefault(_assign));cov_2hrt5b78ac.s[5]++;exports.abbreviateValues = abbreviateValues;cov_2hrt5b78ac.s[6]++;exports.default = configureStore;var _debug = (cov_2hrt5b78ac.s[7]++, __webpack_require__(0));var _debug2 = (cov_2hrt5b78ac.s[8]++, _interopRequireDefault(_debug));var _redux = (cov_2hrt5b78ac.s[9]++, __webpack_require__(16));var _reduxSaga = (cov_2hrt5b78ac.s[10]++, __webpack_require__(58));var _reduxSaga2 = (cov_2hrt5b78ac.s[11]++, _interopRequireDefault(_reduxSaga));var _reduxCliLogger = (cov_2hrt5b78ac.s[12]++, __webpack_require__(59));var _reduxCliLogger2 = (cov_2hrt5b78ac.s[13]++, _interopRequireDefault(_reduxCliLogger));function _interopRequireDefault(obj) {
  cov_2hrt5b78ac.f[0]++;cov_2hrt5b78ac.s[14]++;return (cov_2hrt5b78ac.b[1][0]++, obj) && (cov_2hrt5b78ac.b[1][1]++, obj.__esModule) ? (cov_2hrt5b78ac.b[0][0]++, obj) : (cov_2hrt5b78ac.b[0][1]++, { default: obj });
}const debug = (cov_2hrt5b78ac.s[15]++, (0, _debug2.default)("debugger:store:common"));const reduxDebug = (cov_2hrt5b78ac.s[16]++, (0, _debug2.default)("debugger:redux"));function abbreviateValues(value, options = (cov_2hrt5b78ac.b[2][0]++, {}), depth = (cov_2hrt5b78ac.b[3][0]++, 0)) {
  cov_2hrt5b78ac.f[1]++;cov_2hrt5b78ac.s[17]++;options.stringLimit = (cov_2hrt5b78ac.b[4][0]++, options.stringLimit) || (cov_2hrt5b78ac.b[4][1]++, 66);cov_2hrt5b78ac.s[18]++;options.arrayLimit = (cov_2hrt5b78ac.b[5][0]++, options.arrayLimit) || (cov_2hrt5b78ac.b[5][1]++, 8);cov_2hrt5b78ac.s[19]++;options.recurseLimit = (cov_2hrt5b78ac.b[6][0]++, options.recurseLimit) || (cov_2hrt5b78ac.b[6][1]++, 4);cov_2hrt5b78ac.s[20]++;if (depth > options.recurseLimit) {
    cov_2hrt5b78ac.b[7][0]++;cov_2hrt5b78ac.s[21]++;return "...";
  } else {
    cov_2hrt5b78ac.b[7][1]++;
  }cov_2hrt5b78ac.s[22]++;const recurse = child => {
    cov_2hrt5b78ac.f[2]++;cov_2hrt5b78ac.s[23]++;return abbreviateValues(child, options, depth + 1);
  };cov_2hrt5b78ac.s[24]++;if (value instanceof Array) {
    cov_2hrt5b78ac.b[8][0]++;cov_2hrt5b78ac.s[25]++;if (value.length > options.arrayLimit) {
      cov_2hrt5b78ac.b[9][0]++;cov_2hrt5b78ac.s[26]++;value = [...value.slice(0, options.arrayLimit / 2), "...", ...value.slice(value.length - options.arrayLimit / 2 + 1)];
    } else {
      cov_2hrt5b78ac.b[9][1]++;
    }cov_2hrt5b78ac.s[27]++;return value.map(recurse);
  } else {
    cov_2hrt5b78ac.b[8][1]++;cov_2hrt5b78ac.s[28]++;if (value instanceof Object) {
      cov_2hrt5b78ac.b[10][0]++;cov_2hrt5b78ac.s[29]++;return (0, _assign2.default)({}, ...(0, _entries2.default)(value).map(([k, v]) => {
        cov_2hrt5b78ac.f[3]++;cov_2hrt5b78ac.s[30]++;return { [recurse(k)]: recurse(v) };
      }));
    } else {
      cov_2hrt5b78ac.b[10][1]++;cov_2hrt5b78ac.s[31]++;if ((cov_2hrt5b78ac.b[12][0]++, typeof value === "string") && (cov_2hrt5b78ac.b[12][1]++, value.length > options.stringLimit)) {
        cov_2hrt5b78ac.b[11][0]++;let inner = (cov_2hrt5b78ac.s[32]++, "...");let extractAmount = (cov_2hrt5b78ac.s[33]++, (options.stringLimit - inner.length) / 2);let leading = (cov_2hrt5b78ac.s[34]++, value.slice(0, Math.ceil(extractAmount)));let trailing = (cov_2hrt5b78ac.s[35]++, value.slice(value.length - Math.floor(extractAmount)));cov_2hrt5b78ac.s[36]++;return `${leading}${inner}${trailing}`;
      } else {
        cov_2hrt5b78ac.b[11][1]++;cov_2hrt5b78ac.s[37]++;return value;
      }
    }
  }
}function configureStore(reducer, saga, initialState, composeEnhancers) {
  cov_2hrt5b78ac.f[4]++;const sagaMiddleware = (cov_2hrt5b78ac.s[38]++, (0, _reduxSaga2.default)());cov_2hrt5b78ac.s[39]++;if (!composeEnhancers) {
    cov_2hrt5b78ac.b[13][0]++;cov_2hrt5b78ac.s[40]++;composeEnhancers = _redux.compose;
  } else {
    cov_2hrt5b78ac.b[13][1]++;
  }const loggerMiddleware = (cov_2hrt5b78ac.s[41]++, (0, _reduxCliLogger2.default)({ log: reduxDebug, stateTransformer: state => {
      cov_2hrt5b78ac.f[5]++;cov_2hrt5b78ac.s[42]++;return abbreviateValues(state, { arrayLimit: 4, recurseLimit: 3 });
    }, actionTransformer: abbreviateValues }));let store = (cov_2hrt5b78ac.s[43]++, (0, _redux.createStore)(reducer, initialState, composeEnhancers((0, _redux.applyMiddleware)(sagaMiddleware, loggerMiddleware))));cov_2hrt5b78ac.s[44]++;sagaMiddleware.run(saga);cov_2hrt5b78ac.s[45]++;return store;
}

/***/ }),
/* 58 */
/***/ (function(module, exports) {

module.exports = require("redux-saga");

/***/ }),
/* 59 */
/***/ (function(module, exports) {

module.exports = require("redux-cli-logger");

/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

var json = typeof JSON !== 'undefined' ? JSON : __webpack_require__(61);

module.exports = function (obj, opts) {
    if (!opts) opts = {};
    if (typeof opts === 'function') opts = { cmp: opts };
    var space = opts.space || '';
    if (typeof space === 'number') space = Array(space+1).join(' ');
    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;
    var replacer = opts.replacer || function(key, value) { return value; };

    var cmp = opts.cmp && (function (f) {
        return function (node) {
            return function (a, b) {
                var aobj = { key: a, value: node[a] };
                var bobj = { key: b, value: node[b] };
                return f(aobj, bobj);
            };
        };
    })(opts.cmp);

    var seen = [];
    return (function stringify (parent, key, node, level) {
        var indent = space ? ('\n' + new Array(level + 1).join(space)) : '';
        var colonSeparator = space ? ': ' : ':';

        if (node && node.toJSON && typeof node.toJSON === 'function') {
            node = node.toJSON();
        }

        node = replacer.call(parent, key, node);

        if (node === undefined) {
            return;
        }
        if (typeof node !== 'object' || node === null) {
            return json.stringify(node);
        }
        if (isArray(node)) {
            var out = [];
            for (var i = 0; i < node.length; i++) {
                var item = stringify(node, i, node[i], level+1) || json.stringify(null);
                out.push(indent + space + item);
            }
            return '[' + out.join(',') + indent + ']';
        }
        else {
            if (seen.indexOf(node) !== -1) {
                if (cycles) return json.stringify('__cycle__');
                throw new TypeError('Converting circular structure to JSON');
            }
            else seen.push(node);

            var keys = objectKeys(node).sort(cmp && cmp(node));
            var out = [];
            for (var i = 0; i < keys.length; i++) {
                var key = keys[i];
                var value = stringify(node, key, node[key], level+1);

                if(!value) continue;

                var keyValue = json.stringify(key)
                    + colonSeparator
                    + value;
                ;
                out.push(indent + space + keyValue);
            }
            seen.splice(seen.indexOf(node), 1);
            return '{' + out.join(',') + indent + '}';
        }
    })({ '': obj }, '', obj, 0);
};

var isArray = Array.isArray || function (x) {
    return {}.toString.call(x) === '[object Array]';
};

var objectKeys = Object.keys || function (obj) {
    var has = Object.prototype.hasOwnProperty || function () { return true };
    var keys = [];
    for (var key in obj) {
        if (has.call(obj, key)) keys.push(key);
    }
    return keys;
};


/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

exports.parse = __webpack_require__(62);
exports.stringify = __webpack_require__(63);


/***/ }),
/* 62 */
/***/ (function(module, exports) {

var at, // The index of the current character
    ch, // The current character
    escapee = {
        '"':  '"',
        '\\': '\\',
        '/':  '/',
        b:    '\b',
        f:    '\f',
        n:    '\n',
        r:    '\r',
        t:    '\t'
    },
    text,

    error = function (m) {
        // Call error when something is wrong.
        throw {
            name:    'SyntaxError',
            message: m,
            at:      at,
            text:    text
        };
    },
    
    next = function (c) {
        // If a c parameter is provided, verify that it matches the current character.
        if (c && c !== ch) {
            error("Expected '" + c + "' instead of '" + ch + "'");
        }
        
        // Get the next character. When there are no more characters,
        // return the empty string.
        
        ch = text.charAt(at);
        at += 1;
        return ch;
    },
    
    number = function () {
        // Parse a number value.
        var number,
            string = '';
        
        if (ch === '-') {
            string = '-';
            next('-');
        }
        while (ch >= '0' && ch <= '9') {
            string += ch;
            next();
        }
        if (ch === '.') {
            string += '.';
            while (next() && ch >= '0' && ch <= '9') {
                string += ch;
            }
        }
        if (ch === 'e' || ch === 'E') {
            string += ch;
            next();
            if (ch === '-' || ch === '+') {
                string += ch;
                next();
            }
            while (ch >= '0' && ch <= '9') {
                string += ch;
                next();
            }
        }
        number = +string;
        if (!isFinite(number)) {
            error("Bad number");
        } else {
            return number;
        }
    },
    
    string = function () {
        // Parse a string value.
        var hex,
            i,
            string = '',
            uffff;
        
        // When parsing for string values, we must look for " and \ characters.
        if (ch === '"') {
            while (next()) {
                if (ch === '"') {
                    next();
                    return string;
                } else if (ch === '\\') {
                    next();
                    if (ch === 'u') {
                        uffff = 0;
                        for (i = 0; i < 4; i += 1) {
                            hex = parseInt(next(), 16);
                            if (!isFinite(hex)) {
                                break;
                            }
                            uffff = uffff * 16 + hex;
                        }
                        string += String.fromCharCode(uffff);
                    } else if (typeof escapee[ch] === 'string') {
                        string += escapee[ch];
                    } else {
                        break;
                    }
                } else {
                    string += ch;
                }
            }
        }
        error("Bad string");
    },

    white = function () {

// Skip whitespace.

        while (ch && ch <= ' ') {
            next();
        }
    },

    word = function () {

// true, false, or null.

        switch (ch) {
        case 't':
            next('t');
            next('r');
            next('u');
            next('e');
            return true;
        case 'f':
            next('f');
            next('a');
            next('l');
            next('s');
            next('e');
            return false;
        case 'n':
            next('n');
            next('u');
            next('l');
            next('l');
            return null;
        }
        error("Unexpected '" + ch + "'");
    },

    value,  // Place holder for the value function.

    array = function () {

// Parse an array value.

        var array = [];

        if (ch === '[') {
            next('[');
            white();
            if (ch === ']') {
                next(']');
                return array;   // empty array
            }
            while (ch) {
                array.push(value());
                white();
                if (ch === ']') {
                    next(']');
                    return array;
                }
                next(',');
                white();
            }
        }
        error("Bad array");
    },

    object = function () {

// Parse an object value.

        var key,
            object = {};

        if (ch === '{') {
            next('{');
            white();
            if (ch === '}') {
                next('}');
                return object;   // empty object
            }
            while (ch) {
                key = string();
                white();
                next(':');
                if (Object.hasOwnProperty.call(object, key)) {
                    error('Duplicate key "' + key + '"');
                }
                object[key] = value();
                white();
                if (ch === '}') {
                    next('}');
                    return object;
                }
                next(',');
                white();
            }
        }
        error("Bad object");
    };

value = function () {

// Parse a JSON value. It could be an object, an array, a string, a number,
// or a word.

    white();
    switch (ch) {
    case '{':
        return object();
    case '[':
        return array();
    case '"':
        return string();
    case '-':
        return number();
    default:
        return ch >= '0' && ch <= '9' ? number() : word();
    }
};

// Return the json_parse function. It will have access to all of the above
// functions and variables.

module.exports = function (source, reviver) {
    var result;
    
    text = source;
    at = 0;
    ch = ' ';
    result = value();
    white();
    if (ch) {
        error("Syntax error");
    }

    // If there is a reviver function, we recursively walk the new structure,
    // passing each name/value pair to the reviver function for possible
    // transformation, starting with a temporary root object that holds the result
    // in an empty key. If there is not a reviver function, we simply return the
    // result.

    return typeof reviver === 'function' ? (function walk(holder, key) {
        var k, v, value = holder[key];
        if (value && typeof value === 'object') {
            for (k in value) {
                if (Object.prototype.hasOwnProperty.call(value, k)) {
                    v = walk(value, k);
                    if (v !== undefined) {
                        value[k] = v;
                    } else {
                        delete value[k];
                    }
                }
            }
        }
        return reviver.call(holder, key, value);
    }({'': result}, '')) : result;
};


/***/ }),
/* 63 */
/***/ (function(module, exports) {

var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
    escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
    gap,
    indent,
    meta = {    // table of character substitutions
        '\b': '\\b',
        '\t': '\\t',
        '\n': '\\n',
        '\f': '\\f',
        '\r': '\\r',
        '"' : '\\"',
        '\\': '\\\\'
    },
    rep;

function quote(string) {
    // If the string contains no control characters, no quote characters, and no
    // backslash characters, then we can safely slap some quotes around it.
    // Otherwise we must also replace the offending characters with safe escape
    // sequences.
    
    escapable.lastIndex = 0;
    return escapable.test(string) ? '"' + string.replace(escapable, function (a) {
        var c = meta[a];
        return typeof c === 'string' ? c :
            '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
    }) + '"' : '"' + string + '"';
}

function str(key, holder) {
    // Produce a string from holder[key].
    var i,          // The loop counter.
        k,          // The member key.
        v,          // The member value.
        length,
        mind = gap,
        partial,
        value = holder[key];
    
    // If the value has a toJSON method, call it to obtain a replacement value.
    if (value && typeof value === 'object' &&
            typeof value.toJSON === 'function') {
        value = value.toJSON(key);
    }
    
    // If we were called with a replacer function, then call the replacer to
    // obtain a replacement value.
    if (typeof rep === 'function') {
        value = rep.call(holder, key, value);
    }
    
    // What happens next depends on the value's type.
    switch (typeof value) {
        case 'string':
            return quote(value);
        
        case 'number':
            // JSON numbers must be finite. Encode non-finite numbers as null.
            return isFinite(value) ? String(value) : 'null';
        
        case 'boolean':
        case 'null':
            // If the value is a boolean or null, convert it to a string. Note:
            // typeof null does not produce 'null'. The case is included here in
            // the remote chance that this gets fixed someday.
            return String(value);
            
        case 'object':
            if (!value) return 'null';
            gap += indent;
            partial = [];
            
            // Array.isArray
            if (Object.prototype.toString.apply(value) === '[object Array]') {
                length = value.length;
                for (i = 0; i < length; i += 1) {
                    partial[i] = str(i, value) || 'null';
                }
                
                // Join all of the elements together, separated with commas, and
                // wrap them in brackets.
                v = partial.length === 0 ? '[]' : gap ?
                    '[\n' + gap + partial.join(',\n' + gap) + '\n' + mind + ']' :
                    '[' + partial.join(',') + ']';
                gap = mind;
                return v;
            }
            
            // If the replacer is an array, use it to select the members to be
            // stringified.
            if (rep && typeof rep === 'object') {
                length = rep.length;
                for (i = 0; i < length; i += 1) {
                    k = rep[i];
                    if (typeof k === 'string') {
                        v = str(k, value);
                        if (v) {
                            partial.push(quote(k) + (gap ? ': ' : ':') + v);
                        }
                    }
                }
            }
            else {
                // Otherwise, iterate through all of the keys in the object.
                for (k in value) {
                    if (Object.prototype.hasOwnProperty.call(value, k)) {
                        v = str(k, value);
                        if (v) {
                            partial.push(quote(k) + (gap ? ': ' : ':') + v);
                        }
                    }
                }
            }
            
        // Join all of the member texts together, separated with commas,
        // and wrap them in braces.

        v = partial.length === 0 ? '{}' : gap ?
            '{\n' + gap + partial.join(',\n' + gap) + '\n' + mind + '}' :
            '{' + partial.join(',') + '}';
        gap = mind;
        return v;
    }
}

module.exports = function (value, replacer, space) {
    var i;
    gap = '';
    indent = '';
    
    // If the space parameter is a number, make an indent string containing that
    // many spaces.
    if (typeof space === 'number') {
        for (i = 0; i < space; i += 1) {
            indent += ' ';
        }
    }
    // If the space parameter is a string, it will be used as the indent string.
    else if (typeof space === 'string') {
        indent = space;
    }

    // If there is a replacer, it must be a function or an array.
    // Otherwise, throw an error.
    rep = replacer;
    if (replacer && typeof replacer !== 'function'
    && (typeof replacer !== 'object' || typeof replacer.length !== 'number')) {
        throw new Error('JSON.stringify');
    }
    
    // Make a fake root object containing our value under the key of ''.
    // Return the result of stringifying the value.
    return str('', {'': value});
};


/***/ }),
/* 64 */
/***/ (function(module, exports) {

module.exports = require("truffle-solidity-utils");

/***/ }),
/* 65 */
/***/ (function(module, exports) {

module.exports = require("truffle-code-utils");

/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// An augmented AVL Tree where each node maintains a list of records and their search intervals.
// Record is composed of an interval and its underlying data, sent by a client. This allows the
// interval tree to have the same interval inserted multiple times, as long its data is different.
// Both insertion and deletion require O(log n) time. Searching requires O(k*logn) time, where `k`
// is the number of intervals in the output list.
Object.defineProperty(exports, "__esModule", { value: true });
var isSame = __webpack_require__(67);
function height(node) {
    if (node === undefined) {
        return -1;
    }
    else {
        return node.height;
    }
}
var Node = /** @class */ (function () {
    function Node(intervalTree, record) {
        this.intervalTree = intervalTree;
        this.records = [];
        this.height = 0;
        this.key = record.low;
        this.max = record.high;
        // Save the array of all records with the same key for this node
        this.records.push(record);
    }
    // Gets the highest record.high value for this node
    Node.prototype.getNodeHigh = function () {
        var high = this.records[0].high;
        for (var i = 1; i < this.records.length; i++) {
            if (this.records[i].high > high) {
                high = this.records[i].high;
            }
        }
        return high;
    };
    // Updates height value of the node. Called during insertion, rebalance, removal
    Node.prototype.updateHeight = function () {
        this.height = Math.max(height(this.left), height(this.right)) + 1;
    };
    // Updates the max value of all the parents after inserting into already existing node, as well as
    // removing the node completely or removing the record of an already existing node. Starts with
    // the parent of an affected node and bubbles up to root
    Node.prototype.updateMaxOfParents = function () {
        if (this === undefined) {
            return;
        }
        var thisHigh = this.getNodeHigh();
        if (this.left !== undefined && this.right !== undefined) {
            this.max = Math.max(Math.max(this.left.max, this.right.max), thisHigh);
        }
        else if (this.left !== undefined && this.right === undefined) {
            this.max = Math.max(this.left.max, thisHigh);
        }
        else if (this.left === undefined && this.right !== undefined) {
            this.max = Math.max(this.right.max, thisHigh);
        }
        else {
            this.max = thisHigh;
        }
        if (this.parent) {
            this.parent.updateMaxOfParents();
        }
    };
    /*
    Left-Left case:
  
           z                                      y
          / \                                   /   \
         y   T4      Right Rotate (z)          x     z
        / \          - - - - - - - - ->       / \   / \
       x   T3                                T1 T2 T3 T4
      / \
    T1   T2
  
    Left-Right case:
  
         z                               z                           x
        / \                             / \                        /   \
       y   T4  Left Rotate (y)         x  T4  Right Rotate(z)     y     z
      / \      - - - - - - - - ->     / \      - - - - - - - ->  / \   / \
    T1   x                           y  T3                      T1 T2 T3 T4
        / \                         / \
      T2   T3                      T1 T2
    */
    // Handles Left-Left case and Left-Right case after rebalancing AVL tree
    Node.prototype._updateMaxAfterRightRotate = function () {
        var parent = this.parent;
        var left = parent.left;
        // Update max of left sibling (x in first case, y in second)
        var thisParentLeftHigh = left.getNodeHigh();
        if (left.left === undefined && left.right !== undefined) {
            left.max = Math.max(thisParentLeftHigh, left.right.max);
        }
        else if (left.left !== undefined && left.right === undefined) {
            left.max = Math.max(thisParentLeftHigh, left.left.max);
        }
        else if (left.left === undefined && left.right === undefined) {
            left.max = thisParentLeftHigh;
        }
        else {
            left.max = Math.max(Math.max(left.left.max, left.right.max), thisParentLeftHigh);
        }
        // Update max of itself (z)
        var thisHigh = this.getNodeHigh();
        if (this.left === undefined && this.right !== undefined) {
            this.max = Math.max(thisHigh, this.right.max);
        }
        else if (this.left !== undefined && this.right === undefined) {
            this.max = Math.max(thisHigh, this.left.max);
        }
        else if (this.left === undefined && this.right === undefined) {
            this.max = thisHigh;
        }
        else {
            this.max = Math.max(Math.max(this.left.max, this.right.max), thisHigh);
        }
        // Update max of parent (y in first case, x in second)
        parent.max = Math.max(Math.max(parent.left.max, parent.right.max), parent.getNodeHigh());
    };
    /*
    Right-Right case:
  
      z                               y
     / \                            /   \
    T1  y     Left Rotate(z)       z     x
       / \   - - - - - - - ->     / \   / \
      T2  x                      T1 T2 T3 T4
         / \
        T3 T4
  
    Right-Left case:
  
       z                            z                            x
      / \                          / \                         /   \
     T1  y   Right Rotate (y)     T1  x      Left Rotate(z)   z     y
        / \  - - - - - - - - ->      / \   - - - - - - - ->  / \   / \
       x  T4                        T2  y                   T1 T2 T3 T4
      / \                              / \
    T2   T3                           T3 T4
    */
    // Handles Right-Right case and Right-Left case in rebalancing AVL tree
    Node.prototype._updateMaxAfterLeftRotate = function () {
        var parent = this.parent;
        var right = parent.right;
        // Update max of right sibling (x in first case, y in second)
        var thisParentRightHigh = right.getNodeHigh();
        if (right.left === undefined && right.right !== undefined) {
            right.max = Math.max(thisParentRightHigh, right.right.max);
        }
        else if (right.left !== undefined && right.right === undefined) {
            right.max = Math.max(thisParentRightHigh, right.left.max);
        }
        else if (right.left === undefined && right.right === undefined) {
            right.max = thisParentRightHigh;
        }
        else {
            right.max = Math.max(Math.max(right.left.max, right.right.max), thisParentRightHigh);
        }
        // Update max of itself (z)
        var thisHigh = this.getNodeHigh();
        if (this.left === undefined && this.right !== undefined) {
            this.max = Math.max(thisHigh, this.right.max);
        }
        else if (this.left !== undefined && this.right === undefined) {
            this.max = Math.max(thisHigh, this.left.max);
        }
        else if (this.left === undefined && this.right === undefined) {
            this.max = thisHigh;
        }
        else {
            this.max = Math.max(Math.max(this.left.max, this.right.max), thisHigh);
        }
        // Update max of parent (y in first case, x in second)
        parent.max = Math.max(Math.max(parent.left.max, right.max), parent.getNodeHigh());
    };
    Node.prototype._leftRotate = function () {
        var rightChild = this.right;
        rightChild.parent = this.parent;
        if (rightChild.parent === undefined) {
            this.intervalTree.root = rightChild;
        }
        else {
            if (rightChild.parent.left === this) {
                rightChild.parent.left = rightChild;
            }
            else if (rightChild.parent.right === this) {
                rightChild.parent.right = rightChild;
            }
        }
        this.right = rightChild.left;
        if (this.right !== undefined) {
            this.right.parent = this;
        }
        rightChild.left = this;
        this.parent = rightChild;
        this.updateHeight();
        rightChild.updateHeight();
    };
    Node.prototype._rightRotate = function () {
        var leftChild = this.left;
        leftChild.parent = this.parent;
        if (leftChild.parent === undefined) {
            this.intervalTree.root = leftChild;
        }
        else {
            if (leftChild.parent.left === this) {
                leftChild.parent.left = leftChild;
            }
            else if (leftChild.parent.right === this) {
                leftChild.parent.right = leftChild;
            }
        }
        this.left = leftChild.right;
        if (this.left !== undefined) {
            this.left.parent = this;
        }
        leftChild.right = this;
        this.parent = leftChild;
        this.updateHeight();
        leftChild.updateHeight();
    };
    // Rebalances the tree if the height value between two nodes of the same parent is greater than
    // two. There are 4 cases that can happen which are outlined in the graphics above
    Node.prototype._rebalance = function () {
        if (height(this.left) >= 2 + height(this.right)) {
            var left = this.left;
            if (height(left.left) >= height(left.right)) {
                // Left-Left case
                this._rightRotate();
                this._updateMaxAfterRightRotate();
            }
            else {
                // Left-Right case
                left._leftRotate();
                this._rightRotate();
                this._updateMaxAfterRightRotate();
            }
        }
        else if (height(this.right) >= 2 + height(this.left)) {
            var right = this.right;
            if (height(right.right) >= height(right.left)) {
                // Right-Right case
                this._leftRotate();
                this._updateMaxAfterLeftRotate();
            }
            else {
                // Right-Left case
                right._rightRotate();
                this._leftRotate();
                this._updateMaxAfterLeftRotate();
            }
        }
    };
    Node.prototype.insert = function (record) {
        if (record.low < this.key) {
            // Insert into left subtree
            if (this.left === undefined) {
                this.left = new Node(this.intervalTree, record);
                this.left.parent = this;
            }
            else {
                this.left.insert(record);
            }
        }
        else {
            // Insert into right subtree
            if (this.right === undefined) {
                this.right = new Node(this.intervalTree, record);
                this.right.parent = this;
            }
            else {
                this.right.insert(record);
            }
        }
        // Update the max value of this ancestor if needed
        if (this.max < record.high) {
            this.max = record.high;
        }
        // Update height of each node
        this.updateHeight();
        // Rebalance the tree to ensure all operations are executed in O(logn) time. This is especially
        // important in searching, as the tree has a high chance of degenerating without the rebalancing
        this._rebalance();
    };
    Node.prototype._getOverlappingRecords = function (currentNode, low, high) {
        if (currentNode.key <= high && low <= currentNode.getNodeHigh()) {
            // Nodes are overlapping, check if individual records in the node are overlapping
            var tempResults = [];
            for (var i = 0; i < currentNode.records.length; i++) {
                if (currentNode.records[i].high >= low) {
                    tempResults.push(currentNode.records[i]);
                }
            }
            return tempResults;
        }
        return [];
    };
    Node.prototype.search = function (low, high) {
        // Don't search nodes that don't exist
        if (this === undefined) {
            return [];
        }
        var leftSearch = [];
        var ownSearch = [];
        var rightSearch = [];
        // If interval is to the right of the rightmost point of any interval in this node and all its
        // children, there won't be any matches
        if (low > this.max) {
            return [];
        }
        // Search left children
        if (this.left !== undefined && this.left.max >= low) {
            leftSearch = this.left.search(low, high);
        }
        // Check this node
        ownSearch = this._getOverlappingRecords(this, low, high);
        // If interval is to the left of the start of this interval, then it can't be in any child to
        // the right
        if (high < this.key) {
            return leftSearch.concat(ownSearch);
        }
        // Otherwise, search right children
        if (this.right !== undefined) {
            rightSearch = this.right.search(low, high);
        }
        // Return accumulated results, if any
        return leftSearch.concat(ownSearch, rightSearch);
    };
    // Searches for a node by a `key` value
    Node.prototype.searchExisting = function (low) {
        if (this === undefined) {
            return undefined;
        }
        if (this.key === low) {
            return this;
        }
        else if (low < this.key) {
            if (this.left !== undefined) {
                return this.left.searchExisting(low);
            }
        }
        else {
            if (this.right !== undefined) {
                return this.right.searchExisting(low);
            }
        }
        return undefined;
    };
    // Returns the smallest node of the subtree
    Node.prototype._minValue = function () {
        if (this.left === undefined) {
            return this;
        }
        else {
            return this.left._minValue();
        }
    };
    Node.prototype.remove = function (node) {
        var parent = this.parent;
        if (node.key < this.key) {
            // Node to be removed is on the left side
            if (this.left !== undefined) {
                return this.left.remove(node);
            }
            else {
                return undefined;
            }
        }
        else if (node.key > this.key) {
            // Node to be removed is on the right side
            if (this.right !== undefined) {
                return this.right.remove(node);
            }
            else {
                return undefined;
            }
        }
        else {
            if (this.left !== undefined && this.right !== undefined) {
                // Node has two children
                var minValue = this.right._minValue();
                this.key = minValue.key;
                this.records = minValue.records;
                return this.right.remove(this);
            }
            else if (parent.left === this) {
                // One child or no child case on left side
                if (this.right !== undefined) {
                    parent.left = this.right;
                    this.right.parent = parent;
                }
                else {
                    parent.left = this.left;
                    if (this.left !== undefined) {
                        this.left.parent = parent;
                    }
                }
                parent.updateMaxOfParents();
                parent.updateHeight();
                parent._rebalance();
                return this;
            }
            else if (parent.right === this) {
                // One child or no child case on right side
                if (this.right !== undefined) {
                    parent.right = this.right;
                    this.right.parent = parent;
                }
                else {
                    parent.right = this.left;
                    if (this.left !== undefined) {
                        this.left.parent = parent;
                    }
                }
                parent.updateMaxOfParents();
                parent.updateHeight();
                parent._rebalance();
                return this;
            }
        }
    };
    return Node;
}());
exports.Node = Node;
var IntervalTree = /** @class */ (function () {
    function IntervalTree() {
        this.count = 0;
    }
    IntervalTree.prototype.insert = function (record) {
        if (record.low > record.high) {
            throw new Error('`low` value must be lower or equal to `high` value');
        }
        if (this.root === undefined) {
            // Base case: Tree is empty, new node becomes root
            this.root = new Node(this, record);
            this.count++;
            return true;
        }
        else {
            // Otherwise, check if node already exists with the same key
            var node = this.root.searchExisting(record.low);
            if (node !== undefined) {
                // Check the records in this node if there already is the one with same low, high, data
                for (var i = 0; i < node.records.length; i++) {
                    if (isSame(node.records[i], record)) {
                        // This record is same as the one we're trying to insert; return false to indicate
                        // nothing has been inserted
                        return false;
                    }
                }
                // Add the record to the node
                node.records.push(record);
                // Update max of the node and its parents if necessary
                if (record.high > node.max) {
                    node.max = record.high;
                    if (node.parent) {
                        node.parent.updateMaxOfParents();
                    }
                }
                this.count++;
                return true;
            }
            else {
                // Node with this key doesn't already exist. Call insert function on root's node
                this.root.insert(record);
                this.count++;
                return true;
            }
        }
    };
    IntervalTree.prototype.search = function (low, high) {
        if (this.root === undefined) {
            // Tree is empty; return empty array
            return [];
        }
        else {
            return this.root.search(low, high);
        }
    };
    IntervalTree.prototype.remove = function (record) {
        if (this.root === undefined) {
            // Tree is empty; nothing to remove
            return false;
        }
        else {
            var node = this.root.searchExisting(record.low);
            if (node === undefined) {
                return false;
            }
            else if (node.records.length > 1) {
                var removedRecord = void 0;
                // Node with this key has 2 or more records. Find the one we need and remove it
                for (var i = 0; i < node.records.length; i++) {
                    if (isSame(node.records[i], record)) {
                        removedRecord = node.records[i];
                        node.records.splice(i, 1);
                        break;
                    }
                }
                if (removedRecord) {
                    removedRecord = undefined;
                    // Update max of that node and its parents if necessary
                    if (record.high === node.max) {
                        var nodeHigh = node.getNodeHigh();
                        if (node.left !== undefined && node.right !== undefined) {
                            node.max = Math.max(Math.max(node.left.max, node.right.max), nodeHigh);
                        }
                        else if (node.left !== undefined && node.right === undefined) {
                            node.max = Math.max(node.left.max, nodeHigh);
                        }
                        else if (node.left === undefined && node.right !== undefined) {
                            node.max = Math.max(node.right.max, nodeHigh);
                        }
                        else {
                            node.max = nodeHigh;
                        }
                        if (node.parent) {
                            node.parent.updateMaxOfParents();
                        }
                    }
                    this.count--;
                    return true;
                }
                else {
                    return false;
                }
            }
            else if (node.records.length === 1) {
                // Node with this key has only 1 record. Check if the remaining record in this node is
                // actually the one we want to remove
                if (isSame(node.records[0], record)) {
                    // The remaining record is the one we want to remove. Remove the whole node from the tree
                    if (this.root.key === node.key) {
                        // We're removing the root element. Create a dummy node that will temporarily take
                        // root's parent role
                        var rootParent = new Node(this, { low: record.low, high: record.low });
                        rootParent.left = this.root;
                        this.root.parent = rootParent;
                        var removedNode = this.root.remove(node);
                        this.root = rootParent.left;
                        if (this.root !== undefined) {
                            this.root.parent = undefined;
                        }
                        if (removedNode) {
                            removedNode = undefined;
                            this.count--;
                            return true;
                        }
                        else {
                            return false;
                        }
                    }
                    else {
                        var removedNode = this.root.remove(node);
                        if (removedNode) {
                            removedNode = undefined;
                            this.count--;
                            return true;
                        }
                        else {
                            return false;
                        }
                    }
                }
                else {
                    // The remaining record is not the one we want to remove
                    return false;
                }
            }
            else {
                // No records at all in this node?! Shouldn't happen
                return false;
            }
        }
    };
    IntervalTree.prototype.inOrder = function () {
        return new InOrder(this.root);
    };
    IntervalTree.prototype.preOrder = function () {
        return new PreOrder(this.root);
    };
    return IntervalTree;
}());
exports.IntervalTree = IntervalTree;
var DataIntervalTree = /** @class */ (function () {
    function DataIntervalTree() {
        this.tree = new IntervalTree();
    }
    DataIntervalTree.prototype.insert = function (low, high, data) {
        return this.tree.insert({ low: low, high: high, data: data });
    };
    DataIntervalTree.prototype.remove = function (low, high, data) {
        return this.tree.remove({ low: low, high: high, data: data });
    };
    DataIntervalTree.prototype.search = function (low, high) {
        return this.tree.search(low, high).map(function (v) { return v.data; });
    };
    DataIntervalTree.prototype.inOrder = function () {
        return this.tree.inOrder();
    };
    DataIntervalTree.prototype.preOrder = function () {
        return this.tree.preOrder();
    };
    Object.defineProperty(DataIntervalTree.prototype, "count", {
        get: function () {
            return this.tree.count;
        },
        enumerable: true,
        configurable: true
    });
    return DataIntervalTree;
}());
exports.default = DataIntervalTree;
var InOrder = /** @class */ (function () {
    function InOrder(startNode) {
        this.stack = [];
        if (startNode !== undefined) {
            this.push(startNode);
        }
    }
    InOrder.prototype.next = function () {
        // Will only happen if stack is empty and pop is called
        if (this.currentNode === undefined) {
            return {
                done: true,
                value: undefined,
            };
        }
        // Process this node
        if (this.i < this.currentNode.records.length) {
            return {
                done: false,
                value: this.currentNode.records[this.i++],
            };
        }
        if (this.currentNode.right !== undefined) {
            this.push(this.currentNode.right);
        }
        else {
            // Might pop the last and set this.currentNode = undefined
            this.pop();
        }
        return this.next();
    };
    InOrder.prototype.push = function (node) {
        this.currentNode = node;
        this.i = 0;
        while (this.currentNode.left !== undefined) {
            this.stack.push(this.currentNode);
            this.currentNode = this.currentNode.left;
        }
    };
    InOrder.prototype.pop = function () {
        this.currentNode = this.stack.pop();
        this.i = 0;
    };
    return InOrder;
}());
exports.InOrder = InOrder;
if (typeof Symbol === 'function') {
    InOrder.prototype[Symbol.iterator] = function () { return this; };
}
var PreOrder = /** @class */ (function () {
    function PreOrder(startNode) {
        this.stack = [];
        this.i = 0;
        this.currentNode = startNode;
    }
    PreOrder.prototype.next = function () {
        // Will only happen if stack is empty and pop is called,
        // which only happens if there is no right node (i.e we are done)
        if (this.currentNode === undefined) {
            return {
                done: true,
                value: undefined,
            };
        }
        // Process this node
        if (this.i < this.currentNode.records.length) {
            return {
                done: false,
                value: this.currentNode.records[this.i++],
            };
        }
        if (this.currentNode.right !== undefined) {
            this.push(this.currentNode.right);
        }
        if (this.currentNode.left !== undefined) {
            this.push(this.currentNode.left);
        }
        this.pop();
        return this.next();
    };
    PreOrder.prototype.push = function (node) {
        this.stack.push(node);
    };
    PreOrder.prototype.pop = function () {
        this.currentNode = this.stack.pop();
        this.i = 0;
    };
    return PreOrder;
}());
exports.PreOrder = PreOrder;
if (typeof Symbol === 'function') {
    PreOrder.prototype[Symbol.iterator] = function () { return this; };
}
//# sourceMappingURL=index.js.map

/***/ }),
/* 67 */
/***/ (function(module, exports) {

//

module.exports = function shallowEqual(objA, objB, compare, compareContext) {
  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;

  if (ret !== void 0) {
    return !!ret;
  }

  if (objA === objB) {
    return true;
  }

  if (typeof objA !== "object" || !objA || typeof objB !== "object" || !objB) {
    return false;
  }

  var keysA = Object.keys(objA);
  var keysB = Object.keys(objB);

  if (keysA.length !== keysB.length) {
    return false;
  }

  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);

  // Test for A's keys different from B.
  for (var idx = 0; idx < keysA.length; idx++) {
    var key = keysA[idx];

    if (!bHasOwnProperty(key)) {
      return false;
    }

    var valueA = objA[key];
    var valueB = objB[key];

    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;

    if (ret === false || (ret === void 0 && valueA !== valueB)) {
      return false;
    }
  }

  return true;
};


/***/ }),
/* 68 */
/***/ (function(module, exports) {

module.exports = require("fast-levenshtein");

/***/ }),
/* 69 */
/***/ (function(module, exports) {

exports = module.exports = SemVer;

// The debug function is excluded entirely from the minified version.
/* nomin */ var debug;
/* nomin */ if (typeof process === 'object' &&
    /* nomin */ process.env &&
    /* nomin */ process.env.NODE_DEBUG &&
    /* nomin */ /\bsemver\b/i.test(process.env.NODE_DEBUG))
  /* nomin */ debug = function() {
    /* nomin */ var args = Array.prototype.slice.call(arguments, 0);
    /* nomin */ args.unshift('SEMVER');
    /* nomin */ console.log.apply(console, args);
    /* nomin */ };
/* nomin */ else
  /* nomin */ debug = function() {};

// Note: this is the semver.org version of the spec that it implements
// Not necessarily the package version of this code.
exports.SEMVER_SPEC_VERSION = '2.0.0';

var MAX_LENGTH = 256;
var MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;

// Max safe segment length for coercion.
var MAX_SAFE_COMPONENT_LENGTH = 16;

// The actual regexps go on exports.re
var re = exports.re = [];
var src = exports.src = [];
var R = 0;

// The following Regular Expressions can be used for tokenizing,
// validating, and parsing SemVer version strings.

// ## Numeric Identifier
// A single `0`, or a non-zero digit followed by zero or more digits.

var NUMERICIDENTIFIER = R++;
src[NUMERICIDENTIFIER] = '0|[1-9]\\d*';
var NUMERICIDENTIFIERLOOSE = R++;
src[NUMERICIDENTIFIERLOOSE] = '[0-9]+';


// ## Non-numeric Identifier
// Zero or more digits, followed by a letter or hyphen, and then zero or
// more letters, digits, or hyphens.

var NONNUMERICIDENTIFIER = R++;
src[NONNUMERICIDENTIFIER] = '\\d*[a-zA-Z-][a-zA-Z0-9-]*';


// ## Main Version
// Three dot-separated numeric identifiers.

var MAINVERSION = R++;
src[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\.' +
                   '(' + src[NUMERICIDENTIFIER] + ')\\.' +
                   '(' + src[NUMERICIDENTIFIER] + ')';

var MAINVERSIONLOOSE = R++;
src[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\.' +
                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\.' +
                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')';

// ## Pre-release Version Identifier
// A numeric identifier, or a non-numeric identifier.

var PRERELEASEIDENTIFIER = R++;
src[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +
                            '|' + src[NONNUMERICIDENTIFIER] + ')';

var PRERELEASEIDENTIFIERLOOSE = R++;
src[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +
                                 '|' + src[NONNUMERICIDENTIFIER] + ')';


// ## Pre-release Version
// Hyphen, followed by one or more dot-separated pre-release version
// identifiers.

var PRERELEASE = R++;
src[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +
                  '(?:\\.' + src[PRERELEASEIDENTIFIER] + ')*))';

var PRERELEASELOOSE = R++;
src[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +
                       '(?:\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))';

// ## Build Metadata Identifier
// Any combination of digits, letters, or hyphens.

var BUILDIDENTIFIER = R++;
src[BUILDIDENTIFIER] = '[0-9A-Za-z-]+';

// ## Build Metadata
// Plus sign, followed by one or more period-separated build metadata
// identifiers.

var BUILD = R++;
src[BUILD] = '(?:\\+(' + src[BUILDIDENTIFIER] +
             '(?:\\.' + src[BUILDIDENTIFIER] + ')*))';


// ## Full Version String
// A main version, followed optionally by a pre-release version and
// build metadata.

// Note that the only major, minor, patch, and pre-release sections of
// the version string are capturing groups.  The build metadata is not a
// capturing group, because it should not ever be used in version
// comparison.

var FULL = R++;
var FULLPLAIN = 'v?' + src[MAINVERSION] +
                src[PRERELEASE] + '?' +
                src[BUILD] + '?';

src[FULL] = '^' + FULLPLAIN + '$';

// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.
// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty
// common in the npm registry.
var LOOSEPLAIN = '[v=\\s]*' + src[MAINVERSIONLOOSE] +
                 src[PRERELEASELOOSE] + '?' +
                 src[BUILD] + '?';

var LOOSE = R++;
src[LOOSE] = '^' + LOOSEPLAIN + '$';

var GTLT = R++;
src[GTLT] = '((?:<|>)?=?)';

// Something like "2.*" or "1.2.x".
// Note that "x.x" is a valid xRange identifer, meaning "any version"
// Only the first item is strictly required.
var XRANGEIDENTIFIERLOOSE = R++;
src[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\*';
var XRANGEIDENTIFIER = R++;
src[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\*';

var XRANGEPLAIN = R++;
src[XRANGEPLAIN] = '[v=\\s]*(' + src[XRANGEIDENTIFIER] + ')' +
                   '(?:\\.(' + src[XRANGEIDENTIFIER] + ')' +
                   '(?:\\.(' + src[XRANGEIDENTIFIER] + ')' +
                   '(?:' + src[PRERELEASE] + ')?' +
                   src[BUILD] + '?' +
                   ')?)?';

var XRANGEPLAINLOOSE = R++;
src[XRANGEPLAINLOOSE] = '[v=\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +
                        '(?:\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +
                        '(?:\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +
                        '(?:' + src[PRERELEASELOOSE] + ')?' +
                        src[BUILD] + '?' +
                        ')?)?';

var XRANGE = R++;
src[XRANGE] = '^' + src[GTLT] + '\\s*' + src[XRANGEPLAIN] + '$';
var XRANGELOOSE = R++;
src[XRANGELOOSE] = '^' + src[GTLT] + '\\s*' + src[XRANGEPLAINLOOSE] + '$';

// Coercion.
// Extract anything that could conceivably be a part of a valid semver
var COERCE = R++;
src[COERCE] = '(?:^|[^\\d])' +
              '(\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +
              '(?:\\.(\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +
              '(?:\\.(\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +
              '(?:$|[^\\d])';

// Tilde ranges.
// Meaning is "reasonably at or greater than"
var LONETILDE = R++;
src[LONETILDE] = '(?:~>?)';

var TILDETRIM = R++;
src[TILDETRIM] = '(\\s*)' + src[LONETILDE] + '\\s+';
re[TILDETRIM] = new RegExp(src[TILDETRIM], 'g');
var tildeTrimReplace = '$1~';

var TILDE = R++;
src[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$';
var TILDELOOSE = R++;
src[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$';

// Caret ranges.
// Meaning is "at least and backwards compatible with"
var LONECARET = R++;
src[LONECARET] = '(?:\\^)';

var CARETTRIM = R++;
src[CARETTRIM] = '(\\s*)' + src[LONECARET] + '\\s+';
re[CARETTRIM] = new RegExp(src[CARETTRIM], 'g');
var caretTrimReplace = '$1^';

var CARET = R++;
src[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$';
var CARETLOOSE = R++;
src[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$';

// A simple gt/lt/eq thing, or just "" to indicate "any version"
var COMPARATORLOOSE = R++;
src[COMPARATORLOOSE] = '^' + src[GTLT] + '\\s*(' + LOOSEPLAIN + ')$|^$';
var COMPARATOR = R++;
src[COMPARATOR] = '^' + src[GTLT] + '\\s*(' + FULLPLAIN + ')$|^$';


// An expression to strip any whitespace between the gtlt and the thing
// it modifies, so that `> 1.2.3` ==> `>1.2.3`
var COMPARATORTRIM = R++;
src[COMPARATORTRIM] = '(\\s*)' + src[GTLT] +
                      '\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')';

// this one has to use the /g flag
re[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g');
var comparatorTrimReplace = '$1$2$3';


// Something like `1.2.3 - 1.2.4`
// Note that these all use the loose form, because they'll be
// checked against either the strict or loose comparator form
// later.
var HYPHENRANGE = R++;
src[HYPHENRANGE] = '^\\s*(' + src[XRANGEPLAIN] + ')' +
                   '\\s+-\\s+' +
                   '(' + src[XRANGEPLAIN] + ')' +
                   '\\s*$';

var HYPHENRANGELOOSE = R++;
src[HYPHENRANGELOOSE] = '^\\s*(' + src[XRANGEPLAINLOOSE] + ')' +
                        '\\s+-\\s+' +
                        '(' + src[XRANGEPLAINLOOSE] + ')' +
                        '\\s*$';

// Star ranges basically just allow anything at all.
var STAR = R++;
src[STAR] = '(<|>)?=?\\s*\\*';

// Compile to actual regexp objects.
// All are flag-free, unless they were created above with a flag.
for (var i = 0; i < R; i++) {
  debug(i, src[i]);
  if (!re[i])
    re[i] = new RegExp(src[i]);
}

exports.parse = parse;
function parse(version, options) {
  if (!options || typeof options !== 'object')
    options = { loose: !!options, includePrerelease: false }

  if (version instanceof SemVer)
    return version;

  if (typeof version !== 'string')
    return null;

  if (version.length > MAX_LENGTH)
    return null;

  var r = options.loose ? re[LOOSE] : re[FULL];
  if (!r.test(version))
    return null;

  try {
    return new SemVer(version, options);
  } catch (er) {
    return null;
  }
}

exports.valid = valid;
function valid(version, options) {
  var v = parse(version, options);
  return v ? v.version : null;
}


exports.clean = clean;
function clean(version, options) {
  var s = parse(version.trim().replace(/^[=v]+/, ''), options);
  return s ? s.version : null;
}

exports.SemVer = SemVer;

function SemVer(version, options) {
  if (!options || typeof options !== 'object')
    options = { loose: !!options, includePrerelease: false }
  if (version instanceof SemVer) {
    if (version.loose === options.loose)
      return version;
    else
      version = version.version;
  } else if (typeof version !== 'string') {
    throw new TypeError('Invalid Version: ' + version);
  }

  if (version.length > MAX_LENGTH)
    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')

  if (!(this instanceof SemVer))
    return new SemVer(version, options);

  debug('SemVer', version, options);
  this.options = options;
  this.loose = !!options.loose;

  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL]);

  if (!m)
    throw new TypeError('Invalid Version: ' + version);

  this.raw = version;

  // these are actually numbers
  this.major = +m[1];
  this.minor = +m[2];
  this.patch = +m[3];

  if (this.major > MAX_SAFE_INTEGER || this.major < 0)
    throw new TypeError('Invalid major version')

  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0)
    throw new TypeError('Invalid minor version')

  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0)
    throw new TypeError('Invalid patch version')

  // numberify any prerelease numeric ids
  if (!m[4])
    this.prerelease = [];
  else
    this.prerelease = m[4].split('.').map(function(id) {
      if (/^[0-9]+$/.test(id)) {
        var num = +id;
        if (num >= 0 && num < MAX_SAFE_INTEGER)
          return num;
      }
      return id;
    });

  this.build = m[5] ? m[5].split('.') : [];
  this.format();
}

SemVer.prototype.format = function() {
  this.version = this.major + '.' + this.minor + '.' + this.patch;
  if (this.prerelease.length)
    this.version += '-' + this.prerelease.join('.');
  return this.version;
};

SemVer.prototype.toString = function() {
  return this.version;
};

SemVer.prototype.compare = function(other) {
  debug('SemVer.compare', this.version, this.options, other);
  if (!(other instanceof SemVer))
    other = new SemVer(other, this.options);

  return this.compareMain(other) || this.comparePre(other);
};

SemVer.prototype.compareMain = function(other) {
  if (!(other instanceof SemVer))
    other = new SemVer(other, this.options);

  return compareIdentifiers(this.major, other.major) ||
         compareIdentifiers(this.minor, other.minor) ||
         compareIdentifiers(this.patch, other.patch);
};

SemVer.prototype.comparePre = function(other) {
  if (!(other instanceof SemVer))
    other = new SemVer(other, this.options);

  // NOT having a prerelease is > having one
  if (this.prerelease.length && !other.prerelease.length)
    return -1;
  else if (!this.prerelease.length && other.prerelease.length)
    return 1;
  else if (!this.prerelease.length && !other.prerelease.length)
    return 0;

  var i = 0;
  do {
    var a = this.prerelease[i];
    var b = other.prerelease[i];
    debug('prerelease compare', i, a, b);
    if (a === undefined && b === undefined)
      return 0;
    else if (b === undefined)
      return 1;
    else if (a === undefined)
      return -1;
    else if (a === b)
      continue;
    else
      return compareIdentifiers(a, b);
  } while (++i);
};

// preminor will bump the version up to the next minor release, and immediately
// down to pre-release. premajor and prepatch work the same way.
SemVer.prototype.inc = function(release, identifier) {
  switch (release) {
    case 'premajor':
      this.prerelease.length = 0;
      this.patch = 0;
      this.minor = 0;
      this.major++;
      this.inc('pre', identifier);
      break;
    case 'preminor':
      this.prerelease.length = 0;
      this.patch = 0;
      this.minor++;
      this.inc('pre', identifier);
      break;
    case 'prepatch':
      // If this is already a prerelease, it will bump to the next version
      // drop any prereleases that might already exist, since they are not
      // relevant at this point.
      this.prerelease.length = 0;
      this.inc('patch', identifier);
      this.inc('pre', identifier);
      break;
    // If the input is a non-prerelease version, this acts the same as
    // prepatch.
    case 'prerelease':
      if (this.prerelease.length === 0)
        this.inc('patch', identifier);
      this.inc('pre', identifier);
      break;

    case 'major':
      // If this is a pre-major version, bump up to the same major version.
      // Otherwise increment major.
      // 1.0.0-5 bumps to 1.0.0
      // 1.1.0 bumps to 2.0.0
      if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0)
        this.major++;
      this.minor = 0;
      this.patch = 0;
      this.prerelease = [];
      break;
    case 'minor':
      // If this is a pre-minor version, bump up to the same minor version.
      // Otherwise increment minor.
      // 1.2.0-5 bumps to 1.2.0
      // 1.2.1 bumps to 1.3.0
      if (this.patch !== 0 || this.prerelease.length === 0)
        this.minor++;
      this.patch = 0;
      this.prerelease = [];
      break;
    case 'patch':
      // If this is not a pre-release version, it will increment the patch.
      // If it is a pre-release it will bump up to the same patch version.
      // 1.2.0-5 patches to 1.2.0
      // 1.2.0 patches to 1.2.1
      if (this.prerelease.length === 0)
        this.patch++;
      this.prerelease = [];
      break;
    // This probably shouldn't be used publicly.
    // 1.0.0 "pre" would become 1.0.0-0 which is the wrong direction.
    case 'pre':
      if (this.prerelease.length === 0)
        this.prerelease = [0];
      else {
        var i = this.prerelease.length;
        while (--i >= 0) {
          if (typeof this.prerelease[i] === 'number') {
            this.prerelease[i]++;
            i = -2;
          }
        }
        if (i === -1) // didn't increment anything
          this.prerelease.push(0);
      }
      if (identifier) {
        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,
        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0
        if (this.prerelease[0] === identifier) {
          if (isNaN(this.prerelease[1]))
            this.prerelease = [identifier, 0];
        } else
          this.prerelease = [identifier, 0];
      }
      break;

    default:
      throw new Error('invalid increment argument: ' + release);
  }
  this.format();
  this.raw = this.version;
  return this;
};

exports.inc = inc;
function inc(version, release, loose, identifier) {
  if (typeof(loose) === 'string') {
    identifier = loose;
    loose = undefined;
  }

  try {
    return new SemVer(version, loose).inc(release, identifier).version;
  } catch (er) {
    return null;
  }
}

exports.diff = diff;
function diff(version1, version2) {
  if (eq(version1, version2)) {
    return null;
  } else {
    var v1 = parse(version1);
    var v2 = parse(version2);
    if (v1.prerelease.length || v2.prerelease.length) {
      for (var key in v1) {
        if (key === 'major' || key === 'minor' || key === 'patch') {
          if (v1[key] !== v2[key]) {
            return 'pre'+key;
          }
        }
      }
      return 'prerelease';
    }
    for (var key in v1) {
      if (key === 'major' || key === 'minor' || key === 'patch') {
        if (v1[key] !== v2[key]) {
          return key;
        }
      }
    }
  }
}

exports.compareIdentifiers = compareIdentifiers;

var numeric = /^[0-9]+$/;
function compareIdentifiers(a, b) {
  var anum = numeric.test(a);
  var bnum = numeric.test(b);

  if (anum && bnum) {
    a = +a;
    b = +b;
  }

  return (anum && !bnum) ? -1 :
         (bnum && !anum) ? 1 :
         a < b ? -1 :
         a > b ? 1 :
         0;
}

exports.rcompareIdentifiers = rcompareIdentifiers;
function rcompareIdentifiers(a, b) {
  return compareIdentifiers(b, a);
}

exports.major = major;
function major(a, loose) {
  return new SemVer(a, loose).major;
}

exports.minor = minor;
function minor(a, loose) {
  return new SemVer(a, loose).minor;
}

exports.patch = patch;
function patch(a, loose) {
  return new SemVer(a, loose).patch;
}

exports.compare = compare;
function compare(a, b, loose) {
  return new SemVer(a, loose).compare(new SemVer(b, loose));
}

exports.compareLoose = compareLoose;
function compareLoose(a, b) {
  return compare(a, b, true);
}

exports.rcompare = rcompare;
function rcompare(a, b, loose) {
  return compare(b, a, loose);
}

exports.sort = sort;
function sort(list, loose) {
  return list.sort(function(a, b) {
    return exports.compare(a, b, loose);
  });
}

exports.rsort = rsort;
function rsort(list, loose) {
  return list.sort(function(a, b) {
    return exports.rcompare(a, b, loose);
  });
}

exports.gt = gt;
function gt(a, b, loose) {
  return compare(a, b, loose) > 0;
}

exports.lt = lt;
function lt(a, b, loose) {
  return compare(a, b, loose) < 0;
}

exports.eq = eq;
function eq(a, b, loose) {
  return compare(a, b, loose) === 0;
}

exports.neq = neq;
function neq(a, b, loose) {
  return compare(a, b, loose) !== 0;
}

exports.gte = gte;
function gte(a, b, loose) {
  return compare(a, b, loose) >= 0;
}

exports.lte = lte;
function lte(a, b, loose) {
  return compare(a, b, loose) <= 0;
}

exports.cmp = cmp;
function cmp(a, op, b, loose) {
  var ret;
  switch (op) {
    case '===':
      if (typeof a === 'object') a = a.version;
      if (typeof b === 'object') b = b.version;
      ret = a === b;
      break;
    case '!==':
      if (typeof a === 'object') a = a.version;
      if (typeof b === 'object') b = b.version;
      ret = a !== b;
      break;
    case '': case '=': case '==': ret = eq(a, b, loose); break;
    case '!=': ret = neq(a, b, loose); break;
    case '>': ret = gt(a, b, loose); break;
    case '>=': ret = gte(a, b, loose); break;
    case '<': ret = lt(a, b, loose); break;
    case '<=': ret = lte(a, b, loose); break;
    default: throw new TypeError('Invalid operator: ' + op);
  }
  return ret;
}

exports.Comparator = Comparator;
function Comparator(comp, options) {
  if (!options || typeof options !== 'object')
    options = { loose: !!options, includePrerelease: false }

  if (comp instanceof Comparator) {
    if (comp.loose === !!options.loose)
      return comp;
    else
      comp = comp.value;
  }

  if (!(this instanceof Comparator))
    return new Comparator(comp, options);

  debug('comparator', comp, options);
  this.options = options;
  this.loose = !!options.loose;
  this.parse(comp);

  if (this.semver === ANY)
    this.value = '';
  else
    this.value = this.operator + this.semver.version;

  debug('comp', this);
}

var ANY = {};
Comparator.prototype.parse = function(comp) {
  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR];
  var m = comp.match(r);

  if (!m)
    throw new TypeError('Invalid comparator: ' + comp);

  this.operator = m[1];
  if (this.operator === '=')
    this.operator = '';

  // if it literally is just '>' or '' then allow anything.
  if (!m[2])
    this.semver = ANY;
  else
    this.semver = new SemVer(m[2], this.options.loose);
};

Comparator.prototype.toString = function() {
  return this.value;
};

Comparator.prototype.test = function(version) {
  debug('Comparator.test', version, this.options.loose);

  if (this.semver === ANY)
    return true;

  if (typeof version === 'string')
    version = new SemVer(version, this.options);

  return cmp(version, this.operator, this.semver, this.options);
};

Comparator.prototype.intersects = function(comp, options) {
  if (!(comp instanceof Comparator)) {
    throw new TypeError('a Comparator is required');
  }

  if (!options || typeof options !== 'object')
    options = { loose: !!options, includePrerelease: false }

  var rangeTmp;

  if (this.operator === '') {
    rangeTmp = new Range(comp.value, options);
    return satisfies(this.value, rangeTmp, options);
  } else if (comp.operator === '') {
    rangeTmp = new Range(this.value, options);
    return satisfies(comp.semver, rangeTmp, options);
  }

  var sameDirectionIncreasing =
    (this.operator === '>=' || this.operator === '>') &&
    (comp.operator === '>=' || comp.operator === '>');
  var sameDirectionDecreasing =
    (this.operator === '<=' || this.operator === '<') &&
    (comp.operator === '<=' || comp.operator === '<');
  var sameSemVer = this.semver.version === comp.semver.version;
  var differentDirectionsInclusive =
    (this.operator === '>=' || this.operator === '<=') &&
    (comp.operator === '>=' || comp.operator === '<=');
  var oppositeDirectionsLessThan =
    cmp(this.semver, '<', comp.semver, options) &&
    ((this.operator === '>=' || this.operator === '>') &&
    (comp.operator === '<=' || comp.operator === '<'));
  var oppositeDirectionsGreaterThan =
    cmp(this.semver, '>', comp.semver, options) &&
    ((this.operator === '<=' || this.operator === '<') &&
    (comp.operator === '>=' || comp.operator === '>'));

  return sameDirectionIncreasing || sameDirectionDecreasing ||
    (sameSemVer && differentDirectionsInclusive) ||
    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan;
};


exports.Range = Range;
function Range(range, options) {
  if (!options || typeof options !== 'object')
    options = { loose: !!options, includePrerelease: false }

  if (range instanceof Range) {
    if (range.loose === !!options.loose &&
        range.includePrerelease === !!options.includePrerelease) {
      return range;
    } else {
      return new Range(range.raw, options);
    }
  }

  if (range instanceof Comparator) {
    return new Range(range.value, options);
  }

  if (!(this instanceof Range))
    return new Range(range, options);

  this.options = options;
  this.loose = !!options.loose;
  this.includePrerelease = !!options.includePrerelease

  // First, split based on boolean or ||
  this.raw = range;
  this.set = range.split(/\s*\|\|\s*/).map(function(range) {
    return this.parseRange(range.trim());
  }, this).filter(function(c) {
    // throw out any that are not relevant for whatever reason
    return c.length;
  });

  if (!this.set.length) {
    throw new TypeError('Invalid SemVer Range: ' + range);
  }

  this.format();
}

Range.prototype.format = function() {
  this.range = this.set.map(function(comps) {
    return comps.join(' ').trim();
  }).join('||').trim();
  return this.range;
};

Range.prototype.toString = function() {
  return this.range;
};

Range.prototype.parseRange = function(range) {
  var loose = this.options.loose;
  range = range.trim();
  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`
  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE];
  range = range.replace(hr, hyphenReplace);
  debug('hyphen replace', range);
  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`
  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace);
  debug('comparator trim', range, re[COMPARATORTRIM]);

  // `~ 1.2.3` => `~1.2.3`
  range = range.replace(re[TILDETRIM], tildeTrimReplace);

  // `^ 1.2.3` => `^1.2.3`
  range = range.replace(re[CARETTRIM], caretTrimReplace);

  // normalize spaces
  range = range.split(/\s+/).join(' ');

  // At this point, the range is completely trimmed and
  // ready to be split into comparators.

  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR];
  var set = range.split(' ').map(function(comp) {
    return parseComparator(comp, this.options);
  }, this).join(' ').split(/\s+/);
  if (this.options.loose) {
    // in loose mode, throw out any that are not valid comparators
    set = set.filter(function(comp) {
      return !!comp.match(compRe);
    });
  }
  set = set.map(function(comp) {
    return new Comparator(comp, this.options);
  }, this);

  return set;
};

Range.prototype.intersects = function(range, options) {
  if (!(range instanceof Range)) {
    throw new TypeError('a Range is required');
  }

  return this.set.some(function(thisComparators) {
    return thisComparators.every(function(thisComparator) {
      return range.set.some(function(rangeComparators) {
        return rangeComparators.every(function(rangeComparator) {
          return thisComparator.intersects(rangeComparator, options);
        });
      });
    });
  });
};

// Mostly just for testing and legacy API reasons
exports.toComparators = toComparators;
function toComparators(range, options) {
  return new Range(range, options).set.map(function(comp) {
    return comp.map(function(c) {
      return c.value;
    }).join(' ').trim().split(' ');
  });
}

// comprised of xranges, tildes, stars, and gtlt's at this point.
// already replaced the hyphen ranges
// turn into a set of JUST comparators.
function parseComparator(comp, options) {
  debug('comp', comp, options);
  comp = replaceCarets(comp, options);
  debug('caret', comp);
  comp = replaceTildes(comp, options);
  debug('tildes', comp);
  comp = replaceXRanges(comp, options);
  debug('xrange', comp);
  comp = replaceStars(comp, options);
  debug('stars', comp);
  return comp;
}

function isX(id) {
  return !id || id.toLowerCase() === 'x' || id === '*';
}

// ~, ~> --> * (any, kinda silly)
// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0
// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0
// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0
// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0
// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0
function replaceTildes(comp, options) {
  return comp.trim().split(/\s+/).map(function(comp) {
    return replaceTilde(comp, options);
  }).join(' ');
}

function replaceTilde(comp, options) {
  if (!options || typeof options !== 'object')
    options = { loose: !!options, includePrerelease: false }
  var r = options.loose ? re[TILDELOOSE] : re[TILDE];
  return comp.replace(r, function(_, M, m, p, pr) {
    debug('tilde', comp, _, M, m, p, pr);
    var ret;

    if (isX(M))
      ret = '';
    else if (isX(m))
      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';
    else if (isX(p))
      // ~1.2 == >=1.2.0 <1.3.0
      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';
    else if (pr) {
      debug('replaceTilde pr', pr);
      if (pr.charAt(0) !== '-')
        pr = '-' + pr;
      ret = '>=' + M + '.' + m + '.' + p + pr +
            ' <' + M + '.' + (+m + 1) + '.0';
    } else
      // ~1.2.3 == >=1.2.3 <1.3.0
      ret = '>=' + M + '.' + m + '.' + p +
            ' <' + M + '.' + (+m + 1) + '.0';

    debug('tilde return', ret);
    return ret;
  });
}

// ^ --> * (any, kinda silly)
// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0
// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0
// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0
// ^1.2.3 --> >=1.2.3 <2.0.0
// ^1.2.0 --> >=1.2.0 <2.0.0
function replaceCarets(comp, options) {
  return comp.trim().split(/\s+/).map(function(comp) {
    return replaceCaret(comp, options);
  }).join(' ');
}

function replaceCaret(comp, options) {
  debug('caret', comp, options);
  if (!options || typeof options !== 'object')
    options = { loose: !!options, includePrerelease: false }
  var r = options.loose ? re[CARETLOOSE] : re[CARET];
  return comp.replace(r, function(_, M, m, p, pr) {
    debug('caret', comp, _, M, m, p, pr);
    var ret;

    if (isX(M))
      ret = '';
    else if (isX(m))
      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';
    else if (isX(p)) {
      if (M === '0')
        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';
      else
        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0';
    } else if (pr) {
      debug('replaceCaret pr', pr);
      if (pr.charAt(0) !== '-')
        pr = '-' + pr;
      if (M === '0') {
        if (m === '0')
          ret = '>=' + M + '.' + m + '.' + p + pr +
                ' <' + M + '.' + m + '.' + (+p + 1);
        else
          ret = '>=' + M + '.' + m + '.' + p + pr +
                ' <' + M + '.' + (+m + 1) + '.0';
      } else
        ret = '>=' + M + '.' + m + '.' + p + pr +
              ' <' + (+M + 1) + '.0.0';
    } else {
      debug('no pr');
      if (M === '0') {
        if (m === '0')
          ret = '>=' + M + '.' + m + '.' + p +
                ' <' + M + '.' + m + '.' + (+p + 1);
        else
          ret = '>=' + M + '.' + m + '.' + p +
                ' <' + M + '.' + (+m + 1) + '.0';
      } else
        ret = '>=' + M + '.' + m + '.' + p +
              ' <' + (+M + 1) + '.0.0';
    }

    debug('caret return', ret);
    return ret;
  });
}

function replaceXRanges(comp, options) {
  debug('replaceXRanges', comp, options);
  return comp.split(/\s+/).map(function(comp) {
    return replaceXRange(comp, options);
  }).join(' ');
}

function replaceXRange(comp, options) {
  comp = comp.trim();
  if (!options || typeof options !== 'object')
    options = { loose: !!options, includePrerelease: false }
  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE];
  return comp.replace(r, function(ret, gtlt, M, m, p, pr) {
    debug('xRange', comp, ret, gtlt, M, m, p, pr);
    var xM = isX(M);
    var xm = xM || isX(m);
    var xp = xm || isX(p);
    var anyX = xp;

    if (gtlt === '=' && anyX)
      gtlt = '';

    if (xM) {
      if (gtlt === '>' || gtlt === '<') {
        // nothing is allowed
        ret = '<0.0.0';
      } else {
        // nothing is forbidden
        ret = '*';
      }
    } else if (gtlt && anyX) {
      // replace X with 0
      if (xm)
        m = 0;
      if (xp)
        p = 0;

      if (gtlt === '>') {
        // >1 => >=2.0.0
        // >1.2 => >=1.3.0
        // >1.2.3 => >= 1.2.4
        gtlt = '>=';
        if (xm) {
          M = +M + 1;
          m = 0;
          p = 0;
        } else if (xp) {
          m = +m + 1;
          p = 0;
        }
      } else if (gtlt === '<=') {
        // <=0.7.x is actually <0.8.0, since any 0.7.x should
        // pass.  Similarly, <=7.x is actually <8.0.0, etc.
        gtlt = '<';
        if (xm)
          M = +M + 1;
        else
          m = +m + 1;
      }

      ret = gtlt + M + '.' + m + '.' + p;
    } else if (xm) {
      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';
    } else if (xp) {
      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';
    }

    debug('xRange return', ret);

    return ret;
  });
}

// Because * is AND-ed with everything else in the comparator,
// and '' means "any version", just remove the *s entirely.
function replaceStars(comp, options) {
  debug('replaceStars', comp, options);
  // Looseness is ignored here.  star is always as loose as it gets!
  return comp.trim().replace(re[STAR], '');
}

// This function is passed to string.replace(re[HYPHENRANGE])
// M, m, patch, prerelease, build
// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5
// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do
// 1.2 - 3.4 => >=1.2.0 <3.5.0
function hyphenReplace($0,
                       from, fM, fm, fp, fpr, fb,
                       to, tM, tm, tp, tpr, tb) {

  if (isX(fM))
    from = '';
  else if (isX(fm))
    from = '>=' + fM + '.0.0';
  else if (isX(fp))
    from = '>=' + fM + '.' + fm + '.0';
  else
    from = '>=' + from;

  if (isX(tM))
    to = '';
  else if (isX(tm))
    to = '<' + (+tM + 1) + '.0.0';
  else if (isX(tp))
    to = '<' + tM + '.' + (+tm + 1) + '.0';
  else if (tpr)
    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr;
  else
    to = '<=' + to;

  return (from + ' ' + to).trim();
}


// if ANY of the sets match ALL of its comparators, then pass
Range.prototype.test = function(version) {
  if (!version)
    return false;

  if (typeof version === 'string')
    version = new SemVer(version, this.options);

  for (var i = 0; i < this.set.length; i++) {
    if (testSet(this.set[i], version, this.options))
      return true;
  }
  return false;
};

function testSet(set, version, options) {
  for (var i = 0; i < set.length; i++) {
    if (!set[i].test(version))
      return false;
  }

  if (!options)
    options = {}

  if (version.prerelease.length && !options.includePrerelease) {
    // Find the set of versions that are allowed to have prereleases
    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0
    // That should allow `1.2.3-pr.2` to pass.
    // However, `1.2.4-alpha.notready` should NOT be allowed,
    // even though it's within the range set by the comparators.
    for (var i = 0; i < set.length; i++) {
      debug(set[i].semver);
      if (set[i].semver === ANY)
        continue;

      if (set[i].semver.prerelease.length > 0) {
        var allowed = set[i].semver;
        if (allowed.major === version.major &&
            allowed.minor === version.minor &&
            allowed.patch === version.patch)
          return true;
      }
    }

    // Version has a -pre, but it's not one of the ones we like.
    return false;
  }

  return true;
}

exports.satisfies = satisfies;
function satisfies(version, range, options) {
  try {
    range = new Range(range, options);
  } catch (er) {
    return false;
  }
  return range.test(version);
}

exports.maxSatisfying = maxSatisfying;
function maxSatisfying(versions, range, options) {
  var max = null;
  var maxSV = null;
  try {
    var rangeObj = new Range(range, options);
  } catch (er) {
    return null;
  }
  versions.forEach(function (v) {
    if (rangeObj.test(v)) { // satisfies(v, range, options)
      if (!max || maxSV.compare(v) === -1) { // compare(max, v, true)
        max = v;
        maxSV = new SemVer(max, options);
      }
    }
  })
  return max;
}

exports.minSatisfying = minSatisfying;
function minSatisfying(versions, range, options) {
  var min = null;
  var minSV = null;
  try {
    var rangeObj = new Range(range, options);
  } catch (er) {
    return null;
  }
  versions.forEach(function (v) {
    if (rangeObj.test(v)) { // satisfies(v, range, options)
      if (!min || minSV.compare(v) === 1) { // compare(min, v, true)
        min = v;
        minSV = new SemVer(min, options);
      }
    }
  })
  return min;
}

exports.validRange = validRange;
function validRange(range, options) {
  try {
    // Return '*' instead of '' so that truthiness works.
    // This will throw if it's invalid anyway
    return new Range(range, options).range || '*';
  } catch (er) {
    return null;
  }
}

// Determine if version is less than all the versions possible in the range
exports.ltr = ltr;
function ltr(version, range, options) {
  return outside(version, range, '<', options);
}

// Determine if version is greater than all the versions possible in the range.
exports.gtr = gtr;
function gtr(version, range, options) {
  return outside(version, range, '>', options);
}

exports.outside = outside;
function outside(version, range, hilo, options) {
  version = new SemVer(version, options);
  range = new Range(range, options);

  var gtfn, ltefn, ltfn, comp, ecomp;
  switch (hilo) {
    case '>':
      gtfn = gt;
      ltefn = lte;
      ltfn = lt;
      comp = '>';
      ecomp = '>=';
      break;
    case '<':
      gtfn = lt;
      ltefn = gte;
      ltfn = gt;
      comp = '<';
      ecomp = '<=';
      break;
    default:
      throw new TypeError('Must provide a hilo val of "<" or ">"');
  }

  // If it satisifes the range it is not outside
  if (satisfies(version, range, options)) {
    return false;
  }

  // From now on, variable terms are as if we're in "gtr" mode.
  // but note that everything is flipped for the "ltr" function.

  for (var i = 0; i < range.set.length; ++i) {
    var comparators = range.set[i];

    var high = null;
    var low = null;

    comparators.forEach(function(comparator) {
      if (comparator.semver === ANY) {
        comparator = new Comparator('>=0.0.0')
      }
      high = high || comparator;
      low = low || comparator;
      if (gtfn(comparator.semver, high.semver, options)) {
        high = comparator;
      } else if (ltfn(comparator.semver, low.semver, options)) {
        low = comparator;
      }
    });

    // If the edge version comparator has a operator then our version
    // isn't outside it
    if (high.operator === comp || high.operator === ecomp) {
      return false;
    }

    // If the lowest version comparator has an operator and our version
    // is less than it then it isn't higher than the range
    if ((!low.operator || low.operator === comp) &&
        ltefn(version, low.semver)) {
      return false;
    } else if (low.operator === ecomp && ltfn(version, low.semver)) {
      return false;
    }
  }
  return true;
}

exports.prerelease = prerelease;
function prerelease(version, options) {
  var parsed = parse(version, options);
  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null;
}

exports.intersects = intersects;
function intersects(r1, r2, options) {
  r1 = new Range(r1, options)
  r2 = new Range(r2, options)
  return r1.intersects(r2)
}

exports.coerce = coerce;
function coerce(version) {
  if (version instanceof SemVer)
    return version;

  if (typeof version !== 'string')
    return null;

  var match = version.match(re[COERCE]);

  if (match == null)
    return null;

  return parse((match[1] || '0') + '.' + (match[2] || '0') + '.' + (match[3] || '0')); 
}


/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_28pw6pvqnu = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/session/sagas/index.js",
      hash = "a30175881604f6d1223ccd69400b29142828d479",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/session/sagas/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 20 } }, "2": { start: { line: 8, column: 13 }, end: { line: 8, column: 29 } }, "3": { start: { line: 10, column: 14 }, end: { line: 10, column: 44 } }, "4": { start: { line: 12, column: 15 }, end: { line: 12, column: 44 } }, "5": { start: { line: 14, column: 15 }, end: { line: 14, column: 37 } }, "6": { start: { line: 16, column: 13 }, end: { line: 16, column: 37 } }, "7": { start: { line: 18, column: 10 }, end: { line: 18, column: 41 } }, "8": { start: { line: 20, column: 14 }, end: { line: 20, column: 45 } }, "9": { start: { line: 22, column: 17 }, end: { line: 22, column: 49 } }, "10": { start: { line: 24, column: 14 }, end: { line: 24, column: 43 } }, "11": { start: { line: 26, column: 15 }, end: { line: 26, column: 47 } }, "12": { start: { line: 28, column: 14 }, end: { line: 28, column: 38 } }, "13": { start: { line: 30, column: 10 }, end: { line: 30, column: 42 } }, "14": { start: { line: 32, column: 14 }, end: { line: 32, column: 40 } }, "15": { start: { line: 34, column: 12 }, end: { line: 34, column: 44 } }, "16": { start: { line: 36, column: 14 }, end: { line: 36, column: 39 } }, "17": { start: { line: 38, column: 11 }, end: { line: 38, column: 43 } }, "18": { start: { line: 40, column: 14 }, end: { line: 40, column: 39 } }, "19": { start: { line: 42, column: 11 }, end: { line: 42, column: 43 } }, "20": { start: { line: 44, column: 15 }, end: { line: 44, column: 36 } }, "21": { start: { line: 46, column: 14 }, end: { line: 46, column: 47 } }, "22": { start: { line: 48, column: 40 }, end: { line: 48, column: 267 } }, "23": { start: { line: 48, column: 69 }, end: { line: 48, column: 80 } }, "24": { start: { line: 48, column: 103 }, end: { line: 48, column: 105 } }, "25": { start: { line: 48, column: 107 }, end: { line: 48, column: 228 } }, "26": { start: { line: 48, column: 126 }, end: { line: 48, column: 226 } }, "27": { start: { line: 48, column: 149 }, end: { line: 48, column: 224 } }, "28": { start: { line: 48, column: 201 }, end: { line: 48, column: 224 } }, "29": { start: { line: 48, column: 229 }, end: { line: 48, column: 250 } }, "30": { start: { line: 48, column: 251 }, end: { line: 48, column: 265 } }, "31": { start: { line: 50, column: 39 }, end: { line: 50, column: 93 } }, "32": { start: { line: 52, column: 14 }, end: { line: 52, column: 60 } }, "33": { start: { line: 55, column: 2 }, end: { line: 55, column: 30 } }, "34": { start: { line: 56, column: 2 }, end: { line: 56, column: 25 } }, "35": { start: { line: 59, column: 2 }, end: { line: 59, column: 44 } }, "36": { start: { line: 60, column: 30 }, end: { line: 60, column: 80 } }, "37": { start: { line: 62, column: 2 }, end: { line: 62, column: 39 } }, "38": { start: { line: 63, column: 2 }, end: { line: 63, column: 37 } }, "39": { start: { line: 65, column: 2 }, end: { line: 65, column: 38 } }, "40": { start: { line: 66, column: 2 }, end: { line: 66, column: 35 } }, "41": { start: { line: 68, column: 2 }, end: { line: 68, column: 29 } }, "42": { start: { line: 70, column: 29 }, end: { line: 70, column: 68 } }, "43": { start: { line: 71, column: 2 }, end: { line: 71, column: 20 } }, "44": { start: { line: 74, column: 2 }, end: { line: 74, column: 37 } }, "45": { start: { line: 75, column: 12 }, end: { line: 75, column: 44 } }, "46": { start: { line: 76, column: 2 }, end: { line: 91, column: 3 } }, "47": { start: { line: 77, column: 4 }, end: { line: 77, column: 27 } }, "48": { start: { line: 78, column: 4 }, end: { line: 78, column: 22 } }, "49": { start: { line: 80, column: 4 }, end: { line: 80, column: 27 } }, "50": { start: { line: 82, column: 4 }, end: { line: 82, column: 26 } }, "51": { start: { line: 85, column: 4 }, end: { line: 85, column: 37 } }, "52": { start: { line: 86, column: 4 }, end: { line: 86, column: 36 } }, "53": { start: { line: 88, column: 4 }, end: { line: 88, column: 22 } }, "54": { start: { line: 90, column: 4 }, end: { line: 90, column: 19 } }, "55": { start: { line: 94, column: 0 }, end: { line: 94, column: 60 } }, "56": { start: { line: 98, column: 2 }, end: { line: 100, column: 5 } }, "57": { start: { line: 98, column: 91 }, end: { line: 98, column: 119 } }, "58": { start: { line: 104, column: 15 }, end: { line: 104, column: 63 } }, "59": { start: { line: 106, column: 2 }, end: { line: 108, column: 3 } }, "60": { start: { line: 107, column: 4 }, end: { line: 107, column: 24 } }, "61": { start: { line: 110, column: 2 }, end: { line: 110, column: 27 } }, "62": { start: { line: 112, column: 18 }, end: { line: 112, column: 57 } }, "63": { start: { line: 113, column: 2 }, end: { line: 115, column: 3 } }, "64": { start: { line: 114, column: 4 }, end: { line: 114, column: 35 } }, "65": { start: { line: 117, column: 17 }, end: { line: 117, column: 54 } }, "66": { start: { line: 119, column: 2 }, end: { line: 119, column: 115 } }, "67": { start: { line: 119, column: 56 }, end: { line: 119, column: 112 } }, "68": { start: { line: 123, column: 2 }, end: { line: 131, column: 3 } }, "69": { start: { line: 124, column: 56 }, end: { line: 124, column: 60 } }, "70": { start: { line: 126, column: 4 }, end: { line: 126, column: 62 } }, "71": { start: { line: 128, column: 4 }, end: { line: 130, column: 5 } }, "72": { start: { line: 129, column: 6 }, end: { line: 129, column: 54 } }, "73": { start: { line: 135, column: 2 }, end: { line: 140, column: 3 } }, "74": { start: { line: 136, column: 23 }, end: { line: 136, column: 33 } }, "75": { start: { line: 137, column: 4 }, end: { line: 139, column: 5 } }, "76": { start: { line: 138, column: 6 }, end: { line: 138, column: 90 } }, "77": { start: { line: 144, column: 2 }, end: { line: 144, column: 42 } }, "78": { start: { line: 148, column: 2 }, end: { line: 148, column: 43 } }, "79": { start: { line: 152, column: 2 }, end: { line: 152, column: 46 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 48, column: 9 }, end: { line: 48, column: 32 } }, loc: { start: { line: 48, column: 38 }, end: { line: 48, column: 269 } }, line: 48 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 50, column: 9 }, end: { line: 50, column: 31 } }, loc: { start: { line: 50, column: 37 }, end: { line: 50, column: 95 } }, line: 50 }, "2": { name: "saga", decl: { start: { line: 54, column: 10 }, end: { line: 54, column: 14 } }, loc: { start: { line: 54, column: 17 }, end: { line: 92, column: 1 } }, line: 54 }, "3": { name: "forkListeners", decl: { start: { line: 97, column: 10 }, end: { line: 97, column: 23 } }, loc: { start: { line: 97, column: 26 }, end: { line: 101, column: 1 } }, line: 97 }, "4": { name: "(anonymous_4)", decl: { start: { line: 98, column: 84 }, end: { line: 98, column: 85 } }, loc: { start: { line: 98, column: 91 }, end: { line: 98, column: 119 } }, line: 98 }, "5": { name: "fetchTx", decl: { start: { line: 103, column: 10 }, end: { line: 103, column: 17 } }, loc: { start: { line: 103, column: 36 }, end: { line: 120, column: 1 } }, line: 103 }, "6": { name: "(anonymous_6)", decl: { start: { line: 119, column: 40 }, end: { line: 119, column: 41 } }, loc: { start: { line: 119, column: 56 }, end: { line: 119, column: 112 } }, line: 119 }, "7": { name: "recordContexts", decl: { start: { line: 122, column: 10 }, end: { line: 122, column: 24 } }, loc: { start: { line: 122, column: 38 }, end: { line: 132, column: 1 } }, line: 122 }, "8": { name: "recordSources", decl: { start: { line: 134, column: 10 }, end: { line: 134, column: 23 } }, loc: { start: { line: 134, column: 36 }, end: { line: 141, column: 1 } }, line: 134 }, "9": { name: "recordInstance", decl: { start: { line: 143, column: 10 }, end: { line: 143, column: 24 } }, loc: { start: { line: 143, column: 42 }, end: { line: 145, column: 1 } }, line: 143 }, "10": { name: "ready", decl: { start: { line: 147, column: 10 }, end: { line: 147, column: 15 } }, loc: { start: { line: 147, column: 18 }, end: { line: 149, column: 1 } }, line: 147 }, "11": { name: "error", decl: { start: { line: 151, column: 10 }, end: { line: 151, column: 15 } }, loc: { start: { line: 151, column: 21 }, end: { line: 153, column: 1 } }, line: 151 } }, branchMap: { "0": { loc: { start: { line: 48, column: 40 }, end: { line: 48, column: 267 } }, type: "if", locations: [{ start: { line: 48, column: 40 }, end: { line: 48, column: 267 } }, { start: { line: 48, column: 40 }, end: { line: 48, column: 267 } }], line: 48 }, "1": { loc: { start: { line: 48, column: 44 }, end: { line: 48, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 48, column: 44 }, end: { line: 48, column: 47 } }, { start: { line: 48, column: 51 }, end: { line: 48, column: 65 } }], line: 48 }, "2": { loc: { start: { line: 48, column: 107 }, end: { line: 48, column: 228 } }, type: "if", locations: [{ start: { line: 48, column: 107 }, end: { line: 48, column: 228 } }, { start: { line: 48, column: 107 }, end: { line: 48, column: 228 } }], line: 48 }, "3": { loc: { start: { line: 48, column: 149 }, end: { line: 48, column: 224 } }, type: "if", locations: [{ start: { line: 48, column: 149 }, end: { line: 48, column: 224 } }, { start: { line: 48, column: 149 }, end: { line: 48, column: 224 } }], line: 48 }, "4": { loc: { start: { line: 50, column: 46 }, end: { line: 50, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 50, column: 70 }, end: { line: 50, column: 73 } }, { start: { line: 50, column: 76 }, end: { line: 50, column: 92 } }], line: 50 }, "5": { loc: { start: { line: 50, column: 46 }, end: { line: 50, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 50, column: 46 }, end: { line: 50, column: 49 } }, { start: { line: 50, column: 53 }, end: { line: 50, column: 67 } }], line: 50 }, "6": { loc: { start: { line: 76, column: 2 }, end: { line: 91, column: 3 } }, type: "if", locations: [{ start: { line: 76, column: 2 }, end: { line: 91, column: 3 } }, { start: { line: 76, column: 2 }, end: { line: 91, column: 3 } }], line: 76 }, "7": { loc: { start: { line: 106, column: 2 }, end: { line: 108, column: 3 } }, type: "if", locations: [{ start: { line: 106, column: 2 }, end: { line: 108, column: 3 } }, { start: { line: 106, column: 2 }, end: { line: 108, column: 3 } }], line: 106 }, "8": { loc: { start: { line: 113, column: 2 }, end: { line: 115, column: 3 } }, type: "if", locations: [{ start: { line: 113, column: 2 }, end: { line: 115, column: 3 } }, { start: { line: 113, column: 2 }, end: { line: 115, column: 3 } }], line: 113 }, "9": { loc: { start: { line: 113, column: 6 }, end: { line: 113, column: 63 } }, type: "binary-expr", locations: [{ start: { line: 113, column: 6 }, end: { line: 113, column: 20 } }, { start: { line: 113, column: 24 }, end: { line: 113, column: 63 } }], line: 113 }, "10": { loc: { start: { line: 128, column: 4 }, end: { line: 130, column: 5 } }, type: "if", locations: [{ start: { line: 128, column: 4 }, end: { line: 130, column: 5 } }, { start: { line: 128, column: 4 }, end: { line: 130, column: 5 } }], line: 128 }, "11": { loc: { start: { line: 137, column: 4 }, end: { line: 139, column: 5 } }, type: "if", locations: [{ start: { line: 137, column: 4 }, end: { line: 139, column: 5 } }, { start: { line: 137, column: 4 }, end: { line: 139, column: 5 } }], line: 137 }, "12": { loc: { start: { line: 137, column: 8 }, end: { line: 137, column: 55 } }, type: "binary-expr", locations: [{ start: { line: 137, column: 8 }, end: { line: 137, column: 32 } }, { start: { line: 137, column: 36 }, end: { line: 137, column: 55 } }], line: 137 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0, "49": 0, "50": 0, "51": 0, "52": 0, "53": 0, "54": 0, "55": 0, "56": 0, "57": 0, "58": 0, "59": 0, "60": 0, "61": 0, "62": 0, "63": 0, "64": 0, "65": 0, "66": 0, "67": 0, "68": 0, "69": 0, "70": 0, "71": 0, "72": 0, "73": 0, "74": 0, "75": 0, "76": 0, "77": 0, "78": 0, "79": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0, 0], "7": [0, 0], "8": [0, 0], "9": [0, 0], "10": [0, 0], "11": [0, 0], "12": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/session/sagas/index.js"], names: ["saga", "ast", "controller", "solidity", "evm", "trace", "data", "web3", "actions", "debug", "forkListeners", "contexts", "sources", "RECORD_CONTRACTS", "recordContexts", "recordSources", "txHash", "provider", "START", "err", "fetchTx", "error", "visitAll", "recordAllocations", "ready", "map", "app", "result", "inspectTransaction", "begin", "addresses", "processTrace", "address", "indexOf", "push", "binaries", "obtainBinaries", "i", "recordInstance", "contractName", "binary", "sourceMap", "compiler", "addContext", "addSourceMap", "length", "sourceData", "undefined", "addSource", "source", "sourcePath", "addInstance"], mappings: "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", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:session:sagas\");\n\nimport { call, all, fork, take, put } from \"redux-saga/effects\";\n\nimport { prefixName } from \"lib/helpers\";\n\nimport * as ast from \"lib/ast/sagas\";\nimport * as controller from \"lib/controller/sagas\";\nimport * as solidity from \"lib/solidity/sagas\";\nimport * as evm from \"lib/evm/sagas\";\nimport * as trace from \"lib/trace/sagas\";\nimport * as data from \"lib/data/sagas\";\nimport * as web3 from \"lib/web3/sagas\";\n\nimport * as actions from \"../actions\";\n\nexport function* saga() {\n  debug(\"starting listeners\");\n  yield* forkListeners();\n\n  // receiving & saving contracts into state\n  debug(\"waiting for contract information\");\n  let { contexts, sources } = yield take(actions.RECORD_CONTRACTS);\n\n  debug(\"recording contract binaries\");\n  yield* recordContexts(...contexts);\n\n  debug(\"recording contract sources\");\n  yield* recordSources(...sources);\n\n  debug(\"waiting for start\");\n  // wait for start signal\n  let { txHash, provider } = yield take(actions.START);\n  debug(\"starting\");\n\n  // process transaction\n  debug(\"fetching transaction info\");\n  let err = yield* fetchTx(txHash, provider);\n  if (err) {\n    debug(\"error %o\", err);\n    yield* error(err);\n  } else {\n    debug(\"visiting ASTs\");\n    // visit asts\n    yield* ast.visitAll();\n\n    //save allocation table\n    debug(\"saving allocation table\");\n    yield* data.recordAllocations();\n\n    debug(\"readying\");\n    // signal that stepping can begin\n    yield* ready();\n  }\n}\n\nexport default prefixName(\"session\", saga);\n\nfunction* forkListeners() {\n  return yield all(\n    [controller, data, evm, solidity, trace, web3].map(\n      app => fork(app.saga)\n      //ast no longer has a listener\n    )\n  );\n}\n\nfunction* fetchTx(txHash, provider) {\n  let result = yield* web3.inspectTransaction(txHash, provider);\n\n  if (result.error) {\n    return result.error;\n  }\n\n  yield* evm.begin(result);\n\n  let addresses = yield* trace.processTrace(result.trace);\n  if (result.address && addresses.indexOf(result.address) == -1) {\n    addresses.push(result.address);\n  }\n\n  let binaries = yield* web3.obtainBinaries(addresses);\n\n  yield all(\n    addresses.map((address, i) => call(recordInstance, address, binaries[i]))\n  );\n}\n\nfunction* recordContexts(...contexts) {\n  for (let { contractName, binary, sourceMap, compiler } of contexts) {\n    yield* evm.addContext(contractName, { binary }, compiler);\n\n    if (sourceMap) {\n      yield* solidity.addSourceMap(binary, sourceMap);\n    }\n  }\n}\n\nfunction* recordSources(...sources) {\n  for (let i = 0; i < sources.length; i++) {\n    const sourceData = sources[i];\n    if (sourceData !== undefined && sourceData !== null) {\n      yield* solidity.addSource(\n        sourceData.source,\n        sourceData.sourcePath,\n        sourceData.ast\n      );\n    }\n  }\n}\n\nfunction* recordInstance(address, binary) {\n  yield* evm.addInstance(address, binary);\n}\n\nfunction* ready() {\n  yield put(actions.ready());\n}\n\nfunction* error(err) {\n  yield put(actions.error(err));\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_28pw6pvqnu.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_28pw6pvqnu.s[1]++;exports.saga = saga;var _debug = (cov_28pw6pvqnu.s[2]++, __webpack_require__(0));var _debug2 = (cov_28pw6pvqnu.s[3]++, _interopRequireDefault(_debug));var _effects = (cov_28pw6pvqnu.s[4]++, __webpack_require__(15));var _helpers = (cov_28pw6pvqnu.s[5]++, __webpack_require__(3));var _sagas = (cov_28pw6pvqnu.s[6]++, __webpack_require__(71));var ast = (cov_28pw6pvqnu.s[7]++, _interopRequireWildcard(_sagas));var _sagas2 = (cov_28pw6pvqnu.s[8]++, __webpack_require__(72));var controller = (cov_28pw6pvqnu.s[9]++, _interopRequireWildcard(_sagas2));var _sagas3 = (cov_28pw6pvqnu.s[10]++, __webpack_require__(37));var solidity = (cov_28pw6pvqnu.s[11]++, _interopRequireWildcard(_sagas3));var _sagas4 = (cov_28pw6pvqnu.s[12]++, __webpack_require__(35));var evm = (cov_28pw6pvqnu.s[13]++, _interopRequireWildcard(_sagas4));var _sagas5 = (cov_28pw6pvqnu.s[14]++, __webpack_require__(21));var trace = (cov_28pw6pvqnu.s[15]++, _interopRequireWildcard(_sagas5));var _sagas6 = (cov_28pw6pvqnu.s[16]++, __webpack_require__(26));var data = (cov_28pw6pvqnu.s[17]++, _interopRequireWildcard(_sagas6));var _sagas7 = (cov_28pw6pvqnu.s[18]++, __webpack_require__(73));var web3 = (cov_28pw6pvqnu.s[19]++, _interopRequireWildcard(_sagas7));var _actions = (cov_28pw6pvqnu.s[20]++, __webpack_require__(24));var actions = (cov_28pw6pvqnu.s[21]++, _interopRequireWildcard(_actions));function _interopRequireWildcard(obj) {
  cov_28pw6pvqnu.f[0]++;cov_28pw6pvqnu.s[22]++;if ((cov_28pw6pvqnu.b[1][0]++, obj) && (cov_28pw6pvqnu.b[1][1]++, obj.__esModule)) {
    cov_28pw6pvqnu.b[0][0]++;cov_28pw6pvqnu.s[23]++;return obj;
  } else {
    cov_28pw6pvqnu.b[0][1]++;var newObj = (cov_28pw6pvqnu.s[24]++, {});cov_28pw6pvqnu.s[25]++;if (obj != null) {
      cov_28pw6pvqnu.b[2][0]++;cov_28pw6pvqnu.s[26]++;for (var key in obj) {
        cov_28pw6pvqnu.s[27]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_28pw6pvqnu.b[3][0]++;cov_28pw6pvqnu.s[28]++;newObj[key] = obj[key];
        } else {
          cov_28pw6pvqnu.b[3][1]++;
        }
      }
    } else {
      cov_28pw6pvqnu.b[2][1]++;
    }cov_28pw6pvqnu.s[29]++;newObj.default = obj;cov_28pw6pvqnu.s[30]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_28pw6pvqnu.f[1]++;cov_28pw6pvqnu.s[31]++;return (cov_28pw6pvqnu.b[5][0]++, obj) && (cov_28pw6pvqnu.b[5][1]++, obj.__esModule) ? (cov_28pw6pvqnu.b[4][0]++, obj) : (cov_28pw6pvqnu.b[4][1]++, { default: obj });
}const debug = (cov_28pw6pvqnu.s[32]++, (0, _debug2.default)("debugger:session:sagas"));function* saga() {
  cov_28pw6pvqnu.f[2]++;cov_28pw6pvqnu.s[33]++;debug("starting listeners");cov_28pw6pvqnu.s[34]++;yield* forkListeners();cov_28pw6pvqnu.s[35]++;debug("waiting for contract information");let { contexts, sources } = (cov_28pw6pvqnu.s[36]++, yield (0, _effects.take)(actions.RECORD_CONTRACTS));cov_28pw6pvqnu.s[37]++;debug("recording contract binaries");cov_28pw6pvqnu.s[38]++;yield* recordContexts(...contexts);cov_28pw6pvqnu.s[39]++;debug("recording contract sources");cov_28pw6pvqnu.s[40]++;yield* recordSources(...sources);cov_28pw6pvqnu.s[41]++;debug("waiting for start");let { txHash, provider } = (cov_28pw6pvqnu.s[42]++, yield (0, _effects.take)(actions.START));cov_28pw6pvqnu.s[43]++;debug("starting");cov_28pw6pvqnu.s[44]++;debug("fetching transaction info");let err = (cov_28pw6pvqnu.s[45]++, yield* fetchTx(txHash, provider));cov_28pw6pvqnu.s[46]++;if (err) {
    cov_28pw6pvqnu.b[6][0]++;cov_28pw6pvqnu.s[47]++;debug("error %o", err);cov_28pw6pvqnu.s[48]++;yield* error(err);
  } else {
    cov_28pw6pvqnu.b[6][1]++;cov_28pw6pvqnu.s[49]++;debug("visiting ASTs");cov_28pw6pvqnu.s[50]++;yield* ast.visitAll();cov_28pw6pvqnu.s[51]++;debug("saving allocation table");cov_28pw6pvqnu.s[52]++;yield* data.recordAllocations();cov_28pw6pvqnu.s[53]++;debug("readying");cov_28pw6pvqnu.s[54]++;yield* ready();
  }
}cov_28pw6pvqnu.s[55]++;exports.default = (0, _helpers.prefixName)("session", saga);function* forkListeners() {
  cov_28pw6pvqnu.f[3]++;cov_28pw6pvqnu.s[56]++;return yield (0, _effects.all)([controller, data, evm, solidity, trace, web3].map(app => {
    cov_28pw6pvqnu.f[4]++;cov_28pw6pvqnu.s[57]++;return (0, _effects.fork)(app.saga);
  }));
}function* fetchTx(txHash, provider) {
  cov_28pw6pvqnu.f[5]++;let result = (cov_28pw6pvqnu.s[58]++, yield* web3.inspectTransaction(txHash, provider));cov_28pw6pvqnu.s[59]++;if (result.error) {
    cov_28pw6pvqnu.b[7][0]++;cov_28pw6pvqnu.s[60]++;return result.error;
  } else {
    cov_28pw6pvqnu.b[7][1]++;
  }cov_28pw6pvqnu.s[61]++;yield* evm.begin(result);let addresses = (cov_28pw6pvqnu.s[62]++, yield* trace.processTrace(result.trace));cov_28pw6pvqnu.s[63]++;if ((cov_28pw6pvqnu.b[9][0]++, result.address) && (cov_28pw6pvqnu.b[9][1]++, addresses.indexOf(result.address) == -1)) {
    cov_28pw6pvqnu.b[8][0]++;cov_28pw6pvqnu.s[64]++;addresses.push(result.address);
  } else {
    cov_28pw6pvqnu.b[8][1]++;
  }let binaries = (cov_28pw6pvqnu.s[65]++, yield* web3.obtainBinaries(addresses));cov_28pw6pvqnu.s[66]++;yield (0, _effects.all)(addresses.map((address, i) => {
    cov_28pw6pvqnu.f[6]++;cov_28pw6pvqnu.s[67]++;return (0, _effects.call)(recordInstance, address, binaries[i]);
  }));
}function* recordContexts(...contexts) {
  cov_28pw6pvqnu.f[7]++;cov_28pw6pvqnu.s[68]++;for (let _ref of contexts) {
    let { contractName, binary, sourceMap, compiler } = (cov_28pw6pvqnu.s[69]++, _ref);cov_28pw6pvqnu.s[70]++;yield* evm.addContext(contractName, { binary }, compiler);cov_28pw6pvqnu.s[71]++;if (sourceMap) {
      cov_28pw6pvqnu.b[10][0]++;cov_28pw6pvqnu.s[72]++;yield* solidity.addSourceMap(binary, sourceMap);
    } else {
      cov_28pw6pvqnu.b[10][1]++;
    }
  }
}function* recordSources(...sources) {
  cov_28pw6pvqnu.f[8]++;cov_28pw6pvqnu.s[73]++;for (let i = 0; i < sources.length; i++) {
    const sourceData = (cov_28pw6pvqnu.s[74]++, sources[i]);cov_28pw6pvqnu.s[75]++;if ((cov_28pw6pvqnu.b[12][0]++, sourceData !== undefined) && (cov_28pw6pvqnu.b[12][1]++, sourceData !== null)) {
      cov_28pw6pvqnu.b[11][0]++;cov_28pw6pvqnu.s[76]++;yield* solidity.addSource(sourceData.source, sourceData.sourcePath, sourceData.ast);
    } else {
      cov_28pw6pvqnu.b[11][1]++;
    }
  }
}function* recordInstance(address, binary) {
  cov_28pw6pvqnu.f[9]++;cov_28pw6pvqnu.s[77]++;yield* evm.addInstance(address, binary);
}function* ready() {
  cov_28pw6pvqnu.f[10]++;cov_28pw6pvqnu.s[78]++;yield (0, _effects.put)(actions.ready());
}function* error(err) {
  cov_28pw6pvqnu.f[11]++;cov_28pw6pvqnu.s[79]++;yield (0, _effects.put)(actions.error(err));
}

/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_aeme5kur4 = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/ast/sagas/index.js",
      hash = "ffa834fd754cf8ba25b2b2f7976cae829aaee7d0",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/ast/sagas/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 15 }, end: { line: 7, column: 62 } }, "2": { start: { line: 9, column: 16 }, end: { line: 9, column: 48 } }, "3": { start: { line: 11, column: 0 }, end: { line: 11, column: 28 } }, "4": { start: { line: 13, column: 13 }, end: { line: 13, column: 29 } }, "5": { start: { line: 15, column: 14 }, end: { line: 15, column: 44 } }, "6": { start: { line: 17, column: 15 }, end: { line: 17, column: 44 } }, "7": { start: { line: 19, column: 13 }, end: { line: 19, column: 38 } }, "8": { start: { line: 21, column: 11 }, end: { line: 21, column: 42 } }, "9": { start: { line: 23, column: 17 }, end: { line: 23, column: 40 } }, "10": { start: { line: 25, column: 18 }, end: { line: 25, column: 52 } }, "11": { start: { line: 27, column: 40 }, end: { line: 27, column: 267 } }, "12": { start: { line: 27, column: 69 }, end: { line: 27, column: 80 } }, "13": { start: { line: 27, column: 103 }, end: { line: 27, column: 105 } }, "14": { start: { line: 27, column: 107 }, end: { line: 27, column: 228 } }, "15": { start: { line: 27, column: 126 }, end: { line: 27, column: 226 } }, "16": { start: { line: 27, column: 149 }, end: { line: 27, column: 224 } }, "17": { start: { line: 27, column: 201 }, end: { line: 27, column: 224 } }, "18": { start: { line: 27, column: 229 }, end: { line: 27, column: 250 } }, "19": { start: { line: 27, column: 251 }, end: { line: 27, column: 265 } }, "20": { start: { line: 29, column: 39 }, end: { line: 29, column: 93 } }, "21": { start: { line: 31, column: 14 }, end: { line: 31, column: 56 } }, "22": { start: { line: 34, column: 2 }, end: { line: 34, column: 40 } }, "23": { start: { line: 36, column: 2 }, end: { line: 36, column: 56 } }, "24": { start: { line: 38, column: 2 }, end: { line: 46, column: 3 } }, "25": { start: { line: 39, column: 4 }, end: { line: 41, column: 5 } }, "26": { start: { line: 40, column: 6 }, end: { line: 40, column: 83 } }, "27": { start: { line: 42, column: 9 }, end: { line: 46, column: 3 } }, "28": { start: { line: 43, column: 4 }, end: { line: 45, column: 5 } }, "29": { start: { line: 44, column: 6 }, end: { line: 44, column: 84 } }, "30": { start: { line: 48, column: 2 }, end: { line: 48, column: 45 } }, "31": { start: { line: 52, column: 2 }, end: { line: 54, column: 3 } }, "32": { start: { line: 53, column: 4 }, end: { line: 53, column: 11 } }, "33": { start: { line: 56, column: 2 }, end: { line: 56, column: 32 } }, "34": { start: { line: 58, column: 2 }, end: { line: 61, column: 3 } }, "35": { start: { line: 59, column: 4 }, end: { line: 59, column: 53 } }, "36": { start: { line: 60, column: 4 }, end: { line: 60, column: 60 } }, "37": { start: { line: 63, column: 2 }, end: { line: 73, column: 3 } }, "38": { start: { line: 65, column: 6 }, end: { line: 65, column: 55 } }, "39": { start: { line: 66, column: 6 }, end: { line: 66, column: 32 } }, "40": { start: { line: 67, column: 6 }, end: { line: 67, column: 12 } }, "41": { start: { line: 71, column: 6 }, end: { line: 71, column: 35 } }, "42": { start: { line: 72, column: 6 }, end: { line: 72, column: 12 } }, "43": { start: { line: 77, column: 2 }, end: { line: 77, column: 31 } }, "44": { start: { line: 83, column: 16 }, end: { line: 83, column: 77 } }, "45": { start: { line: 85, column: 2 }, end: { line: 85, column: 153 } }, "46": { start: { line: 85, column: 82 }, end: { line: 85, column: 92 } }, "47": { start: { line: 85, column: 117 }, end: { line: 85, column: 150 } }, "48": { start: { line: 87, column: 2 }, end: { line: 87, column: 25 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 27, column: 9 }, end: { line: 27, column: 32 } }, loc: { start: { line: 27, column: 38 }, end: { line: 27, column: 269 } }, line: 27 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 29, column: 9 }, end: { line: 29, column: 31 } }, loc: { start: { line: 29, column: 37 }, end: { line: 29, column: 95 } }, line: 29 }, "2": { name: "walk", decl: { start: { line: 33, column: 10 }, end: { line: 33, column: 14 } }, loc: { start: { line: 33, column: 62 }, end: { line: 49, column: 1 } }, line: 33 }, "3": { name: "handleEnter", decl: { start: { line: 51, column: 10 }, end: { line: 51, column: 21 } }, loc: { start: { line: 51, column: 57 }, end: { line: 74, column: 1 } }, line: 51 }, "4": { name: "handleExit", decl: { start: { line: 76, column: 10 }, end: { line: 76, column: 20 } }, loc: { start: { line: 76, column: 46 }, end: { line: 80, column: 1 } }, line: 76 }, "5": { name: "visitAll", decl: { start: { line: 82, column: 10 }, end: { line: 82, column: 18 } }, loc: { start: { line: 82, column: 21 }, end: { line: 88, column: 1 } }, line: 82 }, "6": { name: "(anonymous_6)", decl: { start: { line: 85, column: 65 }, end: { line: 85, column: 66 } }, loc: { start: { line: 85, column: 82 }, end: { line: 85, column: 92 } }, line: 85 }, "7": { name: "(anonymous_7)", decl: { start: { line: 85, column: 98 }, end: { line: 85, column: 99 } }, loc: { start: { line: 85, column: 117 }, end: { line: 85, column: 150 } }, line: 85 } }, branchMap: { "0": { loc: { start: { line: 27, column: 40 }, end: { line: 27, column: 267 } }, type: "if", locations: [{ start: { line: 27, column: 40 }, end: { line: 27, column: 267 } }, { start: { line: 27, column: 40 }, end: { line: 27, column: 267 } }], line: 27 }, "1": { loc: { start: { line: 27, column: 44 }, end: { line: 27, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 27, column: 44 }, end: { line: 27, column: 47 } }, { start: { line: 27, column: 51 }, end: { line: 27, column: 65 } }], line: 27 }, "2": { loc: { start: { line: 27, column: 107 }, end: { line: 27, column: 228 } }, type: "if", locations: [{ start: { line: 27, column: 107 }, end: { line: 27, column: 228 } }, { start: { line: 27, column: 107 }, end: { line: 27, column: 228 } }], line: 27 }, "3": { loc: { start: { line: 27, column: 149 }, end: { line: 27, column: 224 } }, type: "if", locations: [{ start: { line: 27, column: 149 }, end: { line: 27, column: 224 } }, { start: { line: 27, column: 149 }, end: { line: 27, column: 224 } }], line: 27 }, "4": { loc: { start: { line: 29, column: 46 }, end: { line: 29, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 29, column: 70 }, end: { line: 29, column: 73 } }, { start: { line: 29, column: 76 }, end: { line: 29, column: 92 } }], line: 29 }, "5": { loc: { start: { line: 29, column: 46 }, end: { line: 29, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 29, column: 46 }, end: { line: 29, column: 49 } }, { start: { line: 29, column: 53 }, end: { line: 29, column: 67 } }], line: 29 }, "6": { loc: { start: { line: 33, column: 31 }, end: { line: 33, column: 43 } }, type: "default-arg", locations: [{ start: { line: 33, column: 41 }, end: { line: 33, column: 43 } }], line: 33 }, "7": { loc: { start: { line: 33, column: 45 }, end: { line: 33, column: 60 } }, type: "default-arg", locations: [{ start: { line: 33, column: 56 }, end: { line: 33, column: 60 } }], line: 33 }, "8": { loc: { start: { line: 38, column: 2 }, end: { line: 46, column: 3 } }, type: "if", locations: [{ start: { line: 38, column: 2 }, end: { line: 46, column: 3 } }, { start: { line: 38, column: 2 }, end: { line: 46, column: 3 } }], line: 38 }, "9": { loc: { start: { line: 42, column: 9 }, end: { line: 46, column: 3 } }, type: "if", locations: [{ start: { line: 42, column: 9 }, end: { line: 46, column: 3 } }, { start: { line: 42, column: 9 }, end: { line: 46, column: 3 } }], line: 42 }, "10": { loc: { start: { line: 52, column: 2 }, end: { line: 54, column: 3 } }, type: "if", locations: [{ start: { line: 52, column: 2 }, end: { line: 54, column: 3 } }, { start: { line: 52, column: 2 }, end: { line: 54, column: 3 } }], line: 52 }, "11": { loc: { start: { line: 58, column: 2 }, end: { line: 61, column: 3 } }, type: "if", locations: [{ start: { line: 58, column: 2 }, end: { line: 61, column: 3 } }, { start: { line: 58, column: 2 }, end: { line: 61, column: 3 } }], line: 58 }, "12": { loc: { start: { line: 63, column: 2 }, end: { line: 73, column: 3 } }, type: "switch", locations: [{ start: { line: 64, column: 4 }, end: { line: 67, column: 12 } }, { start: { line: 68, column: 4 }, end: { line: 68, column: 30 } }, { start: { line: 69, column: 4 }, end: { line: 69, column: 28 } }, { start: { line: 70, column: 4 }, end: { line: 72, column: 12 } }], line: 63 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0], "7": [0], "8": [0, 0], "9": [0, 0], "10": [0, 0], "11": [0, 0], "12": [0, 0, 0, 0] }, inputSourceMap: { version: 3, sources: ["lib/ast/sagas/index.js"], names: ["visitAll", "data", "debug", "walk", "sourceId", "node", "pointer", "parentId", "handleEnter", "Array", "i", "child", "entries", "Object", "key", "id", "handleExit", "undefined", "scope", "nodeType", "declare", "defineType", "sources", "ast", "views", "filter", "_", "source", "map"], mappings: ";;;;;;;;;;QA0DiBA,Q,GAAAA,Q;;AA1DjB;;;;AAGA;;AAEA;;IAAYC,I;;AAEZ;;;;;;;;AANA,MAAMC,QAAQ,qBAAY,oBAAZ,CAAd;;AAQA,UAAUC,IAAV,CAAeC,QAAf,EAAyBC,IAAzB,EAA+BC,UAAU,EAAzC,EAA6CC,WAAW,IAAxD,EAA8D;AAC5DL,QAAM,eAAN,EAAuBI,OAAvB,EAAgCD,IAAhC;;AAEA,SAAOG,YAAYJ,QAAZ,EAAsBC,IAAtB,EAA4BC,OAA5B,EAAqCC,QAArC,CAAP;;AAEA,MAAIF,gBAAgBI,KAApB,EAA2B;AACzB,SAAK,IAAI,CAACC,CAAD,EAAIC,KAAJ,CAAT,IAAuBN,KAAKO,OAAL,EAAvB,EAAuC;AACrC,YAAM,mBAAKT,IAAL,EAAWC,QAAX,EAAqBO,KAArB,EAA6B,GAAEL,OAAQ,IAAGI,CAAE,EAA5C,EAA+CH,QAA/C,CAAN;AACD;AACF,GAJD,MAIO,IAAIF,gBAAgBQ,MAApB,EAA4B;AACjC,SAAK,IAAI,CAACC,GAAD,EAAMH,KAAN,CAAT,IAAyB,uBAAeN,IAAf,CAAzB,EAA+C;AAC7C,YAAM,mBAAKF,IAAL,EAAWC,QAAX,EAAqBO,KAArB,EAA6B,GAAEL,OAAQ,IAAGQ,GAAI,EAA9C,EAAiDT,KAAKU,EAAtD,CAAN;AACD;AACF;;AAED,SAAOC,WAAWZ,QAAX,EAAqBC,IAArB,EAA2BC,OAA3B,CAAP;AACD;;AAED,UAAUE,WAAV,CAAsBJ,QAAtB,EAAgCC,IAAhC,EAAsCC,OAAtC,EAA+CC,QAA/C,EAAyD;AACvD,MAAI,EAAEF,gBAAgBQ,MAAlB,CAAJ,EAA+B;AAC7B;AACD;;AAEDX,QAAM,aAAN,EAAqBI,OAArB;;AAEA,MAAID,KAAKU,EAAL,KAAYE,SAAhB,EAA2B;AACzBf,UAAM,uBAAN,EAA+BI,OAA/B,EAAwCD,KAAKU,EAA7C;AACA,WAAOd,KAAKiB,KAAL,CAAWb,KAAKU,EAAhB,EAAoBT,OAApB,EAA6BC,QAA7B,EAAuCH,QAAvC,CAAP;AACD;;AAED,UAAQC,KAAKc,QAAb;AACE,SAAK,qBAAL;AACEjB,YAAM,0BAAN,EAAkCI,OAAlC,EAA2CD,IAA3C;AACA,aAAOJ,KAAKmB,OAAL,CAAaf,IAAb,CAAP;AACA;AACF,SAAK,oBAAL;AACA,SAAK,kBAAL;AACA,SAAK,gBAAL;AACE,aAAOJ,KAAKoB,UAAL,CAAgBhB,IAAhB,CAAP;AACA;AATJ;AAWD;;AAED,UAAUW,UAAV,CAAqBZ,QAArB,EAA+BC,IAA/B,EAAqCC,OAArC,EAA8C;AAC5CJ,QAAM,YAAN,EAAoBI,OAApB;;AAEA;AACD;;AAEM,UAAUN,QAAV,GAAqB;AAC1B,MAAIsB,UAAU,MAAM,qBAAOC,oBAAIC,KAAJ,CAAUF,OAAjB,CAApB;;AAEA,QAAM,kBACJ,uBAAeA,OAAf,EACGG,MADH,CACU,CAAC,CAACC,CAAD,EAAIC,MAAJ,CAAD,KAAiBA,OAAOJ,GADlC,EAEGK,GAFH,CAEO,CAAC,CAACb,EAAD,EAAK,EAAEQ,GAAF,EAAL,CAAD,KAAmB,mBAAKpB,IAAL,EAAWY,EAAX,EAAeQ,GAAf,CAF1B,CADI,CAAN;;AAMArB,QAAM,eAAN;AACD", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:ast:sagas\");\n\nimport { all, call, select } from \"redux-saga/effects\";\n\nimport * as data from \"lib/data/sagas\";\n\nimport ast from \"../selectors\";\n\nfunction* walk(sourceId, node, pointer = \"\", parentId = null) {\n  debug(\"walking %o %o\", pointer, node);\n\n  yield* handleEnter(sourceId, node, pointer, parentId);\n\n  if (node instanceof Array) {\n    for (let [i, child] of node.entries()) {\n      yield call(walk, sourceId, child, `${pointer}/${i}`, parentId);\n    }\n  } else if (node instanceof Object) {\n    for (let [key, child] of Object.entries(node)) {\n      yield call(walk, sourceId, child, `${pointer}/${key}`, node.id);\n    }\n  }\n\n  yield* handleExit(sourceId, node, pointer);\n}\n\nfunction* handleEnter(sourceId, node, pointer, parentId) {\n  if (!(node instanceof Object)) {\n    return;\n  }\n\n  debug(\"entering %s\", pointer);\n\n  if (node.id !== undefined) {\n    debug(\"%s recording scope %s\", pointer, node.id);\n    yield* data.scope(node.id, pointer, parentId, sourceId);\n  }\n\n  switch (node.nodeType) {\n    case \"VariableDeclaration\":\n      debug(\"%s recording variable %o\", pointer, node);\n      yield* data.declare(node);\n      break;\n    case \"ContractDefinition\":\n    case \"StructDefinition\":\n    case \"EnumDefinition\":\n      yield* data.defineType(node);\n      break;\n  }\n}\n\nfunction* handleExit(sourceId, node, pointer) {\n  debug(\"exiting %s\", pointer);\n\n  // no-op right now\n}\n\nexport function* visitAll() {\n  let sources = yield select(ast.views.sources);\n\n  yield all(\n    Object.entries(sources)\n      .filter(([_, source]) => source.ast)\n      .map(([id, { ast }]) => call(walk, id, ast))\n  );\n\n  debug(\"done visiting\");\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_aeme5kur4.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _entries = (cov_aeme5kur4.s[1]++, __webpack_require__(9));var _entries2 = (cov_aeme5kur4.s[2]++, _interopRequireDefault(_entries));cov_aeme5kur4.s[3]++;exports.visitAll = visitAll;var _debug = (cov_aeme5kur4.s[4]++, __webpack_require__(0));var _debug2 = (cov_aeme5kur4.s[5]++, _interopRequireDefault(_debug));var _effects = (cov_aeme5kur4.s[6]++, __webpack_require__(15));var _sagas = (cov_aeme5kur4.s[7]++, __webpack_require__(26));var data = (cov_aeme5kur4.s[8]++, _interopRequireWildcard(_sagas));var _selectors = (cov_aeme5kur4.s[9]++, __webpack_require__(19));var _selectors2 = (cov_aeme5kur4.s[10]++, _interopRequireDefault(_selectors));function _interopRequireWildcard(obj) {
  cov_aeme5kur4.f[0]++;cov_aeme5kur4.s[11]++;if ((cov_aeme5kur4.b[1][0]++, obj) && (cov_aeme5kur4.b[1][1]++, obj.__esModule)) {
    cov_aeme5kur4.b[0][0]++;cov_aeme5kur4.s[12]++;return obj;
  } else {
    cov_aeme5kur4.b[0][1]++;var newObj = (cov_aeme5kur4.s[13]++, {});cov_aeme5kur4.s[14]++;if (obj != null) {
      cov_aeme5kur4.b[2][0]++;cov_aeme5kur4.s[15]++;for (var key in obj) {
        cov_aeme5kur4.s[16]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_aeme5kur4.b[3][0]++;cov_aeme5kur4.s[17]++;newObj[key] = obj[key];
        } else {
          cov_aeme5kur4.b[3][1]++;
        }
      }
    } else {
      cov_aeme5kur4.b[2][1]++;
    }cov_aeme5kur4.s[18]++;newObj.default = obj;cov_aeme5kur4.s[19]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_aeme5kur4.f[1]++;cov_aeme5kur4.s[20]++;return (cov_aeme5kur4.b[5][0]++, obj) && (cov_aeme5kur4.b[5][1]++, obj.__esModule) ? (cov_aeme5kur4.b[4][0]++, obj) : (cov_aeme5kur4.b[4][1]++, { default: obj });
}const debug = (cov_aeme5kur4.s[21]++, (0, _debug2.default)("debugger:ast:sagas"));function* walk(sourceId, node, pointer = (cov_aeme5kur4.b[6][0]++, ""), parentId = (cov_aeme5kur4.b[7][0]++, null)) {
  cov_aeme5kur4.f[2]++;cov_aeme5kur4.s[22]++;debug("walking %o %o", pointer, node);cov_aeme5kur4.s[23]++;yield* handleEnter(sourceId, node, pointer, parentId);cov_aeme5kur4.s[24]++;if (node instanceof Array) {
    cov_aeme5kur4.b[8][0]++;cov_aeme5kur4.s[25]++;for (let [i, child] of node.entries()) {
      cov_aeme5kur4.s[26]++;yield (0, _effects.call)(walk, sourceId, child, `${pointer}/${i}`, parentId);
    }
  } else {
    cov_aeme5kur4.b[8][1]++;cov_aeme5kur4.s[27]++;if (node instanceof Object) {
      cov_aeme5kur4.b[9][0]++;cov_aeme5kur4.s[28]++;for (let [key, child] of (0, _entries2.default)(node)) {
        cov_aeme5kur4.s[29]++;yield (0, _effects.call)(walk, sourceId, child, `${pointer}/${key}`, node.id);
      }
    } else {
      cov_aeme5kur4.b[9][1]++;
    }
  }cov_aeme5kur4.s[30]++;yield* handleExit(sourceId, node, pointer);
}function* handleEnter(sourceId, node, pointer, parentId) {
  cov_aeme5kur4.f[3]++;cov_aeme5kur4.s[31]++;if (!(node instanceof Object)) {
    cov_aeme5kur4.b[10][0]++;cov_aeme5kur4.s[32]++;return;
  } else {
    cov_aeme5kur4.b[10][1]++;
  }cov_aeme5kur4.s[33]++;debug("entering %s", pointer);cov_aeme5kur4.s[34]++;if (node.id !== undefined) {
    cov_aeme5kur4.b[11][0]++;cov_aeme5kur4.s[35]++;debug("%s recording scope %s", pointer, node.id);cov_aeme5kur4.s[36]++;yield* data.scope(node.id, pointer, parentId, sourceId);
  } else {
    cov_aeme5kur4.b[11][1]++;
  }cov_aeme5kur4.s[37]++;switch (node.nodeType) {case "VariableDeclaration":
      cov_aeme5kur4.b[12][0]++;cov_aeme5kur4.s[38]++;debug("%s recording variable %o", pointer, node);cov_aeme5kur4.s[39]++;yield* data.declare(node);cov_aeme5kur4.s[40]++;break;case "ContractDefinition":
      cov_aeme5kur4.b[12][1]++;case "StructDefinition":
      cov_aeme5kur4.b[12][2]++;case "EnumDefinition":
      cov_aeme5kur4.b[12][3]++;cov_aeme5kur4.s[41]++;yield* data.defineType(node);cov_aeme5kur4.s[42]++;break;}
}function* handleExit(sourceId, node, pointer) {
  cov_aeme5kur4.f[4]++;cov_aeme5kur4.s[43]++;debug("exiting %s", pointer);
}function* visitAll() {
  cov_aeme5kur4.f[5]++;let sources = (cov_aeme5kur4.s[44]++, yield (0, _effects.select)(_selectors2.default.views.sources));cov_aeme5kur4.s[45]++;yield (0, _effects.all)((0, _entries2.default)(sources).filter(([_, source]) => {
    cov_aeme5kur4.f[6]++;cov_aeme5kur4.s[46]++;return source.ast;
  }).map(([id, { ast }]) => {
    cov_aeme5kur4.f[7]++;cov_aeme5kur4.s[47]++;return (0, _effects.call)(walk, id, ast);
  }));cov_aeme5kur4.s[48]++;debug("done visiting");
}

/***/ }),
/* 72 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_2he17h4koc = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/controller/sagas/index.js",
      hash = "5327fa48d9148b0042c813d018345aa7575e6b12",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/controller/sagas/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 12 }, end: { line: 7, column: 56 } }, "2": { start: { line: 9, column: 13 }, end: { line: 9, column: 42 } }, "3": { start: { line: 11, column: 11 }, end: { line: 11, column: 47 } }, "4": { start: { line: 13, column: 12 }, end: { line: 13, column: 40 } }, "5": { start: { line: 15, column: 0 }, end: { line: 15, column: 20 } }, "6": { start: { line: 17, column: 13 }, end: { line: 17, column: 29 } }, "7": { start: { line: 19, column: 14 }, end: { line: 19, column: 44 } }, "8": { start: { line: 21, column: 15 }, end: { line: 21, column: 44 } }, "9": { start: { line: 23, column: 15 }, end: { line: 23, column: 37 } }, "10": { start: { line: 25, column: 13 }, end: { line: 25, column: 39 } }, "11": { start: { line: 27, column: 12 }, end: { line: 27, column: 43 } }, "12": { start: { line: 29, column: 14 }, end: { line: 29, column: 39 } }, "13": { start: { line: 31, column: 11 }, end: { line: 31, column: 43 } }, "14": { start: { line: 33, column: 14 }, end: { line: 33, column: 38 } }, "15": { start: { line: 35, column: 10 }, end: { line: 35, column: 42 } }, "16": { start: { line: 37, column: 14 }, end: { line: 37, column: 43 } }, "17": { start: { line: 39, column: 15 }, end: { line: 39, column: 47 } }, "18": { start: { line: 41, column: 15 }, end: { line: 41, column: 36 } }, "19": { start: { line: 43, column: 14 }, end: { line: 43, column: 47 } }, "20": { start: { line: 45, column: 17 }, end: { line: 45, column: 40 } }, "21": { start: { line: 47, column: 18 }, end: { line: 47, column: 52 } }, "22": { start: { line: 49, column: 40 }, end: { line: 49, column: 267 } }, "23": { start: { line: 49, column: 69 }, end: { line: 49, column: 80 } }, "24": { start: { line: 49, column: 103 }, end: { line: 49, column: 105 } }, "25": { start: { line: 49, column: 107 }, end: { line: 49, column: 228 } }, "26": { start: { line: 49, column: 126 }, end: { line: 49, column: 226 } }, "27": { start: { line: 49, column: 149 }, end: { line: 49, column: 224 } }, "28": { start: { line: 49, column: 201 }, end: { line: 49, column: 224 } }, "29": { start: { line: 49, column: 229 }, end: { line: 49, column: 250 } }, "30": { start: { line: 49, column: 251 }, end: { line: 49, column: 265 } }, "31": { start: { line: 51, column: 39 }, end: { line: 51, column: 93 } }, "32": { start: { line: 53, column: 14 }, end: { line: 53, column: 63 } }, "33": { start: { line: 55, column: 22 }, end: { line: 63, column: 1 } }, "34": { start: { line: 66, column: 22 }, end: { line: 66, column: 86 } }, "35": { start: { line: 69, column: 2 }, end: { line: 79, column: 3 } }, "36": { start: { line: 70, column: 4 }, end: { line: 70, column: 40 } }, "37": { start: { line: 71, column: 17 }, end: { line: 71, column: 77 } }, "38": { start: { line: 72, column: 4 }, end: { line: 72, column: 32 } }, "39": { start: { line: 73, column: 15 }, end: { line: 73, column: 41 } }, "40": { start: { line: 75, column: 4 }, end: { line: 78, column: 7 } }, "41": { start: { line: 82, column: 0 }, end: { line: 82, column: 63 } }, "42": { start: { line: 90, column: 2 }, end: { line: 90, column: 25 } }, "43": { start: { line: 91, column: 2 }, end: { line: 91, column: 50 } }, "44": { start: { line: 102, column: 24 }, end: { line: 102, column: 100 } }, "45": { start: { line: 106, column: 2 }, end: { line: 120, column: 208 } }, "46": { start: { line: 108, column: 4 }, end: { line: 108, column: 21 } }, "47": { start: { line: 111, column: 4 }, end: { line: 115, column: 5 } }, "48": { start: { line: 112, column: 6 }, end: { line: 112, column: 82 } }, "49": { start: { line: 114, column: 6 }, end: { line: 114, column: 22 } }, "50": { start: { line: 117, column: 4 }, end: { line: 117, column: 72 } }, "51": { start: { line: 121, column: 2 }, end: { line: 121, column: 50 } }, "52": { start: { line: 137, column: 2 }, end: { line: 143, column: 3 } }, "53": { start: { line: 138, column: 4 }, end: { line: 138, column: 22 } }, "54": { start: { line: 141, column: 4 }, end: { line: 141, column: 52 } }, "55": { start: { line: 142, column: 4 }, end: { line: 142, column: 11 } }, "56": { start: { line: 145, column: 2 }, end: { line: 151, column: 3 } }, "57": { start: { line: 146, column: 4 }, end: { line: 146, column: 22 } }, "58": { start: { line: 149, column: 4 }, end: { line: 149, column: 52 } }, "59": { start: { line: 150, column: 4 }, end: { line: 150, column: 11 } }, "60": { start: { line: 153, column: 24 }, end: { line: 153, column: 93 } }, "61": { start: { line: 154, column: 24 }, end: { line: 154, column: 100 } }, "62": { start: { line: 158, column: 2 }, end: { line: 169, column: 90 } }, "63": { start: { line: 159, column: 4 }, end: { line: 159, column: 22 } }, "64": { start: { line: 161, column: 4 }, end: { line: 161, column: 89 } }, "65": { start: { line: 162, column: 4 }, end: { line: 162, column: 96 } }, "66": { start: { line: 170, column: 2 }, end: { line: 170, column: 50 } }, "67": { start: { line: 179, column: 2 }, end: { line: 185, column: 3 } }, "68": { start: { line: 180, column: 4 }, end: { line: 180, column: 22 } }, "69": { start: { line: 183, column: 4 }, end: { line: 183, column: 52 } }, "70": { start: { line: 184, column: 4 }, end: { line: 184, column: 11 } }, "71": { start: { line: 187, column: 24 }, end: { line: 187, column: 93 } }, "72": { start: { line: 190, column: 2 }, end: { line: 194, column: 42 } }, "73": { start: { line: 191, column: 4 }, end: { line: 191, column: 22 } }, "74": { start: { line: 193, column: 4 }, end: { line: 193, column: 89 } }, "75": { start: { line: 195, column: 2 }, end: { line: 195, column: 50 } }, "76": { start: { line: 205, column: 24 }, end: { line: 205, column: 93 } }, "77": { start: { line: 206, column: 24 }, end: { line: 206, column: 100 } }, "78": { start: { line: 210, column: 2 }, end: { line: 223, column: 100 } }, "79": { start: { line: 211, column: 4 }, end: { line: 211, column: 22 } }, "80": { start: { line: 213, column: 4 }, end: { line: 213, column: 89 } }, "81": { start: { line: 214, column: 4 }, end: { line: 214, column: 96 } }, "82": { start: { line: 224, column: 2 }, end: { line: 224, column: 50 } }, "83": { start: { line: 235, column: 20 }, end: { line: 235, column: 79 } }, "84": { start: { line: 237, column: 22 }, end: { line: 237, column: 27 } }, "85": { start: { line: 239, column: 2 }, end: { line: 239, column: 85 } }, "86": { start: { line: 240, column: 2 }, end: { line: 240, column: 40 } }, "87": { start: { line: 241, column: 2 }, end: { line: 241, column: 61 } }, "88": { start: { line: 242, column: 2 }, end: { line: 242, column: 46 } }, "89": { start: { line: 244, column: 2 }, end: { line: 267, column: 40 } }, "90": { start: { line: 245, column: 4 }, end: { line: 245, column: 22 } }, "91": { start: { line: 247, column: 4 }, end: { line: 247, column: 31 } }, "92": { start: { line: 248, column: 4 }, end: { line: 248, column: 39 } }, "93": { start: { line: 250, column: 4 }, end: { line: 250, column: 87 } }, "94": { start: { line: 251, column: 4 }, end: { line: 251, column: 72 } }, "95": { start: { line: 252, column: 4 }, end: { line: 252, column: 35 } }, "96": { start: { line: 254, column: 4 }, end: { line: 254, column: 42 } }, "97": { start: { line: 255, column: 4 }, end: { line: 255, column: 63 } }, "98": { start: { line: 256, column: 4 }, end: { line: 256, column: 48 } }, "99": { start: { line: 258, column: 4 }, end: { line: 266, column: 18 } }, "100": { start: { line: 259, column: 6 }, end: { line: 262, column: 7 } }, "101": { start: { line: 260, column: 8 }, end: { line: 260, column: 59 } }, "102": { start: { line: 261, column: 8 }, end: { line: 261, column: 68 } }, "103": { start: { line: 265, column: 6 }, end: { line: 265, column: 140 } }, "104": { start: { line: 268, column: 2 }, end: { line: 268, column: 50 } }, "105": { start: { line: 275, column: 2 }, end: { line: 275, column: 22 } }, "106": { start: { line: 276, column: 2 }, end: { line: 276, column: 21 } }, "107": { start: { line: 277, column: 2 }, end: { line: 277, column: 26 } }, "108": { start: { line: 278, column: 2 }, end: { line: 278, column: 23 } }, "109": { start: { line: 279, column: 2 }, end: { line: 279, column: 50 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 49, column: 9 }, end: { line: 49, column: 32 } }, loc: { start: { line: 49, column: 38 }, end: { line: 49, column: 269 } }, line: 49 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 51, column: 9 }, end: { line: 51, column: 31 } }, loc: { start: { line: 51, column: 37 }, end: { line: 51, column: 95 } }, line: 51 }, "2": { name: "saga", decl: { start: { line: 68, column: 10 }, end: { line: 68, column: 14 } }, loc: { start: { line: 68, column: 17 }, end: { line: 80, column: 1 } }, line: 68 }, "3": { name: "advance", decl: { start: { line: 88, column: 10 }, end: { line: 88, column: 17 } }, loc: { start: { line: 88, column: 20 }, end: { line: 92, column: 1 } }, line: 88 }, "4": { name: "stepNext", decl: { start: { line: 101, column: 10 }, end: { line: 101, column: 18 } }, loc: { start: { line: 101, column: 21 }, end: { line: 122, column: 1 } }, line: 101 }, "5": { name: "stepInto", decl: { start: { line: 136, column: 10 }, end: { line: 136, column: 18 } }, loc: { start: { line: 136, column: 21 }, end: { line: 171, column: 1 } }, line: 136 }, "6": { name: "stepOut", decl: { start: { line: 178, column: 10 }, end: { line: 178, column: 17 } }, loc: { start: { line: 178, column: 20 }, end: { line: 196, column: 1 } }, line: 178 }, "7": { name: "stepOver", decl: { start: { line: 204, column: 10 }, end: { line: 204, column: 18 } }, loc: { start: { line: 204, column: 21 }, end: { line: 225, column: 1 } }, line: 204 }, "8": { name: "continueUntilBreakpoint", decl: { start: { line: 230, column: 10 }, end: { line: 230, column: 33 } }, loc: { start: { line: 230, column: 36 }, end: { line: 269, column: 1 } }, line: 230 }, "9": { name: "(anonymous_9)", decl: { start: { line: 258, column: 39 }, end: { line: 258, column: 40 } }, loc: { start: { line: 258, column: 69 }, end: { line: 266, column: 5 } }, line: 258 }, "10": { name: "reset", decl: { start: { line: 274, column: 10 }, end: { line: 274, column: 15 } }, loc: { start: { line: 274, column: 18 }, end: { line: 280, column: 1 } }, line: 274 } }, branchMap: { "0": { loc: { start: { line: 49, column: 40 }, end: { line: 49, column: 267 } }, type: "if", locations: [{ start: { line: 49, column: 40 }, end: { line: 49, column: 267 } }, { start: { line: 49, column: 40 }, end: { line: 49, column: 267 } }], line: 49 }, "1": { loc: { start: { line: 49, column: 44 }, end: { line: 49, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 49, column: 44 }, end: { line: 49, column: 47 } }, { start: { line: 49, column: 51 }, end: { line: 49, column: 65 } }], line: 49 }, "2": { loc: { start: { line: 49, column: 107 }, end: { line: 49, column: 228 } }, type: "if", locations: [{ start: { line: 49, column: 107 }, end: { line: 49, column: 228 } }, { start: { line: 49, column: 107 }, end: { line: 49, column: 228 } }], line: 49 }, "3": { loc: { start: { line: 49, column: 149 }, end: { line: 49, column: 224 } }, type: "if", locations: [{ start: { line: 49, column: 149 }, end: { line: 49, column: 224 } }, { start: { line: 49, column: 149 }, end: { line: 49, column: 224 } }], line: 49 }, "4": { loc: { start: { line: 51, column: 46 }, end: { line: 51, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 51, column: 70 }, end: { line: 51, column: 73 } }, { start: { line: 51, column: 76 }, end: { line: 51, column: 92 } }], line: 51 }, "5": { loc: { start: { line: 51, column: 46 }, end: { line: 51, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 51, column: 46 }, end: { line: 51, column: 49 } }, { start: { line: 51, column: 53 }, end: { line: 51, column: 67 } }], line: 51 }, "6": { loc: { start: { line: 120, column: 11 }, end: { line: 120, column: 206 } }, type: "binary-expr", locations: [{ start: { line: 120, column: 11 }, end: { line: 120, column: 20 } }, { start: { line: 120, column: 25 }, end: { line: 120, column: 34 } }, { start: { line: 120, column: 38 }, end: { line: 120, column: 52 } }, { start: { line: 120, column: 56 }, end: { line: 120, column: 97 } }, { start: { line: 120, column: 101 }, end: { line: 120, column: 150 } }, { start: { line: 120, column: 154 }, end: { line: 120, column: 205 } }], line: 120 }, "7": { loc: { start: { line: 137, column: 2 }, end: { line: 143, column: 3 } }, type: "if", locations: [{ start: { line: 137, column: 2 }, end: { line: 143, column: 3 } }, { start: { line: 137, column: 2 }, end: { line: 143, column: 3 } }], line: 137 }, "8": { loc: { start: { line: 145, column: 2 }, end: { line: 151, column: 3 } }, type: "if", locations: [{ start: { line: 145, column: 2 }, end: { line: 151, column: 3 } }, { start: { line: 145, column: 2 }, end: { line: 151, column: 3 } }], line: 145 }, "9": { loc: { start: { line: 165, column: 2 }, end: { line: 169, column: 88 } }, type: "binary-expr", locations: [{ start: { line: 165, column: 2 }, end: { line: 165, column: 31 } }, { start: { line: 167, column: 2 }, end: { line: 167, column: 43 } }, { start: { line: 169, column: 2 }, end: { line: 169, column: 88 } }], line: 165 }, "10": { loc: { start: { line: 179, column: 2 }, end: { line: 185, column: 3 } }, type: "if", locations: [{ start: { line: 179, column: 2 }, end: { line: 185, column: 3 } }, { start: { line: 179, column: 2 }, end: { line: 185, column: 3 } }], line: 179 }, "11": { loc: { start: { line: 219, column: 2 }, end: { line: 223, column: 98 } }, type: "binary-expr", locations: [{ start: { line: 219, column: 2 }, end: { line: 219, column: 33 } }, { start: { line: 223, column: 2 }, end: { line: 223, column: 30 } }, { start: { line: 223, column: 34 }, end: { line: 223, column: 97 } }], line: 219 }, "12": { loc: { start: { line: 267, column: 11 }, end: { line: 267, column: 38 } }, type: "binary-expr", locations: [{ start: { line: 267, column: 11 }, end: { line: 267, column: 25 } }, { start: { line: 267, column: 29 }, end: { line: 267, column: 38 } }], line: 267 }, "13": { loc: { start: { line: 259, column: 6 }, end: { line: 262, column: 7 } }, type: "if", locations: [{ start: { line: 259, column: 6 }, end: { line: 262, column: 7 } }, { start: { line: 259, column: 6 }, end: { line: 262, column: 7 } }], line: 259 }, "14": { loc: { start: { line: 261, column: 15 }, end: { line: 261, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 261, column: 15 }, end: { line: 261, column: 43 } }, { start: { line: 261, column: 47 }, end: { line: 261, column: 67 } }], line: 261 }, "15": { loc: { start: { line: 265, column: 13 }, end: { line: 265, column: 139 } }, type: "binary-expr", locations: [{ start: { line: 265, column: 13 }, end: { line: 265, column: 41 } }, { start: { line: 265, column: 45 }, end: { line: 265, column: 65 } }, { start: { line: 265, column: 70 }, end: { line: 265, column: 106 } }, { start: { line: 265, column: 110 }, end: { line: 265, column: 138 } }], line: 265 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0, "49": 0, "50": 0, "51": 0, "52": 0, "53": 0, "54": 0, "55": 0, "56": 0, "57": 0, "58": 0, "59": 0, "60": 0, "61": 0, "62": 0, "63": 0, "64": 0, "65": 0, "66": 0, "67": 0, "68": 0, "69": 0, "70": 0, "71": 0, "72": 0, "73": 0, "74": 0, "75": 0, "76": 0, "77": 0, "78": 0, "79": 0, "80": 0, "81": 0, "82": 0, "83": 0, "84": 0, "85": 0, "86": 0, "87": 0, "88": 0, "89": 0, "90": 0, "91": 0, "92": 0, "93": 0, "94": 0, "95": 0, "96": 0, "97": 0, "98": 0, "99": 0, "100": 0, "101": 0, "102": 0, "103": 0, "104": 0, "105": 0, "106": 0, "107": 0, "108": 0, "109": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0, 0, 0, 0, 0, 0], "7": [0, 0], "8": [0, 0], "9": [0, 0, 0], "10": [0, 0], "11": [0, 0, 0], "12": [0, 0], "13": [0, 0], "14": [0, 0], "15": [0, 0, 0, 0] }, inputSourceMap: { version: 3, sources: ["lib/controller/sagas/index.js"], names: ["saga", "trace", "data", "evm", "solidity", "actions", "debug", "CONTROL_SAGAS", "ADVANCE", "advance", "STEP_NEXT", "stepNext", "STEP_OVER", "stepOver", "STEP_INTO", "stepInto", "STEP_OUT", "stepOut", "CONTINUE", "continueUntilBreakpoint", "RESET", "reset", "SKIPPED_TYPES", "action", "type", "exec", "interrupt", "INTERRUPT", "doneStepping", "startingRange", "controller", "current", "location", "sourceRange", "upcoming", "finished", "e", "node", "has", "nodeType", "start", "length", "willJump", "isMultiline", "startingDepth", "functionDepth", "currentDepth", "currentRange", "lines", "line", "currentLocation", "currentNode", "currentLine", "currentSourceId", "previousLine", "previousSourceId", "breakpoints", "breakpointHit", "id", "source", "filter", "sourceId", "undefined"], mappings: "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", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:controller:sagas\");\n\nimport { put, call, race, take, select } from \"redux-saga/effects\";\n\nimport { prefixName } from \"lib/helpers\";\n\nimport * as trace from \"lib/trace/sagas\";\nimport * as data from \"lib/data/sagas\";\nimport * as evm from \"lib/evm/sagas\";\nimport * as solidity from \"lib/solidity/sagas\";\n\nimport * as actions from \"../actions\";\n\nimport controller from \"../selectors\";\n\nconst CONTROL_SAGAS = {\n  [actions.ADVANCE]: advance,\n  [actions.STEP_NEXT]: stepNext,\n  [actions.STEP_OVER]: stepOver,\n  [actions.STEP_INTO]: stepInto,\n  [actions.STEP_OUT]: stepOut,\n  [actions.CONTINUE]: continueUntilBreakpoint,\n  [actions.RESET]: reset\n};\n\n/** AST node types that are skipped to filter out some noise */\nconst SKIPPED_TYPES = new Set([\"ContractDefinition\", \"VariableDeclaration\"]);\n\nexport function* saga() {\n  while (true) {\n    debug(\"waiting for control action\");\n    let action = yield take(Object.keys(CONTROL_SAGAS));\n    debug(\"got control action\");\n    let saga = CONTROL_SAGAS[action.type];\n\n    yield race({\n      exec: call(saga, action),\n      interrupt: take(actions.INTERRUPT)\n    });\n  }\n}\n\nexport default prefixName(\"controller\", saga);\n\n/**\n * Advance the state by one instruction\n */\nfunction* advance() {\n  // send action to advance trace\n  yield* trace.advance();\n  yield put(actions.doneStepping());\n}\n\n/**\n * stepNext - step to the next logical code segment\n *\n * Note: It might take multiple instructions to express the same section of code.\n * \"Stepping\", then, is stepping to the next logical item, not stepping to the next\n * instruction. See advance() if you'd like to advance by one instruction.\n */\nfunction* stepNext() {\n  const startingRange = yield select(controller.current.location.sourceRange);\n\n  var upcoming, finished;\n\n  do {\n    // advance at least once step\n    yield* advance();\n\n    // and check the next source range\n    try {\n      upcoming = yield select(controller.current.location);\n    } catch (e) {\n      upcoming = null;\n    }\n\n    finished = yield select(controller.finished);\n\n    // if the next step's source range is still the same, keep going\n  } while (\n    !finished &&\n    (!upcoming ||\n      !upcoming.node ||\n      SKIPPED_TYPES.has(upcoming.node.nodeType) ||\n      (upcoming.sourceRange.start == startingRange.start &&\n        upcoming.sourceRange.length == startingRange.length))\n  );\n  yield put(actions.doneStepping());\n}\n\n/**\n * stepInto - step into the current function\n *\n * Conceptually this is easy, but from a programming standpoint it's hard.\n * Code like `getBalance(msg.sender)` might be highlighted, but there could\n * be a number of different intermediate steps (like evaluating `msg.sender`)\n * before `getBalance` is stepped into. This function will step into the first\n * function available (where instruction.jump == \"i\"), ignoring any intermediate\n * steps that fall within the same code range. If there's a step encountered\n * that exists outside of the range, then stepInto will only execute until that\n * step.\n */\nfunction* stepInto() {\n  if (yield select(controller.current.willJump)) {\n    yield* stepNext();\n\n    //must mark done stepping before early return\n    yield put(actions.doneStepping());\n    return;\n  }\n\n  if (yield select(controller.current.location.isMultiline)) {\n    yield* stepOver();\n\n    //must mark done stepping before early return\n    yield put(actions.doneStepping());\n    return;\n  }\n\n  const startingDepth = yield select(controller.current.functionDepth);\n  const startingRange = yield select(controller.current.location.sourceRange);\n  var currentDepth;\n  var currentRange;\n\n  do {\n    yield* stepNext();\n\n    currentDepth = yield select(controller.current.functionDepth);\n    currentRange = yield select(controller.current.location.sourceRange);\n  } while (\n    // the function stack has not increased,\n    currentDepth <= startingDepth &&\n    // the current source range begins on or after the starting range\n    currentRange.start >= startingRange.start &&\n    // and the current range ends on or before the starting range ends\n    currentRange.start + currentRange.length <=\n      startingRange.start + startingRange.length\n  );\n  yield put(actions.doneStepping());\n}\n\n/**\n * Step out of the current function\n *\n * This will run until the debugger encounters a decrease in function depth.\n */\nfunction* stepOut() {\n  if (yield select(controller.current.location.isMultiline)) {\n    yield* stepOver();\n\n    //must mark done stepping before early return\n    yield put(actions.doneStepping());\n    return;\n  }\n\n  const startingDepth = yield select(controller.current.functionDepth);\n  var currentDepth;\n\n  do {\n    yield* stepNext();\n\n    currentDepth = yield select(controller.current.functionDepth);\n  } while (currentDepth >= startingDepth);\n  yield put(actions.doneStepping());\n}\n\n/**\n * stepOver - step over the current line\n *\n * Step over the current line. This will step to the next instruction that\n * exists on a different line of code within the same function depth.\n */\nfunction* stepOver() {\n  const startingDepth = yield select(controller.current.functionDepth);\n  const startingRange = yield select(controller.current.location.sourceRange);\n  var currentDepth;\n  var currentRange;\n\n  do {\n    yield* stepNext();\n\n    currentDepth = yield select(controller.current.functionDepth);\n    currentRange = yield select(controller.current.location.sourceRange);\n  } while (\n    // keep stepping provided:\n    //\n    // we haven't jumped out\n    !(currentDepth < startingDepth) &&\n    // either: function depth is greater than starting (ignore function calls)\n    // or, if we're at the same depth, keep stepping until we're on a new\n    // line.\n    (currentDepth > startingDepth ||\n      currentRange.lines.start.line == startingRange.lines.start.line)\n  );\n  yield put(actions.doneStepping());\n}\n\n/**\n * continueUntilBreakpoint - step through execution until a breakpoint\n */\nfunction* continueUntilBreakpoint() {\n  var currentLocation, currentNode, currentLine, currentSourceId;\n  var finished;\n  var previousLine, previousSourceId;\n\n  let breakpoints = yield select(controller.breakpoints);\n\n  let breakpointHit = false;\n\n  currentLocation = yield select(controller.current.location);\n  currentNode = currentLocation.node.id;\n  currentLine = currentLocation.sourceRange.lines.start.line;\n  currentSourceId = currentLocation.source.id;\n\n  do {\n    yield* stepNext();\n\n    previousLine = currentLine;\n    previousSourceId = currentSourceId;\n\n    currentLocation = yield select(controller.current.location);\n    finished = yield select(controller.finished);\n    debug(\"finished %o\", finished);\n\n    currentNode = currentLocation.node.id;\n    currentLine = currentLocation.sourceRange.lines.start.line;\n    currentSourceId = currentLocation.source.id;\n\n    breakpointHit =\n      breakpoints.filter(({ sourceId, line, node }) => {\n        if (node !== undefined) {\n          debug(\"node %d currentNode %d\", node, currentNode);\n          return sourceId === currentSourceId && node === currentNode;\n        }\n        //otherwise, we have a line-style breakpoint; we want to stop at the\n        //*first* point on the line\n        return (\n          sourceId === currentSourceId &&\n          line === currentLine &&\n          (currentSourceId !== previousSourceId || currentLine !== previousLine)\n        );\n      }).length > 0;\n  } while (!breakpointHit && !finished);\n  yield put(actions.doneStepping());\n}\n\n/**\n * reset -- reset the state of the debugger\n */\nfunction* reset() {\n  yield* data.reset();\n  yield* evm.reset();\n  yield* solidity.reset();\n  yield* trace.reset();\n  yield put(actions.doneStepping());\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_2he17h4koc.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _keys = (cov_2he17h4koc.s[1]++, __webpack_require__(17));var _keys2 = (cov_2he17h4koc.s[2]++, _interopRequireDefault(_keys));var _set = (cov_2he17h4koc.s[3]++, __webpack_require__(27));var _set2 = (cov_2he17h4koc.s[4]++, _interopRequireDefault(_set));cov_2he17h4koc.s[5]++;exports.saga = saga;var _debug = (cov_2he17h4koc.s[6]++, __webpack_require__(0));var _debug2 = (cov_2he17h4koc.s[7]++, _interopRequireDefault(_debug));var _effects = (cov_2he17h4koc.s[8]++, __webpack_require__(15));var _helpers = (cov_2he17h4koc.s[9]++, __webpack_require__(3));var _sagas = (cov_2he17h4koc.s[10]++, __webpack_require__(21));var trace = (cov_2he17h4koc.s[11]++, _interopRequireWildcard(_sagas));var _sagas2 = (cov_2he17h4koc.s[12]++, __webpack_require__(26));var data = (cov_2he17h4koc.s[13]++, _interopRequireWildcard(_sagas2));var _sagas3 = (cov_2he17h4koc.s[14]++, __webpack_require__(35));var evm = (cov_2he17h4koc.s[15]++, _interopRequireWildcard(_sagas3));var _sagas4 = (cov_2he17h4koc.s[16]++, __webpack_require__(37));var solidity = (cov_2he17h4koc.s[17]++, _interopRequireWildcard(_sagas4));var _actions = (cov_2he17h4koc.s[18]++, __webpack_require__(28));var actions = (cov_2he17h4koc.s[19]++, _interopRequireWildcard(_actions));var _selectors = (cov_2he17h4koc.s[20]++, __webpack_require__(39));var _selectors2 = (cov_2he17h4koc.s[21]++, _interopRequireDefault(_selectors));function _interopRequireWildcard(obj) {
  cov_2he17h4koc.f[0]++;cov_2he17h4koc.s[22]++;if ((cov_2he17h4koc.b[1][0]++, obj) && (cov_2he17h4koc.b[1][1]++, obj.__esModule)) {
    cov_2he17h4koc.b[0][0]++;cov_2he17h4koc.s[23]++;return obj;
  } else {
    cov_2he17h4koc.b[0][1]++;var newObj = (cov_2he17h4koc.s[24]++, {});cov_2he17h4koc.s[25]++;if (obj != null) {
      cov_2he17h4koc.b[2][0]++;cov_2he17h4koc.s[26]++;for (var key in obj) {
        cov_2he17h4koc.s[27]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_2he17h4koc.b[3][0]++;cov_2he17h4koc.s[28]++;newObj[key] = obj[key];
        } else {
          cov_2he17h4koc.b[3][1]++;
        }
      }
    } else {
      cov_2he17h4koc.b[2][1]++;
    }cov_2he17h4koc.s[29]++;newObj.default = obj;cov_2he17h4koc.s[30]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_2he17h4koc.f[1]++;cov_2he17h4koc.s[31]++;return (cov_2he17h4koc.b[5][0]++, obj) && (cov_2he17h4koc.b[5][1]++, obj.__esModule) ? (cov_2he17h4koc.b[4][0]++, obj) : (cov_2he17h4koc.b[4][1]++, { default: obj });
}const debug = (cov_2he17h4koc.s[32]++, (0, _debug2.default)("debugger:controller:sagas"));const CONTROL_SAGAS = (cov_2he17h4koc.s[33]++, { [actions.ADVANCE]: advance, [actions.STEP_NEXT]: stepNext, [actions.STEP_OVER]: stepOver, [actions.STEP_INTO]: stepInto, [actions.STEP_OUT]: stepOut, [actions.CONTINUE]: continueUntilBreakpoint, [actions.RESET]: reset });const SKIPPED_TYPES = (cov_2he17h4koc.s[34]++, new _set2.default(["ContractDefinition", "VariableDeclaration"]));function* saga() {
  cov_2he17h4koc.f[2]++;cov_2he17h4koc.s[35]++;while (true) {
    cov_2he17h4koc.s[36]++;debug("waiting for control action");let action = (cov_2he17h4koc.s[37]++, yield (0, _effects.take)((0, _keys2.default)(CONTROL_SAGAS)));cov_2he17h4koc.s[38]++;debug("got control action");let saga = (cov_2he17h4koc.s[39]++, CONTROL_SAGAS[action.type]);cov_2he17h4koc.s[40]++;yield (0, _effects.race)({ exec: (0, _effects.call)(saga, action), interrupt: (0, _effects.take)(actions.INTERRUPT) });
  }
}cov_2he17h4koc.s[41]++;exports.default = (0, _helpers.prefixName)("controller", saga);function* advance() {
  cov_2he17h4koc.f[3]++;cov_2he17h4koc.s[42]++;yield* trace.advance();cov_2he17h4koc.s[43]++;yield (0, _effects.put)(actions.doneStepping());
}function* stepNext() {
  cov_2he17h4koc.f[4]++;const startingRange = (cov_2he17h4koc.s[44]++, yield (0, _effects.select)(_selectors2.default.current.location.sourceRange));var upcoming, finished;cov_2he17h4koc.s[45]++;do {
    cov_2he17h4koc.s[46]++;yield* advance();cov_2he17h4koc.s[47]++;try {
      cov_2he17h4koc.s[48]++;upcoming = yield (0, _effects.select)(_selectors2.default.current.location);
    } catch (e) {
      cov_2he17h4koc.s[49]++;upcoming = null;
    }cov_2he17h4koc.s[50]++;finished = yield (0, _effects.select)(_selectors2.default.finished);
  } while ((cov_2he17h4koc.b[6][0]++, !finished) && ((cov_2he17h4koc.b[6][1]++, !upcoming) || (cov_2he17h4koc.b[6][2]++, !upcoming.node) || (cov_2he17h4koc.b[6][3]++, SKIPPED_TYPES.has(upcoming.node.nodeType)) || (cov_2he17h4koc.b[6][4]++, upcoming.sourceRange.start == startingRange.start) && (cov_2he17h4koc.b[6][5]++, upcoming.sourceRange.length == startingRange.length)));cov_2he17h4koc.s[51]++;yield (0, _effects.put)(actions.doneStepping());
}function* stepInto() {
  cov_2he17h4koc.f[5]++;cov_2he17h4koc.s[52]++;if (yield (0, _effects.select)(_selectors2.default.current.willJump)) {
    cov_2he17h4koc.b[7][0]++;cov_2he17h4koc.s[53]++;yield* stepNext();cov_2he17h4koc.s[54]++;yield (0, _effects.put)(actions.doneStepping());cov_2he17h4koc.s[55]++;return;
  } else {
    cov_2he17h4koc.b[7][1]++;
  }cov_2he17h4koc.s[56]++;if (yield (0, _effects.select)(_selectors2.default.current.location.isMultiline)) {
    cov_2he17h4koc.b[8][0]++;cov_2he17h4koc.s[57]++;yield* stepOver();cov_2he17h4koc.s[58]++;yield (0, _effects.put)(actions.doneStepping());cov_2he17h4koc.s[59]++;return;
  } else {
    cov_2he17h4koc.b[8][1]++;
  }const startingDepth = (cov_2he17h4koc.s[60]++, yield (0, _effects.select)(_selectors2.default.current.functionDepth));const startingRange = (cov_2he17h4koc.s[61]++, yield (0, _effects.select)(_selectors2.default.current.location.sourceRange));var currentDepth;var currentRange;cov_2he17h4koc.s[62]++;do {
    cov_2he17h4koc.s[63]++;yield* stepNext();cov_2he17h4koc.s[64]++;currentDepth = yield (0, _effects.select)(_selectors2.default.current.functionDepth);cov_2he17h4koc.s[65]++;currentRange = yield (0, _effects.select)(_selectors2.default.current.location.sourceRange);
  } while ((cov_2he17h4koc.b[9][0]++, currentDepth <= startingDepth) && (cov_2he17h4koc.b[9][1]++, currentRange.start >= startingRange.start) && (cov_2he17h4koc.b[9][2]++, currentRange.start + currentRange.length <= startingRange.start + startingRange.length));cov_2he17h4koc.s[66]++;yield (0, _effects.put)(actions.doneStepping());
}function* stepOut() {
  cov_2he17h4koc.f[6]++;cov_2he17h4koc.s[67]++;if (yield (0, _effects.select)(_selectors2.default.current.location.isMultiline)) {
    cov_2he17h4koc.b[10][0]++;cov_2he17h4koc.s[68]++;yield* stepOver();cov_2he17h4koc.s[69]++;yield (0, _effects.put)(actions.doneStepping());cov_2he17h4koc.s[70]++;return;
  } else {
    cov_2he17h4koc.b[10][1]++;
  }const startingDepth = (cov_2he17h4koc.s[71]++, yield (0, _effects.select)(_selectors2.default.current.functionDepth));var currentDepth;cov_2he17h4koc.s[72]++;do {
    cov_2he17h4koc.s[73]++;yield* stepNext();cov_2he17h4koc.s[74]++;currentDepth = yield (0, _effects.select)(_selectors2.default.current.functionDepth);
  } while (currentDepth >= startingDepth);cov_2he17h4koc.s[75]++;yield (0, _effects.put)(actions.doneStepping());
}function* stepOver() {
  cov_2he17h4koc.f[7]++;const startingDepth = (cov_2he17h4koc.s[76]++, yield (0, _effects.select)(_selectors2.default.current.functionDepth));const startingRange = (cov_2he17h4koc.s[77]++, yield (0, _effects.select)(_selectors2.default.current.location.sourceRange));var currentDepth;var currentRange;cov_2he17h4koc.s[78]++;do {
    cov_2he17h4koc.s[79]++;yield* stepNext();cov_2he17h4koc.s[80]++;currentDepth = yield (0, _effects.select)(_selectors2.default.current.functionDepth);cov_2he17h4koc.s[81]++;currentRange = yield (0, _effects.select)(_selectors2.default.current.location.sourceRange);
  } while ((cov_2he17h4koc.b[11][0]++, !(currentDepth < startingDepth)) && ((cov_2he17h4koc.b[11][1]++, currentDepth > startingDepth) || (cov_2he17h4koc.b[11][2]++, currentRange.lines.start.line == startingRange.lines.start.line)));cov_2he17h4koc.s[82]++;yield (0, _effects.put)(actions.doneStepping());
}function* continueUntilBreakpoint() {
  cov_2he17h4koc.f[8]++;var currentLocation, currentNode, currentLine, currentSourceId;var finished;var previousLine, previousSourceId;let breakpoints = (cov_2he17h4koc.s[83]++, yield (0, _effects.select)(_selectors2.default.breakpoints));let breakpointHit = (cov_2he17h4koc.s[84]++, false);cov_2he17h4koc.s[85]++;currentLocation = yield (0, _effects.select)(_selectors2.default.current.location);cov_2he17h4koc.s[86]++;currentNode = currentLocation.node.id;cov_2he17h4koc.s[87]++;currentLine = currentLocation.sourceRange.lines.start.line;cov_2he17h4koc.s[88]++;currentSourceId = currentLocation.source.id;cov_2he17h4koc.s[89]++;do {
    cov_2he17h4koc.s[90]++;yield* stepNext();cov_2he17h4koc.s[91]++;previousLine = currentLine;cov_2he17h4koc.s[92]++;previousSourceId = currentSourceId;cov_2he17h4koc.s[93]++;currentLocation = yield (0, _effects.select)(_selectors2.default.current.location);cov_2he17h4koc.s[94]++;finished = yield (0, _effects.select)(_selectors2.default.finished);cov_2he17h4koc.s[95]++;debug("finished %o", finished);cov_2he17h4koc.s[96]++;currentNode = currentLocation.node.id;cov_2he17h4koc.s[97]++;currentLine = currentLocation.sourceRange.lines.start.line;cov_2he17h4koc.s[98]++;currentSourceId = currentLocation.source.id;cov_2he17h4koc.s[99]++;breakpointHit = breakpoints.filter(({ sourceId, line, node }) => {
      cov_2he17h4koc.f[9]++;cov_2he17h4koc.s[100]++;if (node !== undefined) {
        cov_2he17h4koc.b[13][0]++;cov_2he17h4koc.s[101]++;debug("node %d currentNode %d", node, currentNode);cov_2he17h4koc.s[102]++;return (cov_2he17h4koc.b[14][0]++, sourceId === currentSourceId) && (cov_2he17h4koc.b[14][1]++, node === currentNode);
      } else {
        cov_2he17h4koc.b[13][1]++;
      }cov_2he17h4koc.s[103]++;return (cov_2he17h4koc.b[15][0]++, sourceId === currentSourceId) && (cov_2he17h4koc.b[15][1]++, line === currentLine) && ((cov_2he17h4koc.b[15][2]++, currentSourceId !== previousSourceId) || (cov_2he17h4koc.b[15][3]++, currentLine !== previousLine));
    }).length > 0;
  } while ((cov_2he17h4koc.b[12][0]++, !breakpointHit) && (cov_2he17h4koc.b[12][1]++, !finished));cov_2he17h4koc.s[104]++;yield (0, _effects.put)(actions.doneStepping());
}function* reset() {
  cov_2he17h4koc.f[10]++;cov_2he17h4koc.s[105]++;yield* data.reset();cov_2he17h4koc.s[106]++;yield* evm.reset();cov_2he17h4koc.s[107]++;yield* solidity.reset();cov_2he17h4koc.s[108]++;yield* trace.reset();cov_2he17h4koc.s[109]++;yield (0, _effects.put)(actions.doneStepping());
}

/***/ }),
/* 73 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_qeobva4y7 = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/web3/sagas/index.js",
      hash = "83362321ffa9f3fdb912f8bf316bdd2d89c59e21",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/web3/sagas/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 48 } }, "2": { start: { line: 7, column: 0 }, end: { line: 7, column: 40 } }, "3": { start: { line: 8, column: 0 }, end: { line: 8, column: 20 } }, "4": { start: { line: 10, column: 13 }, end: { line: 10, column: 29 } }, "5": { start: { line: 12, column: 14 }, end: { line: 12, column: 44 } }, "6": { start: { line: 14, column: 15 }, end: { line: 14, column: 44 } }, "7": { start: { line: 16, column: 15 }, end: { line: 16, column: 37 } }, "8": { start: { line: 18, column: 15 }, end: { line: 18, column: 36 } }, "9": { start: { line: 20, column: 14 }, end: { line: 20, column: 47 } }, "10": { start: { line: 22, column: 16 }, end: { line: 22, column: 46 } }, "11": { start: { line: 24, column: 14 }, end: { line: 24, column: 48 } }, "12": { start: { line: 26, column: 15 }, end: { line: 26, column: 36 } }, "13": { start: { line: 28, column: 16 }, end: { line: 28, column: 48 } }, "14": { start: { line: 30, column: 40 }, end: { line: 30, column: 267 } }, "15": { start: { line: 30, column: 69 }, end: { line: 30, column: 80 } }, "16": { start: { line: 30, column: 103 }, end: { line: 30, column: 105 } }, "17": { start: { line: 30, column: 107 }, end: { line: 30, column: 228 } }, "18": { start: { line: 30, column: 126 }, end: { line: 30, column: 226 } }, "19": { start: { line: 30, column: 149 }, end: { line: 30, column: 224 } }, "20": { start: { line: 30, column: 201 }, end: { line: 30, column: 224 } }, "21": { start: { line: 30, column: 229 }, end: { line: 30, column: 250 } }, "22": { start: { line: 30, column: 251 }, end: { line: 30, column: 265 } }, "23": { start: { line: 32, column: 39 }, end: { line: 32, column: 93 } }, "24": { start: { line: 34, column: 14 }, end: { line: 34, column: 57 } }, "25": { start: { line: 37, column: 2 }, end: { line: 37, column: 34 } }, "26": { start: { line: 39, column: 2 }, end: { line: 45, column: 3 } }, "27": { start: { line: 40, column: 4 }, end: { line: 40, column: 75 } }, "28": { start: { line: 42, column: 4 }, end: { line: 42, column: 27 } }, "29": { start: { line: 43, column: 4 }, end: { line: 43, column: 46 } }, "30": { start: { line: 44, column: 4 }, end: { line: 44, column: 11 } }, "31": { start: { line: 47, column: 2 }, end: { line: 47, column: 21 } }, "32": { start: { line: 48, column: 2 }, end: { line: 48, column: 55 } }, "33": { start: { line: 50, column: 11 }, end: { line: 50, column: 79 } }, "34": { start: { line: 51, column: 16 }, end: { line: 51, column: 80 } }, "35": { start: { line: 53, column: 2 }, end: { line: 53, column: 55 } }, "36": { start: { line: 54, column: 2 }, end: { line: 54, column: 56 } }, "37": { start: { line: 56, column: 2 }, end: { line: 59, column: 3 } }, "38": { start: { line: 57, column: 4 }, end: { line: 57, column: 69 } }, "39": { start: { line: 58, column: 4 }, end: { line: 58, column: 11 } }, "40": { start: { line: 61, column: 2 }, end: { line: 64, column: 3 } }, "41": { start: { line: 62, column: 4 }, end: { line: 62, column: 71 } }, "42": { start: { line: 63, column: 4 }, end: { line: 63, column: 11 } }, "43": { start: { line: 66, column: 2 }, end: { line: 66, column: 193 } }, "44": { start: { line: 70, column: 2 }, end: { line: 70, column: 43 } }, "45": { start: { line: 71, column: 15 }, end: { line: 71, column: 85 } }, "46": { start: { line: 73, column: 2 }, end: { line: 73, column: 43 } }, "47": { start: { line: 74, column: 2 }, end: { line: 74, column: 66 } }, "48": { start: { line: 78, column: 2 }, end: { line: 78, column: 50 } }, "49": { start: { line: 79, column: 2 }, end: { line: 79, column: 51 } }, "50": { start: { line: 81, column: 15 }, end: { line: 81, column: 114 } }, "51": { start: { line: 81, column: 54 }, end: { line: 81, column: 113 } }, "52": { start: { line: 82, column: 2 }, end: { line: 82, column: 29 } }, "53": { start: { line: 85, column: 2 }, end: { line: 90, column: 3 } }, "54": { start: { line: 86, column: 4 }, end: { line: 86, column: 25 } }, "55": { start: { line: 87, column: 4 }, end: { line: 87, column: 28 } }, "56": { start: { line: 89, column: 4 }, end: { line: 89, column: 35 } }, "57": { start: { line: 92, column: 28 }, end: { line: 92, column: 74 } }, "58": { start: { line: 93, column: 2 }, end: { line: 93, column: 25 } }, "59": { start: { line: 95, column: 2 }, end: { line: 95, column: 36 } }, "60": { start: { line: 99, column: 14 }, end: { line: 99, column: 107 } }, "61": { start: { line: 99, column: 63 }, end: { line: 99, column: 105 } }, "62": { start: { line: 101, column: 2 }, end: { line: 101, column: 31 } }, "63": { start: { line: 102, column: 2 }, end: { line: 102, column: 101 } }, "64": { start: { line: 102, column: 51 }, end: { line: 102, column: 98 } }, "65": { start: { line: 104, column: 17 }, end: { line: 104, column: 19 } }, "66": { start: { line: 105, column: 2 }, end: { line: 105, column: 82 } }, "67": { start: { line: 105, column: 55 }, end: { line: 105, column: 79 } }, "68": { start: { line: 107, column: 2 }, end: { line: 107, column: 33 } }, "69": { start: { line: 109, column: 2 }, end: { line: 109, column: 18 } }, "70": { start: { line: 113, column: 19 }, end: { line: 113, column: 121 } }, "71": { start: { line: 113, column: 54 }, end: { line: 113, column: 120 } }, "72": { start: { line: 114, column: 2 }, end: { line: 114, column: 38 } }, "73": { start: { line: 116, column: 2 }, end: { line: 116, column: 16 } }, "74": { start: { line: 121, column: 21 }, end: { line: 121, column: 64 } }, "75": { start: { line: 122, column: 16 }, end: { line: 122, column: 47 } }, "76": { start: { line: 124, column: 2 }, end: { line: 124, column: 80 } }, "77": { start: { line: 125, column: 2 }, end: { line: 125, column: 76 } }, "78": { start: { line: 128, column: 0 }, end: { line: 128, column: 57 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 30, column: 9 }, end: { line: 30, column: 32 } }, loc: { start: { line: 30, column: 38 }, end: { line: 30, column: 269 } }, line: 30 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 32, column: 9 }, end: { line: 32, column: 31 } }, loc: { start: { line: 32, column: 37 }, end: { line: 32, column: 95 } }, line: 32 }, "2": { name: "fetchTransactionInfo", decl: { start: { line: 36, column: 10 }, end: { line: 36, column: 30 } }, loc: { start: { line: 36, column: 52 }, end: { line: 67, column: 1 } }, line: 36 }, "3": { name: "fetchBinary", decl: { start: { line: 69, column: 10 }, end: { line: 69, column: 21 } }, loc: { start: { line: 69, column: 44 }, end: { line: 75, column: 1 } }, line: 69 }, "4": { name: "inspectTransaction", decl: { start: { line: 77, column: 10 }, end: { line: 77, column: 28 } }, loc: { start: { line: 77, column: 47 }, end: { line: 96, column: 1 } }, line: 77 }, "5": { name: "(anonymous_5)", decl: { start: { line: 81, column: 40 }, end: { line: 81, column: 41 } }, loc: { start: { line: 81, column: 54 }, end: { line: 81, column: 113 } }, line: 81 }, "6": { name: "obtainBinaries", decl: { start: { line: 98, column: 10 }, end: { line: 98, column: 24 } }, loc: { start: { line: 98, column: 36 }, end: { line: 110, column: 1 } }, line: 98 }, "7": { name: "(anonymous_7)", decl: { start: { line: 99, column: 52 }, end: { line: 99, column: 53 } }, loc: { start: { line: 99, column: 63 }, end: { line: 99, column: 105 } }, line: 99 }, "8": { name: "(anonymous_8)", decl: { start: { line: 102, column: 40 }, end: { line: 102, column: 41 } }, loc: { start: { line: 102, column: 51 }, end: { line: 102, column: 98 } }, line: 102 }, "9": { name: "(anonymous_9)", decl: { start: { line: 105, column: 47 }, end: { line: 105, column: 48 } }, loc: { start: { line: 105, column: 55 }, end: { line: 105, column: 79 } }, line: 105 }, "10": { name: "receiveBinary", decl: { start: { line: 112, column: 10 }, end: { line: 112, column: 23 } }, loc: { start: { line: 112, column: 33 }, end: { line: 117, column: 1 } }, line: 112 }, "11": { name: "(anonymous_11)", decl: { start: { line: 113, column: 44 }, end: { line: 113, column: 45 } }, loc: { start: { line: 113, column: 54 }, end: { line: 113, column: 120 } }, line: 113 }, "12": { name: "saga", decl: { start: { line: 119, column: 10 }, end: { line: 119, column: 14 } }, loc: { start: { line: 119, column: 17 }, end: { line: 126, column: 1 } }, line: 119 } }, branchMap: { "0": { loc: { start: { line: 30, column: 40 }, end: { line: 30, column: 267 } }, type: "if", locations: [{ start: { line: 30, column: 40 }, end: { line: 30, column: 267 } }, { start: { line: 30, column: 40 }, end: { line: 30, column: 267 } }], line: 30 }, "1": { loc: { start: { line: 30, column: 44 }, end: { line: 30, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 30, column: 44 }, end: { line: 30, column: 47 } }, { start: { line: 30, column: 51 }, end: { line: 30, column: 65 } }], line: 30 }, "2": { loc: { start: { line: 30, column: 107 }, end: { line: 30, column: 228 } }, type: "if", locations: [{ start: { line: 30, column: 107 }, end: { line: 30, column: 228 } }, { start: { line: 30, column: 107 }, end: { line: 30, column: 228 } }], line: 30 }, "3": { loc: { start: { line: 30, column: 149 }, end: { line: 30, column: 224 } }, type: "if", locations: [{ start: { line: 30, column: 149 }, end: { line: 30, column: 224 } }, { start: { line: 30, column: 149 }, end: { line: 30, column: 224 } }], line: 30 }, "4": { loc: { start: { line: 32, column: 46 }, end: { line: 32, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 32, column: 70 }, end: { line: 32, column: 73 } }, { start: { line: 32, column: 76 }, end: { line: 32, column: 92 } }], line: 32 }, "5": { loc: { start: { line: 32, column: 46 }, end: { line: 32, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 32, column: 46 }, end: { line: 32, column: 49 } }, { start: { line: 32, column: 53 }, end: { line: 32, column: 67 } }], line: 32 }, "6": { loc: { start: { line: 56, column: 2 }, end: { line: 59, column: 3 } }, type: "if", locations: [{ start: { line: 56, column: 2 }, end: { line: 59, column: 3 } }, { start: { line: 56, column: 2 }, end: { line: 59, column: 3 } }], line: 56 }, "7": { loc: { start: { line: 56, column: 6 }, end: { line: 56, column: 29 } }, type: "binary-expr", locations: [{ start: { line: 56, column: 6 }, end: { line: 56, column: 11 } }, { start: { line: 56, column: 15 }, end: { line: 56, column: 29 } }], line: 56 }, "8": { loc: { start: { line: 61, column: 2 }, end: { line: 64, column: 3 } }, type: "if", locations: [{ start: { line: 61, column: 2 }, end: { line: 64, column: 3 } }, { start: { line: 61, column: 2 }, end: { line: 64, column: 3 } }], line: 61 }, "9": { loc: { start: { line: 81, column: 54 }, end: { line: 81, column: 113 } }, type: "binary-expr", locations: [{ start: { line: 81, column: 54 }, end: { line: 81, column: 83 } }, { start: { line: 81, column: 87 }, end: { line: 81, column: 113 } }], line: 81 }, "10": { loc: { start: { line: 85, column: 2 }, end: { line: 90, column: 3 } }, type: "if", locations: [{ start: { line: 85, column: 2 }, end: { line: 90, column: 3 } }, { start: { line: 85, column: 2 }, end: { line: 90, column: 3 } }], line: 85 }, "11": { loc: { start: { line: 113, column: 54 }, end: { line: 113, column: 120 } }, type: "binary-expr", locations: [{ start: { line: 113, column: 54 }, end: { line: 113, column: 91 } }, { start: { line: 113, column: 95 }, end: { line: 113, column: 120 } }], line: 113 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0, "49": 0, "50": 0, "51": 0, "52": 0, "53": 0, "54": 0, "55": 0, "56": 0, "57": 0, "58": 0, "59": 0, "60": 0, "61": 0, "62": 0, "63": 0, "64": 0, "65": 0, "66": 0, "67": 0, "68": 0, "69": 0, "70": 0, "71": 0, "72": 0, "73": 0, "74": 0, "75": 0, "76": 0, "77": 0, "78": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0, 0], "7": [0, 0], "8": [0, 0], "9": [0, 0], "10": [0, 0], "11": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/web3/sagas/index.js"], names: ["inspectTransaction", "obtainBinaries", "saga", "actions", "session", "debug", "fetchTransactionInfo", "adapter", "txHash", "trace", "getTrace", "e", "error", "receiveTrace", "tx", "getTransaction", "receipt", "getReceipt", "saveTransaction", "saveReceipt", "to", "receiveCall", "address", "contractAddress", "binary", "input", "Error", "fetchBinary", "getDeployedCode", "receiveBinary", "provider", "init", "inspect", "action", "type", "RECEIVE_TRACE", "ERROR_WEB3", "RECEIVE_CALL", "addresses", "tasks", "map", "binaries", "task", "RECEIVE_BINARY", "INIT_WEB3", "Web3Adapter", "INSPECT", "FETCH_BINARY"], mappings: "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", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:web3:sagas\");\n\nimport { all, takeEvery, apply, fork, join, take, put, select } from 'redux-saga/effects';\nimport { prefixName } from \"lib/helpers\";\n\nimport * as actions from \"../actions\";\nimport * as session from \"lib/session/actions\";\n\nimport Web3Adapter from \"../adapter\";\n\nfunction* fetchTransactionInfo(adapter, {txHash}) {\n  debug(\"inspecting transaction\");\n  var trace;\n  try {\n    trace = yield apply(adapter, adapter.getTrace, [txHash]);\n  } catch(e) {\n    debug(\"putting error\");\n    yield put(actions.error(e));\n    return;\n  }\n\n  debug(\"got trace\");\n  yield put(actions.receiveTrace(trace));\n\n  let tx = yield apply(adapter, adapter.getTransaction, [txHash]);\n  let receipt = yield apply(adapter, adapter.getReceipt, [txHash]);\n\n  yield put(session.saveTransaction(tx));\n  yield put(session.saveReceipt(receipt));\n\n  if (tx.to && tx.to != \"0x0\") {\n    yield put(actions.receiveCall({address: tx.to}));\n    return;\n  }\n\n  if (receipt.contractAddress) {\n    yield put(actions.receiveCall({binary: tx.input}));\n    return;\n  }\n\n  throw new Error(\n    \"Could not find contract associated with transaction. \" +\n    \"Please make sure you're debugging a transaction that executes a \" +\n    \"contract function or creates a new contract.\"\n  );\n}\n\nfunction* fetchBinary(adapter, {address}) {\n  debug(\"fetching binary for %s\", address);\n  let binary = yield apply(adapter, adapter.getDeployedCode, [address]);\n\n  debug(\"received binary for %s\", address);\n  yield put(actions.receiveBinary(address, binary));\n}\n\nexport function *inspectTransaction(txHash, provider) {\n  yield put(actions.init(provider));\n  yield put(actions.inspect(txHash));\n\n  let action = yield take( ({type}) =>\n    type == actions.RECEIVE_TRACE || type == actions.ERROR_WEB3\n  );\n  debug(\"action %o\", action);\n\n  var trace;\n  if (action.type == actions.RECEIVE_TRACE) {\n    trace = action.trace;\n    debug(\"received trace\");\n  } else {\n    return { error: action.error };\n  }\n\n  let {address, binary} = yield take(actions.RECEIVE_CALL);\n  debug(\"received call\");\n\n  return { trace, address, binary };\n}\n\nexport function *obtainBinaries(addresses) {\n  let tasks = yield all(\n    addresses.map( (address) => fork(receiveBinary, address) )\n  );\n\n  debug(\"requesting binaries\");\n  yield all(\n    addresses.map( (address) => put(actions.fetchBinary(address)) )\n  );\n\n  let binaries = [];\n  binaries = yield all(\n    tasks.map(task => join(task))\n  );\n\n  debug(\"binaries %o\", binaries);\n\n  return binaries;\n}\n\nfunction *receiveBinary(address) {\n  let {binary} = yield take((action) => (\n    action.type == actions.RECEIVE_BINARY &&\n    action.address == address\n  ));\n  debug(\"got binary for %s\", address);\n\n  return binary;\n}\n\nexport function* saga() {\n  // wait for web3 init signal\n  let {provider} = yield take(actions.INIT_WEB3);\n  let adapter = new Web3Adapter(provider);\n\n  yield takeEvery(actions.INSPECT, fetchTransactionInfo, adapter);\n  yield takeEvery(actions.FETCH_BINARY, fetchBinary, adapter);\n}\n\nexport default prefixName(\"web3\", saga);\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_qeobva4y7.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_qeobva4y7.s[1]++;exports.inspectTransaction = inspectTransaction;cov_qeobva4y7.s[2]++;exports.obtainBinaries = obtainBinaries;cov_qeobva4y7.s[3]++;exports.saga = saga;var _debug = (cov_qeobva4y7.s[4]++, __webpack_require__(0));var _debug2 = (cov_qeobva4y7.s[5]++, _interopRequireDefault(_debug));var _effects = (cov_qeobva4y7.s[6]++, __webpack_require__(15));var _helpers = (cov_qeobva4y7.s[7]++, __webpack_require__(3));var _actions = (cov_qeobva4y7.s[8]++, __webpack_require__(74));var actions = (cov_qeobva4y7.s[9]++, _interopRequireWildcard(_actions));var _actions2 = (cov_qeobva4y7.s[10]++, __webpack_require__(24));var session = (cov_qeobva4y7.s[11]++, _interopRequireWildcard(_actions2));var _adapter = (cov_qeobva4y7.s[12]++, __webpack_require__(75));var _adapter2 = (cov_qeobva4y7.s[13]++, _interopRequireDefault(_adapter));function _interopRequireWildcard(obj) {
  cov_qeobva4y7.f[0]++;cov_qeobva4y7.s[14]++;if ((cov_qeobva4y7.b[1][0]++, obj) && (cov_qeobva4y7.b[1][1]++, obj.__esModule)) {
    cov_qeobva4y7.b[0][0]++;cov_qeobva4y7.s[15]++;return obj;
  } else {
    cov_qeobva4y7.b[0][1]++;var newObj = (cov_qeobva4y7.s[16]++, {});cov_qeobva4y7.s[17]++;if (obj != null) {
      cov_qeobva4y7.b[2][0]++;cov_qeobva4y7.s[18]++;for (var key in obj) {
        cov_qeobva4y7.s[19]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_qeobva4y7.b[3][0]++;cov_qeobva4y7.s[20]++;newObj[key] = obj[key];
        } else {
          cov_qeobva4y7.b[3][1]++;
        }
      }
    } else {
      cov_qeobva4y7.b[2][1]++;
    }cov_qeobva4y7.s[21]++;newObj.default = obj;cov_qeobva4y7.s[22]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_qeobva4y7.f[1]++;cov_qeobva4y7.s[23]++;return (cov_qeobva4y7.b[5][0]++, obj) && (cov_qeobva4y7.b[5][1]++, obj.__esModule) ? (cov_qeobva4y7.b[4][0]++, obj) : (cov_qeobva4y7.b[4][1]++, { default: obj });
}const debug = (cov_qeobva4y7.s[24]++, (0, _debug2.default)("debugger:web3:sagas"));function* fetchTransactionInfo(adapter, { txHash }) {
  cov_qeobva4y7.f[2]++;cov_qeobva4y7.s[25]++;debug("inspecting transaction");var trace;cov_qeobva4y7.s[26]++;try {
    cov_qeobva4y7.s[27]++;trace = yield (0, _effects.apply)(adapter, adapter.getTrace, [txHash]);
  } catch (e) {
    cov_qeobva4y7.s[28]++;debug("putting error");cov_qeobva4y7.s[29]++;yield (0, _effects.put)(actions.error(e));cov_qeobva4y7.s[30]++;return;
  }cov_qeobva4y7.s[31]++;debug("got trace");cov_qeobva4y7.s[32]++;yield (0, _effects.put)(actions.receiveTrace(trace));let tx = (cov_qeobva4y7.s[33]++, yield (0, _effects.apply)(adapter, adapter.getTransaction, [txHash]));let receipt = (cov_qeobva4y7.s[34]++, yield (0, _effects.apply)(adapter, adapter.getReceipt, [txHash]));cov_qeobva4y7.s[35]++;yield (0, _effects.put)(session.saveTransaction(tx));cov_qeobva4y7.s[36]++;yield (0, _effects.put)(session.saveReceipt(receipt));cov_qeobva4y7.s[37]++;if ((cov_qeobva4y7.b[7][0]++, tx.to) && (cov_qeobva4y7.b[7][1]++, tx.to != "0x0")) {
    cov_qeobva4y7.b[6][0]++;cov_qeobva4y7.s[38]++;yield (0, _effects.put)(actions.receiveCall({ address: tx.to }));cov_qeobva4y7.s[39]++;return;
  } else {
    cov_qeobva4y7.b[6][1]++;
  }cov_qeobva4y7.s[40]++;if (receipt.contractAddress) {
    cov_qeobva4y7.b[8][0]++;cov_qeobva4y7.s[41]++;yield (0, _effects.put)(actions.receiveCall({ binary: tx.input }));cov_qeobva4y7.s[42]++;return;
  } else {
    cov_qeobva4y7.b[8][1]++;
  }cov_qeobva4y7.s[43]++;throw new Error("Could not find contract associated with transaction. " + "Please make sure you're debugging a transaction that executes a " + "contract function or creates a new contract.");
}function* fetchBinary(adapter, { address }) {
  cov_qeobva4y7.f[3]++;cov_qeobva4y7.s[44]++;debug("fetching binary for %s", address);let binary = (cov_qeobva4y7.s[45]++, yield (0, _effects.apply)(adapter, adapter.getDeployedCode, [address]));cov_qeobva4y7.s[46]++;debug("received binary for %s", address);cov_qeobva4y7.s[47]++;yield (0, _effects.put)(actions.receiveBinary(address, binary));
}function* inspectTransaction(txHash, provider) {
  cov_qeobva4y7.f[4]++;cov_qeobva4y7.s[48]++;yield (0, _effects.put)(actions.init(provider));cov_qeobva4y7.s[49]++;yield (0, _effects.put)(actions.inspect(txHash));let action = (cov_qeobva4y7.s[50]++, yield (0, _effects.take)(({ type }) => {
    cov_qeobva4y7.f[5]++;cov_qeobva4y7.s[51]++;return (cov_qeobva4y7.b[9][0]++, type == actions.RECEIVE_TRACE) || (cov_qeobva4y7.b[9][1]++, type == actions.ERROR_WEB3);
  }));cov_qeobva4y7.s[52]++;debug("action %o", action);var trace;cov_qeobva4y7.s[53]++;if (action.type == actions.RECEIVE_TRACE) {
    cov_qeobva4y7.b[10][0]++;cov_qeobva4y7.s[54]++;trace = action.trace;cov_qeobva4y7.s[55]++;debug("received trace");
  } else {
    cov_qeobva4y7.b[10][1]++;cov_qeobva4y7.s[56]++;return { error: action.error };
  }let { address, binary } = (cov_qeobva4y7.s[57]++, yield (0, _effects.take)(actions.RECEIVE_CALL));cov_qeobva4y7.s[58]++;debug("received call");cov_qeobva4y7.s[59]++;return { trace, address, binary };
}function* obtainBinaries(addresses) {
  cov_qeobva4y7.f[6]++;let tasks = (cov_qeobva4y7.s[60]++, yield (0, _effects.all)(addresses.map(address => {
    cov_qeobva4y7.f[7]++;cov_qeobva4y7.s[61]++;return (0, _effects.fork)(receiveBinary, address);
  })));cov_qeobva4y7.s[62]++;debug("requesting binaries");cov_qeobva4y7.s[63]++;yield (0, _effects.all)(addresses.map(address => {
    cov_qeobva4y7.f[8]++;cov_qeobva4y7.s[64]++;return (0, _effects.put)(actions.fetchBinary(address));
  }));let binaries = (cov_qeobva4y7.s[65]++, []);cov_qeobva4y7.s[66]++;binaries = yield (0, _effects.all)(tasks.map(task => {
    cov_qeobva4y7.f[9]++;cov_qeobva4y7.s[67]++;return (0, _effects.join)(task);
  }));cov_qeobva4y7.s[68]++;debug("binaries %o", binaries);cov_qeobva4y7.s[69]++;return binaries;
}function* receiveBinary(address) {
  cov_qeobva4y7.f[10]++;let { binary } = (cov_qeobva4y7.s[70]++, yield (0, _effects.take)(action => {
    cov_qeobva4y7.f[11]++;cov_qeobva4y7.s[71]++;return (cov_qeobva4y7.b[11][0]++, action.type == actions.RECEIVE_BINARY) && (cov_qeobva4y7.b[11][1]++, action.address == address);
  }));cov_qeobva4y7.s[72]++;debug("got binary for %s", address);cov_qeobva4y7.s[73]++;return binary;
}function* saga() {
  cov_qeobva4y7.f[12]++;let { provider } = (cov_qeobva4y7.s[74]++, yield (0, _effects.take)(actions.INIT_WEB3));let adapter = (cov_qeobva4y7.s[75]++, new _adapter2.default(provider));cov_qeobva4y7.s[76]++;yield (0, _effects.takeEvery)(actions.INSPECT, fetchTransactionInfo, adapter);cov_qeobva4y7.s[77]++;yield (0, _effects.takeEvery)(actions.FETCH_BINARY, fetchBinary, adapter);
}cov_qeobva4y7.s[78]++;exports.default = (0, _helpers.prefixName)("web3", saga);

/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_1820yj2utr = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/web3/actions/index.js",
      hash = "def67e69229b183380e9a37991dc3aae4d0fce0b",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/web3/actions/index.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 20 } }, "2": { start: { line: 7, column: 0 }, end: { line: 7, column: 26 } }, "3": { start: { line: 8, column: 0 }, end: { line: 8, column: 34 } }, "4": { start: { line: 9, column: 0 }, end: { line: 9, column: 38 } }, "5": { start: { line: 10, column: 0 }, end: { line: 10, column: 36 } }, "6": { start: { line: 11, column: 0 }, end: { line: 11, column: 34 } }, "7": { start: { line: 12, column: 0 }, end: { line: 12, column: 22 } }, "8": { start: { line: 13, column: 18 }, end: { line: 13, column: 49 } }, "9": { start: { line: 15, column: 2 }, end: { line: 18, column: 4 } }, "10": { start: { line: 21, column: 16 }, end: { line: 21, column: 55 } }, "11": { start: { line: 23, column: 2 }, end: { line: 26, column: 4 } }, "12": { start: { line: 29, column: 21 }, end: { line: 29, column: 58 } }, "13": { start: { line: 31, column: 2 }, end: { line: 34, column: 4 } }, "14": { start: { line: 37, column: 23 }, end: { line: 37, column: 64 } }, "15": { start: { line: 39, column: 2 }, end: { line: 43, column: 4 } }, "16": { start: { line: 46, column: 22 }, end: { line: 46, column: 61 } }, "17": { start: { line: 48, column: 2 }, end: { line: 51, column: 4 } }, "18": { start: { line: 54, column: 21 }, end: { line: 54, column: 58 } }, "19": { start: { line: 56, column: 2 }, end: { line: 60, column: 4 } }, "20": { start: { line: 63, column: 19 }, end: { line: 63, column: 52 } }, "21": { start: { line: 65, column: 2 }, end: { line: 68, column: 4 } } }, fnMap: { "0": { name: "init", decl: { start: { line: 14, column: 9 }, end: { line: 14, column: 13 } }, loc: { start: { line: 14, column: 24 }, end: { line: 19, column: 1 } }, line: 14 }, "1": { name: "inspect", decl: { start: { line: 22, column: 9 }, end: { line: 22, column: 16 } }, loc: { start: { line: 22, column: 25 }, end: { line: 27, column: 1 } }, line: 22 }, "2": { name: "fetchBinary", decl: { start: { line: 30, column: 9 }, end: { line: 30, column: 20 } }, loc: { start: { line: 30, column: 30 }, end: { line: 35, column: 1 } }, line: 30 }, "3": { name: "receiveBinary", decl: { start: { line: 38, column: 9 }, end: { line: 38, column: 22 } }, loc: { start: { line: 38, column: 40 }, end: { line: 44, column: 1 } }, line: 38 }, "4": { name: "receiveTrace", decl: { start: { line: 47, column: 9 }, end: { line: 47, column: 21 } }, loc: { start: { line: 47, column: 29 }, end: { line: 52, column: 1 } }, line: 47 }, "5": { name: "receiveCall", decl: { start: { line: 55, column: 9 }, end: { line: 55, column: 20 } }, loc: { start: { line: 55, column: 42 }, end: { line: 61, column: 1 } }, line: 55 }, "6": { name: "error", decl: { start: { line: 64, column: 9 }, end: { line: 64, column: 14 } }, loc: { start: { line: 64, column: 22 }, end: { line: 69, column: 1 } }, line: 64 } }, branchMap: {}, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0 }, b: {}, inputSourceMap: { version: 3, sources: ["lib/web3/actions/index.js"], names: ["init", "inspect", "fetchBinary", "receiveBinary", "receiveTrace", "receiveCall", "error", "INIT_WEB3", "provider", "type", "INSPECT", "txHash", "FETCH_BINARY", "address", "RECEIVE_BINARY", "binary", "RECEIVE_TRACE", "trace", "RECEIVE_CALL", "ERROR_WEB3"], mappings: ";;;;;QACgBA,I,GAAAA,I;QAQAC,O,GAAAA,O;QAQAC,W,GAAAA,W;QAQAC,a,GAAAA,a;QASAC,Y,GAAAA,Y;QAQAC,W,GAAAA,W;QASAC,K,GAAAA,K;AAnDT,MAAMC,gCAAY,WAAlB;AACA,SAASP,IAAT,CAAcQ,QAAd,EAAwB;AAC7B,SAAO;AACLC,UAAMF,SADD;AAELC;AAFK,GAAP;AAID;;AAEM,MAAME,4BAAU,qBAAhB;AACA,SAAST,OAAT,CAAiBU,MAAjB,EAAyB;AAC9B,SAAO;AACLF,UAAMC,OADD;AAELC;AAFK,GAAP;AAID;;AAEM,MAAMC,sCAAe,cAArB;AACA,SAASV,WAAT,CAAqBW,OAArB,EAA8B;AACnC,SAAO;AACLJ,UAAMG,YADD;AAELC;AAFK,GAAP;AAID;;AAEM,MAAMC,0CAAiB,gBAAvB;AACA,SAASX,aAAT,CAAuBU,OAAvB,EAAgCE,MAAhC,EAAwC;AAC7C,SAAO;AACLN,UAAMK,cADD;AAELD,WAFK;AAGTE;AAHS,GAAP;AAKD;;AAEM,MAAMC,wCAAgB,eAAtB;AACA,SAASZ,YAAT,CAAsBa,KAAtB,EAA6B;AAClC,SAAO;AACLR,UAAMO,aADD;AAELC;AAFK,GAAP;AAID;;AAEM,MAAMC,sCAAe,cAArB;AACA,SAASb,WAAT,CAAqB,EAACQ,OAAD,EAAUE,MAAV,EAArB,EAAwC;AAC7C,SAAO;AACLN,UAAMS,YADD;AAELL,WAFK;AAGTE;AAHS,GAAP;AAKD;;AAEM,MAAMI,kCAAa,YAAnB;AACA,SAASb,KAAT,CAAeA,KAAf,EAAsB;AAC3B,SAAO;AACLG,UAAMU,UADD;AAELb;AAFK,GAAP;AAID", file: "index.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["export const INIT_WEB3 = \"INIT_WEB3\";\nexport function init(provider) {\n  return {\n    type: INIT_WEB3,\n    provider\n  };\n}\n\nexport const INSPECT = \"INSPECT_TRANSACTION\";\nexport function inspect(txHash) {\n  return {\n    type: INSPECT,\n    txHash\n  };\n}\n\nexport const FETCH_BINARY = \"FETCH_BINARY\";\nexport function fetchBinary(address) {\n  return {\n    type: FETCH_BINARY,\n    address\n  };\n}\n\nexport const RECEIVE_BINARY = \"RECEIVE_BINARY\";\nexport function receiveBinary(address, binary) {\n  return {\n    type: RECEIVE_BINARY,\n    address,\nbinary\n  };\n}\n\nexport const RECEIVE_TRACE = \"RECEIVE_TRACE\";\nexport function receiveTrace(trace) {\n  return {\n    type: RECEIVE_TRACE,\n    trace\n  };\n}\n\nexport const RECEIVE_CALL = \"RECEIVE_CALL\";\nexport function receiveCall({address, binary}) {\n  return {\n    type: RECEIVE_CALL,\n    address,\nbinary\n  };\n}\n\nexport const ERROR_WEB3 = \"ERROR_WEB3\";\nexport function error(error) {\n  return {\n    type: ERROR_WEB3,\n    error\n  };\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_1820yj2utr.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_1820yj2utr.s[1]++;exports.init = init;cov_1820yj2utr.s[2]++;exports.inspect = inspect;cov_1820yj2utr.s[3]++;exports.fetchBinary = fetchBinary;cov_1820yj2utr.s[4]++;exports.receiveBinary = receiveBinary;cov_1820yj2utr.s[5]++;exports.receiveTrace = receiveTrace;cov_1820yj2utr.s[6]++;exports.receiveCall = receiveCall;cov_1820yj2utr.s[7]++;exports.error = error;const INIT_WEB3 = (cov_1820yj2utr.s[8]++, exports.INIT_WEB3 = "INIT_WEB3");function init(provider) {
  cov_1820yj2utr.f[0]++;cov_1820yj2utr.s[9]++;return { type: INIT_WEB3, provider };
}const INSPECT = (cov_1820yj2utr.s[10]++, exports.INSPECT = "INSPECT_TRANSACTION");function inspect(txHash) {
  cov_1820yj2utr.f[1]++;cov_1820yj2utr.s[11]++;return { type: INSPECT, txHash };
}const FETCH_BINARY = (cov_1820yj2utr.s[12]++, exports.FETCH_BINARY = "FETCH_BINARY");function fetchBinary(address) {
  cov_1820yj2utr.f[2]++;cov_1820yj2utr.s[13]++;return { type: FETCH_BINARY, address };
}const RECEIVE_BINARY = (cov_1820yj2utr.s[14]++, exports.RECEIVE_BINARY = "RECEIVE_BINARY");function receiveBinary(address, binary) {
  cov_1820yj2utr.f[3]++;cov_1820yj2utr.s[15]++;return { type: RECEIVE_BINARY, address, binary };
}const RECEIVE_TRACE = (cov_1820yj2utr.s[16]++, exports.RECEIVE_TRACE = "RECEIVE_TRACE");function receiveTrace(trace) {
  cov_1820yj2utr.f[4]++;cov_1820yj2utr.s[17]++;return { type: RECEIVE_TRACE, trace };
}const RECEIVE_CALL = (cov_1820yj2utr.s[18]++, exports.RECEIVE_CALL = "RECEIVE_CALL");function receiveCall({ address, binary }) {
  cov_1820yj2utr.f[5]++;cov_1820yj2utr.s[19]++;return { type: RECEIVE_CALL, address, binary };
}const ERROR_WEB3 = (cov_1820yj2utr.s[20]++, exports.ERROR_WEB3 = "ERROR_WEB3");function error(error) {
  cov_1820yj2utr.f[6]++;cov_1820yj2utr.s[21]++;return { type: ERROR_WEB3, error };
}

/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_1g3b2au6c6 = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/web3/adapter.js",
      hash = "3c84fdf4ea5d1b72e6e2f7c1f96ba07f4f82b46f",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/web3/adapter.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 15 }, end: { line: 7, column: 55 } }, "2": { start: { line: 9, column: 16 }, end: { line: 9, column: 48 } }, "3": { start: { line: 11, column: 25 }, end: { line: 11, column: 74 } }, "4": { start: { line: 13, column: 25 }, end: { line: 13, column: 67 } }, "5": { start: { line: 15, column: 13 }, end: { line: 15, column: 29 } }, "6": { start: { line: 17, column: 14 }, end: { line: 17, column: 44 } }, "7": { start: { line: 19, column: 11 }, end: { line: 19, column: 26 } }, "8": { start: { line: 21, column: 12 }, end: { line: 21, column: 40 } }, "9": { start: { line: 23, column: 39 }, end: { line: 23, column: 93 } }, "10": { start: { line: 25, column: 14 }, end: { line: 25, column: 59 } }, "11": { start: { line: 29, column: 4 }, end: { line: 29, column: 44 } }, "12": { start: { line: 33, column: 16 }, end: { line: 33, column: 20 } }, "13": { start: { line: 35, column: 4 }, end: { line: 49, column: 9 } }, "14": { start: { line: 36, column: 6 }, end: { line: 48, column: 9 } }, "15": { start: { line: 37, column: 8 }, end: { line: 47, column: 11 } }, "16": { start: { line: 43, column: 10 }, end: { line: 43, column: 38 } }, "17": { start: { line: 43, column: 19 }, end: { line: 43, column: 38 } }, "18": { start: { line: 44, column: 10 }, end: { line: 44, column: 75 } }, "19": { start: { line: 44, column: 28 }, end: { line: 44, column: 75 } }, "20": { start: { line: 45, column: 10 }, end: { line: 45, column: 38 } }, "21": { start: { line: 46, column: 10 }, end: { line: 46, column: 43 } }, "22": { start: { line: 53, column: 17 }, end: { line: 53, column: 21 } }, "23": { start: { line: 55, column: 4 }, end: { line: 63, column: 9 } }, "24": { start: { line: 56, column: 6 }, end: { line: 62, column: 9 } }, "25": { start: { line: 57, column: 8 }, end: { line: 61, column: 11 } }, "26": { start: { line: 58, column: 10 }, end: { line: 58, column: 38 } }, "27": { start: { line: 58, column: 19 }, end: { line: 58, column: 38 } }, "28": { start: { line: 60, column: 10 }, end: { line: 60, column: 28 } }, "29": { start: { line: 67, column: 17 }, end: { line: 67, column: 21 } }, "30": { start: { line: 69, column: 4 }, end: { line: 77, column: 9 } }, "31": { start: { line: 70, column: 6 }, end: { line: 76, column: 9 } }, "32": { start: { line: 71, column: 8 }, end: { line: 75, column: 11 } }, "33": { start: { line: 72, column: 10 }, end: { line: 72, column: 38 } }, "34": { start: { line: 72, column: 19 }, end: { line: 72, column: 38 } }, "35": { start: { line: 74, column: 10 }, end: { line: 74, column: 33 } }, "36": { start: { line: 86, column: 17 }, end: { line: 86, column: 21 } }, "37": { start: { line: 88, column: 4 }, end: { line: 98, column: 9 } }, "38": { start: { line: 89, column: 6 }, end: { line: 89, column: 53 } }, "39": { start: { line: 90, column: 6 }, end: { line: 97, column: 9 } }, "40": { start: { line: 91, column: 8 }, end: { line: 96, column: 11 } }, "41": { start: { line: 92, column: 10 }, end: { line: 92, column: 43 } }, "42": { start: { line: 92, column: 19 }, end: { line: 92, column: 43 } }, "43": { start: { line: 93, column: 10 }, end: { line: 93, column: 38 } }, "44": { start: { line: 93, column: 19 }, end: { line: 93, column: 38 } }, "45": { start: { line: 94, column: 10 }, end: { line: 94, column: 53 } }, "46": { start: { line: 95, column: 10 }, end: { line: 95, column: 33 } }, "47": { start: { line: 101, column: 0 }, end: { line: 101, column: 30 } } }, fnMap: { "0": { name: "_interopRequireDefault", decl: { start: { line: 23, column: 9 }, end: { line: 23, column: 31 } }, loc: { start: { line: 23, column: 37 }, end: { line: 23, column: 95 } }, line: 23 }, "1": { name: "(anonymous_1)", decl: { start: { line: 28, column: 2 }, end: { line: 28, column: 3 } }, loc: { start: { line: 28, column: 24 }, end: { line: 30, column: 3 } }, line: 28 }, "2": { name: "(anonymous_2)", decl: { start: { line: 32, column: 2 }, end: { line: 32, column: 3 } }, loc: { start: { line: 32, column: 19 }, end: { line: 50, column: 3 } }, line: 32 }, "3": { name: "(anonymous_3)", decl: { start: { line: 35, column: 43 }, end: { line: 35, column: 44 } }, loc: { start: { line: 35, column: 56 }, end: { line: 49, column: 5 } }, line: 35 }, "4": { name: "(anonymous_4)", decl: { start: { line: 36, column: 35 }, end: { line: 36, column: 36 } }, loc: { start: { line: 36, column: 61 }, end: { line: 48, column: 7 } }, line: 36 }, "5": { name: "(anonymous_5)", decl: { start: { line: 42, column: 11 }, end: { line: 42, column: 12 } }, loc: { start: { line: 42, column: 34 }, end: { line: 47, column: 9 } }, line: 42 }, "6": { name: "(anonymous_6)", decl: { start: { line: 52, column: 2 }, end: { line: 52, column: 3 } }, loc: { start: { line: 52, column: 25 }, end: { line: 64, column: 3 } }, line: 52 }, "7": { name: "(anonymous_7)", decl: { start: { line: 55, column: 43 }, end: { line: 55, column: 44 } }, loc: { start: { line: 55, column: 56 }, end: { line: 63, column: 5 } }, line: 55 }, "8": { name: "(anonymous_8)", decl: { start: { line: 56, column: 35 }, end: { line: 56, column: 36 } }, loc: { start: { line: 56, column: 61 }, end: { line: 62, column: 7 } }, line: 56 }, "9": { name: "(anonymous_9)", decl: { start: { line: 57, column: 47 }, end: { line: 57, column: 48 } }, loc: { start: { line: 57, column: 66 }, end: { line: 61, column: 9 } }, line: 57 }, "10": { name: "(anonymous_10)", decl: { start: { line: 66, column: 2 }, end: { line: 66, column: 3 } }, loc: { start: { line: 66, column: 21 }, end: { line: 78, column: 3 } }, line: 66 }, "11": { name: "(anonymous_11)", decl: { start: { line: 69, column: 43 }, end: { line: 69, column: 44 } }, loc: { start: { line: 69, column: 56 }, end: { line: 77, column: 5 } }, line: 69 }, "12": { name: "(anonymous_12)", decl: { start: { line: 70, column: 35 }, end: { line: 70, column: 36 } }, loc: { start: { line: 70, column: 61 }, end: { line: 76, column: 7 } }, line: 70 }, "13": { name: "(anonymous_13)", decl: { start: { line: 71, column: 54 }, end: { line: 71, column: 55 } }, loc: { start: { line: 71, column: 78 }, end: { line: 75, column: 9 } }, line: 71 }, "14": { name: "(anonymous_14)", decl: { start: { line: 85, column: 2 }, end: { line: 85, column: 3 } }, loc: { start: { line: 85, column: 27 }, end: { line: 99, column: 3 } }, line: 85 }, "15": { name: "(anonymous_15)", decl: { start: { line: 88, column: 43 }, end: { line: 88, column: 44 } }, loc: { start: { line: 88, column: 56 }, end: { line: 98, column: 5 } }, line: 88 }, "16": { name: "(anonymous_16)", decl: { start: { line: 90, column: 35 }, end: { line: 90, column: 36 } }, loc: { start: { line: 90, column: 61 }, end: { line: 97, column: 7 } }, line: 90 }, "17": { name: "(anonymous_17)", decl: { start: { line: 91, column: 41 }, end: { line: 91, column: 42 } }, loc: { start: { line: 91, column: 72 }, end: { line: 96, column: 9 } }, line: 91 } }, branchMap: { "0": { loc: { start: { line: 23, column: 46 }, end: { line: 23, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 23, column: 70 }, end: { line: 23, column: 73 } }, { start: { line: 23, column: 76 }, end: { line: 23, column: 92 } }], line: 23 }, "1": { loc: { start: { line: 23, column: 46 }, end: { line: 23, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 23, column: 46 }, end: { line: 23, column: 49 } }, { start: { line: 23, column: 53 }, end: { line: 23, column: 67 } }], line: 23 }, "2": { loc: { start: { line: 43, column: 10 }, end: { line: 43, column: 38 } }, type: "if", locations: [{ start: { line: 43, column: 10 }, end: { line: 43, column: 38 } }, { start: { line: 43, column: 10 }, end: { line: 43, column: 38 } }], line: 43 }, "3": { loc: { start: { line: 44, column: 10 }, end: { line: 44, column: 75 } }, type: "if", locations: [{ start: { line: 44, column: 10 }, end: { line: 44, column: 75 } }, { start: { line: 44, column: 10 }, end: { line: 44, column: 75 } }], line: 44 }, "4": { loc: { start: { line: 58, column: 10 }, end: { line: 58, column: 38 } }, type: "if", locations: [{ start: { line: 58, column: 10 }, end: { line: 58, column: 38 } }, { start: { line: 58, column: 10 }, end: { line: 58, column: 38 } }], line: 58 }, "5": { loc: { start: { line: 72, column: 10 }, end: { line: 72, column: 38 } }, type: "if", locations: [{ start: { line: 72, column: 10 }, end: { line: 72, column: 38 } }, { start: { line: 72, column: 10 }, end: { line: 72, column: 38 } }], line: 72 }, "6": { loc: { start: { line: 92, column: 10 }, end: { line: 92, column: 43 } }, type: "if", locations: [{ start: { line: 92, column: 10 }, end: { line: 92, column: 43 } }, { start: { line: 92, column: 10 }, end: { line: 92, column: 43 } }], line: 92 }, "7": { loc: { start: { line: 93, column: 10 }, end: { line: 93, column: 38 } }, type: "if", locations: [{ start: { line: 93, column: 10 }, end: { line: 93, column: 38 } }, { start: { line: 93, column: 10 }, end: { line: 93, column: 38 } }], line: 93 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0, 0], "7": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/web3/adapter.js"], names: ["debug", "Web3Adapter", "constructor", "provider", "web3", "Web3", "getTrace", "txHash", "accept", "reject", "currentProvider", "send", "jsonrpc", "method", "params", "id", "Date", "getTime", "err", "result", "error", "Error", "message", "structLogs", "getTransaction", "eth", "tx", "getReceipt", "getTransactionReceipt", "receipt", "getDeployedCode", "address", "getCode", "deployedBinary"], mappings: ";;;;;;;;;;;;;;AAAA;;;;AAEA;;;;;;AAEA,MAAMA,QAAQ,qBAAY,uBAAZ,CAAd;;AAEe,MAAMC,WAAN,CAAkB;AAC/BC,cAAYC,QAAZ,EAAsB;AACpB,SAAKC,IAAL,GAAY,IAAIC,aAAJ,CAASF,QAAT,CAAZ;AACD;;AAEKG,UAAN,CAAeC,MAAf,EAAuB;AAAA;;AAAA;AACrB,aAAO,sBAAa,UAACC,MAAD,EAASC,MAAT,EAAoB;AACtC,cAAKL,IAAL,CAAUM,eAAV,CAA0BC,IAA1B,CAA+B;AAC7BC,mBAAS,KADoB;AAE7BC,kBAAQ,wBAFqB;AAG7BC,kBAAQ,CAACP,MAAD,EAAS,EAAT,CAHqB;AAI7BQ,cAAI,IAAIC,IAAJ,GAAWC,OAAX;AAJyB,SAA/B,EAKG,UAACC,GAAD,EAAMC,MAAN,EAAiB;AAClB,cAAID,GAAJ,EAAS,OAAOT,OAAOS,GAAP,CAAP;AACT,cAAIC,OAAOC,KAAX,EAAkB,OAAOX,OAAO,IAAIY,KAAJ,CAAUF,OAAOC,KAAP,CAAaE,OAAvB,CAAP,CAAP;AAClBtB,gBAAM,YAAN,EAAoBmB,MAApB;AACAX,iBAAOW,OAAOA,MAAP,CAAcI,UAArB;AACD,SAVD;AAWD,OAZM,CAAP;AADqB;AActB;;AAEKC,gBAAN,CAAqBjB,MAArB,EAA6B;AAAA;;AAAA;AAC3B,aAAO,sBAAa,UAACC,MAAD,EAASC,MAAT,EAAoB;AACtC,eAAKL,IAAL,CAAUqB,GAAV,CAAcD,cAAd,CAA6BjB,MAA7B,EAAqC,UAACW,GAAD,EAAMQ,EAAN,EAAa;AAChD,cAAIR,GAAJ,EAAS,OAAOT,OAAOS,GAAP,CAAP;;AAET,iBAAOV,OAAOkB,EAAP,CAAP;AACD,SAJD;AAKD,OANM,CAAP;AAD2B;AAQ5B;;AAEKC,YAAN,CAAiBpB,MAAjB,EAAyB;AAAA;;AAAA;AACvB,aAAO,sBAAa,UAACC,MAAD,EAASC,MAAT,EAAoB;AACtC,eAAKL,IAAL,CAAUqB,GAAV,CAAcG,qBAAd,CAAoCrB,MAApC,EAA4C,UAACW,GAAD,EAAMW,OAAN,EAAkB;AAC5D,cAAIX,GAAJ,EAAS,OAAOT,OAAOS,GAAP,CAAP;;AAET,iBAAOV,OAAOqB,OAAP,CAAP;AACD,SAJD;AAKD,OANM,CAAP;AADuB;AAQxB;;AAED;;;;;AAKMC,iBAAN,CAAsBC,OAAtB,EAA+B;AAAA;;AAAA;AAC7B/B,YAAM,8BAAN,EAAsC+B,OAAtC;AACA,aAAO,sBAAY,UAACvB,MAAD,EAASC,MAAT,EAAoB;AACrC,eAAKL,IAAL,CAAUqB,GAAV,CAAcO,OAAd,CAAsBD,OAAtB,EAA+B,UAACb,GAAD,EAAMe,cAAN,EAAyB;AACtD,cAAIf,GAAJ,EAASlB,MAAM,WAAN,EAAmBkB,GAAnB;AACT,cAAIA,GAAJ,EAAS,OAAOT,OAAOS,GAAP,CAAP;AACTlB,gBAAM,0BAAN,EAAkC+B,OAAlC;AACAvB,iBAAOyB,cAAP;AACD,SALD;AAMD,OAPM,CAAP;AAF6B;AAU9B;AAxD8B;kBAAZhC,W", file: "adapter.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\n\nimport Web3 from \"web3\";\n\nconst debug = debugModule(\"debugger:web3:adapter\");\n\nexport default class Web3Adapter {\n  constructor(provider) {\n    this.web3 = new Web3(provider);\n  }\n\n  async getTrace(txHash) {\n    return new Promise( (accept, reject) => {\n      this.web3.currentProvider.send({\n        jsonrpc: \"2.0\",\n        method: \"debug_traceTransaction\",\n        params: [txHash, {}],\n        id: new Date().getTime()\n      }, (err, result) => {\n        if (err) return reject(err);\n        if (result.error) return reject(new Error(result.error.message));\n        debug(\"result: %o\", result);\n        accept(result.result.structLogs);\n      });\n    });\n  };\n\n  async getTransaction(txHash) {\n    return new Promise( (accept, reject) => {\n      this.web3.eth.getTransaction(txHash, (err, tx) => {\n        if (err) return reject(err);\n\n        return accept(tx);\n      });\n    });\n  };\n\n  async getReceipt(txHash) {\n    return new Promise( (accept, reject) => {\n      this.web3.eth.getTransactionReceipt(txHash, (err, receipt) => {\n        if (err) return reject(err);\n\n        return accept(receipt);\n      });\n    });\n  };\n\n  /**\n   * getDeployedCode - get the deployed code for an address from the client\n   * @param  {String} address\n   * @return {String}         deployedBinary\n   */\n  async getDeployedCode(address) {\n    debug(\"getting deployed code for %s\", address);\n    return new Promise((accept, reject) => {\n      this.web3.eth.getCode(address, (err, deployedBinary) => {\n        if (err) debug(\"error: %o\", err);\n        if (err) return reject(err);\n        debug(\"got deployed code for %s\", address);\n        accept(deployedBinary);\n      });\n    });\n  };\n}\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_1g3b2au6c6.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _promise = (cov_1g3b2au6c6.s[1]++, __webpack_require__(22));var _promise2 = (cov_1g3b2au6c6.s[2]++, _interopRequireDefault(_promise));var _asyncToGenerator2 = (cov_1g3b2au6c6.s[3]++, __webpack_require__(1));var _asyncToGenerator3 = (cov_1g3b2au6c6.s[4]++, _interopRequireDefault(_asyncToGenerator2));var _debug = (cov_1g3b2au6c6.s[5]++, __webpack_require__(0));var _debug2 = (cov_1g3b2au6c6.s[6]++, _interopRequireDefault(_debug));var _web = (cov_1g3b2au6c6.s[7]++, __webpack_require__(33));var _web2 = (cov_1g3b2au6c6.s[8]++, _interopRequireDefault(_web));function _interopRequireDefault(obj) {
  cov_1g3b2au6c6.f[0]++;cov_1g3b2au6c6.s[9]++;return (cov_1g3b2au6c6.b[1][0]++, obj) && (cov_1g3b2au6c6.b[1][1]++, obj.__esModule) ? (cov_1g3b2au6c6.b[0][0]++, obj) : (cov_1g3b2au6c6.b[0][1]++, { default: obj });
}const debug = (cov_1g3b2au6c6.s[10]++, (0, _debug2.default)("debugger:web3:adapter"));class Web3Adapter {
  constructor(provider) {
    cov_1g3b2au6c6.f[1]++;cov_1g3b2au6c6.s[11]++;this.web3 = new _web2.default(provider);
  }getTrace(txHash) {
    cov_1g3b2au6c6.f[2]++;var _this = (cov_1g3b2au6c6.s[12]++, this);cov_1g3b2au6c6.s[13]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_1g3b2au6c6.f[3]++;cov_1g3b2au6c6.s[14]++;return new _promise2.default(function (accept, reject) {
        cov_1g3b2au6c6.f[4]++;cov_1g3b2au6c6.s[15]++;_this.web3.currentProvider.send({ jsonrpc: "2.0", method: "debug_traceTransaction", params: [txHash, {}], id: new Date().getTime() }, function (err, result) {
          cov_1g3b2au6c6.f[5]++;cov_1g3b2au6c6.s[16]++;if (err) {
            cov_1g3b2au6c6.b[2][0]++;cov_1g3b2au6c6.s[17]++;return reject(err);
          } else {
            cov_1g3b2au6c6.b[2][1]++;
          }cov_1g3b2au6c6.s[18]++;if (result.error) {
            cov_1g3b2au6c6.b[3][0]++;cov_1g3b2au6c6.s[19]++;return reject(new Error(result.error.message));
          } else {
            cov_1g3b2au6c6.b[3][1]++;
          }cov_1g3b2au6c6.s[20]++;debug("result: %o", result);cov_1g3b2au6c6.s[21]++;accept(result.result.structLogs);
        });
      });
    })();
  }getTransaction(txHash) {
    cov_1g3b2au6c6.f[6]++;var _this2 = (cov_1g3b2au6c6.s[22]++, this);cov_1g3b2au6c6.s[23]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_1g3b2au6c6.f[7]++;cov_1g3b2au6c6.s[24]++;return new _promise2.default(function (accept, reject) {
        cov_1g3b2au6c6.f[8]++;cov_1g3b2au6c6.s[25]++;_this2.web3.eth.getTransaction(txHash, function (err, tx) {
          cov_1g3b2au6c6.f[9]++;cov_1g3b2au6c6.s[26]++;if (err) {
            cov_1g3b2au6c6.b[4][0]++;cov_1g3b2au6c6.s[27]++;return reject(err);
          } else {
            cov_1g3b2au6c6.b[4][1]++;
          }cov_1g3b2au6c6.s[28]++;return accept(tx);
        });
      });
    })();
  }getReceipt(txHash) {
    cov_1g3b2au6c6.f[10]++;var _this3 = (cov_1g3b2au6c6.s[29]++, this);cov_1g3b2au6c6.s[30]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_1g3b2au6c6.f[11]++;cov_1g3b2au6c6.s[31]++;return new _promise2.default(function (accept, reject) {
        cov_1g3b2au6c6.f[12]++;cov_1g3b2au6c6.s[32]++;_this3.web3.eth.getTransactionReceipt(txHash, function (err, receipt) {
          cov_1g3b2au6c6.f[13]++;cov_1g3b2au6c6.s[33]++;if (err) {
            cov_1g3b2au6c6.b[5][0]++;cov_1g3b2au6c6.s[34]++;return reject(err);
          } else {
            cov_1g3b2au6c6.b[5][1]++;
          }cov_1g3b2au6c6.s[35]++;return accept(receipt);
        });
      });
    })();
  }getDeployedCode(address) {
    cov_1g3b2au6c6.f[14]++;var _this4 = (cov_1g3b2au6c6.s[36]++, this);cov_1g3b2au6c6.s[37]++;return (0, _asyncToGenerator3.default)(function* () {
      cov_1g3b2au6c6.f[15]++;cov_1g3b2au6c6.s[38]++;debug("getting deployed code for %s", address);cov_1g3b2au6c6.s[39]++;return new _promise2.default(function (accept, reject) {
        cov_1g3b2au6c6.f[16]++;cov_1g3b2au6c6.s[40]++;_this4.web3.eth.getCode(address, function (err, deployedBinary) {
          cov_1g3b2au6c6.f[17]++;cov_1g3b2au6c6.s[41]++;if (err) {
            cov_1g3b2au6c6.b[6][0]++;cov_1g3b2au6c6.s[42]++;debug("error: %o", err);
          } else {
            cov_1g3b2au6c6.b[6][1]++;
          }cov_1g3b2au6c6.s[43]++;if (err) {
            cov_1g3b2au6c6.b[7][0]++;cov_1g3b2au6c6.s[44]++;return reject(err);
          } else {
            cov_1g3b2au6c6.b[7][1]++;
          }cov_1g3b2au6c6.s[45]++;debug("got deployed code for %s", address);cov_1g3b2au6c6.s[46]++;accept(deployedBinary);
        });
      });
    })();
  }
}cov_1g3b2au6c6.s[47]++;exports.default = Web3Adapter;

/***/ }),
/* 76 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_1tkg2zem3h = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/session/reducers.js",
      hash = "a3a4ceb7e107fd64f38791f84e204f40a7cf7539",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/session/reducers.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 61 } }, "2": { start: { line: 7, column: 0 }, end: { line: 7, column: 24 } }, "3": { start: { line: 8, column: 0 }, end: { line: 8, column: 34 } }, "4": { start: { line: 9, column: 0 }, end: { line: 9, column: 26 } }, "5": { start: { line: 11, column: 13 }, end: { line: 11, column: 29 } }, "6": { start: { line: 13, column: 16 }, end: { line: 13, column: 44 } }, "7": { start: { line: 15, column: 17 }, end: { line: 15, column: 50 } }, "8": { start: { line: 17, column: 17 }, end: { line: 17, column: 44 } }, "9": { start: { line: 19, column: 17 }, end: { line: 19, column: 51 } }, "10": { start: { line: 21, column: 17 }, end: { line: 21, column: 49 } }, "11": { start: { line: 23, column: 17 }, end: { line: 23, column: 51 } }, "12": { start: { line: 25, column: 17 }, end: { line: 25, column: 46 } }, "13": { start: { line: 27, column: 17 }, end: { line: 27, column: 51 } }, "14": { start: { line: 29, column: 17 }, end: { line: 29, column: 51 } }, "15": { start: { line: 31, column: 18 }, end: { line: 31, column: 52 } }, "16": { start: { line: 33, column: 15 }, end: { line: 33, column: 35 } }, "17": { start: { line: 35, column: 14 }, end: { line: 35, column: 47 } }, "18": { start: { line: 37, column: 40 }, end: { line: 37, column: 267 } }, "19": { start: { line: 37, column: 69 }, end: { line: 37, column: 80 } }, "20": { start: { line: 37, column: 103 }, end: { line: 37, column: 105 } }, "21": { start: { line: 37, column: 107 }, end: { line: 37, column: 228 } }, "22": { start: { line: 37, column: 126 }, end: { line: 37, column: 226 } }, "23": { start: { line: 37, column: 149 }, end: { line: 37, column: 224 } }, "24": { start: { line: 37, column: 201 }, end: { line: 37, column: 224 } }, "25": { start: { line: 37, column: 229 }, end: { line: 37, column: 250 } }, "26": { start: { line: 37, column: 251 }, end: { line: 37, column: 265 } }, "27": { start: { line: 39, column: 39 }, end: { line: 39, column: 93 } }, "28": { start: { line: 41, column: 16 }, end: { line: 41, column: 43 } }, "29": { start: { line: 42, column: 15 }, end: { line: 42, column: 40 } }, "30": { start: { line: 43, column: 14 }, end: { line: 43, column: 37 } }, "31": { start: { line: 46, column: 2 }, end: { line: 55, column: 3 } }, "32": { start: { line: 48, column: 6 }, end: { line: 48, column: 20 } }, "33": { start: { line: 51, column: 6 }, end: { line: 51, column: 37 } }, "34": { start: { line: 54, column: 6 }, end: { line: 54, column: 19 } }, "35": { start: { line: 59, column: 2 }, end: { line: 64, column: 3 } }, "36": { start: { line: 61, column: 6 }, end: { line: 61, column: 32 } }, "37": { start: { line: 63, column: 6 }, end: { line: 63, column: 19 } }, "38": { start: { line: 68, column: 2 }, end: { line: 73, column: 3 } }, "39": { start: { line: 70, column: 6 }, end: { line: 70, column: 28 } }, "40": { start: { line: 72, column: 6 }, end: { line: 72, column: 19 } }, "41": { start: { line: 76, column: 16 }, end: { line: 80, column: 2 } }, "42": { start: { line: 82, column: 20 }, end: { line: 89, column: 2 } }, "43": { start: { line: 91, column: 0 }, end: { line: 91, column: 30 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 37, column: 9 }, end: { line: 37, column: 32 } }, loc: { start: { line: 37, column: 38 }, end: { line: 37, column: 269 } }, line: 37 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 39, column: 9 }, end: { line: 39, column: 31 } }, loc: { start: { line: 39, column: 37 }, end: { line: 39, column: 95 } }, line: 39 }, "2": { name: "status", decl: { start: { line: 45, column: 9 }, end: { line: 45, column: 15 } }, loc: { start: { line: 45, column: 41 }, end: { line: 56, column: 1 } }, line: 45 }, "3": { name: "transaction", decl: { start: { line: 58, column: 9 }, end: { line: 58, column: 20 } }, loc: { start: { line: 58, column: 41 }, end: { line: 65, column: 1 } }, line: 58 }, "4": { name: "receipt", decl: { start: { line: 67, column: 9 }, end: { line: 67, column: 16 } }, loc: { start: { line: 67, column: 37 }, end: { line: 74, column: 1 } }, line: 67 } }, branchMap: { "0": { loc: { start: { line: 37, column: 40 }, end: { line: 37, column: 267 } }, type: "if", locations: [{ start: { line: 37, column: 40 }, end: { line: 37, column: 267 } }, { start: { line: 37, column: 40 }, end: { line: 37, column: 267 } }], line: 37 }, "1": { loc: { start: { line: 37, column: 44 }, end: { line: 37, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 37, column: 44 }, end: { line: 37, column: 47 } }, { start: { line: 37, column: 51 }, end: { line: 37, column: 65 } }], line: 37 }, "2": { loc: { start: { line: 37, column: 107 }, end: { line: 37, column: 228 } }, type: "if", locations: [{ start: { line: 37, column: 107 }, end: { line: 37, column: 228 } }, { start: { line: 37, column: 107 }, end: { line: 37, column: 228 } }], line: 37 }, "3": { loc: { start: { line: 37, column: 149 }, end: { line: 37, column: 224 } }, type: "if", locations: [{ start: { line: 37, column: 149 }, end: { line: 37, column: 224 } }, { start: { line: 37, column: 149 }, end: { line: 37, column: 224 } }], line: 37 }, "4": { loc: { start: { line: 39, column: 46 }, end: { line: 39, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 39, column: 70 }, end: { line: 39, column: 73 } }, { start: { line: 39, column: 76 }, end: { line: 39, column: 92 } }], line: 39 }, "5": { loc: { start: { line: 39, column: 46 }, end: { line: 39, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 39, column: 46 }, end: { line: 39, column: 49 } }, { start: { line: 39, column: 53 }, end: { line: 39, column: 67 } }], line: 39 }, "6": { loc: { start: { line: 45, column: 16 }, end: { line: 45, column: 31 } }, type: "default-arg", locations: [{ start: { line: 45, column: 24 }, end: { line: 45, column: 31 } }], line: 45 }, "7": { loc: { start: { line: 46, column: 2 }, end: { line: 55, column: 3 } }, type: "switch", locations: [{ start: { line: 47, column: 4 }, end: { line: 48, column: 20 } }, { start: { line: 50, column: 4 }, end: { line: 51, column: 37 } }, { start: { line: 53, column: 4 }, end: { line: 54, column: 19 } }], line: 46 }, "8": { loc: { start: { line: 58, column: 21 }, end: { line: 58, column: 31 } }, type: "default-arg", locations: [{ start: { line: 58, column: 29 }, end: { line: 58, column: 31 } }], line: 58 }, "9": { loc: { start: { line: 59, column: 2 }, end: { line: 64, column: 3 } }, type: "switch", locations: [{ start: { line: 60, column: 4 }, end: { line: 61, column: 32 } }, { start: { line: 62, column: 4 }, end: { line: 63, column: 19 } }], line: 59 }, "10": { loc: { start: { line: 67, column: 17 }, end: { line: 67, column: 27 } }, type: "default-arg", locations: [{ start: { line: 67, column: 25 }, end: { line: 67, column: 27 } }], line: 67 }, "11": { loc: { start: { line: 68, column: 2 }, end: { line: 73, column: 3 } }, type: "switch", locations: [{ start: { line: 69, column: 4 }, end: { line: 70, column: 28 } }, { start: { line: 71, column: 4 }, end: { line: 72, column: 19 } }], line: 68 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0], "7": [0, 0, 0], "8": [0], "9": [0, 0], "10": [0], "11": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/session/reducers.js"], names: ["status", "transaction", "receipt", "actions", "WAITING", "ACTIVE", "ERROR", "state", "action", "type", "READY", "error", "SAVE_TRANSACTION", "SAVE_RECEIPT", "session", "reduceState", "data", "evm", "solidity", "trace", "controller"], mappings: ";;;;;;QAcgBA,M,GAAAA,M;QAaAC,W,GAAAA,W;QASAC,O,GAAAA,O;;AApChB;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;IAAYC,O;;;;;;AAEL,MAAMC,4BAAU,SAAhB;AACA,MAAMC,0BAAS,QAAf;AACA,MAAMC,wBAAQ,OAAd;;AAEA,SAASN,MAAT,CAAgBO,QAAQH,OAAxB,EAAiCI,MAAjC,EAAyC;AAC9C,UAAQA,OAAOC,IAAf;AACE,SAAKN,QAAQO,KAAb;AACE,aAAOL,MAAP;;AAEF,SAAKF,QAAQG,KAAb;AACE,aAAO,EAAEK,OAAOH,OAAOG,KAAhB,EAAP;;AAEF;AACE,aAAOJ,KAAP;AARJ;AAUD;;AAEM,SAASN,WAAT,CAAqBM,QAAQ,EAA7B,EAAiCC,MAAjC,EAAyC;AAC9C,UAAOA,OAAOC,IAAd;AACE,SAAKN,QAAQS,gBAAb;AACE,aAAOJ,OAAOP,WAAd;AACF;AACE,aAAOM,KAAP;AAJJ;AAMD;;AAEM,SAASL,OAAT,CAAiBK,QAAQ,EAAzB,EAA6BC,MAA7B,EAAqC;AAC1C,UAAOA,OAAOC,IAAd;AACE,SAAKN,QAAQU,YAAb;AACE,aAAOL,OAAON,OAAd;AACF;AACE,aAAOK,KAAP;AAJJ;AAMD;;AAED,MAAMO,UAAU,4BAAgB;AAC9Bd,QAD8B;AAE9BC,aAF8B;AAG9BC;AAH8B,CAAhB,CAAhB;;AAMA,MAAMa,cAAc,4BAAgB;AAClCD,SADkC;AAElCE,0BAFkC;AAGlCC,yBAHkC;AAIlCC,8BAJkC;AAKlCC,2BALkC;AAMlCC;AANkC,CAAhB,CAApB;;kBASeL,W", file: "reducers.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import { combineReducers } from \"redux\";\n\nimport data from \"lib/data/reducers\";\nimport evm from \"lib/evm/reducers\";\nimport solidity from \"lib/solidity/reducers\";\nimport trace from \"lib/trace/reducers\";\nimport controller from \"lib/controller/reducers\";\n\nimport * as actions from \"./actions\";\n\nexport const WAITING = \"WAITING\";\nexport const ACTIVE = \"ACTIVE\";\nexport const ERROR = \"ERROR\";\n\nexport function status(state = WAITING, action) {\n  switch (action.type) {\n    case actions.READY:\n      return ACTIVE;\n\n    case actions.ERROR:\n      return { error: action.error };\n\n    default:\n      return state;\n  }\n}\n\nexport function transaction(state = {}, action) {\n  switch(action.type) {\n    case actions.SAVE_TRANSACTION:\n      return action.transaction;\n    default:\n      return state;\n  }\n}\n\nexport function receipt(state = {}, action) {\n  switch(action.type) {\n    case actions.SAVE_RECEIPT:\n      return action.receipt;\n    default:\n      return state;\n  }\n}\n\nconst session = combineReducers({\n  status,\n  transaction,\n  receipt\n});\n\nconst reduceState = combineReducers({\n  session,\n  data,\n  evm,\n  solidity,\n  trace,\n  controller\n});\n\nexport default reduceState;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_1tkg2zem3h.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_1tkg2zem3h.s[1]++;exports.ERROR = exports.ACTIVE = exports.WAITING = undefined;cov_1tkg2zem3h.s[2]++;exports.status = status;cov_1tkg2zem3h.s[3]++;exports.transaction = transaction;cov_1tkg2zem3h.s[4]++;exports.receipt = receipt;var _redux = (cov_1tkg2zem3h.s[5]++, __webpack_require__(16));var _reducers = (cov_1tkg2zem3h.s[6]++, __webpack_require__(77));var _reducers2 = (cov_1tkg2zem3h.s[7]++, _interopRequireDefault(_reducers));var _reducers3 = (cov_1tkg2zem3h.s[8]++, __webpack_require__(78));var _reducers4 = (cov_1tkg2zem3h.s[9]++, _interopRequireDefault(_reducers3));var _reducers5 = (cov_1tkg2zem3h.s[10]++, __webpack_require__(79));var _reducers6 = (cov_1tkg2zem3h.s[11]++, _interopRequireDefault(_reducers5));var _reducers7 = (cov_1tkg2zem3h.s[12]++, __webpack_require__(80));var _reducers8 = (cov_1tkg2zem3h.s[13]++, _interopRequireDefault(_reducers7));var _reducers9 = (cov_1tkg2zem3h.s[14]++, __webpack_require__(81));var _reducers10 = (cov_1tkg2zem3h.s[15]++, _interopRequireDefault(_reducers9));var _actions = (cov_1tkg2zem3h.s[16]++, __webpack_require__(24));var actions = (cov_1tkg2zem3h.s[17]++, _interopRequireWildcard(_actions));function _interopRequireWildcard(obj) {
  cov_1tkg2zem3h.f[0]++;cov_1tkg2zem3h.s[18]++;if ((cov_1tkg2zem3h.b[1][0]++, obj) && (cov_1tkg2zem3h.b[1][1]++, obj.__esModule)) {
    cov_1tkg2zem3h.b[0][0]++;cov_1tkg2zem3h.s[19]++;return obj;
  } else {
    cov_1tkg2zem3h.b[0][1]++;var newObj = (cov_1tkg2zem3h.s[20]++, {});cov_1tkg2zem3h.s[21]++;if (obj != null) {
      cov_1tkg2zem3h.b[2][0]++;cov_1tkg2zem3h.s[22]++;for (var key in obj) {
        cov_1tkg2zem3h.s[23]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_1tkg2zem3h.b[3][0]++;cov_1tkg2zem3h.s[24]++;newObj[key] = obj[key];
        } else {
          cov_1tkg2zem3h.b[3][1]++;
        }
      }
    } else {
      cov_1tkg2zem3h.b[2][1]++;
    }cov_1tkg2zem3h.s[25]++;newObj.default = obj;cov_1tkg2zem3h.s[26]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_1tkg2zem3h.f[1]++;cov_1tkg2zem3h.s[27]++;return (cov_1tkg2zem3h.b[5][0]++, obj) && (cov_1tkg2zem3h.b[5][1]++, obj.__esModule) ? (cov_1tkg2zem3h.b[4][0]++, obj) : (cov_1tkg2zem3h.b[4][1]++, { default: obj });
}const WAITING = (cov_1tkg2zem3h.s[28]++, exports.WAITING = "WAITING");const ACTIVE = (cov_1tkg2zem3h.s[29]++, exports.ACTIVE = "ACTIVE");const ERROR = (cov_1tkg2zem3h.s[30]++, exports.ERROR = "ERROR");function status(state = (cov_1tkg2zem3h.b[6][0]++, WAITING), action) {
  cov_1tkg2zem3h.f[2]++;cov_1tkg2zem3h.s[31]++;switch (action.type) {case actions.READY:
      cov_1tkg2zem3h.b[7][0]++;cov_1tkg2zem3h.s[32]++;return ACTIVE;case actions.ERROR:
      cov_1tkg2zem3h.b[7][1]++;cov_1tkg2zem3h.s[33]++;return { error: action.error };default:
      cov_1tkg2zem3h.b[7][2]++;cov_1tkg2zem3h.s[34]++;return state;}
}function transaction(state = (cov_1tkg2zem3h.b[8][0]++, {}), action) {
  cov_1tkg2zem3h.f[3]++;cov_1tkg2zem3h.s[35]++;switch (action.type) {case actions.SAVE_TRANSACTION:
      cov_1tkg2zem3h.b[9][0]++;cov_1tkg2zem3h.s[36]++;return action.transaction;default:
      cov_1tkg2zem3h.b[9][1]++;cov_1tkg2zem3h.s[37]++;return state;}
}function receipt(state = (cov_1tkg2zem3h.b[10][0]++, {}), action) {
  cov_1tkg2zem3h.f[4]++;cov_1tkg2zem3h.s[38]++;switch (action.type) {case actions.SAVE_RECEIPT:
      cov_1tkg2zem3h.b[11][0]++;cov_1tkg2zem3h.s[39]++;return action.receipt;default:
      cov_1tkg2zem3h.b[11][1]++;cov_1tkg2zem3h.s[40]++;return state;}
}const session = (cov_1tkg2zem3h.s[41]++, (0, _redux.combineReducers)({ status, transaction, receipt }));const reduceState = (cov_1tkg2zem3h.s[42]++, (0, _redux.combineReducers)({ session, data: _reducers2.default, evm: _reducers4.default, solidity: _reducers6.default, trace: _reducers8.default, controller: _reducers10.default }));cov_1tkg2zem3h.s[43]++;exports.default = reduceState;

/***/ }),
/* 77 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_1fv1dskiyx = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/data/reducers.js",
      hash = "53f575114eab571ce1e12cd9fb25624d54193d75",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/data/reducers.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 12 }, end: { line: 7, column: 56 } }, "2": { start: { line: 9, column: 13 }, end: { line: 9, column: 42 } }, "3": { start: { line: 11, column: 15 }, end: { line: 11, column: 62 } }, "4": { start: { line: 13, column: 16 }, end: { line: 13, column: 48 } }, "5": { start: { line: 15, column: 14 }, end: { line: 15, column: 60 } }, "6": { start: { line: 17, column: 15 }, end: { line: 17, column: 46 } }, "7": { start: { line: 19, column: 11 }, end: { line: 19, column: 47 } }, "8": { start: { line: 21, column: 12 }, end: { line: 21, column: 40 } }, "9": { start: { line: 23, column: 14 }, end: { line: 23, column: 60 } }, "10": { start: { line: 25, column: 15 }, end: { line: 25, column: 46 } }, "11": { start: { line: 27, column: 16 }, end: { line: 27, column: 56 } }, "12": { start: { line: 29, column: 16 }, end: { line: 29, column: 49 } }, "13": { start: { line: 31, column: 13 }, end: { line: 31, column: 29 } }, "14": { start: { line: 33, column: 14 }, end: { line: 33, column: 44 } }, "15": { start: { line: 35, column: 13 }, end: { line: 35, column: 29 } }, "16": { start: { line: 37, column: 15 }, end: { line: 37, column: 37 } }, "17": { start: { line: 39, column: 15 }, end: { line: 39, column: 35 } }, "18": { start: { line: 41, column: 14 }, end: { line: 41, column: 47 } }, "19": { start: { line: 43, column: 22 }, end: { line: 43, column: 48 } }, "20": { start: { line: 45, column: 26 }, end: { line: 45, column: 57 } }, "21": { start: { line: 47, column: 40 }, end: { line: 47, column: 267 } }, "22": { start: { line: 47, column: 69 }, end: { line: 47, column: 80 } }, "23": { start: { line: 47, column: 103 }, end: { line: 47, column: 105 } }, "24": { start: { line: 47, column: 107 }, end: { line: 47, column: 228 } }, "25": { start: { line: 47, column: 126 }, end: { line: 47, column: 226 } }, "26": { start: { line: 47, column: 149 }, end: { line: 47, column: 224 } }, "27": { start: { line: 47, column: 201 }, end: { line: 47, column: 224 } }, "28": { start: { line: 47, column: 229 }, end: { line: 47, column: 250 } }, "29": { start: { line: 47, column: 251 }, end: { line: 47, column: 265 } }, "30": { start: { line: 49, column: 39 }, end: { line: 49, column: 93 } }, "31": { start: { line: 51, column: 14 }, end: { line: 51, column: 60 } }, "32": { start: { line: 53, column: 23 }, end: { line: 55, column: 1 } }, "33": { start: { line: 61, column: 2 }, end: { line: 94, column: 3 } }, "34": { start: { line: 63, column: 6 }, end: { line: 63, column: 42 } }, "35": { start: { line: 65, column: 6 }, end: { line: 76, column: 8 } }, "36": { start: { line: 79, column: 6 }, end: { line: 79, column: 50 } }, "37": { start: { line: 80, column: 6 }, end: { line: 80, column: 40 } }, "38": { start: { line: 82, column: 6 }, end: { line: 90, column: 8 } }, "39": { start: { line: 93, column: 6 }, end: { line: 93, column: 19 } }, "40": { start: { line: 105, column: 2 }, end: { line: 110, column: 3 } }, "41": { start: { line: 107, column: 6 }, end: { line: 107, column: 40 } }, "42": { start: { line: 109, column: 6 }, end: { line: 109, column: 19 } }, "43": { start: { line: 114, column: 2 }, end: { line: 118, column: 3 } }, "44": { start: { line: 115, column: 4 }, end: { line: 115, column: 26 } }, "45": { start: { line: 117, column: 4 }, end: { line: 117, column: 17 } }, "46": { start: { line: 121, column: 20 }, end: { line: 123, column: 2 } }, "47": { start: { line: 125, column: 13 }, end: { line: 129, column: 2 } }, "48": { start: { line: 131, column: 28 }, end: { line: 134, column: 1 } }, "49": { start: { line: 137, column: 2 }, end: { line: 178, column: 3 } }, "50": { start: { line: 140, column: 6 }, end: { line: 140, column: 43 } }, "51": { start: { line: 141, column: 6 }, end: { line: 141, column: 57 } }, "52": { start: { line: 142, column: 6 }, end: { line: 153, column: 16 } }, "53": { start: { line: 143, column: 28 }, end: { line: 143, column: 38 } }, "54": { start: { line: 144, column: 8 }, end: { line: 152, column: 10 } }, "55": { start: { line: 156, column: 38 }, end: { line: 156, column: 44 } }, "56": { start: { line: 157, column: 6 }, end: { line: 171, column: 8 } }, "57": { start: { line: 159, column: 30 }, end: { line: 159, column: 77 } }, "58": { start: { line: 160, column: 10 }, end: { line: 162, column: 12 } }, "59": { start: { line: 165, column: 10 }, end: { line: 169, column: 12 } }, "60": { start: { line: 166, column: 52 }, end: { line: 166, column: 106 } }, "61": { start: { line: 174, column: 6 }, end: { line: 174, column: 33 } }, "62": { start: { line: 177, column: 6 }, end: { line: 177, column: 19 } }, "63": { start: { line: 182, column: 2 }, end: { line: 198, column: 3 } }, "64": { start: { line: 185, column: 19 }, end: { line: 188, column: 5 } }, "65": { start: { line: 189, column: 16 }, end: { line: 189, column: 55 } }, "66": { start: { line: 190, column: 4 }, end: { line: 195, column: 6 } }, "67": { start: { line: 197, column: 4 }, end: { line: 197, column: 22 } }, "68": { start: { line: 201, column: 22 }, end: { line: 206, column: 1 } }, "69": { start: { line: 213, column: 2 }, end: { line: 307, column: 3 } }, "70": { start: { line: 215, column: 6 }, end: { line: 215, column: 87 } }, "71": { start: { line: 216, column: 6 }, end: { line: 220, column: 8 } }, "72": { start: { line: 222, column: 69 }, end: { line: 222, column: 75 } }, "73": { start: { line: 226, column: 6 }, end: { line: 226, column: 49 } }, "74": { start: { line: 227, column: 6 }, end: { line: 227, column: 81 } }, "75": { start: { line: 228, column: 6 }, end: { line: 228, column: 69 } }, "76": { start: { line: 232, column: 15 }, end: { line: 232, column: 55 } }, "77": { start: { line: 234, column: 6 }, end: { line: 234, column: 29 } }, "78": { start: { line: 235, column: 27 }, end: { line: 235, column: 144 } }, "79": { start: { line: 236, column: 26 }, end: { line: 236, column: 172 } }, "80": { start: { line: 241, column: 21 }, end: { line: 251, column: 7 } }, "81": { start: { line: 254, column: 6 }, end: { line: 260, column: 9 } }, "82": { start: { line: 262, column: 20 }, end: { line: 262, column: 100 } }, "83": { start: { line: 266, column: 6 }, end: { line: 279, column: 7 } }, "84": { start: { line: 268, column: 8 }, end: { line: 268, column: 49 } }, "85": { start: { line: 269, column: 8 }, end: { line: 277, column: 9 } }, "86": { start: { line: 272, column: 10 }, end: { line: 274, column: 13 } }, "87": { start: { line: 276, column: 10 }, end: { line: 276, column: 25 } }, "88": { start: { line: 278, column: 8 }, end: { line: 278, column: 99 } }, "89": { start: { line: 283, column: 6 }, end: { line: 283, column: 22 } }, "90": { start: { line: 286, column: 6 }, end: { line: 286, column: 27 } }, "91": { start: { line: 289, column: 6 }, end: { line: 303, column: 8 } }, "92": { start: { line: 291, column: 115 }, end: { line: 293, column: 9 } }, "93": { start: { line: 294, column: 125 }, end: { line: 302, column: 9 } }, "94": { start: { line: 306, column: 6 }, end: { line: 306, column: 19 } }, "95": { start: { line: 310, column: 13 }, end: { line: 313, column: 2 } }, "96": { start: { line: 315, column: 16 }, end: { line: 318, column: 2 } }, "97": { start: { line: 320, column: 0 }, end: { line: 320, column: 26 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 47, column: 9 }, end: { line: 47, column: 32 } }, loc: { start: { line: 47, column: 38 }, end: { line: 47, column: 269 } }, line: 47 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 49, column: 9 }, end: { line: 49, column: 31 } }, loc: { start: { line: 49, column: 37 }, end: { line: 49, column: 95 } }, line: 49 }, "2": { name: "scopes", decl: { start: { line: 57, column: 9 }, end: { line: 57, column: 15 } }, loc: { start: { line: 57, column: 48 }, end: { line: 95, column: 1 } }, line: 57 }, "3": { name: "userDefinedTypes", decl: { start: { line: 104, column: 9 }, end: { line: 104, column: 25 } }, loc: { start: { line: 104, column: 46 }, end: { line: 111, column: 1 } }, line: 104 }, "4": { name: "storage", decl: { start: { line: 113, column: 9 }, end: { line: 113, column: 16 } }, loc: { start: { line: 113, column: 37 }, end: { line: 119, column: 1 } }, line: 113 }, "5": { name: "assignments", decl: { start: { line: 136, column: 9 }, end: { line: 136, column: 20 } }, loc: { start: { line: 136, column: 58 }, end: { line: 179, column: 1 } }, line: 136 }, "6": { name: "(anonymous_6)", decl: { start: { line: 142, column: 67 }, end: { line: 142, column: 68 } }, loc: { start: { line: 142, column: 88 }, end: { line: 153, column: 7 } }, line: 142 }, "7": { name: "(anonymous_7)", decl: { start: { line: 158, column: 81 }, end: { line: 158, column: 82 } }, loc: { start: { line: 158, column: 95 }, end: { line: 163, column: 9 } }, line: 158 }, "8": { name: "(anonymous_8)", decl: { start: { line: 164, column: 88 }, end: { line: 164, column: 89 } }, loc: { start: { line: 164, column: 101 }, end: { line: 170, column: 9 } }, line: 164 }, "9": { name: "(anonymous_9)", decl: { start: { line: 166, column: 46 }, end: { line: 166, column: 47 } }, loc: { start: { line: 166, column: 52 }, end: { line: 166, column: 106 } }, line: 166 }, "10": { name: "learnAddress", decl: { start: { line: 181, column: 9 }, end: { line: 181, column: 21 } }, loc: { start: { line: 181, column: 57 }, end: { line: 199, column: 1 } }, line: 181 }, "11": { name: "mappedPaths", decl: { start: { line: 212, column: 9 }, end: { line: 212, column: 20 } }, loc: { start: { line: 212, column: 52 }, end: { line: 308, column: 1 } }, line: 212 }, "12": { name: "(anonymous_12)", decl: { start: { line: 291, column: 92 }, end: { line: 291, column: 93 } }, loc: { start: { line: 291, column: 115 }, end: { line: 293, column: 9 } }, line: 291 }, "13": { name: "(anonymous_13)", decl: { start: { line: 294, column: 82 }, end: { line: 294, column: 83 } }, loc: { start: { line: 294, column: 125 }, end: { line: 302, column: 9 } }, line: 294 } }, branchMap: { "0": { loc: { start: { line: 47, column: 40 }, end: { line: 47, column: 267 } }, type: "if", locations: [{ start: { line: 47, column: 40 }, end: { line: 47, column: 267 } }, { start: { line: 47, column: 40 }, end: { line: 47, column: 267 } }], line: 47 }, "1": { loc: { start: { line: 47, column: 44 }, end: { line: 47, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 47, column: 44 }, end: { line: 47, column: 47 } }, { start: { line: 47, column: 51 }, end: { line: 47, column: 65 } }], line: 47 }, "2": { loc: { start: { line: 47, column: 107 }, end: { line: 47, column: 228 } }, type: "if", locations: [{ start: { line: 47, column: 107 }, end: { line: 47, column: 228 } }, { start: { line: 47, column: 107 }, end: { line: 47, column: 228 } }], line: 47 }, "3": { loc: { start: { line: 47, column: 149 }, end: { line: 47, column: 224 } }, type: "if", locations: [{ start: { line: 47, column: 149 }, end: { line: 47, column: 224 } }, { start: { line: 47, column: 149 }, end: { line: 47, column: 224 } }], line: 47 }, "4": { loc: { start: { line: 49, column: 46 }, end: { line: 49, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 49, column: 70 }, end: { line: 49, column: 73 } }, { start: { line: 49, column: 76 }, end: { line: 49, column: 92 } }], line: 49 }, "5": { loc: { start: { line: 49, column: 46 }, end: { line: 49, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 49, column: 46 }, end: { line: 49, column: 49 } }, { start: { line: 49, column: 53 }, end: { line: 49, column: 67 } }], line: 49 }, "6": { loc: { start: { line: 57, column: 16 }, end: { line: 57, column: 38 } }, type: "default-arg", locations: [{ start: { line: 57, column: 24 }, end: { line: 57, column: 38 } }], line: 57 }, "7": { loc: { start: { line: 61, column: 2 }, end: { line: 94, column: 3 } }, type: "switch", locations: [{ start: { line: 62, column: 4 }, end: { line: 76, column: 8 } }, { start: { line: 78, column: 4 }, end: { line: 90, column: 8 } }, { start: { line: 92, column: 4 }, end: { line: 93, column: 19 } }], line: 61 }, "8": { loc: { start: { line: 63, column: 14 }, end: { line: 63, column: 41 } }, type: "binary-expr", locations: [{ start: { line: 63, column: 14 }, end: { line: 63, column: 35 } }, { start: { line: 63, column: 39 }, end: { line: 63, column: 41 } }], line: 63 }, "9": { loc: { start: { line: 79, column: 14 }, end: { line: 79, column: 49 } }, type: "binary-expr", locations: [{ start: { line: 79, column: 14 }, end: { line: 79, column: 43 } }, { start: { line: 79, column: 47 }, end: { line: 79, column: 49 } }], line: 79 }, "10": { loc: { start: { line: 80, column: 18 }, end: { line: 80, column: 39 } }, type: "binary-expr", locations: [{ start: { line: 80, column: 18 }, end: { line: 80, column: 33 } }, { start: { line: 80, column: 37 }, end: { line: 80, column: 39 } }], line: 80 }, "11": { loc: { start: { line: 104, column: 26 }, end: { line: 104, column: 36 } }, type: "default-arg", locations: [{ start: { line: 104, column: 34 }, end: { line: 104, column: 36 } }], line: 104 }, "12": { loc: { start: { line: 105, column: 2 }, end: { line: 110, column: 3 } }, type: "switch", locations: [{ start: { line: 106, column: 4 }, end: { line: 107, column: 40 } }, { start: { line: 108, column: 4 }, end: { line: 109, column: 19 } }], line: 105 }, "13": { loc: { start: { line: 113, column: 17 }, end: { line: 113, column: 27 } }, type: "default-arg", locations: [{ start: { line: 113, column: 25 }, end: { line: 113, column: 27 } }], line: 113 }, "14": { loc: { start: { line: 114, column: 2 }, end: { line: 118, column: 3 } }, type: "if", locations: [{ start: { line: 114, column: 2 }, end: { line: 118, column: 3 } }, { start: { line: 114, column: 2 }, end: { line: 118, column: 3 } }], line: 114 }, "15": { loc: { start: { line: 136, column: 21 }, end: { line: 136, column: 48 } }, type: "default-arg", locations: [{ start: { line: 136, column: 29 }, end: { line: 136, column: 48 } }], line: 136 }, "16": { loc: { start: { line: 137, column: 2 }, end: { line: 178, column: 3 } }, type: "switch", locations: [{ start: { line: 138, column: 4 }, end: { line: 138, column: 24 } }, { start: { line: 139, column: 4 }, end: { line: 153, column: 16 } }, { start: { line: 155, column: 4 }, end: { line: 171, column: 8 } }, { start: { line: 173, column: 4 }, end: { line: 174, column: 33 } }, { start: { line: 176, column: 4 }, end: { line: 177, column: 19 } }], line: 137 }, "17": { loc: { start: { line: 149, column: 48 }, end: { line: 149, column: 72 } }, type: "binary-expr", locations: [{ start: { line: 149, column: 48 }, end: { line: 149, column: 66 } }, { start: { line: 149, column: 70 }, end: { line: 149, column: 72 } }], line: 149 }, "18": { loc: { start: { line: 182, column: 2 }, end: { line: 198, column: 3 } }, type: "if", locations: [{ start: { line: 182, column: 2 }, end: { line: 198, column: 3 } }, { start: { line: 182, column: 2 }, end: { line: 198, column: 3 } }], line: 182 }, "19": { loc: { start: { line: 212, column: 21 }, end: { line: 212, column: 42 } }, type: "default-arg", locations: [{ start: { line: 212, column: 29 }, end: { line: 212, column: 42 } }], line: 212 }, "20": { loc: { start: { line: 213, column: 2 }, end: { line: 307, column: 3 } }, type: "switch", locations: [{ start: { line: 214, column: 4 }, end: { line: 220, column: 8 } }, { start: { line: 221, column: 4 }, end: { line: 283, column: 22 } }, { start: { line: 285, column: 4 }, end: { line: 286, column: 27 } }, { start: { line: 288, column: 4 }, end: { line: 303, column: 8 } }, { start: { line: 305, column: 4 }, end: { line: 306, column: 19 } }], line: 213 }, "21": { loc: { start: { line: 215, column: 61 }, end: { line: 215, column: 84 } }, type: "cond-expr", locations: [{ start: { line: 215, column: 78 }, end: { line: 215, column: 79 } }, { start: { line: 215, column: 82 }, end: { line: 215, column: 84 } }], line: 215 }, "22": { loc: { start: { line: 217, column: 50 }, end: { line: 217, column: 73 } }, type: "cond-expr", locations: [{ start: { line: 217, column: 67 }, end: { line: 217, column: 68 } }, { start: { line: 217, column: 71 }, end: { line: 217, column: 73 } }], line: 217 }, "23": { loc: { start: { line: 236, column: 26 }, end: { line: 236, column: 172 } }, type: "cond-expr", locations: [{ start: { line: 236, column: 38 }, end: { line: 236, column: 160 } }, { start: { line: 236, column: 163 }, end: { line: 236, column: 172 } }], line: 236 }, "24": { loc: { start: { line: 245, column: 48 }, end: { line: 245, column: 90 } }, type: "binary-expr", locations: [{ start: { line: 245, column: 48 }, end: { line: 245, column: 72 } }, { start: { line: 245, column: 76 }, end: { line: 245, column: 90 } }], line: 245 }, "25": { loc: { start: { line: 256, column: 53 }, end: { line: 258, column: 11 } }, type: "binary-expr", locations: [{ start: { line: 256, column: 53 }, end: { line: 256, column: 103 } }, { start: { line: 256, column: 107 }, end: { line: 258, column: 11 } }], line: 256 }, "26": { loc: { start: { line: 266, column: 6 }, end: { line: 279, column: 7 } }, type: "if", locations: [{ start: { line: 266, column: 6 }, end: { line: 279, column: 7 } }, { start: { line: 266, column: 6 }, end: { line: 279, column: 7 } }], line: 266 }, "27": { loc: { start: { line: 269, column: 8 }, end: { line: 277, column: 9 } }, type: "if", locations: [{ start: { line: 269, column: 8 }, end: { line: 277, column: 9 } }, { start: { line: 269, column: 8 }, end: { line: 277, column: 9 } }], line: 269 }, "28": { loc: { start: { line: 269, column: 12 }, end: { line: 269, column: 164 } }, type: "binary-expr", locations: [{ start: { line: 269, column: 12 }, end: { line: 269, column: 39 } }, { start: { line: 269, column: 43 }, end: { line: 269, column: 87 } }, { start: { line: 269, column: 91 }, end: { line: 269, column: 164 } }], line: 269 }, "29": { loc: { start: { line: 292, column: 11 }, end: { line: 292, column: 69 } }, type: "cond-expr", locations: [{ start: { line: 292, column: 46 }, end: { line: 292, column: 59 } }, { start: { line: 292, column: 62 }, end: { line: 292, column: 69 } }], line: 292 }, "30": { loc: { start: { line: 298, column: 21 }, end: { line: 298, column: 79 } }, type: "cond-expr", locations: [{ start: { line: 298, column: 55 }, end: { line: 298, column: 69 } }, { start: { line: 298, column: 72 }, end: { line: 298, column: 79 } }], line: 298 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0, "49": 0, "50": 0, "51": 0, "52": 0, "53": 0, "54": 0, "55": 0, "56": 0, "57": 0, "58": 0, "59": 0, "60": 0, "61": 0, "62": 0, "63": 0, "64": 0, "65": 0, "66": 0, "67": 0, "68": 0, "69": 0, "70": 0, "71": 0, "72": 0, "73": 0, "74": 0, "75": 0, "76": 0, "77": 0, "78": 0, "79": 0, "80": 0, "81": 0, "82": 0, "83": 0, "84": 0, "85": 0, "86": 0, "87": 0, "88": 0, "89": 0, "90": 0, "91": 0, "92": 0, "93": 0, "94": 0, "95": 0, "96": 0, "97": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0], "7": [0, 0, 0], "8": [0, 0], "9": [0, 0], "10": [0, 0], "11": [0], "12": [0, 0], "13": [0], "14": [0, 0], "15": [0], "16": [0, 0, 0, 0, 0], "17": [0, 0], "18": [0, 0], "19": [0], "20": [0, 0, 0, 0, 0], "21": [0, 0], "22": [0, 0], "23": [0, 0], "24": [0, 0], "25": [0, 0], "26": [0, 0], "27": [0, 0], "28": [0, 0, 0], "29": [0, 0], "30": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/data/reducers.js"], names: ["actions", "debug", "DEFAULT_SCOPES", "byId", "scopes", "state", "action", "scope", "variables", "type", "SCOPE", "id", "sourceId", "parentId", "pointer", "DECLARE", "node", "name", "userDefinedTypes", "DEFINE_TYPE", "storage", "ALLOCATE", "allocations", "info", "DEFAULT_ASSIGNMENTS", "byAstId", "assignments", "ASSIGN", "MAP_PATH_AND_ASSIGN", "reduce", "acc", "assignment", "astId", "LEARN_ADDRESS", "dummyAddress", "address", "map", "newAssignment", "learnAddress", "RESET", "newIdObj", "newId", "ref", "DEFAULT_PATHS", "decodingStarted", "byAddress", "mappedPaths", "MAP_KEY_DECODING", "started", "slot", "typeIdentifier", "baseType", "Definition", "restorePtr", "hexSlotAddress", "Conversion", "toHexString", "EVM", "WORD_SIZE", "parentAddress", "path", "undefined", "newState", "byType", "slotAddress", "bySlotAddress", "oldSlot", "newSlot", "types", "adress", "proc", "reducer"], mappings: "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", file: "reducers.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:data:reducers\");\n\nimport { combineReducers } from \"redux\";\n\nimport { stableKeccak256 } from \"lib/helpers\";\n\nimport * as actions from \"./actions\";\n\nimport { slotAddress } from \"truffle-decoder\";\nimport { Conversion, Definition, EVM } from \"truffle-decode-utils\";\n\nconst DEFAULT_SCOPES = {\n  byId: {}\n};\n\nfunction scopes(state = DEFAULT_SCOPES, action) {\n  var scope;\n  var variables;\n\n  switch (action.type) {\n    case actions.SCOPE:\n      scope = state.byId[action.id] || {};\n\n      return {\n        byId: {\n          ...state.byId,\n\n          [action.id]: {\n            ...scope,\n\n            id: action.id,\n            sourceId: action.sourceId,\n            parentId: action.parentId,\n            pointer: action.pointer\n          }\n        }\n      };\n\n    case actions.DECLARE:\n      scope = state.byId[action.node.scope] || {};\n      variables = scope.variables || [];\n\n      return {\n        byId: {\n          ...state.byId,\n\n          [action.node.scope]: {\n            ...scope,\n\n            variables: [\n              ...variables,\n\n              { name: action.node.name, id: action.node.id }\n            ]\n          }\n        }\n      };\n\n    default:\n      return state;\n  }\n}\n\n//a note on the following reducer: solidity assigns a unique AST ID to every\n//AST node among all the files being compiled together.  thus, it is, for now,\n//safe to identify user-defined types solely by their AST ID.  In the future,\n//once we eventually support having some files compiled separately from others,\n//this will become a bug you'll have to fix, and you'll have to fix it in the\n//decoder, too.  Sorry, future me! (or whoever's stuck doing this)\n\nfunction userDefinedTypes(state = [], action) {\n  switch (action.type) {\n    case actions.DEFINE_TYPE:\n      return [...state, action.node.id];\n    default:\n      return state;\n  }\n}\n\nfunction storage(state = {}, action) {\n  if (action.type === actions.ALLOCATE) {\n    return action.storage;\n  } else {\n    return state;\n  }\n}\n\nconst allocations = combineReducers({\n  storage\n});\n\nconst info = combineReducers({\n  scopes,\n  userDefinedTypes,\n  allocations\n});\n\nconst DEFAULT_ASSIGNMENTS = {\n  byId: {},\n  byAstId: {}\n};\n\nfunction assignments(state = DEFAULT_ASSIGNMENTS, action) {\n  switch (action.type) {\n    case actions.ASSIGN:\n    case actions.MAP_PATH_AND_ASSIGN:\n      debug(\"action.type %O\", action.type);\n      debug(\"action.assignments %O\", action.assignments);\n      return Object.values(action.assignments.byId).reduce(\n        (acc, assignment) => {\n          let { id, astId } = assignment; //we don't need the rest\n          return {\n            byId: {\n              ...acc.byId,\n              [id]: assignment\n            },\n            byAstId: {\n              ...acc.byAstId,\n              [astId]: [...new Set([...(acc.byAstId[astId] || []), id])]\n              //we use a set for uniqueness\n            }\n          };\n        },\n        state\n      );\n\n    case actions.LEARN_ADDRESS:\n      let { dummyAddress, address } = action;\n      return {\n        byId: Object.assign(\n          {},\n          ...Object.values(state.byId).map(assignment => {\n            let newAssignment = learnAddress(assignment, dummyAddress, address);\n            return {\n              [newAssignment.id]: newAssignment\n            };\n          })\n        ),\n        byAstId: Object.assign(\n          {},\n          ...Object.entries(state.byAstId).map(([astId]) => {\n            return {\n              [astId]: state.byAstId[astId].map(\n                id => learnAddress(state.byId[id], dummyAddress, address).id\n                //this above involves some recomputation but oh well\n              )\n            };\n          })\n        )\n      };\n\n    case actions.RESET:\n      return DEFAULT_ASSIGNMENTS;\n\n    default:\n      return state;\n  }\n}\n\nfunction learnAddress(assignment, dummyAddress, address) {\n  if (assignment.dummyAddress === dummyAddress) {\n    //we can assume here that the object being\n    //transformed has a very particular form\n    let newIdObj = {\n      astId: assignment.astId,\n      address\n    };\n    let newId = stableKeccak256(newIdObj);\n    return {\n      id: newId,\n      ref: assignment.ref,\n      astId: assignment.astId,\n      address\n    };\n  } else {\n    return assignment;\n  }\n}\n\nconst DEFAULT_PATHS = {\n  decodingStarted: 0,\n  byAddress: {},\n  byId: {} //WARNING: byId is *working* state and should not be relied on\n  //aside from its narrow purpose of avoiding recomputation in the data saga\n};\n\n//WARNING: do *not* rely on mappedPaths to keep track of paths that do not\n//involve mapping keys!  Yes, many will get mapped, but there is no guarantee.\n//Only when mapping keys are involved does it necessarily work reliably --\n//which is fine, as that's all we need it for.\nfunction mappedPaths(state = DEFAULT_PATHS, action) {\n  switch (action.type) {\n    case actions.MAP_KEY_DECODING:\n      debug(\n        \"decoding started: %d\",\n        state.decodingStarted + (action.started ? 1 : -1)\n      );\n      return {\n        decodingStarted: state.decodingStarted + (action.started ? 1 : -1),\n        byAddress: state.byAddress,\n        byId: state.byId\n      };\n    case actions.MAP_PATH_AND_ASSIGN:\n      let { address, slot, assignments, typeIdentifier, baseType } = action;\n\n      //we do NOT want to distinguish between types with and without \"_ptr\" on\n      //the end here!\n      debug(\"typeIdentifier %s\", typeIdentifier);\n      typeIdentifier = Definition.restorePtr(typeIdentifier);\n      baseType = Definition.restorePtr(baseType);\n\n      //assignments.byId should contain precisely one assignment; we'll just\n      //need its ID, which is its key\n      let id = Object.keys(assignments.byId)[0];\n\n      debug(\"slot %o\", slot);\n      let hexSlotAddress = Conversion.toHexString(\n        slotAddress(slot),\n        EVM.WORD_SIZE\n      );\n      let parentAddress = slot.path\n        ? Conversion.toHexString(slotAddress(slot.path), EVM.WORD_SIZE)\n        : undefined;\n\n      //this is going to be messy and procedural, sorry.  but let's start with\n      //the easy stuff: create the new address if needed, clone if not,\n      //and set up byId regardless\n      let newState = {\n        decodingStarted: state.decodingStarted,\n        byAddress: {\n          ...state.byAddress,\n          [address]: {\n            byType: {\n              ...(state.byAddress[address] || { byType: {} }).byType\n            }\n          }\n        },\n        byId: {\n          ...state.byId,\n          [id]: { address, typeIdentifier, slotAddress: hexSlotAddress }\n        }\n      };\n\n      //now, let's add in the new type, if needed\n      newState.byAddress[address].byType = {\n        ...newState.byAddress[address].byType,\n        [typeIdentifier]: {\n          bySlotAddress: {\n            ...(\n              newState.byAddress[address].byType[typeIdentifier] || {\n                bySlotAddress: {}\n              }\n            ).bySlotAddress\n          }\n        }\n      };\n\n      let oldSlot =\n        newState.byAddress[address].byType[typeIdentifier].bySlotAddress[\n          hexSlotAddress\n        ];\n      //yes, this looks strange, but we haven't changed it yet except to\n      //clone or create empty (and we don't want undefined!)\n      //now: is there something already there or no?  if no, we must add\n      if (oldSlot === undefined) {\n        let newSlot;\n        debug(\"parentAddress %o\", parentAddress);\n        if (\n          parentAddress !== undefined &&\n          newState.byAddress[address].byType[baseType] &&\n          newState.byAddress[address].byType[baseType].bySlotAddress[\n            parentAddress\n          ]\n        ) {\n          //if the parent is already present, use that instead of the given\n          //parent!\n          newSlot = {\n            ...slot,\n            path:\n              newState.byAddress[address].byType[baseType].bySlotAddress[\n                parentAddress\n              ]\n          };\n        } else {\n          newSlot = slot;\n        }\n        newState.byAddress[address].byType[typeIdentifier].bySlotAddress[\n          hexSlotAddress\n        ] = newSlot;\n      }\n      //if there's already something there, we don't need to do anything\n      //(except update byId, which we already did)\n\n      return newState;\n\n    case actions.RESET:\n      return DEFAULT_PATHS;\n\n    case actions.LEARN_ADDRESS:\n      return {\n        decodingStarted: state.decodingStarted,\n        byAddress: Object.assign(\n          {},\n          ...Object.entries(state.byAddress).map(([address, types]) => ({\n            [address === actions.dummyAddress ? action.adress : address]: types\n          }))\n        ),\n        byId: Object.assign(\n          {},\n          ...Object.entries(state.byId).map(\n            ([id, { address, type, slotAddress }]) => ({\n              //note that the ID does *not* need to change here, as it comes\n              //from a stackframe assignment, not an address assignment\n              [id]: {\n                address:\n                  address === action.dummyAddress ? action.address : address,\n                typeIdentifier: type,\n                slotAddress\n              }\n            })\n          )\n        )\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst proc = combineReducers({\n  assignments,\n  mappedPaths\n});\n\nconst reducer = combineReducers({\n  info,\n  proc\n});\n\nexport default reducer;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_1fv1dskiyx.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _keys = (cov_1fv1dskiyx.s[1]++, __webpack_require__(17));var _keys2 = (cov_1fv1dskiyx.s[2]++, _interopRequireDefault(_keys));var _entries = (cov_1fv1dskiyx.s[3]++, __webpack_require__(9));var _entries2 = (cov_1fv1dskiyx.s[4]++, _interopRequireDefault(_entries));var _assign = (cov_1fv1dskiyx.s[5]++, __webpack_require__(12));var _assign2 = (cov_1fv1dskiyx.s[6]++, _interopRequireDefault(_assign));var _set = (cov_1fv1dskiyx.s[7]++, __webpack_require__(27));var _set2 = (cov_1fv1dskiyx.s[8]++, _interopRequireDefault(_set));var _values = (cov_1fv1dskiyx.s[9]++, __webpack_require__(23));var _values2 = (cov_1fv1dskiyx.s[10]++, _interopRequireDefault(_values));var _extends2 = (cov_1fv1dskiyx.s[11]++, __webpack_require__(13));var _extends3 = (cov_1fv1dskiyx.s[12]++, _interopRequireDefault(_extends2));var _debug = (cov_1fv1dskiyx.s[13]++, __webpack_require__(0));var _debug2 = (cov_1fv1dskiyx.s[14]++, _interopRequireDefault(_debug));var _redux = (cov_1fv1dskiyx.s[15]++, __webpack_require__(16));var _helpers = (cov_1fv1dskiyx.s[16]++, __webpack_require__(3));var _actions = (cov_1fv1dskiyx.s[17]++, __webpack_require__(34));var actions = (cov_1fv1dskiyx.s[18]++, _interopRequireWildcard(_actions));var _truffleDecoder = (cov_1fv1dskiyx.s[19]++, __webpack_require__(31));var _truffleDecodeUtils = (cov_1fv1dskiyx.s[20]++, __webpack_require__(6));function _interopRequireWildcard(obj) {
  cov_1fv1dskiyx.f[0]++;cov_1fv1dskiyx.s[21]++;if ((cov_1fv1dskiyx.b[1][0]++, obj) && (cov_1fv1dskiyx.b[1][1]++, obj.__esModule)) {
    cov_1fv1dskiyx.b[0][0]++;cov_1fv1dskiyx.s[22]++;return obj;
  } else {
    cov_1fv1dskiyx.b[0][1]++;var newObj = (cov_1fv1dskiyx.s[23]++, {});cov_1fv1dskiyx.s[24]++;if (obj != null) {
      cov_1fv1dskiyx.b[2][0]++;cov_1fv1dskiyx.s[25]++;for (var key in obj) {
        cov_1fv1dskiyx.s[26]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_1fv1dskiyx.b[3][0]++;cov_1fv1dskiyx.s[27]++;newObj[key] = obj[key];
        } else {
          cov_1fv1dskiyx.b[3][1]++;
        }
      }
    } else {
      cov_1fv1dskiyx.b[2][1]++;
    }cov_1fv1dskiyx.s[28]++;newObj.default = obj;cov_1fv1dskiyx.s[29]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_1fv1dskiyx.f[1]++;cov_1fv1dskiyx.s[30]++;return (cov_1fv1dskiyx.b[5][0]++, obj) && (cov_1fv1dskiyx.b[5][1]++, obj.__esModule) ? (cov_1fv1dskiyx.b[4][0]++, obj) : (cov_1fv1dskiyx.b[4][1]++, { default: obj });
}const debug = (cov_1fv1dskiyx.s[31]++, (0, _debug2.default)("debugger:data:reducers"));const DEFAULT_SCOPES = (cov_1fv1dskiyx.s[32]++, { byId: {} });function scopes(state = (cov_1fv1dskiyx.b[6][0]++, DEFAULT_SCOPES), action) {
  cov_1fv1dskiyx.f[2]++;var scope;var variables;cov_1fv1dskiyx.s[33]++;switch (action.type) {case actions.SCOPE:
      cov_1fv1dskiyx.b[7][0]++;cov_1fv1dskiyx.s[34]++;scope = (cov_1fv1dskiyx.b[8][0]++, state.byId[action.id]) || (cov_1fv1dskiyx.b[8][1]++, {});cov_1fv1dskiyx.s[35]++;return { byId: (0, _extends3.default)({}, state.byId, { [action.id]: (0, _extends3.default)({}, scope, { id: action.id, sourceId: action.sourceId, parentId: action.parentId, pointer: action.pointer }) }) };case actions.DECLARE:
      cov_1fv1dskiyx.b[7][1]++;cov_1fv1dskiyx.s[36]++;scope = (cov_1fv1dskiyx.b[9][0]++, state.byId[action.node.scope]) || (cov_1fv1dskiyx.b[9][1]++, {});cov_1fv1dskiyx.s[37]++;variables = (cov_1fv1dskiyx.b[10][0]++, scope.variables) || (cov_1fv1dskiyx.b[10][1]++, []);cov_1fv1dskiyx.s[38]++;return { byId: (0, _extends3.default)({}, state.byId, { [action.node.scope]: (0, _extends3.default)({}, scope, { variables: [...variables, { name: action.node.name, id: action.node.id }] }) }) };default:
      cov_1fv1dskiyx.b[7][2]++;cov_1fv1dskiyx.s[39]++;return state;}
}function userDefinedTypes(state = (cov_1fv1dskiyx.b[11][0]++, []), action) {
  cov_1fv1dskiyx.f[3]++;cov_1fv1dskiyx.s[40]++;switch (action.type) {case actions.DEFINE_TYPE:
      cov_1fv1dskiyx.b[12][0]++;cov_1fv1dskiyx.s[41]++;return [...state, action.node.id];default:
      cov_1fv1dskiyx.b[12][1]++;cov_1fv1dskiyx.s[42]++;return state;}
}function storage(state = (cov_1fv1dskiyx.b[13][0]++, {}), action) {
  cov_1fv1dskiyx.f[4]++;cov_1fv1dskiyx.s[43]++;if (action.type === actions.ALLOCATE) {
    cov_1fv1dskiyx.b[14][0]++;cov_1fv1dskiyx.s[44]++;return action.storage;
  } else {
    cov_1fv1dskiyx.b[14][1]++;cov_1fv1dskiyx.s[45]++;return state;
  }
}const allocations = (cov_1fv1dskiyx.s[46]++, (0, _redux.combineReducers)({ storage }));const info = (cov_1fv1dskiyx.s[47]++, (0, _redux.combineReducers)({ scopes, userDefinedTypes, allocations }));const DEFAULT_ASSIGNMENTS = (cov_1fv1dskiyx.s[48]++, { byId: {}, byAstId: {} });function assignments(state = (cov_1fv1dskiyx.b[15][0]++, DEFAULT_ASSIGNMENTS), action) {
  cov_1fv1dskiyx.f[5]++;cov_1fv1dskiyx.s[49]++;switch (action.type) {case actions.ASSIGN:
      cov_1fv1dskiyx.b[16][0]++;case actions.MAP_PATH_AND_ASSIGN:
      cov_1fv1dskiyx.b[16][1]++;cov_1fv1dskiyx.s[50]++;debug("action.type %O", action.type);cov_1fv1dskiyx.s[51]++;debug("action.assignments %O", action.assignments);cov_1fv1dskiyx.s[52]++;return (0, _values2.default)(action.assignments.byId).reduce((acc, assignment) => {
        cov_1fv1dskiyx.f[6]++;let { id, astId } = (cov_1fv1dskiyx.s[53]++, assignment);cov_1fv1dskiyx.s[54]++;return { byId: (0, _extends3.default)({}, acc.byId, { [id]: assignment }), byAstId: (0, _extends3.default)({}, acc.byAstId, { [astId]: [...new _set2.default([...((cov_1fv1dskiyx.b[17][0]++, acc.byAstId[astId]) || (cov_1fv1dskiyx.b[17][1]++, [])), id])] }) };
      }, state);case actions.LEARN_ADDRESS:
      cov_1fv1dskiyx.b[16][2]++;let { dummyAddress, address } = (cov_1fv1dskiyx.s[55]++, action);cov_1fv1dskiyx.s[56]++;return { byId: (0, _assign2.default)({}, ...(0, _values2.default)(state.byId).map(assignment => {
          cov_1fv1dskiyx.f[7]++;let newAssignment = (cov_1fv1dskiyx.s[57]++, learnAddress(assignment, dummyAddress, address));cov_1fv1dskiyx.s[58]++;return { [newAssignment.id]: newAssignment };
        })), byAstId: (0, _assign2.default)({}, ...(0, _entries2.default)(state.byAstId).map(([astId]) => {
          cov_1fv1dskiyx.f[8]++;cov_1fv1dskiyx.s[59]++;return { [astId]: state.byAstId[astId].map(id => {
              cov_1fv1dskiyx.f[9]++;cov_1fv1dskiyx.s[60]++;return learnAddress(state.byId[id], dummyAddress, address).id;
            }) };
        })) };case actions.RESET:
      cov_1fv1dskiyx.b[16][3]++;cov_1fv1dskiyx.s[61]++;return DEFAULT_ASSIGNMENTS;default:
      cov_1fv1dskiyx.b[16][4]++;cov_1fv1dskiyx.s[62]++;return state;}
}function learnAddress(assignment, dummyAddress, address) {
  cov_1fv1dskiyx.f[10]++;cov_1fv1dskiyx.s[63]++;if (assignment.dummyAddress === dummyAddress) {
    cov_1fv1dskiyx.b[18][0]++;let newIdObj = (cov_1fv1dskiyx.s[64]++, { astId: assignment.astId, address });let newId = (cov_1fv1dskiyx.s[65]++, (0, _helpers.stableKeccak256)(newIdObj));cov_1fv1dskiyx.s[66]++;return { id: newId, ref: assignment.ref, astId: assignment.astId, address };
  } else {
    cov_1fv1dskiyx.b[18][1]++;cov_1fv1dskiyx.s[67]++;return assignment;
  }
}const DEFAULT_PATHS = (cov_1fv1dskiyx.s[68]++, { decodingStarted: 0, byAddress: {}, byId: {} });function mappedPaths(state = (cov_1fv1dskiyx.b[19][0]++, DEFAULT_PATHS), action) {
  cov_1fv1dskiyx.f[11]++;cov_1fv1dskiyx.s[69]++;switch (action.type) {case actions.MAP_KEY_DECODING:
      cov_1fv1dskiyx.b[20][0]++;cov_1fv1dskiyx.s[70]++;debug("decoding started: %d", state.decodingStarted + (action.started ? (cov_1fv1dskiyx.b[21][0]++, 1) : (cov_1fv1dskiyx.b[21][1]++, -1)));cov_1fv1dskiyx.s[71]++;return { decodingStarted: state.decodingStarted + (action.started ? (cov_1fv1dskiyx.b[22][0]++, 1) : (cov_1fv1dskiyx.b[22][1]++, -1)), byAddress: state.byAddress, byId: state.byId };case actions.MAP_PATH_AND_ASSIGN:
      cov_1fv1dskiyx.b[20][1]++;let { address, slot, assignments, typeIdentifier, baseType } = (cov_1fv1dskiyx.s[72]++, action);cov_1fv1dskiyx.s[73]++;debug("typeIdentifier %s", typeIdentifier);cov_1fv1dskiyx.s[74]++;typeIdentifier = _truffleDecodeUtils.Definition.restorePtr(typeIdentifier);cov_1fv1dskiyx.s[75]++;baseType = _truffleDecodeUtils.Definition.restorePtr(baseType);let id = (cov_1fv1dskiyx.s[76]++, (0, _keys2.default)(assignments.byId)[0]);cov_1fv1dskiyx.s[77]++;debug("slot %o", slot);let hexSlotAddress = (cov_1fv1dskiyx.s[78]++, _truffleDecodeUtils.Conversion.toHexString((0, _truffleDecoder.slotAddress)(slot), _truffleDecodeUtils.EVM.WORD_SIZE));let parentAddress = (cov_1fv1dskiyx.s[79]++, slot.path ? (cov_1fv1dskiyx.b[23][0]++, _truffleDecodeUtils.Conversion.toHexString((0, _truffleDecoder.slotAddress)(slot.path), _truffleDecodeUtils.EVM.WORD_SIZE)) : (cov_1fv1dskiyx.b[23][1]++, undefined));let newState = (cov_1fv1dskiyx.s[80]++, { decodingStarted: state.decodingStarted, byAddress: (0, _extends3.default)({}, state.byAddress, { [address]: { byType: (0, _extends3.default)({}, ((cov_1fv1dskiyx.b[24][0]++, state.byAddress[address]) || (cov_1fv1dskiyx.b[24][1]++, { byType: {} })).byType) } }), byId: (0, _extends3.default)({}, state.byId, { [id]: { address, typeIdentifier, slotAddress: hexSlotAddress } }) });cov_1fv1dskiyx.s[81]++;newState.byAddress[address].byType = (0, _extends3.default)({}, newState.byAddress[address].byType, { [typeIdentifier]: { bySlotAddress: (0, _extends3.default)({}, ((cov_1fv1dskiyx.b[25][0]++, newState.byAddress[address].byType[typeIdentifier]) || (cov_1fv1dskiyx.b[25][1]++, { bySlotAddress: {} })).bySlotAddress) } });let oldSlot = (cov_1fv1dskiyx.s[82]++, newState.byAddress[address].byType[typeIdentifier].bySlotAddress[hexSlotAddress]);cov_1fv1dskiyx.s[83]++;if (oldSlot === undefined) {
        cov_1fv1dskiyx.b[26][0]++;let newSlot;cov_1fv1dskiyx.s[84]++;debug("parentAddress %o", parentAddress);cov_1fv1dskiyx.s[85]++;if ((cov_1fv1dskiyx.b[28][0]++, parentAddress !== undefined) && (cov_1fv1dskiyx.b[28][1]++, newState.byAddress[address].byType[baseType]) && (cov_1fv1dskiyx.b[28][2]++, newState.byAddress[address].byType[baseType].bySlotAddress[parentAddress])) {
          cov_1fv1dskiyx.b[27][0]++;cov_1fv1dskiyx.s[86]++;newSlot = (0, _extends3.default)({}, slot, { path: newState.byAddress[address].byType[baseType].bySlotAddress[parentAddress] });
        } else {
          cov_1fv1dskiyx.b[27][1]++;cov_1fv1dskiyx.s[87]++;newSlot = slot;
        }cov_1fv1dskiyx.s[88]++;newState.byAddress[address].byType[typeIdentifier].bySlotAddress[hexSlotAddress] = newSlot;
      } else {
        cov_1fv1dskiyx.b[26][1]++;
      }cov_1fv1dskiyx.s[89]++;return newState;case actions.RESET:
      cov_1fv1dskiyx.b[20][2]++;cov_1fv1dskiyx.s[90]++;return DEFAULT_PATHS;case actions.LEARN_ADDRESS:
      cov_1fv1dskiyx.b[20][3]++;cov_1fv1dskiyx.s[91]++;return { decodingStarted: state.decodingStarted, byAddress: (0, _assign2.default)({}, ...(0, _entries2.default)(state.byAddress).map(([address, types]) => {
          cov_1fv1dskiyx.f[12]++;cov_1fv1dskiyx.s[92]++;return { [address === actions.dummyAddress ? (cov_1fv1dskiyx.b[29][0]++, action.adress) : (cov_1fv1dskiyx.b[29][1]++, address)]: types };
        })), byId: (0, _assign2.default)({}, ...(0, _entries2.default)(state.byId).map(([id, { address, type, slotAddress }]) => {
          cov_1fv1dskiyx.f[13]++;cov_1fv1dskiyx.s[93]++;return { [id]: { address: address === action.dummyAddress ? (cov_1fv1dskiyx.b[30][0]++, action.address) : (cov_1fv1dskiyx.b[30][1]++, address), typeIdentifier: type, slotAddress } };
        })) };default:
      cov_1fv1dskiyx.b[20][4]++;cov_1fv1dskiyx.s[94]++;return state;}
}const proc = (cov_1fv1dskiyx.s[95]++, (0, _redux.combineReducers)({ assignments, mappedPaths }));const reducer = (cov_1fv1dskiyx.s[96]++, (0, _redux.combineReducers)({ info, proc }));cov_1fv1dskiyx.s[97]++;exports.default = reducer;

/***/ }),
/* 78 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_zru3qzhor = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/evm/reducers.js",
      hash = "d0728a52c0b4175cc29eecba968456d97c84b838",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/evm/reducers.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 11 }, end: { line: 7, column: 47 } }, "2": { start: { line: 9, column: 12 }, end: { line: 9, column: 40 } }, "3": { start: { line: 11, column: 12 }, end: { line: 11, column: 55 } }, "4": { start: { line: 13, column: 13 }, end: { line: 13, column: 42 } }, "5": { start: { line: 15, column: 16 }, end: { line: 15, column: 56 } }, "6": { start: { line: 17, column: 16 }, end: { line: 17, column: 49 } }, "7": { start: { line: 19, column: 0 }, end: { line: 19, column: 30 } }, "8": { start: { line: 21, column: 13 }, end: { line: 21, column: 29 } }, "9": { start: { line: 23, column: 15 }, end: { line: 23, column: 35 } }, "10": { start: { line: 25, column: 14 }, end: { line: 25, column: 47 } }, "11": { start: { line: 27, column: 15 }, end: { line: 27, column: 37 } }, "12": { start: { line: 29, column: 40 }, end: { line: 29, column: 267 } }, "13": { start: { line: 29, column: 69 }, end: { line: 29, column: 80 } }, "14": { start: { line: 29, column: 103 }, end: { line: 29, column: 105 } }, "15": { start: { line: 29, column: 107 }, end: { line: 29, column: 228 } }, "16": { start: { line: 29, column: 126 }, end: { line: 29, column: 226 } }, "17": { start: { line: 29, column: 149 }, end: { line: 29, column: 224 } }, "18": { start: { line: 29, column: 201 }, end: { line: 29, column: 224 } }, "19": { start: { line: 29, column: 229 }, end: { line: 29, column: 250 } }, "20": { start: { line: 29, column: 251 }, end: { line: 29, column: 265 } }, "21": { start: { line: 31, column: 39 }, end: { line: 31, column: 93 } }, "22": { start: { line: 33, column: 25 }, end: { line: 36, column: 1 } }, "23": { start: { line: 39, column: 2 }, end: { line: 94, column: 3 } }, "24": { start: { line: 45, column: 48 }, end: { line: 45, column: 54 } }, "25": { start: { line: 46, column: 24 }, end: { line: 46, column: 52 } }, "26": { start: { line: 48, column: 8 }, end: { line: 59, column: 11 } }, "27": { start: { line: 67, column: 36 }, end: { line: 67, column: 42 } }, "28": { start: { line: 69, column: 8 }, end: { line: 71, column: 9 } }, "29": { start: { line: 70, column: 10 }, end: { line: 70, column: 23 } }, "30": { start: { line: 73, column: 8 }, end: { line: 86, column: 10 } }, "31": { start: { line: 93, column: 6 }, end: { line: 93, column: 19 } }, "32": { start: { line: 97, column: 26 }, end: { line: 100, column: 1 } }, "33": { start: { line: 103, column: 2 }, end: { line: 132, column: 3 } }, "34": { start: { line: 108, column: 41 }, end: { line: 108, column: 47 } }, "35": { start: { line: 111, column: 27 }, end: { line: 111, column: 57 } }, "36": { start: { line: 112, column: 27 }, end: { line: 112, column: 71 } }, "37": { start: { line: 112, column: 63 }, end: { line: 112, column: 70 } }, "38": { start: { line: 114, column: 6 }, end: { line: 125, column: 8 } }, "39": { start: { line: 123, column: 105 }, end: { line: 123, column: 116 } }, "40": { start: { line: 131, column: 6 }, end: { line: 131, column: 19 } }, "41": { start: { line: 135, column: 13 }, end: { line: 138, column: 2 } }, "42": { start: { line: 141, column: 2 }, end: { line: 160, column: 3 } }, "43": { start: { line: 143, column: 22 }, end: { line: 143, column: 36 } }, "44": { start: { line: 144, column: 6 }, end: { line: 144, column: 41 } }, "45": { start: { line: 147, column: 21 }, end: { line: 147, column: 34 } }, "46": { start: { line: 148, column: 6 }, end: { line: 148, column: 40 } }, "47": { start: { line: 153, column: 6 }, end: { line: 153, column: 59 } }, "48": { start: { line: 156, column: 6 }, end: { line: 156, column: 24 } }, "49": { start: { line: 159, column: 6 }, end: { line: 159, column: 19 } }, "50": { start: { line: 163, column: 13 }, end: { line: 165, column: 2 } }, "51": { start: { line: 167, column: 16 }, end: { line: 170, column: 2 } }, "52": { start: { line: 172, column: 0 }, end: { line: 172, column: 26 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 29, column: 9 }, end: { line: 29, column: 32 } }, loc: { start: { line: 29, column: 38 }, end: { line: 29, column: 269 } }, line: 29 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 31, column: 9 }, end: { line: 31, column: 31 } }, loc: { start: { line: 31, column: 37 }, end: { line: 31, column: 95 } }, line: 31 }, "2": { name: "contexts", decl: { start: { line: 38, column: 9 }, end: { line: 38, column: 17 } }, loc: { start: { line: 38, column: 52 }, end: { line: 95, column: 1 } }, line: 38 }, "3": { name: "instances", decl: { start: { line: 102, column: 9 }, end: { line: 102, column: 18 } }, loc: { start: { line: 102, column: 54 }, end: { line: 133, column: 1 } }, line: 102 }, "4": { name: "(anonymous_4)", decl: { start: { line: 112, column: 46 }, end: { line: 112, column: 47 } }, loc: { start: { line: 112, column: 63 }, end: { line: 112, column: 70 } }, line: 112 }, "5": { name: "(anonymous_5)", decl: { start: { line: 123, column: 93 }, end: { line: 123, column: 94 } }, loc: { start: { line: 123, column: 105 }, end: { line: 123, column: 116 } }, line: 123 }, "6": { name: "callstack", decl: { start: { line: 140, column: 9 }, end: { line: 140, column: 18 } }, loc: { start: { line: 140, column: 39 }, end: { line: 161, column: 1 } }, line: 140 } }, branchMap: { "0": { loc: { start: { line: 29, column: 40 }, end: { line: 29, column: 267 } }, type: "if", locations: [{ start: { line: 29, column: 40 }, end: { line: 29, column: 267 } }, { start: { line: 29, column: 40 }, end: { line: 29, column: 267 } }], line: 29 }, "1": { loc: { start: { line: 29, column: 44 }, end: { line: 29, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 29, column: 44 }, end: { line: 29, column: 47 } }, { start: { line: 29, column: 51 }, end: { line: 29, column: 65 } }], line: 29 }, "2": { loc: { start: { line: 29, column: 107 }, end: { line: 29, column: 228 } }, type: "if", locations: [{ start: { line: 29, column: 107 }, end: { line: 29, column: 228 } }, { start: { line: 29, column: 107 }, end: { line: 29, column: 228 } }], line: 29 }, "3": { loc: { start: { line: 29, column: 149 }, end: { line: 29, column: 224 } }, type: "if", locations: [{ start: { line: 29, column: 149 }, end: { line: 29, column: 224 } }, { start: { line: 29, column: 149 }, end: { line: 29, column: 224 } }], line: 29 }, "4": { loc: { start: { line: 31, column: 46 }, end: { line: 31, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 31, column: 70 }, end: { line: 31, column: 73 } }, { start: { line: 31, column: 76 }, end: { line: 31, column: 92 } }], line: 31 }, "5": { loc: { start: { line: 31, column: 46 }, end: { line: 31, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 31, column: 46 }, end: { line: 31, column: 49 } }, { start: { line: 31, column: 53 }, end: { line: 31, column: 67 } }], line: 31 }, "6": { loc: { start: { line: 38, column: 18 }, end: { line: 38, column: 42 } }, type: "default-arg", locations: [{ start: { line: 38, column: 26 }, end: { line: 38, column: 42 } }], line: 38 }, "7": { loc: { start: { line: 39, column: 2 }, end: { line: 94, column: 3 } }, type: "switch", locations: [{ start: { line: 43, column: 4 }, end: { line: 60, column: 7 } }, { start: { line: 65, column: 4 }, end: { line: 87, column: 7 } }, { start: { line: 92, column: 4 }, end: { line: 93, column: 19 } }], line: 39 }, "8": { loc: { start: { line: 52, column: 50 }, end: { line: 52, column: 80 } }, type: "binary-expr", locations: [{ start: { line: 52, column: 50 }, end: { line: 52, column: 74 } }, { start: { line: 52, column: 78 }, end: { line: 52, column: 80 } }], line: 52 }, "9": { loc: { start: { line: 69, column: 8 }, end: { line: 71, column: 9 } }, type: "if", locations: [{ start: { line: 69, column: 8 }, end: { line: 71, column: 9 } }, { start: { line: 69, column: 8 }, end: { line: 71, column: 9 } }], line: 69 }, "10": { loc: { start: { line: 102, column: 19 }, end: { line: 102, column: 44 } }, type: "default-arg", locations: [{ start: { line: 102, column: 27 }, end: { line: 102, column: 44 } }], line: 102 }, "11": { loc: { start: { line: 103, column: 2 }, end: { line: 132, column: 3 } }, type: "switch", locations: [{ start: { line: 107, column: 4 }, end: { line: 125, column: 8 } }, { start: { line: 130, column: 4 }, end: { line: 131, column: 19 } }], line: 103 }, "12": { loc: { start: { line: 111, column: 27 }, end: { line: 111, column: 57 } }, type: "binary-expr", locations: [{ start: { line: 111, column: 27 }, end: { line: 111, column: 51 } }, { start: { line: 111, column: 55 }, end: { line: 111, column: 57 } }], line: 111 }, "13": { loc: { start: { line: 140, column: 19 }, end: { line: 140, column: 29 } }, type: "default-arg", locations: [{ start: { line: 140, column: 27 }, end: { line: 140, column: 29 } }], line: 140 }, "14": { loc: { start: { line: 141, column: 2 }, end: { line: 160, column: 3 } }, type: "switch", locations: [{ start: { line: 142, column: 4 }, end: { line: 144, column: 41 } }, { start: { line: 146, column: 4 }, end: { line: 148, column: 40 } }, { start: { line: 150, column: 4 }, end: { line: 153, column: 59 } }, { start: { line: 155, column: 4 }, end: { line: 156, column: 24 } }, { start: { line: 158, column: 4 }, end: { line: 159, column: 19 } }], line: 141 }, "15": { loc: { start: { line: 153, column: 13 }, end: { line: 153, column: 58 } }, type: "cond-expr", locations: [{ start: { line: 153, column: 32 }, end: { line: 153, column: 50 } }, { start: { line: 153, column: 53 }, end: { line: 153, column: 58 } }], line: 153 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0, "49": 0, "50": 0, "51": 0, "52": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0], "7": [0, 0, 0], "8": [0, 0], "9": [0, 0], "10": [0], "11": [0, 0], "12": [0, 0], "13": [0], "14": [0, 0, 0, 0, 0], "15": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/evm/reducers.js"], names: ["callstack", "actions", "DEFAULT_CONTEXTS", "byContext", "byBinary", "contexts", "state", "action", "type", "ADD_CONTEXT", "contractName", "raw", "compiler", "context", "ADD_BINARY", "binary", "DEFAULT_INSTANCES", "byAddress", "instances", "ADD_INSTANCE", "address", "otherInstances", "otherAddresses", "map", "add", "info", "CALL", "concat", "CREATE", "RETURN", "length", "slice", "RESET", "proc", "reducer"], mappings: "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", file: "reducers.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import { combineReducers } from \"redux\";\n\nimport * as actions from \"./actions\";\nimport { keccak256 } from \"lib/helpers\";\n\nconst DEFAULT_CONTEXTS = {\n  byContext: {},\n  byBinary: {}\n};\n\nfunction contexts(state = DEFAULT_CONTEXTS, action) {\n  switch (action.type) {\n    /*\n     * Adding a new context\n     */\n    case actions.ADD_CONTEXT: {\n      const { contractName, raw, compiler } = action;\n      const context = keccak256(raw);\n\n      return {\n        ...state,\n\n        byContext: {\n          ...state.byContext,\n\n          [context]: {\n            ...(state.byContext[context] || {}),\n\n            contractName,\n            context,\n            compiler\n          }\n        }\n      };\n    }\n\n    /*\n     * Adding binary for a context\n     */\n    case actions.ADD_BINARY: {\n      const { context, binary } = action;\n\n      if (state.byBinary[binary]) {\n        return state;\n      }\n\n      return {\n        byContext: {\n          ...state.byContext,\n\n          [context]: {\n            ...state.byContext[context],\n\n            binary\n          }\n        },\n\n        byBinary: {\n          ...state.byBinary,\n\n          [binary]: { context: context }\n        }\n      };\n    }\n\n    /*\n     * Default case\n     */\n    default:\n      return state;\n  }\n}\n\nconst DEFAULT_INSTANCES = {\n  byAddress: {},\n  byContext: {}\n};\n\nfunction instances(state = DEFAULT_INSTANCES, action) {\n  switch (action.type) {\n    /*\n     * Adding a new address for context\n     */\n    case actions.ADD_INSTANCE:\n      let { address, context, binary } = action;\n\n      // get known addresses for this context\n      let otherInstances = state.byContext[context] || [];\n      let otherAddresses = otherInstances.map(({ address }) => address);\n\n      return {\n        byAddress: {\n          ...state.byAddress,\n\n          [address]: { address, context, binary }\n        },\n\n        byContext: {\n          ...state.byContext,\n\n          // reconstruct context instances to include new address\n          [context]: Array.from(new Set(otherAddresses).add(address)).map(\n            address => ({ address })\n          )\n        }\n      };\n\n    /*\n     * Default case\n     */\n    default:\n      return state;\n  }\n}\n\nconst info = combineReducers({\n  contexts,\n  instances\n});\n\nexport function callstack(state = [], action) {\n  switch (action.type) {\n    case actions.CALL:\n      const address = action.address;\n      return state.concat([{ address }]);\n\n    case actions.CREATE:\n      const binary = action.binary;\n      return state.concat([{ binary }]);\n\n    case actions.RETURN:\n      //HACK: pop the stack, UNLESS that would leave it empty (this will only\n      //happen at the end when we want to keep the last one around)\n      return state.length > 1 ? state.slice(0, -1) : state;\n\n    case actions.RESET:\n      return [state[0]]; //leave the initial call still on the stack\n\n    default:\n      return state;\n  }\n}\n\nconst proc = combineReducers({\n  callstack\n});\n\nconst reducer = combineReducers({\n  info,\n  proc\n});\n\nexport default reducer;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_zru3qzhor.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _set = (cov_zru3qzhor.s[1]++, __webpack_require__(27));var _set2 = (cov_zru3qzhor.s[2]++, _interopRequireDefault(_set));var _from = (cov_zru3qzhor.s[3]++, __webpack_require__(40));var _from2 = (cov_zru3qzhor.s[4]++, _interopRequireDefault(_from));var _extends2 = (cov_zru3qzhor.s[5]++, __webpack_require__(13));var _extends3 = (cov_zru3qzhor.s[6]++, _interopRequireDefault(_extends2));cov_zru3qzhor.s[7]++;exports.callstack = callstack;var _redux = (cov_zru3qzhor.s[8]++, __webpack_require__(16));var _actions = (cov_zru3qzhor.s[9]++, __webpack_require__(36));var actions = (cov_zru3qzhor.s[10]++, _interopRequireWildcard(_actions));var _helpers = (cov_zru3qzhor.s[11]++, __webpack_require__(3));function _interopRequireWildcard(obj) {
  cov_zru3qzhor.f[0]++;cov_zru3qzhor.s[12]++;if ((cov_zru3qzhor.b[1][0]++, obj) && (cov_zru3qzhor.b[1][1]++, obj.__esModule)) {
    cov_zru3qzhor.b[0][0]++;cov_zru3qzhor.s[13]++;return obj;
  } else {
    cov_zru3qzhor.b[0][1]++;var newObj = (cov_zru3qzhor.s[14]++, {});cov_zru3qzhor.s[15]++;if (obj != null) {
      cov_zru3qzhor.b[2][0]++;cov_zru3qzhor.s[16]++;for (var key in obj) {
        cov_zru3qzhor.s[17]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_zru3qzhor.b[3][0]++;cov_zru3qzhor.s[18]++;newObj[key] = obj[key];
        } else {
          cov_zru3qzhor.b[3][1]++;
        }
      }
    } else {
      cov_zru3qzhor.b[2][1]++;
    }cov_zru3qzhor.s[19]++;newObj.default = obj;cov_zru3qzhor.s[20]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_zru3qzhor.f[1]++;cov_zru3qzhor.s[21]++;return (cov_zru3qzhor.b[5][0]++, obj) && (cov_zru3qzhor.b[5][1]++, obj.__esModule) ? (cov_zru3qzhor.b[4][0]++, obj) : (cov_zru3qzhor.b[4][1]++, { default: obj });
}const DEFAULT_CONTEXTS = (cov_zru3qzhor.s[22]++, { byContext: {}, byBinary: {} });function contexts(state = (cov_zru3qzhor.b[6][0]++, DEFAULT_CONTEXTS), action) {
  cov_zru3qzhor.f[2]++;cov_zru3qzhor.s[23]++;switch (action.type) {case actions.ADD_CONTEXT:
      cov_zru3qzhor.b[7][0]++;{
        const { contractName, raw, compiler } = (cov_zru3qzhor.s[24]++, action);const context = (cov_zru3qzhor.s[25]++, (0, _helpers.keccak256)(raw));cov_zru3qzhor.s[26]++;return (0, _extends3.default)({}, state, { byContext: (0, _extends3.default)({}, state.byContext, { [context]: (0, _extends3.default)({}, (cov_zru3qzhor.b[8][0]++, state.byContext[context]) || (cov_zru3qzhor.b[8][1]++, {}), { contractName, context, compiler }) }) });
      }case actions.ADD_BINARY:
      cov_zru3qzhor.b[7][1]++;{
        const { context, binary } = (cov_zru3qzhor.s[27]++, action);cov_zru3qzhor.s[28]++;if (state.byBinary[binary]) {
          cov_zru3qzhor.b[9][0]++;cov_zru3qzhor.s[29]++;return state;
        } else {
          cov_zru3qzhor.b[9][1]++;
        }cov_zru3qzhor.s[30]++;return { byContext: (0, _extends3.default)({}, state.byContext, { [context]: (0, _extends3.default)({}, state.byContext[context], { binary }) }), byBinary: (0, _extends3.default)({}, state.byBinary, { [binary]: { context: context } }) };
      }default:
      cov_zru3qzhor.b[7][2]++;cov_zru3qzhor.s[31]++;return state;}
}const DEFAULT_INSTANCES = (cov_zru3qzhor.s[32]++, { byAddress: {}, byContext: {} });function instances(state = (cov_zru3qzhor.b[10][0]++, DEFAULT_INSTANCES), action) {
  cov_zru3qzhor.f[3]++;cov_zru3qzhor.s[33]++;switch (action.type) {case actions.ADD_INSTANCE:
      cov_zru3qzhor.b[11][0]++;let { address, context, binary } = (cov_zru3qzhor.s[34]++, action);let otherInstances = (cov_zru3qzhor.s[35]++, (cov_zru3qzhor.b[12][0]++, state.byContext[context]) || (cov_zru3qzhor.b[12][1]++, []));let otherAddresses = (cov_zru3qzhor.s[36]++, otherInstances.map(({ address }) => {
        cov_zru3qzhor.f[4]++;cov_zru3qzhor.s[37]++;return address;
      }));cov_zru3qzhor.s[38]++;return { byAddress: (0, _extends3.default)({}, state.byAddress, { [address]: { address, context, binary } }), byContext: (0, _extends3.default)({}, state.byContext, { [context]: (0, _from2.default)(new _set2.default(otherAddresses).add(address)).map(address => {
            cov_zru3qzhor.f[5]++;cov_zru3qzhor.s[39]++;return { address };
          }) }) };default:
      cov_zru3qzhor.b[11][1]++;cov_zru3qzhor.s[40]++;return state;}
}const info = (cov_zru3qzhor.s[41]++, (0, _redux.combineReducers)({ contexts, instances }));function callstack(state = (cov_zru3qzhor.b[13][0]++, []), action) {
  cov_zru3qzhor.f[6]++;cov_zru3qzhor.s[42]++;switch (action.type) {case actions.CALL:
      cov_zru3qzhor.b[14][0]++;const address = (cov_zru3qzhor.s[43]++, action.address);cov_zru3qzhor.s[44]++;return state.concat([{ address }]);case actions.CREATE:
      cov_zru3qzhor.b[14][1]++;const binary = (cov_zru3qzhor.s[45]++, action.binary);cov_zru3qzhor.s[46]++;return state.concat([{ binary }]);case actions.RETURN:
      cov_zru3qzhor.b[14][2]++;cov_zru3qzhor.s[47]++;return state.length > 1 ? (cov_zru3qzhor.b[15][0]++, state.slice(0, -1)) : (cov_zru3qzhor.b[15][1]++, state);case actions.RESET:
      cov_zru3qzhor.b[14][3]++;cov_zru3qzhor.s[48]++;return [state[0]];default:
      cov_zru3qzhor.b[14][4]++;cov_zru3qzhor.s[49]++;return state;}
}const proc = (cov_zru3qzhor.s[50]++, (0, _redux.combineReducers)({ callstack }));const reducer = (cov_zru3qzhor.s[51]++, (0, _redux.combineReducers)({ info, proc }));cov_zru3qzhor.s[52]++;exports.default = reducer;

/***/ }),
/* 79 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_iu6ku0aar = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/solidity/reducers.js",
      hash = "41c49e669920bd132677670c9f7a61af5ca5e3f6",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/solidity/reducers.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 16 }, end: { line: 7, column: 56 } }, "2": { start: { line: 9, column: 16 }, end: { line: 9, column: 49 } }, "3": { start: { line: 11, column: 12 }, end: { line: 11, column: 56 } }, "4": { start: { line: 13, column: 13 }, end: { line: 13, column: 42 } }, "5": { start: { line: 15, column: 0 }, end: { line: 15, column: 38 } }, "6": { start: { line: 17, column: 13 }, end: { line: 17, column: 29 } }, "7": { start: { line: 19, column: 15 }, end: { line: 19, column: 37 } }, "8": { start: { line: 21, column: 15 }, end: { line: 21, column: 35 } }, "9": { start: { line: 23, column: 14 }, end: { line: 23, column: 47 } }, "10": { start: { line: 25, column: 40 }, end: { line: 25, column: 267 } }, "11": { start: { line: 25, column: 69 }, end: { line: 25, column: 80 } }, "12": { start: { line: 25, column: 103 }, end: { line: 25, column: 105 } }, "13": { start: { line: 25, column: 107 }, end: { line: 25, column: 228 } }, "14": { start: { line: 25, column: 126 }, end: { line: 25, column: 226 } }, "15": { start: { line: 25, column: 149 }, end: { line: 25, column: 224 } }, "16": { start: { line: 25, column: 201 }, end: { line: 25, column: 224 } }, "17": { start: { line: 25, column: 229 }, end: { line: 25, column: 250 } }, "18": { start: { line: 25, column: 251 }, end: { line: 25, column: 265 } }, "19": { start: { line: 27, column: 39 }, end: { line: 27, column: 93 } }, "20": { start: { line: 29, column: 24 }, end: { line: 31, column: 1 } }, "21": { start: { line: 34, column: 2 }, end: { line: 61, column: 3 } }, "22": { start: { line: 39, column: 50 }, end: { line: 39, column: 56 } }, "23": { start: { line: 41, column: 15 }, end: { line: 41, column: 53 } }, "24": { start: { line: 43, column: 6 }, end: { line: 54, column: 8 } }, "25": { start: { line: 60, column: 6 }, end: { line: 60, column: 19 } }, "26": { start: { line: 64, column: 27 }, end: { line: 66, column: 1 } }, "27": { start: { line: 69, column: 2 }, end: { line: 92, column: 3 } }, "28": { start: { line: 74, column: 34 }, end: { line: 74, column: 40 } }, "29": { start: { line: 75, column: 20 }, end: { line: 75, column: 51 } }, "30": { start: { line: 77, column: 6 }, end: { line: 85, column: 8 } }, "31": { start: { line: 91, column: 6 }, end: { line: 91, column: 19 } }, "32": { start: { line: 95, column: 13 }, end: { line: 98, column: 2 } }, "33": { start: { line: 101, column: 2 }, end: { line: 111, column: 3 } }, "34": { start: { line: 103, column: 20 }, end: { line: 103, column: 49 } }, "35": { start: { line: 104, column: 6 }, end: { line: 104, column: 27 } }, "36": { start: { line: 107, column: 6 }, end: { line: 107, column: 15 } }, "37": { start: { line: 110, column: 6 }, end: { line: 110, column: 19 } }, "38": { start: { line: 115, column: 2 }, end: { line: 123, column: 3 } }, "39": { start: { line: 116, column: 4 }, end: { line: 116, column: 13 } }, "40": { start: { line: 117, column: 9 }, end: { line: 123, column: 3 } }, "41": { start: { line: 118, column: 4 }, end: { line: 118, column: 14 } }, "42": { start: { line: 119, column: 9 }, end: { line: 123, column: 3 } }, "43": { start: { line: 120, column: 4 }, end: { line: 120, column: 13 } }, "44": { start: { line: 122, column: 4 }, end: { line: 122, column: 13 } }, "45": { start: { line: 126, column: 13 }, end: { line: 128, column: 2 } }, "46": { start: { line: 130, column: 16 }, end: { line: 133, column: 2 } }, "47": { start: { line: 135, column: 0 }, end: { line: 135, column: 26 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 25, column: 9 }, end: { line: 25, column: 32 } }, loc: { start: { line: 25, column: 38 }, end: { line: 25, column: 269 } }, line: 25 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 27, column: 9 }, end: { line: 27, column: 31 } }, loc: { start: { line: 27, column: 37 }, end: { line: 27, column: 95 } }, line: 27 }, "2": { name: "sources", decl: { start: { line: 33, column: 9 }, end: { line: 33, column: 16 } }, loc: { start: { line: 33, column: 50 }, end: { line: 62, column: 1 } }, line: 33 }, "3": { name: "sourceMaps", decl: { start: { line: 68, column: 9 }, end: { line: 68, column: 19 } }, loc: { start: { line: 68, column: 56 }, end: { line: 93, column: 1 } }, line: 68 }, "4": { name: "functionDepth", decl: { start: { line: 100, column: 9 }, end: { line: 100, column: 22 } }, loc: { start: { line: 100, column: 42 }, end: { line: 112, column: 1 } }, line: 100 }, "5": { name: "spelunk", decl: { start: { line: 114, column: 9 }, end: { line: 114, column: 16 } }, loc: { start: { line: 114, column: 23 }, end: { line: 124, column: 1 } }, line: 114 } }, branchMap: { "0": { loc: { start: { line: 25, column: 40 }, end: { line: 25, column: 267 } }, type: "if", locations: [{ start: { line: 25, column: 40 }, end: { line: 25, column: 267 } }, { start: { line: 25, column: 40 }, end: { line: 25, column: 267 } }], line: 25 }, "1": { loc: { start: { line: 25, column: 44 }, end: { line: 25, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 25, column: 44 }, end: { line: 25, column: 47 } }, { start: { line: 25, column: 51 }, end: { line: 25, column: 65 } }], line: 25 }, "2": { loc: { start: { line: 25, column: 107 }, end: { line: 25, column: 228 } }, type: "if", locations: [{ start: { line: 25, column: 107 }, end: { line: 25, column: 228 } }, { start: { line: 25, column: 107 }, end: { line: 25, column: 228 } }], line: 25 }, "3": { loc: { start: { line: 25, column: 149 }, end: { line: 25, column: 224 } }, type: "if", locations: [{ start: { line: 25, column: 149 }, end: { line: 25, column: 224 } }, { start: { line: 25, column: 149 }, end: { line: 25, column: 224 } }], line: 25 }, "4": { loc: { start: { line: 27, column: 46 }, end: { line: 27, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 27, column: 70 }, end: { line: 27, column: 73 } }, { start: { line: 27, column: 76 }, end: { line: 27, column: 92 } }], line: 27 }, "5": { loc: { start: { line: 27, column: 46 }, end: { line: 27, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 27, column: 46 }, end: { line: 27, column: 49 } }, { start: { line: 27, column: 53 }, end: { line: 27, column: 67 } }], line: 27 }, "6": { loc: { start: { line: 33, column: 17 }, end: { line: 33, column: 40 } }, type: "default-arg", locations: [{ start: { line: 33, column: 25 }, end: { line: 33, column: 40 } }], line: 33 }, "7": { loc: { start: { line: 34, column: 2 }, end: { line: 61, column: 3 } }, type: "switch", locations: [{ start: { line: 38, column: 4 }, end: { line: 54, column: 8 } }, { start: { line: 59, column: 4 }, end: { line: 60, column: 19 } }], line: 34 }, "8": { loc: { start: { line: 68, column: 20 }, end: { line: 68, column: 46 } }, type: "default-arg", locations: [{ start: { line: 68, column: 28 }, end: { line: 68, column: 46 } }], line: 68 }, "9": { loc: { start: { line: 69, column: 2 }, end: { line: 92, column: 3 } }, type: "switch", locations: [{ start: { line: 73, column: 4 }, end: { line: 85, column: 8 } }, { start: { line: 90, column: 4 }, end: { line: 91, column: 19 } }], line: 69 }, "10": { loc: { start: { line: 100, column: 23 }, end: { line: 100, column: 32 } }, type: "default-arg", locations: [{ start: { line: 100, column: 31 }, end: { line: 100, column: 32 } }], line: 100 }, "11": { loc: { start: { line: 101, column: 2 }, end: { line: 111, column: 3 } }, type: "switch", locations: [{ start: { line: 102, column: 4 }, end: { line: 104, column: 27 } }, { start: { line: 106, column: 4 }, end: { line: 107, column: 15 } }, { start: { line: 109, column: 4 }, end: { line: 110, column: 19 } }], line: 101 }, "12": { loc: { start: { line: 115, column: 2 }, end: { line: 123, column: 3 } }, type: "if", locations: [{ start: { line: 115, column: 2 }, end: { line: 123, column: 3 } }, { start: { line: 115, column: 2 }, end: { line: 123, column: 3 } }], line: 115 }, "13": { loc: { start: { line: 117, column: 9 }, end: { line: 123, column: 3 } }, type: "if", locations: [{ start: { line: 117, column: 9 }, end: { line: 123, column: 3 } }, { start: { line: 117, column: 9 }, end: { line: 123, column: 3 } }], line: 117 }, "14": { loc: { start: { line: 119, column: 9 }, end: { line: 123, column: 3 } }, type: "if", locations: [{ start: { line: 119, column: 9 }, end: { line: 123, column: 3 } }, { start: { line: 119, column: 9 }, end: { line: 123, column: 3 } }], line: 119 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0], "7": [0, 0], "8": [0], "9": [0, 0], "10": [0], "11": [0, 0, 0], "12": [0, 0], "13": [0, 0], "14": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/solidity/reducers.js"], names: ["functionDepth", "actions", "DEFAULT_SOURCES", "byId", "sources", "state", "action", "type", "ADD_SOURCE", "ast", "source", "sourcePath", "compiler", "id", "length", "DEFAULT_SOURCEMAPS", "byContext", "sourceMaps", "ADD_SOURCEMAP", "binary", "sourceMap", "context", "info", "JUMP", "delta", "spelunk", "jumpDirection", "RESET", "jump", "proc", "reducer"], mappings: ";;;;;;;;;;;;;;QA+EgBA,a,GAAAA,a;;AA/EhB;;AAEA;;AAEA;;IAAYC,O;;;;;;AAEZ,MAAMC,kBAAkB;AACtBC,QAAM;AADgB,CAAxB;;AAIA,SAASC,OAAT,CAAiBC,QAAQH,eAAzB,EAA0CI,MAA1C,EAAkD;AAChD,UAAQA,OAAOC,IAAf;AACE;;;AAGA,SAAKN,QAAQO,UAAb;AACE,UAAI,EAAEC,GAAF,EAAOC,MAAP,EAAeC,UAAf,EAA2BC,QAA3B,KAAwCN,MAA5C;;AAEA,UAAIO,KAAK,oBAAYR,MAAMF,IAAlB,EAAwBW,MAAjC;;AAEA,aAAO;AACLX,yCACKE,MAAMF,IADX;;AAGE,WAACU,EAAD,GAAM;AACJA,cADI;AAEJJ,eAFI;AAGJC,kBAHI;AAIJC,sBAJI;AAKJC;AALI;AAHR;AADK,OAAP;;AAcF;;;AAGA;AACE,aAAOP,KAAP;AA3BJ;AA6BD;;AAED,MAAMU,qBAAqB;AACzBC,aAAW;AADc,CAA3B;;AAIA,SAASC,UAAT,CAAoBZ,QAAQU,kBAA5B,EAAgDT,MAAhD,EAAwD;AACtD,UAAQA,OAAOC,IAAf;AACE;;;AAGA,SAAKN,QAAQiB,aAAb;AACE,UAAI,EAAEC,MAAF,EAAUC,SAAV,KAAwBd,MAA5B;AACA,UAAIe,UAAU,wBAAUF,MAAV,CAAd;;AAEA,aAAO;AACLH,8CACKX,MAAMW,SADX;;AAGE,WAACK,OAAD,GAAW;AACTA,mBADS;AAETD;AAFS;AAHb;AADK,OAAP;;AAWF;;;AAGA;AACE,aAAOf,KAAP;AAvBJ;AAyBD;;AAED,MAAMiB,OAAO,4BAAgB;AAC3BlB,SAD2B;AAE3Ba;AAF2B,CAAhB,CAAb;;AAKO,SAASjB,aAAT,CAAuBK,QAAQ,CAA/B,EAAkCC,MAAlC,EAA0C;AAC/C,UAAQA,OAAOC,IAAf;AACE,SAAKN,QAAQsB,IAAb;AACE,YAAMC,QAAQC,QAAQnB,OAAOoB,aAAf,CAAd;AACA,aAAOrB,QAAQmB,KAAf;;AAEF,SAAKvB,QAAQ0B,KAAb;AACE,aAAO,CAAP;;AAEF;AACE,aAAOtB,KAAP;AATJ;AAWD;;AAED,SAASoB,OAAT,CAAiBG,IAAjB,EAAuB;AACrB,MAAIA,SAAS,GAAb,EAAkB;AAChB,WAAO,CAAP;AACD,GAFD,MAEO,IAAIA,SAAS,GAAb,EAAkB;AACvB,WAAO,CAAC,CAAR;AACD,GAFM,MAEA,IAAIA,SAAS,GAAb,EAAkB;AACvB,WAAO,CAAP,CADuB,CACb;AACX,GAFM,MAEA;AACL,WAAO,CAAP;AACD;AACF;;AAED,MAAMC,OAAO,4BAAgB;AAC3B7B;AAD2B,CAAhB,CAAb;;AAIA,MAAM8B,UAAU,4BAAgB;AAC9BR,MAD8B;AAE9BO;AAF8B,CAAhB,CAAhB;;kBAKeC,O", file: "reducers.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import { combineReducers } from \"redux\";\n\nimport { keccak256 } from \"lib/helpers\";\n\nimport * as actions from \"./actions\";\n\nconst DEFAULT_SOURCES = {\n  byId: {}\n};\n\nfunction sources(state = DEFAULT_SOURCES, action) {\n  switch (action.type) {\n    /*\n     * Adding a new source\n     */\n    case actions.ADD_SOURCE:\n      let { ast, source, sourcePath, compiler } = action;\n\n      let id = Object.keys(state.byId).length;\n\n      return {\n        byId: {\n          ...state.byId,\n\n          [id]: {\n            id,\n            ast,\n            source,\n            sourcePath,\n            compiler\n          }\n        }\n      };\n\n    /*\n     * Default case\n     */\n    default:\n      return state;\n  }\n}\n\nconst DEFAULT_SOURCEMAPS = {\n  byContext: {}\n};\n\nfunction sourceMaps(state = DEFAULT_SOURCEMAPS, action) {\n  switch (action.type) {\n    /*\n     * Adding a new sourceMap\n     */\n    case actions.ADD_SOURCEMAP:\n      let { binary, sourceMap } = action;\n      let context = keccak256(binary);\n\n      return {\n        byContext: {\n          ...state.byContext,\n\n          [context]: {\n            context,\n            sourceMap\n          }\n        }\n      };\n\n    /*\n     * Default Case\n     */\n    default:\n      return state;\n  }\n}\n\nconst info = combineReducers({\n  sources,\n  sourceMaps\n});\n\nexport function functionDepth(state = 0, action) {\n  switch (action.type) {\n    case actions.JUMP:\n      const delta = spelunk(action.jumpDirection);\n      return state + delta;\n\n    case actions.RESET:\n      return 0;\n\n    default:\n      return state;\n  }\n}\n\nfunction spelunk(jump) {\n  if (jump === \"i\") {\n    return 1;\n  } else if (jump === \"o\") {\n    return -1;\n  } else if (jump === \"2\") {\n    return 2; //HACK WORKAROUND\n  } else {\n    return 0;\n  }\n}\n\nconst proc = combineReducers({\n  functionDepth\n});\n\nconst reducer = combineReducers({\n  info,\n  proc\n});\n\nexport default reducer;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_iu6ku0aar.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _extends2 = (cov_iu6ku0aar.s[1]++, __webpack_require__(13));var _extends3 = (cov_iu6ku0aar.s[2]++, _interopRequireDefault(_extends2));var _keys = (cov_iu6ku0aar.s[3]++, __webpack_require__(17));var _keys2 = (cov_iu6ku0aar.s[4]++, _interopRequireDefault(_keys));cov_iu6ku0aar.s[5]++;exports.functionDepth = functionDepth;var _redux = (cov_iu6ku0aar.s[6]++, __webpack_require__(16));var _helpers = (cov_iu6ku0aar.s[7]++, __webpack_require__(3));var _actions = (cov_iu6ku0aar.s[8]++, __webpack_require__(38));var actions = (cov_iu6ku0aar.s[9]++, _interopRequireWildcard(_actions));function _interopRequireWildcard(obj) {
  cov_iu6ku0aar.f[0]++;cov_iu6ku0aar.s[10]++;if ((cov_iu6ku0aar.b[1][0]++, obj) && (cov_iu6ku0aar.b[1][1]++, obj.__esModule)) {
    cov_iu6ku0aar.b[0][0]++;cov_iu6ku0aar.s[11]++;return obj;
  } else {
    cov_iu6ku0aar.b[0][1]++;var newObj = (cov_iu6ku0aar.s[12]++, {});cov_iu6ku0aar.s[13]++;if (obj != null) {
      cov_iu6ku0aar.b[2][0]++;cov_iu6ku0aar.s[14]++;for (var key in obj) {
        cov_iu6ku0aar.s[15]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_iu6ku0aar.b[3][0]++;cov_iu6ku0aar.s[16]++;newObj[key] = obj[key];
        } else {
          cov_iu6ku0aar.b[3][1]++;
        }
      }
    } else {
      cov_iu6ku0aar.b[2][1]++;
    }cov_iu6ku0aar.s[17]++;newObj.default = obj;cov_iu6ku0aar.s[18]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_iu6ku0aar.f[1]++;cov_iu6ku0aar.s[19]++;return (cov_iu6ku0aar.b[5][0]++, obj) && (cov_iu6ku0aar.b[5][1]++, obj.__esModule) ? (cov_iu6ku0aar.b[4][0]++, obj) : (cov_iu6ku0aar.b[4][1]++, { default: obj });
}const DEFAULT_SOURCES = (cov_iu6ku0aar.s[20]++, { byId: {} });function sources(state = (cov_iu6ku0aar.b[6][0]++, DEFAULT_SOURCES), action) {
  cov_iu6ku0aar.f[2]++;cov_iu6ku0aar.s[21]++;switch (action.type) {case actions.ADD_SOURCE:
      cov_iu6ku0aar.b[7][0]++;let { ast, source, sourcePath, compiler } = (cov_iu6ku0aar.s[22]++, action);let id = (cov_iu6ku0aar.s[23]++, (0, _keys2.default)(state.byId).length);cov_iu6ku0aar.s[24]++;return { byId: (0, _extends3.default)({}, state.byId, { [id]: { id, ast, source, sourcePath, compiler } }) };default:
      cov_iu6ku0aar.b[7][1]++;cov_iu6ku0aar.s[25]++;return state;}
}const DEFAULT_SOURCEMAPS = (cov_iu6ku0aar.s[26]++, { byContext: {} });function sourceMaps(state = (cov_iu6ku0aar.b[8][0]++, DEFAULT_SOURCEMAPS), action) {
  cov_iu6ku0aar.f[3]++;cov_iu6ku0aar.s[27]++;switch (action.type) {case actions.ADD_SOURCEMAP:
      cov_iu6ku0aar.b[9][0]++;let { binary, sourceMap } = (cov_iu6ku0aar.s[28]++, action);let context = (cov_iu6ku0aar.s[29]++, (0, _helpers.keccak256)(binary));cov_iu6ku0aar.s[30]++;return { byContext: (0, _extends3.default)({}, state.byContext, { [context]: { context, sourceMap } }) };default:
      cov_iu6ku0aar.b[9][1]++;cov_iu6ku0aar.s[31]++;return state;}
}const info = (cov_iu6ku0aar.s[32]++, (0, _redux.combineReducers)({ sources, sourceMaps }));function functionDepth(state = (cov_iu6ku0aar.b[10][0]++, 0), action) {
  cov_iu6ku0aar.f[4]++;cov_iu6ku0aar.s[33]++;switch (action.type) {case actions.JUMP:
      cov_iu6ku0aar.b[11][0]++;const delta = (cov_iu6ku0aar.s[34]++, spelunk(action.jumpDirection));cov_iu6ku0aar.s[35]++;return state + delta;case actions.RESET:
      cov_iu6ku0aar.b[11][1]++;cov_iu6ku0aar.s[36]++;return 0;default:
      cov_iu6ku0aar.b[11][2]++;cov_iu6ku0aar.s[37]++;return state;}
}function spelunk(jump) {
  cov_iu6ku0aar.f[5]++;cov_iu6ku0aar.s[38]++;if (jump === "i") {
    cov_iu6ku0aar.b[12][0]++;cov_iu6ku0aar.s[39]++;return 1;
  } else {
    cov_iu6ku0aar.b[12][1]++;cov_iu6ku0aar.s[40]++;if (jump === "o") {
      cov_iu6ku0aar.b[13][0]++;cov_iu6ku0aar.s[41]++;return -1;
    } else {
      cov_iu6ku0aar.b[13][1]++;cov_iu6ku0aar.s[42]++;if (jump === "2") {
        cov_iu6ku0aar.b[14][0]++;cov_iu6ku0aar.s[43]++;return 2;
      } else {
        cov_iu6ku0aar.b[14][1]++;cov_iu6ku0aar.s[44]++;return 0;
      }
    }
  }
}const proc = (cov_iu6ku0aar.s[45]++, (0, _redux.combineReducers)({ functionDepth }));const reducer = (cov_iu6ku0aar.s[46]++, (0, _redux.combineReducers)({ info, proc }));cov_iu6ku0aar.s[47]++;exports.default = reducer;

/***/ }),
/* 80 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_2qc9du3ah0 = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/trace/reducers.js",
      hash = "08576be7453f69aa72d3f5e3691eae97fe00acbc",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/trace/reducers.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 6, column: 0 }, end: { line: 6, column: 22 } }, "2": { start: { line: 7, column: 0 }, end: { line: 7, column: 28 } }, "3": { start: { line: 8, column: 0 }, end: { line: 8, column: 22 } }, "4": { start: { line: 10, column: 13 }, end: { line: 10, column: 29 } }, "5": { start: { line: 12, column: 15 }, end: { line: 12, column: 35 } }, "6": { start: { line: 14, column: 14 }, end: { line: 14, column: 47 } }, "7": { start: { line: 16, column: 40 }, end: { line: 16, column: 267 } }, "8": { start: { line: 16, column: 69 }, end: { line: 16, column: 80 } }, "9": { start: { line: 16, column: 103 }, end: { line: 16, column: 105 } }, "10": { start: { line: 16, column: 107 }, end: { line: 16, column: 228 } }, "11": { start: { line: 16, column: 126 }, end: { line: 16, column: 226 } }, "12": { start: { line: 16, column: 149 }, end: { line: 16, column: 224 } }, "13": { start: { line: 16, column: 201 }, end: { line: 16, column: 224 } }, "14": { start: { line: 16, column: 229 }, end: { line: 16, column: 250 } }, "15": { start: { line: 16, column: 251 }, end: { line: 16, column: 265 } }, "16": { start: { line: 19, column: 2 }, end: { line: 28, column: 3 } }, "17": { start: { line: 21, column: 6 }, end: { line: 21, column: 23 } }, "18": { start: { line: 24, column: 6 }, end: { line: 24, column: 15 } }, "19": { start: { line: 27, column: 6 }, end: { line: 27, column: 19 } }, "20": { start: { line: 32, column: 2 }, end: { line: 41, column: 3 } }, "21": { start: { line: 34, column: 6 }, end: { line: 34, column: 18 } }, "22": { start: { line: 37, column: 6 }, end: { line: 37, column: 19 } }, "23": { start: { line: 40, column: 6 }, end: { line: 40, column: 19 } }, "24": { start: { line: 45, column: 2 }, end: { line: 49, column: 3 } }, "25": { start: { line: 46, column: 4 }, end: { line: 46, column: 24 } }, "26": { start: { line: 48, column: 4 }, end: { line: 48, column: 17 } }, "27": { start: { line: 52, column: 13 }, end: { line: 54, column: 2 } }, "28": { start: { line: 56, column: 13 }, end: { line: 59, column: 2 } }, "29": { start: { line: 61, column: 16 }, end: { line: 64, column: 2 } }, "30": { start: { line: 66, column: 0 }, end: { line: 66, column: 26 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 16, column: 9 }, end: { line: 16, column: 32 } }, loc: { start: { line: 16, column: 38 }, end: { line: 16, column: 269 } }, line: 16 }, "1": { name: "index", decl: { start: { line: 18, column: 9 }, end: { line: 18, column: 14 } }, loc: { start: { line: 18, column: 34 }, end: { line: 29, column: 1 } }, line: 18 }, "2": { name: "finished", decl: { start: { line: 31, column: 9 }, end: { line: 31, column: 17 } }, loc: { start: { line: 31, column: 41 }, end: { line: 42, column: 1 } }, line: 31 }, "3": { name: "steps", decl: { start: { line: 44, column: 9 }, end: { line: 44, column: 14 } }, loc: { start: { line: 44, column: 37 }, end: { line: 50, column: 1 } }, line: 44 } }, branchMap: { "0": { loc: { start: { line: 16, column: 40 }, end: { line: 16, column: 267 } }, type: "if", locations: [{ start: { line: 16, column: 40 }, end: { line: 16, column: 267 } }, { start: { line: 16, column: 40 }, end: { line: 16, column: 267 } }], line: 16 }, "1": { loc: { start: { line: 16, column: 44 }, end: { line: 16, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 16, column: 44 }, end: { line: 16, column: 47 } }, { start: { line: 16, column: 51 }, end: { line: 16, column: 65 } }], line: 16 }, "2": { loc: { start: { line: 16, column: 107 }, end: { line: 16, column: 228 } }, type: "if", locations: [{ start: { line: 16, column: 107 }, end: { line: 16, column: 228 } }, { start: { line: 16, column: 107 }, end: { line: 16, column: 228 } }], line: 16 }, "3": { loc: { start: { line: 16, column: 149 }, end: { line: 16, column: 224 } }, type: "if", locations: [{ start: { line: 16, column: 149 }, end: { line: 16, column: 224 } }, { start: { line: 16, column: 149 }, end: { line: 16, column: 224 } }], line: 16 }, "4": { loc: { start: { line: 18, column: 15 }, end: { line: 18, column: 24 } }, type: "default-arg", locations: [{ start: { line: 18, column: 23 }, end: { line: 18, column: 24 } }], line: 18 }, "5": { loc: { start: { line: 19, column: 2 }, end: { line: 28, column: 3 } }, type: "switch", locations: [{ start: { line: 20, column: 4 }, end: { line: 21, column: 23 } }, { start: { line: 23, column: 4 }, end: { line: 24, column: 15 } }, { start: { line: 26, column: 4 }, end: { line: 27, column: 19 } }], line: 19 }, "6": { loc: { start: { line: 31, column: 18 }, end: { line: 31, column: 31 } }, type: "default-arg", locations: [{ start: { line: 31, column: 26 }, end: { line: 31, column: 31 } }], line: 31 }, "7": { loc: { start: { line: 32, column: 2 }, end: { line: 41, column: 3 } }, type: "switch", locations: [{ start: { line: 33, column: 4 }, end: { line: 34, column: 18 } }, { start: { line: 36, column: 4 }, end: { line: 37, column: 19 } }, { start: { line: 39, column: 4 }, end: { line: 40, column: 19 } }], line: 32 }, "8": { loc: { start: { line: 44, column: 15 }, end: { line: 44, column: 27 } }, type: "default-arg", locations: [{ start: { line: 44, column: 23 }, end: { line: 44, column: 27 } }], line: 44 }, "9": { loc: { start: { line: 45, column: 2 }, end: { line: 49, column: 3 } }, type: "if", locations: [{ start: { line: 45, column: 2 }, end: { line: 49, column: 3 } }, { start: { line: 45, column: 2 }, end: { line: 49, column: 3 } }], line: 45 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0], "5": [0, 0, 0], "6": [0], "7": [0, 0, 0], "8": [0], "9": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/trace/reducers.js"], names: ["index", "finished", "steps", "actions", "state", "action", "type", "TOCK", "RESET", "END_OF_TRACE", "SAVE_STEPS", "info", "proc", "reducer"], mappings: ";;;;;QAIgBA,K,GAAAA,K;QAaAC,Q,GAAAA,Q;QAaAC,K,GAAAA,K;;AA9BhB;;AAEA;;IAAYC,O;;;;AAEL,SAASH,KAAT,CAAeI,QAAQ,CAAvB,EAA0BC,MAA1B,EAAkC;AACvC,UAAQA,OAAOC,IAAf;AACE,SAAKH,QAAQI,IAAb;AACE,aAAOH,QAAQ,CAAf;;AAEF,SAAKD,QAAQK,KAAb;AACE,aAAO,CAAP;;AAEF;AACE,aAAOJ,KAAP;AARJ;AAUD;;AAEM,SAASH,QAAT,CAAkBG,QAAQ,KAA1B,EAAiCC,MAAjC,EAAyC;AAC9C,UAAQA,OAAOC,IAAf;AACE,SAAKH,QAAQM,YAAb;AACE,aAAO,IAAP;;AAEF,SAAKN,QAAQK,KAAb;AACE,aAAO,KAAP;;AAEF;AACE,aAAOJ,KAAP;AARJ;AAUD;;AAEM,SAASF,KAAT,CAAeE,QAAQ,IAAvB,EAA6BC,MAA7B,EAAqC;AAC1C,MAAIA,OAAOC,IAAP,KAAgBH,QAAQO,UAA5B,EAAwC;AACtC,WAAOL,OAAOH,KAAd;AACD,GAFD,MAEO;AACL,WAAOE,KAAP;AACD;AACF;;AAED,MAAMO,OAAO,4BAAgB;AAC3BT;AAD2B,CAAhB,CAAb;;AAIA,MAAMU,OAAO,4BAAgB;AAC3BZ,OAD2B;AAE3BC;AAF2B,CAAhB,CAAb;;AAKA,MAAMY,UAAU,4BAAgB;AAC9BF,MAD8B;AAE9BC;AAF8B,CAAhB,CAAhB;;kBAKeC,O", file: "reducers.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import { combineReducers } from \"redux\";\n\nimport * as actions from \"./actions\";\n\nexport function index(state = 0, action) {\n  switch (action.type) {\n    case actions.TOCK:\n      return state + 1;\n\n    case actions.RESET:\n      return 0;\n\n    default:\n      return state;\n  }\n}\n\nexport function finished(state = false, action) {\n  switch (action.type) {\n    case actions.END_OF_TRACE:\n      return true;\n\n    case actions.RESET:\n      return false;\n\n    default:\n      return state;\n  }\n}\n\nexport function steps(state = null, action) {\n  if (action.type === actions.SAVE_STEPS) {\n    return action.steps;\n  } else {\n    return state;\n  }\n}\n\nconst info = combineReducers({\n  steps\n});\n\nconst proc = combineReducers({\n  index,\n  finished\n});\n\nconst reducer = combineReducers({\n  info,\n  proc\n});\n\nexport default reducer;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_2qc9du3ah0.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });cov_2qc9du3ah0.s[1]++;exports.index = index;cov_2qc9du3ah0.s[2]++;exports.finished = finished;cov_2qc9du3ah0.s[3]++;exports.steps = steps;var _redux = (cov_2qc9du3ah0.s[4]++, __webpack_require__(16));var _actions = (cov_2qc9du3ah0.s[5]++, __webpack_require__(20));var actions = (cov_2qc9du3ah0.s[6]++, _interopRequireWildcard(_actions));function _interopRequireWildcard(obj) {
  cov_2qc9du3ah0.f[0]++;cov_2qc9du3ah0.s[7]++;if ((cov_2qc9du3ah0.b[1][0]++, obj) && (cov_2qc9du3ah0.b[1][1]++, obj.__esModule)) {
    cov_2qc9du3ah0.b[0][0]++;cov_2qc9du3ah0.s[8]++;return obj;
  } else {
    cov_2qc9du3ah0.b[0][1]++;var newObj = (cov_2qc9du3ah0.s[9]++, {});cov_2qc9du3ah0.s[10]++;if (obj != null) {
      cov_2qc9du3ah0.b[2][0]++;cov_2qc9du3ah0.s[11]++;for (var key in obj) {
        cov_2qc9du3ah0.s[12]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_2qc9du3ah0.b[3][0]++;cov_2qc9du3ah0.s[13]++;newObj[key] = obj[key];
        } else {
          cov_2qc9du3ah0.b[3][1]++;
        }
      }
    } else {
      cov_2qc9du3ah0.b[2][1]++;
    }cov_2qc9du3ah0.s[14]++;newObj.default = obj;cov_2qc9du3ah0.s[15]++;return newObj;
  }
}function index(state = (cov_2qc9du3ah0.b[4][0]++, 0), action) {
  cov_2qc9du3ah0.f[1]++;cov_2qc9du3ah0.s[16]++;switch (action.type) {case actions.TOCK:
      cov_2qc9du3ah0.b[5][0]++;cov_2qc9du3ah0.s[17]++;return state + 1;case actions.RESET:
      cov_2qc9du3ah0.b[5][1]++;cov_2qc9du3ah0.s[18]++;return 0;default:
      cov_2qc9du3ah0.b[5][2]++;cov_2qc9du3ah0.s[19]++;return state;}
}function finished(state = (cov_2qc9du3ah0.b[6][0]++, false), action) {
  cov_2qc9du3ah0.f[2]++;cov_2qc9du3ah0.s[20]++;switch (action.type) {case actions.END_OF_TRACE:
      cov_2qc9du3ah0.b[7][0]++;cov_2qc9du3ah0.s[21]++;return true;case actions.RESET:
      cov_2qc9du3ah0.b[7][1]++;cov_2qc9du3ah0.s[22]++;return false;default:
      cov_2qc9du3ah0.b[7][2]++;cov_2qc9du3ah0.s[23]++;return state;}
}function steps(state = (cov_2qc9du3ah0.b[8][0]++, null), action) {
  cov_2qc9du3ah0.f[3]++;cov_2qc9du3ah0.s[24]++;if (action.type === actions.SAVE_STEPS) {
    cov_2qc9du3ah0.b[9][0]++;cov_2qc9du3ah0.s[25]++;return action.steps;
  } else {
    cov_2qc9du3ah0.b[9][1]++;cov_2qc9du3ah0.s[26]++;return state;
  }
}const info = (cov_2qc9du3ah0.s[27]++, (0, _redux.combineReducers)({ steps }));const proc = (cov_2qc9du3ah0.s[28]++, (0, _redux.combineReducers)({ index, finished }));const reducer = (cov_2qc9du3ah0.s[29]++, (0, _redux.combineReducers)({ info, proc }));cov_2qc9du3ah0.s[30]++;exports.default = reducer;

/***/ }),
/* 81 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var cov_p513hhjnm = function () {
  var path = "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/controller/reducers.js",
      hash = "37ae5564f76f0c48643839de242a521ad144c7f8",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = { path: "/Users/gnidan/src/work/truffle/packages/truffle-debugger/lib/controller/reducers.js", statementMap: { "0": { start: { line: 3, column: 0 }, end: { line: 5, column: 3 } }, "1": { start: { line: 7, column: 13 }, end: { line: 7, column: 29 } }, "2": { start: { line: 9, column: 14 }, end: { line: 9, column: 44 } }, "3": { start: { line: 11, column: 13 }, end: { line: 11, column: 29 } }, "4": { start: { line: 13, column: 15 }, end: { line: 13, column: 35 } }, "5": { start: { line: 15, column: 14 }, end: { line: 15, column: 47 } }, "6": { start: { line: 17, column: 40 }, end: { line: 17, column: 267 } }, "7": { start: { line: 17, column: 69 }, end: { line: 17, column: 80 } }, "8": { start: { line: 17, column: 103 }, end: { line: 17, column: 105 } }, "9": { start: { line: 17, column: 107 }, end: { line: 17, column: 228 } }, "10": { start: { line: 17, column: 126 }, end: { line: 17, column: 226 } }, "11": { start: { line: 17, column: 149 }, end: { line: 17, column: 224 } }, "12": { start: { line: 17, column: 201 }, end: { line: 17, column: 224 } }, "13": { start: { line: 17, column: 229 }, end: { line: 17, column: 250 } }, "14": { start: { line: 17, column: 251 }, end: { line: 17, column: 265 } }, "15": { start: { line: 19, column: 39 }, end: { line: 19, column: 93 } }, "16": { start: { line: 21, column: 14 }, end: { line: 21, column: 66 } }, "17": { start: { line: 24, column: 2 }, end: { line: 47, column: 3 } }, "18": { start: { line: 27, column: 6 }, end: { line: 34, column: 7 } }, "19": { start: { line: 27, column: 37 }, end: { line: 27, column: 179 } }, "20": { start: { line: 30, column: 8 }, end: { line: 30, column: 21 } }, "21": { start: { line: 33, column: 8 }, end: { line: 33, column: 49 } }, "22": { start: { line: 35, column: 6 }, end: { line: 35, column: 12 } }, "23": { start: { line: 38, column: 6 }, end: { line: 39, column: 8 } }, "24": { start: { line: 38, column: 40 }, end: { line: 38, column: 182 } }, "25": { start: { line: 40, column: 6 }, end: { line: 40, column: 12 } }, "26": { start: { line: 43, column: 6 }, end: { line: 43, column: 16 } }, "27": { start: { line: 46, column: 6 }, end: { line: 46, column: 19 } }, "28": { start: { line: 50, column: 24 }, end: { line: 50, column: 149 } }, "29": { start: { line: 53, column: 2 }, end: { line: 59, column: 3 } }, "30": { start: { line: 54, column: 4 }, end: { line: 54, column: 16 } }, "31": { start: { line: 55, column: 9 }, end: { line: 59, column: 3 } }, "32": { start: { line: 56, column: 4 }, end: { line: 56, column: 17 } }, "33": { start: { line: 58, column: 4 }, end: { line: 58, column: 17 } }, "34": { start: { line: 62, column: 16 }, end: { line: 65, column: 2 } }, "35": { start: { line: 67, column: 0 }, end: { line: 67, column: 26 } } }, fnMap: { "0": { name: "_interopRequireWildcard", decl: { start: { line: 17, column: 9 }, end: { line: 17, column: 32 } }, loc: { start: { line: 17, column: 38 }, end: { line: 17, column: 269 } }, line: 17 }, "1": { name: "_interopRequireDefault", decl: { start: { line: 19, column: 9 }, end: { line: 19, column: 31 } }, loc: { start: { line: 19, column: 37 }, end: { line: 19, column: 95 } }, line: 19 }, "2": { name: "breakpoints", decl: { start: { line: 23, column: 9 }, end: { line: 23, column: 20 } }, loc: { start: { line: 23, column: 41 }, end: { line: 48, column: 1 } }, line: 23 }, "3": { name: "(anonymous_3)", decl: { start: { line: 27, column: 23 }, end: { line: 27, column: 24 } }, loc: { start: { line: 27, column: 37 }, end: { line: 27, column: 179 } }, line: 27 }, "4": { name: "(anonymous_4)", decl: { start: { line: 38, column: 26 }, end: { line: 38, column: 27 } }, loc: { start: { line: 38, column: 40 }, end: { line: 38, column: 182 } }, line: 38 }, "5": { name: "isStepping", decl: { start: { line: 52, column: 9 }, end: { line: 52, column: 19 } }, loc: { start: { line: 52, column: 43 }, end: { line: 60, column: 1 } }, line: 52 } }, branchMap: { "0": { loc: { start: { line: 17, column: 40 }, end: { line: 17, column: 267 } }, type: "if", locations: [{ start: { line: 17, column: 40 }, end: { line: 17, column: 267 } }, { start: { line: 17, column: 40 }, end: { line: 17, column: 267 } }], line: 17 }, "1": { loc: { start: { line: 17, column: 44 }, end: { line: 17, column: 65 } }, type: "binary-expr", locations: [{ start: { line: 17, column: 44 }, end: { line: 17, column: 47 } }, { start: { line: 17, column: 51 }, end: { line: 17, column: 65 } }], line: 17 }, "2": { loc: { start: { line: 17, column: 107 }, end: { line: 17, column: 228 } }, type: "if", locations: [{ start: { line: 17, column: 107 }, end: { line: 17, column: 228 } }, { start: { line: 17, column: 107 }, end: { line: 17, column: 228 } }], line: 17 }, "3": { loc: { start: { line: 17, column: 149 }, end: { line: 17, column: 224 } }, type: "if", locations: [{ start: { line: 17, column: 149 }, end: { line: 17, column: 224 } }, { start: { line: 17, column: 149 }, end: { line: 17, column: 224 } }], line: 17 }, "4": { loc: { start: { line: 19, column: 46 }, end: { line: 19, column: 92 } }, type: "cond-expr", locations: [{ start: { line: 19, column: 70 }, end: { line: 19, column: 73 } }, { start: { line: 19, column: 76 }, end: { line: 19, column: 92 } }], line: 19 }, "5": { loc: { start: { line: 19, column: 46 }, end: { line: 19, column: 67 } }, type: "binary-expr", locations: [{ start: { line: 19, column: 46 }, end: { line: 19, column: 49 } }, { start: { line: 19, column: 53 }, end: { line: 19, column: 67 } }], line: 19 }, "6": { loc: { start: { line: 23, column: 21 }, end: { line: 23, column: 31 } }, type: "default-arg", locations: [{ start: { line: 23, column: 29 }, end: { line: 23, column: 31 } }], line: 23 }, "7": { loc: { start: { line: 24, column: 2 }, end: { line: 47, column: 3 } }, type: "switch", locations: [{ start: { line: 25, column: 4 }, end: { line: 35, column: 12 } }, { start: { line: 37, column: 4 }, end: { line: 40, column: 12 } }, { start: { line: 42, column: 4 }, end: { line: 43, column: 16 } }, { start: { line: 45, column: 4 }, end: { line: 46, column: 19 } }], line: 24 }, "8": { loc: { start: { line: 27, column: 6 }, end: { line: 34, column: 7 } }, type: "if", locations: [{ start: { line: 27, column: 6 }, end: { line: 34, column: 7 } }, { start: { line: 27, column: 6 }, end: { line: 34, column: 7 } }], line: 27 }, "9": { loc: { start: { line: 27, column: 37 }, end: { line: 27, column: 179 } }, type: "binary-expr", locations: [{ start: { line: 27, column: 37 }, end: { line: 27, column: 87 } }, { start: { line: 27, column: 91 }, end: { line: 27, column: 133 } }, { start: { line: 27, column: 137 }, end: { line: 27, column: 179 } }], line: 27 }, "10": { loc: { start: { line: 38, column: 40 }, end: { line: 38, column: 182 } }, type: "binary-expr", locations: [{ start: { line: 38, column: 40 }, end: { line: 38, column: 90 } }, { start: { line: 38, column: 94 }, end: { line: 38, column: 136 } }, { start: { line: 38, column: 140 }, end: { line: 38, column: 182 } }], line: 38 }, "11": { loc: { start: { line: 52, column: 20 }, end: { line: 52, column: 33 } }, type: "default-arg", locations: [{ start: { line: 52, column: 28 }, end: { line: 52, column: 33 } }], line: 52 }, "12": { loc: { start: { line: 53, column: 2 }, end: { line: 59, column: 3 } }, type: "if", locations: [{ start: { line: 53, column: 2 }, end: { line: 59, column: 3 } }, { start: { line: 53, column: 2 }, end: { line: 59, column: 3 } }], line: 53 }, "13": { loc: { start: { line: 55, column: 9 }, end: { line: 59, column: 3 } }, type: "if", locations: [{ start: { line: 55, column: 9 }, end: { line: 59, column: 3 } }, { start: { line: 55, column: 9 }, end: { line: 59, column: 3 } }], line: 55 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0 }, b: { "0": [0, 0], "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0], "7": [0, 0, 0, 0], "8": [0, 0], "9": [0, 0, 0], "10": [0, 0, 0], "11": [0], "12": [0, 0], "13": [0, 0] }, inputSourceMap: { version: 3, sources: ["lib/controller/reducers.js"], names: ["actions", "debug", "breakpoints", "state", "action", "type", "ADD_BREAKPOINT", "filter", "breakpoint", "sourceId", "line", "node", "length", "concat", "REMOVE_BREAKPOINT", "REMOVE_ALL_BREAKPOINTS", "CONTROL_ACTIONS", "ADVANCE", "STEP_NEXT", "STEP_OVER", "STEP_INTO", "STEP_OUT", "CONTINUE", "RESET", "isStepping", "includes", "END_STEPPING", "reducer"], mappings: ";;;;;;AAAA;;;;AAGA;;AAEA;;IAAYA,O;;;;;;AAJZ,MAAMC,QAAQ,qBAAY,8BAAZ,CAAd,C,CAA2D;;AAM3D,SAASC,WAAT,CAAqBC,QAAQ,EAA7B,EAAiCC,MAAjC,EAAyC;AACvC,UAAQA,OAAOC,IAAf;AACE,SAAKL,QAAQM,cAAb;AACE;AACA,UACEH,MAAMI,MAAN,CACEC,cACEA,WAAWC,QAAX,KAAwBL,OAAOI,UAAP,CAAkBC,QAA1C,IACAD,WAAWE,IAAX,KAAoBN,OAAOI,UAAP,CAAkBE,IADtC,IAEAF,WAAWG,IAAX,KAAoBP,OAAOI,UAAP,CAAkBG,IAJ1C,CAI+C;AAJ/C,QAKEC,MALF,GAKW,CANb,EAOE;AACA;AACA,eAAOT,KAAP;AACD,OAVD,MAUO;AACL;AACA,eAAOA,MAAMU,MAAN,CAAa,CAACT,OAAOI,UAAR,CAAb,CAAP;AACD;AACD;;AAEF,SAAKR,QAAQc,iBAAb;AACE,aAAOX,MAAMI,MAAN,CACLC,cACEA,WAAWC,QAAX,KAAwBL,OAAOI,UAAP,CAAkBC,QAA1C,IACAD,WAAWE,IAAX,KAAoBN,OAAOI,UAAP,CAAkBE,IADtC,IAEAF,WAAWG,IAAX,KAAoBP,OAAOI,UAAP,CAAkBG,IAJnC,CAIwC;AAJxC,OAAP;AAMA;;AAEF,SAAKX,QAAQe,sBAAb;AACE,aAAO,EAAP;;AAEF;AACE,aAAOZ,KAAP;AAhCJ;AAkCD;;AAED,MAAMa,kBAAkB,CACtBhB,QAAQiB,OADc,EAEtBjB,QAAQkB,SAFc,EAGtBlB,QAAQmB,SAHc,EAItBnB,QAAQoB,SAJc,EAKtBpB,QAAQqB,QALc,EAMtBrB,QAAQsB,QANc,EAOtBtB,QAAQuB,KAPc,CAAxB;;AAUA,SAASC,UAAT,CAAoBrB,QAAQ,KAA5B,EAAmCC,MAAnC,EAA2C;AACzC,MAAIY,gBAAgBS,QAAhB,CAAyBrB,OAAOC,IAAhC,CAAJ,EAA2C;AACzC,WAAO,IAAP;AACD,GAFD,MAEO,IAAIL,QAAQK,IAAR,KAAiBL,QAAQ0B,YAA7B,EAA2C;AAChD,WAAO,KAAP;AACD,GAFM,MAEA;AACL,WAAOvB,KAAP;AACD;AACF;;AAED,MAAMwB,UAAU,4BAAgB;AAC9BzB,aAD8B;AAE9BsB;AAF8B,CAAhB,CAAhB;;kBAKeG,O", file: "reducers.js", sourceRoot: "/Users/gnidan/src/work/truffle/packages/truffle-debugger", sourcesContent: ["import debugModule from \"debug\";\nconst debug = debugModule(\"debugger:controller:reducers\"); //eslint-disable-line no-unused-vars\n\nimport { combineReducers } from \"redux\";\n\nimport * as actions from \"./actions\";\n\nfunction breakpoints(state = [], action) {\n  switch (action.type) {\n    case actions.ADD_BREAKPOINT:\n      //check for any existing identical breakpoints to avoid redundancy\n      if (\n        state.filter(\n          breakpoint =>\n            breakpoint.sourceId === action.breakpoint.sourceId &&\n            breakpoint.line === action.breakpoint.line &&\n            breakpoint.node === action.breakpoint.node //may be undefined\n        ).length > 0\n      ) {\n        //if it's already there, do nothing\n        return state;\n      } else {\n        //otherwise add it\n        return state.concat([action.breakpoint]);\n      }\n      break;\n\n    case actions.REMOVE_BREAKPOINT:\n      return state.filter(\n        breakpoint =>\n          breakpoint.sourceId !== action.breakpoint.sourceId ||\n          breakpoint.line !== action.breakpoint.line ||\n          breakpoint.node !== action.breakpoint.node //may be undefined\n      );\n      break;\n\n    case actions.REMOVE_ALL_BREAKPOINTS:\n      return [];\n\n    default:\n      return state;\n  }\n}\n\nconst CONTROL_ACTIONS = [\n  actions.ADVANCE,\n  actions.STEP_NEXT,\n  actions.STEP_OVER,\n  actions.STEP_INTO,\n  actions.STEP_OUT,\n  actions.CONTINUE,\n  actions.RESET\n];\n\nfunction isStepping(state = false, action) {\n  if (CONTROL_ACTIONS.includes(action.type)) {\n    return true;\n  } else if (actions.type === actions.END_STEPPING) {\n    return false;\n  } else {\n    return state;\n  }\n}\n\nconst reducer = combineReducers({\n  breakpoints,\n  isStepping\n});\n\nexport default reducer;\n"] }, _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c" },
      coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }coverageData.hash = hash;return coverage[path] = coverageData;
}();cov_p513hhjnm.s[0]++;Object.defineProperty(exports, "__esModule", { value: true });var _debug = (cov_p513hhjnm.s[1]++, __webpack_require__(0));var _debug2 = (cov_p513hhjnm.s[2]++, _interopRequireDefault(_debug));var _redux = (cov_p513hhjnm.s[3]++, __webpack_require__(16));var _actions = (cov_p513hhjnm.s[4]++, __webpack_require__(28));var actions = (cov_p513hhjnm.s[5]++, _interopRequireWildcard(_actions));function _interopRequireWildcard(obj) {
  cov_p513hhjnm.f[0]++;cov_p513hhjnm.s[6]++;if ((cov_p513hhjnm.b[1][0]++, obj) && (cov_p513hhjnm.b[1][1]++, obj.__esModule)) {
    cov_p513hhjnm.b[0][0]++;cov_p513hhjnm.s[7]++;return obj;
  } else {
    cov_p513hhjnm.b[0][1]++;var newObj = (cov_p513hhjnm.s[8]++, {});cov_p513hhjnm.s[9]++;if (obj != null) {
      cov_p513hhjnm.b[2][0]++;cov_p513hhjnm.s[10]++;for (var key in obj) {
        cov_p513hhjnm.s[11]++;if (Object.prototype.hasOwnProperty.call(obj, key)) {
          cov_p513hhjnm.b[3][0]++;cov_p513hhjnm.s[12]++;newObj[key] = obj[key];
        } else {
          cov_p513hhjnm.b[3][1]++;
        }
      }
    } else {
      cov_p513hhjnm.b[2][1]++;
    }cov_p513hhjnm.s[13]++;newObj.default = obj;cov_p513hhjnm.s[14]++;return newObj;
  }
}function _interopRequireDefault(obj) {
  cov_p513hhjnm.f[1]++;cov_p513hhjnm.s[15]++;return (cov_p513hhjnm.b[5][0]++, obj) && (cov_p513hhjnm.b[5][1]++, obj.__esModule) ? (cov_p513hhjnm.b[4][0]++, obj) : (cov_p513hhjnm.b[4][1]++, { default: obj });
}const debug = (cov_p513hhjnm.s[16]++, (0, _debug2.default)("debugger:controller:reducers"));function breakpoints(state = (cov_p513hhjnm.b[6][0]++, []), action) {
  cov_p513hhjnm.f[2]++;cov_p513hhjnm.s[17]++;switch (action.type) {case actions.ADD_BREAKPOINT:
      cov_p513hhjnm.b[7][0]++;cov_p513hhjnm.s[18]++;if (state.filter(breakpoint => {
        cov_p513hhjnm.f[3]++;cov_p513hhjnm.s[19]++;return (cov_p513hhjnm.b[9][0]++, breakpoint.sourceId === action.breakpoint.sourceId) && (cov_p513hhjnm.b[9][1]++, breakpoint.line === action.breakpoint.line) && (cov_p513hhjnm.b[9][2]++, breakpoint.node === action.breakpoint.node);
      }).length > 0) {
        cov_p513hhjnm.b[8][0]++;cov_p513hhjnm.s[20]++;return state;
      } else {
        cov_p513hhjnm.b[8][1]++;cov_p513hhjnm.s[21]++;return state.concat([action.breakpoint]);
      }cov_p513hhjnm.s[22]++;break;case actions.REMOVE_BREAKPOINT:
      cov_p513hhjnm.b[7][1]++;cov_p513hhjnm.s[23]++;return state.filter(breakpoint => {
        cov_p513hhjnm.f[4]++;cov_p513hhjnm.s[24]++;return (cov_p513hhjnm.b[10][0]++, breakpoint.sourceId !== action.breakpoint.sourceId) || (cov_p513hhjnm.b[10][1]++, breakpoint.line !== action.breakpoint.line) || (cov_p513hhjnm.b[10][2]++, breakpoint.node !== action.breakpoint.node);
      });cov_p513hhjnm.s[25]++;break;case actions.REMOVE_ALL_BREAKPOINTS:
      cov_p513hhjnm.b[7][2]++;cov_p513hhjnm.s[26]++;return [];default:
      cov_p513hhjnm.b[7][3]++;cov_p513hhjnm.s[27]++;return state;}
}const CONTROL_ACTIONS = (cov_p513hhjnm.s[28]++, [actions.ADVANCE, actions.STEP_NEXT, actions.STEP_OVER, actions.STEP_INTO, actions.STEP_OUT, actions.CONTINUE, actions.RESET]);function isStepping(state = (cov_p513hhjnm.b[11][0]++, false), action) {
  cov_p513hhjnm.f[5]++;cov_p513hhjnm.s[29]++;if (CONTROL_ACTIONS.includes(action.type)) {
    cov_p513hhjnm.b[12][0]++;cov_p513hhjnm.s[30]++;return true;
  } else {
    cov_p513hhjnm.b[12][1]++;cov_p513hhjnm.s[31]++;if (actions.type === actions.END_STEPPING) {
      cov_p513hhjnm.b[13][0]++;cov_p513hhjnm.s[32]++;return false;
    } else {
      cov_p513hhjnm.b[13][1]++;cov_p513hhjnm.s[33]++;return state;
    }
  }
}const reducer = (cov_p513hhjnm.s[34]++, (0, _redux.combineReducers)({ breakpoints, isStepping }));cov_p513hhjnm.s[35]++;exports.default = reducer;

/***/ }),
/* 82 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _keys = __webpack_require__(17);

var _keys2 = _interopRequireDefault(_keys);

var _asyncToGenerator2 = __webpack_require__(1);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _debug = __webpack_require__(0);

var _debug2 = _interopRequireDefault(_debug);

var _chai = __webpack_require__(4);

var _ganacheCore = __webpack_require__(7);

var _ganacheCore2 = _interopRequireDefault(_ganacheCore);

var _helpers = __webpack_require__(5);

var _debugger = __webpack_require__(8);

var _debugger2 = _interopRequireDefault(_debugger);

var _selectors = __webpack_require__(32);

var _selectors2 = _interopRequireDefault(_selectors);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const debug = (0, _debug2.default)("test:context");

const __OUTER = `
pragma solidity ~0.5;

import "./InnerContract.sol";

contract OuterContract {
  event Outer();

  InnerContract inner;

  constructor(address _inner) public {
    inner = InnerContract(_inner);
  }

  function run() public {
    inner.run();

    emit Outer();
  }
}
`;

const __INNER = `
pragma solidity ~0.5;

contract InnerContract {
  event Inner();

  function run() public {
    emit Inner();
  }
}
`;

const __MIGRATION = `
let OuterContract = artifacts.require("OuterContract");
let InnerContract = artifacts.require("InnerContract");

module.exports = function(deployer) {
  return deployer
    .then(function() {
      return deployer.deploy(InnerContract);
    })
    .then(function() {
      return InnerContract.deployed();
    })
    .then(function(inner) {
      return deployer.deploy(OuterContract, inner.address);
    });
};
`;

let migrations = {
  "2_deploy_contracts.js": __MIGRATION
};

let sources = {
  "OuterLibrary.sol": __OUTER,
  "InnerContract.sol": __INNER
};

describe("Contexts", function () {
  var provider;

  var abstractions;
  var artifacts;
  var files;

  before("Create Provider", (0, _asyncToGenerator3.default)(function* () {
    provider = _ganacheCore2.default.provider({ seed: "debugger", gasLimit: 7000000 });
  }));

  before("Prepare contracts and artifacts", (0, _asyncToGenerator3.default)(function* () {
    this.timeout(30000);

    let prepared = yield (0, _helpers.prepareContracts)(provider, sources, migrations);
    abstractions = prepared.abstractions;
    artifacts = prepared.artifacts;
    files = prepared.files;
  }));

  it("returns view of addresses affected", (0, _asyncToGenerator3.default)(function* () {
    let outer = yield abstractions.OuterContract.deployed();
    let inner = yield abstractions.InnerContract.deployed();

    // run outer contract method
    let result = yield outer.run();

    _chai.assert.equal(2, result.receipt.rawLogs.length, "There should be two logs");

    let txHash = result.tx;

    let bugger = yield _debugger2.default.forTx(txHash, {
      provider,
      files,
      contracts: artifacts
    });
    debug("debugger ready");

    let session = bugger.connect();

    let affectedInstances = session.view(_selectors2.default.info.affectedInstances);
    debug("affectedInstances: %o", affectedInstances);

    let affectedAddresses = (0, _keys2.default)(affectedInstances).map(function (address) {
      return address.toLowerCase();
    });

    _chai.assert.equal(2, affectedAddresses.length);

    _chai.assert.include(affectedAddresses, outer.address.toLowerCase(), "OuterContract should be an affected address");

    _chai.assert.include(affectedAddresses, inner.address.toLowerCase(), "InnerContract should be an affected address");
  }));
});

/***/ }),
/* 83 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _entries = __webpack_require__(9);

var _entries2 = _interopRequireDefault(_entries);

var _stringify = __webpack_require__(84);

var _stringify2 = _interopRequireDefault(_stringify);

var _assign = __webpack_require__(12);

var _assign2 = _interopRequireDefault(_assign);

var _extends2 = __webpack_require__(13);

var _extends3 = _interopRequireDefault(_extends2);

var _debug = __webpack_require__(0);

var _debug2 = _interopRequireDefault(_debug);

var _faker = __webpack_require__(85);

var _faker2 = _interopRequireDefault(_faker);

var _selectors = __webpack_require__(10);

var _selectors2 = _interopRequireDefault(_selectors);

var _helpers = __webpack_require__(41);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const debug = (0, _debug2.default)("test:data:decode");

const uints = (0, _helpers.generateUints)();

function generateArray(length) {
  return [...Array(length)].map(() => uints.next().value);
}

const commonFixtures = [{
  name: "multipleFullWordArray",
  type: "uint[]",
  value: generateArray(3) // takes up 3 whole words
}, {
  name: "withinWordArray",
  type: "uint16[]",
  value: generateArray(10) // takes up >1/2 word
}, {
  name: "multiplePartWordArray",
  type: "uint64[]",
  value: generateArray(9) // takes up 2.25 words
}, {
  name: "inconvenientlyWordOffsetArray",
  type: "uint240[]",
  value: generateArray(3) // takes up ~2.8 words
}, {
  name: "shortString",
  type: "string",
  value: "hello world"
}, {
  name: "longString",
  type: "string",
  value: "solidity allocation is a fun lesson in endianness"
}];

const mappingFixtures = [{
  name: "simpleMapping",
  type: {
    from: "uint256",
    to: "uint256"
  },
  value: (0, _extends3.default)({}, (0, _assign2.default)({}, ...generateArray(5).map((value, idx) => ({ [idx]: value }))))
}, {
  name: "numberedStrings",
  type: {
    from: "uint256",
    to: "string"
  },
  value: (0, _extends3.default)({}, (0, _assign2.default)({}, ...generateArray(7).map((value, idx) => ({
    [value]: _faker2.default.lorem.slug(idx)
  }))))
}, {
  name: "stringsToStrings",
  type: {
    from: "string",
    to: "string"
  },
  value: (0, _extends3.default)({}, (0, _assign2.default)({}, ...[0, 1, 2, 3, 4].map(idx => ({
    [_faker2.default.lorem.slug(idx)]: _faker2.default.lorem.slug(idx)
  }))))
}];

debug("mappingFixtures %O", mappingFixtures);

describe("Decoding", function () {
  /*
   * Storage Tests
   */
  (0, _helpers.describeDecoding)("Storage Variables", commonFixtures, _selectors2.default.current.state.storage, (contractName, fixtures) => {
    return `pragma solidity ~0.5;

contract ${contractName} {

  event Done();

  // declarations
  ${fixtures.map(({ type, name }) => `${type} ${name};`).join("\n  ")}

  function run() public {
    ${fixtures.map(({ name, value }) => `${name} = ${(0, _stringify2.default)(value)};`).join("\n    ")}

    emit Done();
  }
}
`;
  });

  (0, _helpers.describeDecoding)("Mapping Variables", mappingFixtures, _selectors2.default.current.state.storage, (contractName, fixtures) => {
    return `pragma solidity ~0.5;

contract ${contractName} {
  event Done();

  // declarations
  ${fixtures.map(({ name, type: { from, to } }) => `mapping (${from} => ${to}) ${name};`).join("\n  ")}

  function run() public {
    ${fixtures.map(({ name, type: { from }, value }) => (0, _entries2.default)(value).map(([k, v]) => from === "string" ? `${name}["${k}"] = ${(0, _stringify2.default)(v)};` : `${name}[${k}] = ${(0, _stringify2.default)(v)};`).join("\n    ")).join("\n\n    ")}

    emit Done();
  }
}
`;
  });

  /*
   * Memory Tests
   */
  (0, _helpers.describeDecoding)("Memory Variables", commonFixtures, _selectors2.default.current.state.memory, (contractName, fixtures) => {
    const separator = ";\n    ";

    function declareAssign({ name, type, value }) {
      if (type.indexOf("[]") != -1) {
        // array, must `new`
        let declare = `${type} memory ${name} = new ${type}(${value.length})`;
        let assigns = value.map((k, i) => `${name}[${i}] = ${k}`);
        return `${declare}${separator}${assigns.join(separator)}`;
      } else {
        return `${type} memory ${name} = ${(0, _stringify2.default)(value)}`;
      }
    }

    return `pragma solidity ~0.5;

contract ${contractName} {

  event Done();

  function run() public {
    uint i;
    // declarations
    ${fixtures.map(declareAssign).join(separator)};

    emit Done();
  }
}
`;
  });
});

/***/ }),
/* 84 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/core-js/json/stringify");

/***/ }),
/* 85 */
/***/ (function(module, exports) {

module.exports = require("faker");

/***/ }),
/* 86 */
/***/ (function(module, exports) {

module.exports = require("change-case");

/***/ }),
/* 87 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _asyncToGenerator2 = __webpack_require__(1);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _debug = __webpack_require__(0);

var _debug2 = _interopRequireDefault(_debug);

var _chai = __webpack_require__(4);

var _ganacheCore = __webpack_require__(7);

var _ganacheCore2 = _interopRequireDefault(_ganacheCore);

var _helpers = __webpack_require__(5);

var _debugger = __webpack_require__(8);

var _debugger2 = _interopRequireDefault(_debugger);

var _selectors = __webpack_require__(11);

var _selectors2 = _interopRequireDefault(_selectors);

var _selectors3 = __webpack_require__(2);

var _selectors4 = _interopRequireDefault(_selectors3);

var _truffleDecodeUtils = __webpack_require__(6);

var TruffleDecodeUtils = _interopRequireWildcard(_truffleDecodeUtils);

var _bn = __webpack_require__(18);

var _bn2 = _interopRequireDefault(_bn);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const debug = (0, _debug2.default)("test:data:ids");

const __FACTORIAL = `
pragma solidity ^0.5.0;

contract FactorialTest {

  uint lastResult;

  function factorial(uint n) public returns(uint nbang)
  {
    uint prev;
    uint prevFac;
    nbang = n;
    prev = n - 1; //break here (12)
    if(n>0)
    {
      prevFac = factorial(n - 1);
      nbang = n * prevFac;
    }
    else
    {
      nbang = 1;
    }
    lastResult = nbang; //break here (22)
  }
}
`;

const __ADDRESS = `
pragma solidity ^0.5.0;

contract AddressTest {

  uint8 x;
  uint8 y;
  uint8 result;

  function run() public
  {
    SecretByte test1 = new SecretByte(107);
    SecretByte test2 = new SecretByte(46);
    x = test1.mangle();
    y = test2.mangle();
  }
}

contract SecretByte {

  uint8 private secret;

  constructor(uint8 n) public
  {
    secret = n;
  }

  function mangle() public view returns (uint8)
  {
    uint8 mangled;
    mangled = secret + 1;

    return mangled; //break here (32)

  }
}
`;

const __INTERVENING = `
pragma solidity ^0.5.0;

import "./InterveningLib.sol";

contract Intervening {

  Inner inner;

  constructor(address _inner) public {
    inner = Inner(_inner);
  }

  function run() public {
    uint8 flag;
    flag = 0;
    inner.run();

    flag = 1; //break here (18)

  }

  function runLib() public {
    uint8 flag;
    flag = 0;
    flag = InterveningLib.run();

    flag = 1; //break here (27)

  }
}

contract Inner {

  uint8 flag;

  constructor() public {
    flag = 0;
  }

  function run() public returns (uint8) {
    flag = 1;
    return 2;
  }
}

`;

const __INTERVENINGLIB = `
pragma solidity ^0.5.0;

library InterveningLib {

  function run() pure external returns (uint8) {
    return 2;
  }
}
`;

const __MIGRATION = `
let Intervening = artifacts.require("Intervening");
let Inner = artifacts.require("Inner");
let AddressTest = artifacts.require("AddressTest");
let FactorialTest = artifacts.require("FactorialTest");
let InterveningLib = artifacts.require("InterveningLib");

module.exports = async function(deployer) {
  await deployer.deploy(InterveningLib);
  await deployer.deploy(Inner);
  const inner = await Inner.deployed();
  await deployer.link(InterveningLib, Intervening);
  await deployer.deploy(Intervening, inner.address);
  await deployer.deploy(AddressTest);
  await deployer.deploy(FactorialTest);
};
`;

let sources = {
  "FactorialTest.sol": __FACTORIAL,
  "AddressTest.sol": __ADDRESS,
  "Intervening.sol": __INTERVENING,
  "InterveningLib.sol": __INTERVENINGLIB
};

let migrations = {
  "2_deploy_contracts.js": __MIGRATION
};

describe("Variable IDs", function () {
  var provider;

  var abstractions;
  var artifacts;
  var files;

  before("Create Provider", (0, _asyncToGenerator3.default)(function* () {
    provider = _ganacheCore2.default.provider({ seed: "debugger", gasLimit: 7000000 });
  }));

  before("Prepare contracts and artifacts", (0, _asyncToGenerator3.default)(function* () {
    this.timeout(30000);

    let prepared = yield (0, _helpers.prepareContracts)(provider, sources, migrations);
    abstractions = prepared.abstractions;
    artifacts = prepared.artifacts;
    files = prepared.files;
  }));

  it("Distinguishes between stackframes", (0, _asyncToGenerator3.default)(function* () {
    let instance = yield abstractions.FactorialTest.deployed();
    let receipt = yield instance.factorial(3);
    let txHash = receipt.tx;

    let bugger = yield _debugger2.default.forTx(txHash, {
      provider,
      files,
      contracts: artifacts
    });

    let session = bugger.connect();
    debug("sourceId %d", session.view(_selectors4.default.current.source).id);

    let sourceId = session.view(_selectors4.default.current.source).id;
    session.addBreakpoint({ sourceId, line: 12 });
    session.addBreakpoint({ sourceId, line: 22 });

    var values = [];

    session.continueUntilBreakpoint();
    while (!session.view(_selectors2.default.finished)) {
      values.push((yield session.variable("nbang")));
      session.continueUntilBreakpoint();
    }

    _chai.assert.deepEqual(values, [new _bn2.default(3), new _bn2.default(2), new _bn2.default(1), new _bn2.default(0), new _bn2.default(1), new _bn2.default(1), new _bn2.default(2), new _bn2.default(6)]);
  }));

  it("Learns contract addresses and distinguishes the results", (0, _asyncToGenerator3.default)(function* () {
    this.timeout(4000);
    let instance = yield abstractions.AddressTest.deployed();
    let receipt = yield instance.run();
    let txHash = receipt.tx;

    let bugger = yield _debugger2.default.forTx(txHash, {
      provider,
      files,
      contracts: artifacts
    });

    let session = bugger.connect();
    debug("sourceId %d", session.view(_selectors4.default.current.source).id);

    let sourceId = session.view(_selectors4.default.current.source).id;
    session.addBreakpoint({ sourceId, line: 32 });
    session.continueUntilBreakpoint();
    debug("node %o", session.view(_selectors4.default.current.node));
    _chai.assert.equal(TruffleDecodeUtils.Conversion.cleanBNs((yield session.variable("secret"))), "107");
    session.continueUntilBreakpoint();
    debug("node %o", session.view(_selectors4.default.current.node));
    _chai.assert.equal(TruffleDecodeUtils.Conversion.cleanBNs((yield session.variable("secret"))), "46");
  }));

  it("Stays at correct stackframe after contract call", (0, _asyncToGenerator3.default)(function* () {
    let instance = yield abstractions.Intervening.deployed();
    let receipt = yield instance.run();
    let txHash = receipt.tx;

    let bugger = yield _debugger2.default.forTx(txHash, {
      provider,
      files,
      contracts: artifacts
    });

    let session = bugger.connect();
    debug("sourceId %d", session.view(_selectors4.default.current.source).id);

    let sourceId = session.view(_selectors4.default.current.source).id;
    session.addBreakpoint({ sourceId, line: 18 });
    session.continueUntilBreakpoint();
    _chai.assert.property((yield session.variables()), "flag");
  }));

  it("Stays at correct stackframe after library call", (0, _asyncToGenerator3.default)(function* () {
    let instance = yield abstractions.Intervening.deployed();
    let receipt = yield instance.runLib();
    let txHash = receipt.tx;

    let bugger = yield _debugger2.default.forTx(txHash, {
      provider,
      files,
      contracts: artifacts
    });

    let session = bugger.connect();
    debug("sourceId %d", session.view(_selectors4.default.current.source).id);

    let sourceId = session.view(_selectors4.default.current.source).id;
    session.addBreakpoint({ sourceId, line: 27 });
    session.continueUntilBreakpoint();
    _chai.assert.property((yield session.variables()), "flag");
  }));
});

/***/ }),
/* 88 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _from = __webpack_require__(40);

var _from2 = _interopRequireDefault(_from);

var _map = __webpack_require__(89);

var _map2 = _interopRequireDefault(_map);

var _asyncToGenerator2 = __webpack_require__(1);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _debug = __webpack_require__(0);

var _debug2 = _interopRequireDefault(_debug);

var _chai = __webpack_require__(4);

var _ganacheCore = __webpack_require__(7);

var _ganacheCore2 = _interopRequireDefault(_ganacheCore);

var _helpers = __webpack_require__(5);

var _debugger = __webpack_require__(8);

var _debugger2 = _interopRequireDefault(_debugger);

var _selectors = __webpack_require__(2);

var _selectors2 = _interopRequireDefault(_selectors);

var _truffleDecodeUtils = __webpack_require__(6);

var TruffleDecodeUtils = _interopRequireWildcard(_truffleDecodeUtils);

var _bn = __webpack_require__(18);

var _bn2 = _interopRequireDefault(_bn);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const debug = (0, _debug2.default)("test:data:more-decoding");

const __CONTAINERS = `
pragma solidity ^0.5.0;

contract ContainersTest {

  //provides a nice ending point
  event Done();

  //declare needed structs
  struct Pair {
    uint x;
    uint y;
  }

  struct HasMap {
    uint x;
    mapping(string => string) map;
    uint y;
  }

  //declare storage variables to be tested
  Pair[] storageStructArray;
  uint128[4][] storageArrayArray;

  mapping(string => Pair) structMapping;
  mapping(string => uint128[4]) arrayMapping;

  mapping(string => int128) signedMapping;

  //this one is not tested directly
  uint[2] pointedAt;

  function run() public {

    //declare local variables to be tested
    uint[2] memory memoryStaticArray;
    HasMap memory memoryStructWithMap;
    uint[2] storage localStorage = pointedAt;

    //set up variables with values
    storageStructArray.length = 1;
    storageStructArray[0].x = 107;
    storageStructArray[0].y = 214;

    storageArrayArray.length = 1;
    storageArrayArray[0][0] = 2;
    storageArrayArray[0][1] = 3;
    storageArrayArray[0][2] = 7;
    storageArrayArray[0][3] = 57;

    structMapping["hello"].x = 107;
    structMapping["hello"].y = 214;

    arrayMapping["hello"][0] = 2;
    arrayMapping["hello"][1] = 3;
    arrayMapping["hello"][2] = 7;
    arrayMapping["hello"][3] = 57;

    signedMapping["hello"] = -1;

    memoryStaticArray[0] = 107;
    memoryStaticArray[1] = 214;

    memoryStructWithMap.x = 107;
    memoryStructWithMap.y = 214;

    //for this one, let's mix how we access it
    localStorage[0] = 107;
    pointedAt[1] = 214;

    //everything's set up, time to decode!
    emit Done(); //break here (71)
  }
}
`;

const __KEYSANDBYTES = `
pragma solidity ^0.5.0;

contract ElementaryTest {

  event Done(); //makes a useful breakpoint

  //storage variables to be tested
  mapping(bool => bool) boolMap;
  mapping(byte => byte) byteMap;
  mapping(bytes => bytes) bytesMap;
  mapping(uint => uint) uintMap;
  mapping(int => int) intMap;
  mapping(string => string) stringMap;
  mapping(address => address) addressMap;
  mapping(uint8 => uint8) uint8Map;

  function run() public {
    //local variables to be tested
    byte oneByte;
    byte[] memory severalBytes;

    //set up variables for testing
    oneByte = 0xff;
    severalBytes = new byte[](1);
    severalBytes[0] = 0xff;

    boolMap[true] = true;

    byteMap[0x01] = 0x01;
    byteMap[0xff] = 0xff;
    byteMap[byte(0x02)] = byte(0x02);

    bytesMap[hex"01"] = hex"01";
    bytesMap[hex"ff"] = hex"ff";

    uintMap[1] = 1;

    intMap[1] = 1;
    intMap[-1] = -1;

    uint8Map[uint8(byte(0x01))] = uint8(byte(0x01));
    uint8Map[uint8(int8(2))] = uint8(int8(2));

    addressMap[0x0000000000000000000000000000000000000001] =
      0x0000000000000000000000000000000000000001;
    addressMap[address(this)] = address(this);

    stringMap["innocuous string"] = "innocuous string";
    stringMap["0xdeadbeef"] = "0xdeadbeef";
    stringMap["12345"] = "12345";

    emit Done(); //break here (52)
  }
}
`;

const __SPLICING = `
pragma solidity ^0.5.0;

contract SpliceTest {
  //splicing is (nontrivially) used in two contexts right now:
  //1. decoding nested memory structures
  //2. decoding mapping keys pointed to by a memory variable
  //we'll also test some trivial splicing, I guess

  event Done();

  mapping(string => string) map;

  struct ArrayPair {
    uint[2] x;
    uint[2] y;
  }

  string pointedAt = "key2";

  function run() public {
    uint[2][2] memory arrayArray;
    ArrayPair memory arrayStruct;

    arrayArray[0][0] = 1;
    arrayArray[0][1] = 2;
    arrayArray[1][0] = 3;
    arrayArray[1][1] = 4;

    arrayStruct.x[0] = 1;
    arrayStruct.x[1] = 2;
    arrayStruct.y[0] = 3;
    arrayStruct.y[1] = 4;

    string memory key1 = "key1";
    string storage key2 = pointedAt;

    map[key1] = "value1";
    map[key2] = "value2";

    emit Done(); //break here (40)
  }
}
`;

let sources = {
  "ContainerTest.sol": __CONTAINERS,
  "ElementaryTest.sol": __KEYSANDBYTES,
  "SpliceTest.sol": __SPLICING
};

describe("Further Decoding", function () {
  var provider;

  var abstractions;
  var artifacts;
  var files;

  before("Create Provider", (0, _asyncToGenerator3.default)(function* () {
    provider = _ganacheCore2.default.provider({ seed: "debugger", gasLimit: 7000000 });
  }));

  before("Prepare contracts and artifacts", (0, _asyncToGenerator3.default)(function* () {
    this.timeout(30000);

    let prepared = yield (0, _helpers.prepareContracts)(provider, sources);
    abstractions = prepared.abstractions;
    artifacts = prepared.artifacts;
    files = prepared.files;
  }));

  it("Decodes various reference types correctly", (0, _asyncToGenerator3.default)(function* () {
    this.timeout(9000);

    let instance = yield abstractions.ContainersTest.deployed();
    let receipt = yield instance.run();
    let txHash = receipt.tx;

    let bugger = yield _debugger2.default.forTx(txHash, {
      provider,
      files,
      contracts: artifacts
    });

    let session = bugger.connect();

    let sourceId = session.view(_selectors2.default.current.source).id;
    session.addBreakpoint({ sourceId, line: 71 });

    session.continueUntilBreakpoint();

    const variables = yield session.variables();

    const expectedResult = {
      memoryStaticArray: [new _bn2.default(107), new _bn2.default(214)],
      memoryStructWithMap: { x: new _bn2.default(107), y: new _bn2.default(214) },
      localStorage: [new _bn2.default(107), new _bn2.default(214)],
      storageStructArray: [{ x: new _bn2.default(107), y: new _bn2.default(214) }],
      storageArrayArray: [[new _bn2.default(2), new _bn2.default(3), new _bn2.default(7), new _bn2.default(57)]],
      structMapping: new _map2.default([["hello", { x: new _bn2.default(107), y: new _bn2.default(214) }]]),
      arrayMapping: new _map2.default([["hello", [new _bn2.default(2), new _bn2.default(3), new _bn2.default(7), new _bn2.default(57)]]]),
      signedMapping: new _map2.default([["hello", new _bn2.default(-1)]]),
      pointedAt: [new _bn2.default(107), new _bn2.default(214)]
    };

    _chai.assert.hasAllKeys(variables, expectedResult);

    for (let name in expectedResult) {
      if (expectedResult[name] instanceof _map2.default) {
        //each map has "hello" as its only key
        _chai.assert.deepEqual(variables[name]["hello"], expectedResult[name]["hello"]);
      } else {
        _chai.assert.deepEqual(variables[name], expectedResult[name]);
      }
    }
  }));

  it("Decodes elementary types and mappings correctly", (0, _asyncToGenerator3.default)(function* () {
    this.timeout(9000);

    let instance = yield abstractions.ElementaryTest.deployed();
    let receipt = yield instance.run();
    let txHash = receipt.tx;
    let address = instance.address;

    let bugger = yield _debugger2.default.forTx(txHash, {
      provider,
      files,
      contracts: artifacts
    });

    let session = bugger.connect();

    let sourceId = session.view(_selectors2.default.current.source).id;
    session.addBreakpoint({ sourceId, line: 52 });

    session.continueUntilBreakpoint();

    const variables = TruffleDecodeUtils.Conversion.cleanBNs((yield session.variables())); //get rid of BNs to avoid Map problems
    debug("variables %O", variables);

    const expectedResult = {
      boolMap: new _map2.default([[true, true]]),
      byteMap: new _map2.default([["0x01", "0x01"], ["0x02", "0x02"], ["0xff", "0xff"]]),
      bytesMap: new _map2.default([["0x01", "0x01"], ["0xff", "0xff"]]),
      uintMap: new _map2.default([[1, 1]]),
      intMap: new _map2.default([[1, 1], [-1, -1]]),
      stringMap: new _map2.default([["innocuous string", "innocuous string"], ["0xdeadbeef", "0xdeadbeef"], ["12345", "12345"]]),
      addressMap: new _map2.default([["0x0000000000000000000000000000000000000001", "0x0000000000000000000000000000000000000001"], [address, address]]),
      uint8Map: new _map2.default([[1, 1], [2, 2]]),
      oneByte: "0xff",
      severalBytes: ["0xff"]
    };

    _chai.assert.hasAllKeys(variables, expectedResult);

    for (let name in expectedResult) {
      if (expectedResult[name] instanceof _map2.default) {
        _chai.assert.sameDeepMembers((0, _from2.default)(variables[name].keys()), (0, _from2.default)(expectedResult[name].keys()));
        for (let key of expectedResult[name].keys()) {
          //no mappings are nested so this will do fine
          _chai.assert.deepEqual(variables[name][key], expectedResult[name][key]);
        }
      } else {
        _chai.assert.deepEqual(variables[name], expectedResult[name]);
      }
    }
  }));

  it("Splices locations correctly", (0, _asyncToGenerator3.default)(function* () {
    this.timeout(9000);

    let instance = yield abstractions.SpliceTest.deployed();
    let receipt = yield instance.run();
    let txHash = receipt.tx;

    let bugger = yield _debugger2.default.forTx(txHash, {
      provider,
      files,
      contracts: artifacts
    });

    let session = bugger.connect();

    let sourceId = session.view(_selectors2.default.current.source).id;
    session.addBreakpoint({ sourceId, line: 40 });

    session.continueUntilBreakpoint();

    const variables = yield session.variables();

    const expectedResult = {
      map: new _map2.default([["key1", "value1"], ["key2", "value2"]]),
      pointedAt: "key2",
      arrayArray: [[new _bn2.default(1), new _bn2.default(2)], [new _bn2.default(3), new _bn2.default(4)]],
      arrayStruct: { x: [new _bn2.default(1), new _bn2.default(2)], y: [new _bn2.default(3), new _bn2.default(4)] },
      key1: "key1",
      key2: "key2",
      pointedAt: "key2"
    };

    _chai.assert.hasAllKeys(variables, expectedResult);

    for (let name in expectedResult) {
      if (expectedResult[name] instanceof _map2.default) {
        _chai.assert.sameDeepMembers((0, _from2.default)(variables[name].keys()), (0, _from2.default)(expectedResult[name].keys()));
        for (let key of expectedResult[name].keys()) {
          //no mappings are nested so this will do fine
          _chai.assert.deepEqual(variables[name][key], expectedResult[name][key]);
        }
      } else {
        _chai.assert.deepEqual(variables[name], expectedResult[name]);
      }
    }
  }));
});

/***/ }),
/* 89 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/core-js/map");

/***/ }),
/* 90 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _chai = __webpack_require__(4);

var _bn = __webpack_require__(18);

var _bn2 = _interopRequireDefault(_bn);

var _truffleDecodeUtils = __webpack_require__(6);

var TruffleDecodeUtils = _interopRequireWildcard(_truffleDecodeUtils);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe("Utils", function () {
  describe("typeClass()", function () {
    it("handles mappings", function () {
      let definition = {
        typeDescriptions: {
          typeIdentifier: "t_mapping$_t_uint256_$_t_uint256_$"
        }
      };

      _chai.assert.equal(TruffleDecodeUtils.Definition.typeClass(definition), "mapping");
    });
  });

  describe("toBN()", function () {
    it("returns correct value", function () {
      let bytes = [0xf5, 0xe2, 0xc5, 0x17];
      let expectedValue = new _bn2.default("f5e2c517", 16);

      let result = TruffleDecodeUtils.Conversion.toBN(bytes);

      _chai.assert.equal(result.toString(), expectedValue.toString());
    });
  });

  describe("toSignedBN()", function () {
    it("returns correct negative value", function () {
      let bytes = [0xf5, 0xe2, 0xc5, 0x17]; // starts with 0b1
      let raw = new _bn2.default("f5e2c517", 16);
      let bitfipped = new _bn2.default(raw.toString(2).replace(/0/g, "x").replace(/1/g, "0").replace(/x/g, "1"), 2);

      let expectedValue = bitfipped.addn(1).neg();

      let result = TruffleDecodeUtils.Conversion.toSignedBN(bytes);

      _chai.assert.equal(result.toString(), expectedValue.toString());
    });

    it("returns correct positive value", function () {
      let bytes = [0x05, 0xe2, 0xc5, 0x17]; // starts with 0b0
      let raw = new _bn2.default("05e2c517", 16);
      let expectedValue = raw;

      let result = TruffleDecodeUtils.Conversion.toSignedBN(bytes);

      _chai.assert.equal(result.toString(), expectedValue.toString());
    });
  });

  describe("toHexString()", function () {
    it("returns correct representation with full bytes", function () {
      // ie, 0x00 instead of 0x0
      _chai.assert.equal(TruffleDecodeUtils.Conversion.toHexString([0x05, 0x11]), "0x0511");
      _chai.assert.equal(TruffleDecodeUtils.Conversion.toHexString([0xff, 0x00, 0xff]), "0xff00ff");
    });
  });
});

/***/ }),
/* 91 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _asyncToGenerator2 = __webpack_require__(1);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _debug = __webpack_require__(0);

var _debug2 = _interopRequireDefault(_debug);

var _chai = __webpack_require__(4);

var _ganacheCore = __webpack_require__(7);

var _ganacheCore2 = _interopRequireDefault(_ganacheCore);

var _helpers = __webpack_require__(5);

var _debugger = __webpack_require__(8);

var _debugger2 = _interopRequireDefault(_debugger);

var _selectors = __webpack_require__(32);

var _selectors2 = _interopRequireDefault(_selectors);

var _selectors3 = __webpack_require__(25);

var _selectors4 = _interopRequireDefault(_selectors3);

var _bn = __webpack_require__(18);

var _bn2 = _interopRequireDefault(_bn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const debug = (0, _debug2.default)("test:endstate"); // eslint-disable-line no-unused-vars

const __FAILURE = `
pragma solidity ~0.5;

contract FailureTest {
  function run() public {
    revert();
  }
}
`;

const __SUCCESS = `
pragma solidity ~0.5;

contract SuccessTest {
uint x;
  function run() public {
    x = 107;
  }
}
`;

let sources = {
  "FailureTest.sol": __FAILURE,
  "SuccessTest.sol": __SUCCESS
};

describe("End State", function () {
  var provider;

  var abstractions;
  var artifacts;
  var files;

  before("Create Provider", (0, _asyncToGenerator3.default)(function* () {
    provider = _ganacheCore2.default.provider({ seed: "debugger", gasLimit: 7000000 });
  }));

  before("Prepare contracts and artifacts", (0, _asyncToGenerator3.default)(function* () {
    this.timeout(30000);

    let prepared = yield (0, _helpers.prepareContracts)(provider, sources);
    abstractions = prepared.abstractions;
    artifacts = prepared.artifacts;
    files = prepared.files;
  }));

  it("correctly marks a failed transaction as failed", (0, _asyncToGenerator3.default)(function* () {
    let instance = yield abstractions.FailureTest.deployed();
    //HACK: because this transaction fails, we have to extract the hash from
    //the resulting exception (there is supposed to be a non-hacky way but it
    //does not presently work)
    let txHash;
    try {
      yield instance.run(); //this will throw because of the revert
    } catch (error) {
      txHash = error.hashes[0]; //it's the only hash involved
    }

    let bugger = yield _debugger2.default.forTx(txHash, {
      provider,
      files,
      contracts: artifacts
    });

    let session = bugger.connect();

    _chai.assert.ok(!session.view(_selectors2.default.transaction.receipt).status);
  }));

  it("Gets vars at end of successful contract (and marks it successful)", (0, _asyncToGenerator3.default)(function* () {
    let instance = yield abstractions.SuccessTest.deployed();
    let receipt = yield instance.run();
    let txHash = receipt.tx;

    let bugger = yield _debugger2.default.forTx(txHash, {
      provider,
      files,
      contracts: artifacts
    });

    let session = bugger.connect();

    session.continueUntilBreakpoint(); //no breakpoints set so advances to end

    debug("DCI %O", session.view(_selectors4.default.current.identifiers));
    debug("DCIR %O", session.view(_selectors4.default.current.identifiers.refs));
    debug("proc.assignments %O", session.view(_selectors4.default.proc.assignments));

    _chai.assert.ok(session.view(_selectors2.default.transaction.receipt).status);
    const variables = yield session.variables();
    _chai.assert.deepEqual(variables, { x: new _bn2.default(107) });
  }));
});

/***/ }),
/* 92 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _asyncToGenerator2 = __webpack_require__(1);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _debug = __webpack_require__(0);

var _debug2 = _interopRequireDefault(_debug);

var _chai = __webpack_require__(4);

var _ganacheCore = __webpack_require__(7);

var _ganacheCore2 = _interopRequireDefault(_ganacheCore);

var _helpers = __webpack_require__(5);

var _debugger = __webpack_require__(8);

var _debugger2 = _interopRequireDefault(_debugger);

var _selectors = __webpack_require__(10);

var _selectors2 = _interopRequireDefault(_selectors);

var _selectors3 = __webpack_require__(11);

var _selectors4 = _interopRequireDefault(_selectors3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const debug = (0, _debug2.default)("test:evm"); // eslint-disable-line no-unused-vars

const __OUTER = `
pragma solidity ~0.5;

import "./Inner.sol";

contract Outer {
  event Called();

  Inner inner;

  constructor(address _inner) public {
    inner = Inner(_inner);
  }

  function runSingle() public {
  }

  function run() public {
    inner.run();
  }
}
`;

const __INNER = `
pragma solidity ~0.5;

contract Inner {
  function run() public {
  }
}
`;

const __MIGRATION = `
let Outer = artifacts.require("Outer");
let Inner = artifacts.require("Inner");

module.exports = async function(deployer) {
  await deployer.deploy(Inner);
  const inner = await Inner.deployed();
  await deployer.deploy(Outer, inner.address);
};
`;

let sources = {
  "Inner.sol": __INNER,
  "Outer.sol": __OUTER
};

let migrations = {
  "2_deploy_contracts.js": __MIGRATION
};

describe("EVM Debugging", function () {
  var provider;

  var abstractions;
  var artifacts;
  var files;

  before("Create Provider", (0, _asyncToGenerator3.default)(function* () {
    provider = _ganacheCore2.default.provider({ seed: "debugger", gasLimit: 7000000 });
  }));

  before("Prepare contracts and artifacts", (0, _asyncToGenerator3.default)(function* () {
    this.timeout(30000);

    let prepared = yield (0, _helpers.prepareContracts)(provider, sources, migrations);
    abstractions = prepared.abstractions;
    artifacts = prepared.artifacts;
    files = prepared.files;
  }));

  describe("Function Depth", function () {
    it("remains at 1 in absence of cross-contract calls", (0, _asyncToGenerator3.default)(function* () {
      const maxExpected = 1;

      let instance = yield abstractions.Inner.deployed();
      let receipt = yield instance.run();
      let txHash = receipt.tx;

      let bugger = yield _debugger2.default.forTx(txHash, {
        provider,
        files,
        contracts: artifacts
      });

      let session = bugger.connect();
      var finished; // is the trace finished?

      do {
        session.stepNext();
        finished = session.view(_selectors4.default.finished);

        let actual = session.view(_selectors2.default.current.callstack).length;

        _chai.assert.isAtMost(actual, maxExpected);
      } while (!finished);
    }));

    it("tracks callstack correctly", (0, _asyncToGenerator3.default)(function* () {
      // prepare
      let instance = yield abstractions.Outer.deployed();
      let receipt = yield instance.run();
      let txHash = receipt.tx;

      let bugger = yield _debugger2.default.forTx(txHash, {
        provider,
        files,
        contracts: artifacts
      });

      let session = bugger.connect();

      // follow callstack length values in list
      // see source above
      let expectedDepthSequence = [1, 2, 1];
      let actualSequence = [session.view(_selectors2.default.current.callstack).length];

      var finished; // is the trace finished?

      do {
        session.stepNext();
        finished = session.view(_selectors4.default.finished);

        let currentDepth = session.view(_selectors2.default.current.callstack).length;
        let lastKnown = actualSequence[actualSequence.length - 1];

        if (currentDepth !== lastKnown) {
          actualSequence.push(currentDepth);
        }
      } while (!finished);

      _chai.assert.deepEqual(actualSequence, expectedDepthSequence);
    }));
  });
});

/***/ }),
/* 93 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _asyncToGenerator2 = __webpack_require__(1);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _debug = __webpack_require__(0);

var _debug2 = _interopRequireDefault(_debug);

var _chai = __webpack_require__(4);

var _ganacheCore = __webpack_require__(7);

var _ganacheCore2 = _interopRequireDefault(_ganacheCore);

var _helpers = __webpack_require__(5);

var _debugger = __webpack_require__(8);

var _debugger2 = _interopRequireDefault(_debugger);

var _selectors = __webpack_require__(10);

var _selectors2 = _interopRequireDefault(_selectors);

var _selectors3 = __webpack_require__(11);

var _selectors4 = _interopRequireDefault(_selectors3);

var _selectors5 = __webpack_require__(2);

var _selectors6 = _interopRequireDefault(_selectors5);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const debug = (0, _debug2.default)("test:precompiles"); // eslint-disable-line no-unused-vars

const __PRECOMPILE = `
pragma solidity ~0.5;

contract HasPrecompile {
  event Called();

  function run() public {
    sha256("hello world");

    emit Called();
  }
}
`;

let sources = {
  "HasPrecompile.sol": __PRECOMPILE
};

const TEST_CASES = [{
  name: "trace.step",
  selector: _selectors4.default.step
}, {
  name: "evm.current.context",
  selector: _selectors2.default.current.context
}, {
  name: "solidity.current.sourceRange",
  selector: _selectors6.default.current.sourceRange
}];

describe("Precompiled Contracts", () => {
  let provider;

  let abstractions;
  let artifacts;
  let files;

  // object where key is selector name, value is list of results at step
  let results = {};

  before("Create Provider", (0, _asyncToGenerator3.default)(function* () {
    provider = _ganacheCore2.default.provider({ seed: "debugger", gasLimit: 7000000 });
  }));

  before("Prepare contracts and artifacts", (0, _asyncToGenerator3.default)(function* () {
    this.timeout(30000);

    let prepared = yield (0, _helpers.prepareContracts)(provider, sources);
    abstractions = prepared.abstractions;
    artifacts = prepared.artifacts;
    files = prepared.files;
  }));

  before("Initialize results", () => {
    // initialize results as mapping of selector to step results list
    for (let _ref3 of TEST_CASES) {
      let { name } = _ref3;

      results[name] = [];
    }
  });

  before("Step through debugger", (0, _asyncToGenerator3.default)(function* () {
    let instance = yield abstractions.HasPrecompile.deployed();
    let receipt = yield instance.run();
    let txHash = receipt.tx;

    let bugger = yield _debugger2.default.forTx(txHash, {
      provider,
      files,
      contracts: artifacts
    });

    let session = bugger.connect();
    var finished; // is the trace finished?

    do {
      for (let _ref5 of TEST_CASES) {
        let { name, selector } = _ref5;

        let stepResult;

        try {
          stepResult = { value: session.view(selector) };
        } catch (e) {
          stepResult = { error: e };
        }

        results[name].push(stepResult);
      }

      session.advance();
      finished = session.view(_selectors4.default.finished);
    } while (!finished);
  }));

  before("remove final step results", () => {
    // since these include one step past end of trace
    for (let _ref6 of TEST_CASES) {
      let { name } = _ref6;

      results[name].pop();
    }
  });

  it("never fails to know the trace step", (0, _asyncToGenerator3.default)(function* () {
    // remove last item (known to be undefined)
    const result = results["trace.step"];

    for (let step of result) {
      if (step.error) {
        throw step.error;
      }

      _chai.assert.isOk(step.value);
    }
  }));

  it("never fails to know EVM context", (0, _asyncToGenerator3.default)(function* () {
    const result = results["evm.current.context"];

    for (let step of result) {
      if (step.error) {
        throw step.error;
      }

      _chai.assert.isOk(step.value);
      _chai.assert.property(step.value, "context");
    }
  }));

  it("never throws an exception for missing source range", (0, _asyncToGenerator3.default)(function* () {
    const result = results["solidity.current.sourceRange"];

    for (let step of result) {
      if (step.error) {
        throw step.error;
      }

      _chai.assert.isOk(step.value);
    }
  }));
});

/***/ }),
/* 94 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _asyncToGenerator2 = __webpack_require__(1);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _debug = __webpack_require__(0);

var _debug2 = _interopRequireDefault(_debug);

var _chai = __webpack_require__(4);

var _ganacheCore = __webpack_require__(7);

var _ganacheCore2 = _interopRequireDefault(_ganacheCore);

var _helpers = __webpack_require__(5);

var _debugger = __webpack_require__(8);

var _debugger2 = _interopRequireDefault(_debugger);

var _selectors = __webpack_require__(2);

var _selectors2 = _interopRequireDefault(_selectors);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const debug = (0, _debug2.default)("test:reset"); // eslint-disable-line no-unused-vars

const __SETSTHINGS = `
pragma solidity ~0.5;

contract SetsThings {
  int x;
  int y;
  int z;
  int w;
  function run() public {
    x = 1;
    y = 2;
    z = 3;
    w = 4;
  }
}
`;

let sources = {
  "SetsThings.sol": __SETSTHINGS
};

describe("Reset Button", function () {
  var provider;

  var abstractions;
  var artifacts;
  var files;

  before("Create Provider", (0, _asyncToGenerator3.default)(function* () {
    provider = _ganacheCore2.default.provider({ seed: "debugger", gasLimit: 7000000 });
  }));

  before("Prepare contracts and artifacts", (0, _asyncToGenerator3.default)(function* () {
    this.timeout(30000);

    let prepared = yield (0, _helpers.prepareContracts)(provider, sources);
    abstractions = prepared.abstractions;
    artifacts = prepared.artifacts;
    files = prepared.files;
  }));

  it("Correctly resets after finishing", (0, _asyncToGenerator3.default)(function* () {
    let instance = yield abstractions.SetsThings.deployed();
    let receipt = yield instance.run();
    let txHash = receipt.tx;

    let bugger = yield _debugger2.default.forTx(txHash, {
      provider,
      files,
      contracts: artifacts
    });

    let session = bugger.connect();
    let sourceId = session.view(_selectors2.default.current.source).id;

    let variables = [];
    variables[0] = []; //collected during 1st run
    variables[1] = []; //collected during 2nd run

    variables[0].push((yield session.variables()));
    session.addBreakpoint({ sourceId, line: 10 });
    session.continueUntilBreakpoint(); //advance to line 10
    variables[0].push((yield session.variables()));
    session.continueUntilBreakpoint(); //advance to the end
    variables[0].push((yield session.variables()));

    //now, reset and do it again
    session.reset();

    variables[1].push((yield session.variables()));
    session.continueUntilBreakpoint(); //advance to line 10
    variables[1].push((yield session.variables()));
    session.continueUntilBreakpoint(); //advance to the end
    variables[1].push((yield session.variables()));

    _chai.assert.deepEqual(variables[1], variables[0]);
  }));
});

/***/ }),
/* 95 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _asyncToGenerator2 = __webpack_require__(1);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _debug = __webpack_require__(0);

var _debug2 = _interopRequireDefault(_debug);

var _chai = __webpack_require__(4);

var _ganacheCore = __webpack_require__(7);

var _ganacheCore2 = _interopRequireDefault(_ganacheCore);

var _helpers = __webpack_require__(5);

var _debugger = __webpack_require__(8);

var _debugger2 = _interopRequireDefault(_debugger);

var _selectors = __webpack_require__(2);

var _selectors2 = _interopRequireDefault(_selectors);

var _selectors3 = __webpack_require__(11);

var _selectors4 = _interopRequireDefault(_selectors3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const debug = (0, _debug2.default)("test:solidity"); // eslint-disable-line no-unused-vars

const __SINGLE_CALL = `
pragma solidity ~0.5;

contract SingleCall {
  event Called();
  event Done();

  function run() public {
    emit Called();
  }

  function runSha() public {
    emit Called();
    sha256("hello world!");
    emit Done();
  }
}
`;

const __NESTED_CALL = `pragma solidity ~0.5;

contract NestedCall {
  event First();
  event Second();

  // run()
  //   first()    1
  //     inner()  2
  //       event  3
  //              2
  //   second     1
  //     event    2
  //              1
  function run() public {
    first();
    second();
  }

  function first() public {
    inner();
  }

  function inner() public {
    emit First();
  }

  function second() public {
    emit Second();
  }
}
`;

let sources = {
  "SingleCall.sol": __SINGLE_CALL,
  "NestedCall.sol": __NESTED_CALL
};

describe("Solidity Debugging", function () {
  var provider;

  var abstractions;
  var artifacts;
  var files;

  before("Create Provider", (0, _asyncToGenerator3.default)(function* () {
    provider = _ganacheCore2.default.provider({ seed: "debugger", gasLimit: 7000000 });
  }));

  before("Prepare contracts and artifacts", (0, _asyncToGenerator3.default)(function* () {
    this.timeout(30000);

    let prepared = yield (0, _helpers.prepareContracts)(provider, sources);
    abstractions = prepared.abstractions;
    artifacts = prepared.artifacts;
    files = prepared.files;
  }));

  it("exposes functionality to stop at breakpoints", (0, _asyncToGenerator3.default)(function* () {
    // prepare
    let instance = yield abstractions.NestedCall.deployed();
    let receipt = yield instance.run();
    let txHash = receipt.tx;

    let bugger = yield _debugger2.default.forTx(txHash, {
      provider,
      files,
      contracts: artifacts
    });

    let session = bugger.connect();

    // at `second();`
    let source = yield session.view(_selectors2.default.current.source);
    let breakpoint = { sourceId: source.id, line: 16 };

    session.addBreakpoint(breakpoint);

    do {
      session.continueUntilBreakpoint();

      if (!session.view(_selectors4.default.finished)) {
        let range = yield session.view(_selectors2.default.current.sourceRange);
        _chai.assert.equal(range.lines.start.line, 16);
      }
    } while (!session.view(_selectors4.default.finished));
  }));

  describe("Function Depth", function () {
    it("remains at 1 in absence of inner function calls", (0, _asyncToGenerator3.default)(function* () {
      const maxExpected = 1;

      let instance = yield abstractions.SingleCall.deployed();
      let receipt = yield instance.run();
      let txHash = receipt.tx;

      let bugger = yield _debugger2.default.forTx(txHash, {
        provider,
        files,
        contracts: artifacts
      });

      let session = bugger.connect();
      var finished;

      do {
        session.stepNext();
        finished = session.view(_selectors4.default.finished);

        let actual = session.view(_selectors2.default.current.functionDepth);

        _chai.assert.isAtMost(actual, maxExpected);
      } while (!finished);
    }));

    it("is unaffected by precompiles", (0, _asyncToGenerator3.default)(function* () {
      const numExpected = 1;

      let instance = yield abstractions.SingleCall.deployed();
      let receipt = yield instance.runSha();
      let txHash = receipt.tx;

      let bugger = yield _debugger2.default.forTx(txHash, {
        provider,
        files,
        contracts: artifacts
      });

      let session = bugger.connect();

      let hasBegun = false; //we don't check until it's nonzero, since it
      //starts as zero now

      while (!session.view(_selectors4.default.finished)) {
        let actual = session.view(_selectors2.default.current.functionDepth);
        if (actual !== 0) {
          hasBegun = true;
        }
        if (hasBegun) {
          _chai.assert.equal(actual, numExpected);
        }

        session.stepNext();
      }

      (0, _chai.assert)(hasBegun); //check for non-vacuity of the above tests
    }));

    it("spelunks correctly", (0, _asyncToGenerator3.default)(function* () {
      // prepare
      let instance = yield abstractions.NestedCall.deployed();
      let receipt = yield instance.run();
      let txHash = receipt.tx;

      let bugger = yield _debugger2.default.forTx(txHash, {
        provider,
        files,
        contracts: artifacts
      });

      let session = bugger.connect();

      // follow functionDepth values in list
      // see source above
      let expectedDepthSequence = [0, 1, 2, 3, 2, 1, 2, 1, -1];
      //end at -1 due to losing 2 from contract method return
      let actualSequence = [session.view(_selectors2.default.current.functionDepth)];

      var finished;

      do {
        session.stepNext();
        finished = session.view(_selectors4.default.finished);

        let currentDepth = session.view(_selectors2.default.current.functionDepth);
        let lastKnown = actualSequence[actualSequence.length - 1];

        if (currentDepth !== lastKnown) {
          actualSequence.push(currentDepth);
        }
      } while (!finished);

      _chai.assert.deepEqual(actualSequence, expectedDepthSequence);
    }));
  });
});

/***/ })
/******/ ]);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrL2Jvb3RzdHJhcCBiODdiZDQwNzMzNzU2ZDZmZDA2OCIsImV4dGVybmFsIFwiZGVidWdcIiIsImV4dGVybmFsIFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3JcIiIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi9zb2xpZGl0eS9zZWxlY3RvcnMvaW5kZXguanMiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci9saWIvaGVscGVycy9pbmRleC5qcyIsImV4dGVybmFsIFwiY2hhaVwiIiwidGVzdC9oZWxwZXJzLmpzIiwiZXh0ZXJuYWwgXCJ0cnVmZmxlLWRlY29kZS11dGlsc1wiIiwiZXh0ZXJuYWwgXCJnYW5hY2hlLWNvcmVcIiIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi9kZWJ1Z2dlci5qcyIsImV4dGVybmFsIFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9lbnRyaWVzXCIiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci9saWIvZXZtL3NlbGVjdG9ycy9pbmRleC5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi90cmFjZS9zZWxlY3RvcnMvaW5kZXguanMiLCJleHRlcm5hbCBcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduXCIiLCJleHRlcm5hbCBcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzXCIiLCJleHRlcm5hbCBcInJlc2VsZWN0LXRyZWVcIiIsImV4dGVybmFsIFwicmVkdXgtc2FnYS9lZmZlY3RzXCIiLCJleHRlcm5hbCBcInJlZHV4XCIiLCJleHRlcm5hbCBcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5c1wiIiwiZXh0ZXJuYWwgXCJibi5qc1wiIiwiL1VzZXJzL2duaWRhbi9zcmMvd29yay90cnVmZmxlL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvbGliL2FzdC9zZWxlY3RvcnMvaW5kZXguanMiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci9saWIvdHJhY2UvYWN0aW9ucy9pbmRleC5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi90cmFjZS9zYWdhcy9pbmRleC5qcyIsImV4dGVybmFsIFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2VcIiIsImV4dGVybmFsIFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC92YWx1ZXNcIiIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi9zZXNzaW9uL2FjdGlvbnMvaW5kZXguanMiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci9saWIvZGF0YS9zZWxlY3RvcnMvaW5kZXguanMiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci9saWIvZGF0YS9zYWdhcy9pbmRleC5qcyIsImV4dGVybmFsIFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3NldFwiIiwiL1VzZXJzL2duaWRhbi9zcmMvd29yay90cnVmZmxlL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvbGliL2NvbnRyb2xsZXIvYWN0aW9ucy9pbmRleC5qcyIsImV4dGVybmFsIFwianNvbi1wb2ludGVyXCIiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci9saWIvYXN0L21hcC5qcyIsImV4dGVybmFsIFwidHJ1ZmZsZS1kZWNvZGVyXCIiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci9saWIvc2Vzc2lvbi9zZWxlY3RvcnMvaW5kZXguanMiLCJleHRlcm5hbCBcIndlYjNcIiIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi9kYXRhL2FjdGlvbnMvaW5kZXguanMiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci9saWIvZXZtL3NhZ2FzL2luZGV4LmpzIiwiL1VzZXJzL2duaWRhbi9zcmMvd29yay90cnVmZmxlL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvbGliL2V2bS9hY3Rpb25zL2luZGV4LmpzIiwiL1VzZXJzL2duaWRhbi9zcmMvd29yay90cnVmZmxlL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvbGliL3NvbGlkaXR5L3NhZ2FzL2luZGV4LmpzIiwiL1VzZXJzL2duaWRhbi9zcmMvd29yay90cnVmZmxlL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvbGliL3NvbGlkaXR5L2FjdGlvbnMvaW5kZXguanMiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci9saWIvY29udHJvbGxlci9zZWxlY3RvcnMvaW5kZXguanMiLCJleHRlcm5hbCBcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9hcnJheS9mcm9tXCIiLCJ0ZXN0L2RhdGEvaGVscGVycy5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9ub2RlX21vZHVsZXMvbW9jaGEtd2VicGFjay9saWIvZW50cnkuanMiLCJ0ZXN0L2FzdC5qcyIsImV4dGVybmFsIFwicGF0aFwiIiwiZXh0ZXJuYWwgXCJmcy1leHRyYVwiIiwiZXh0ZXJuYWwgXCJ0cnVmZmxlLXdvcmtmbG93LWNvbXBpbGVcIiIsImV4dGVybmFsIFwidHJ1ZmZsZS1kZWJ1Zy11dGlsc1wiIiwiZXh0ZXJuYWwgXCJ0cnVmZmxlLWFydGlmYWN0b3JcIiIsImV4dGVybmFsIFwidHJ1ZmZsZS1taWdyYXRlXCIiLCJleHRlcm5hbCBcInRydWZmbGUtYm94XCIiLCJleHRlcm5hbCBcInRydWZmbGUtcmVzb2x2ZXJcIiIsImV4dGVybmFsIFwidHJ1ZmZsZS1leHBlY3RcIiIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi9zZXNzaW9uL2luZGV4LmpzIiwiL1VzZXJzL2duaWRhbi9zcmMvd29yay90cnVmZmxlL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvbGliL3Nlc3Npb24vc2Vzc2lvbi5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi9zdG9yZS9pbmRleC5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi9zdG9yZS90ZXN0LmpzIiwiL1VzZXJzL2duaWRhbi9zcmMvd29yay90cnVmZmxlL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvbGliL3N0b3JlL2NvbW1vbi5qcyIsImV4dGVybmFsIFwicmVkdXgtc2FnYVwiIiwiZXh0ZXJuYWwgXCJyZWR1eC1jbGktbG9nZ2VyXCIiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvbm9kZV9tb2R1bGVzL2pzb24tc3RhYmxlLXN0cmluZ2lmeS9pbmRleC5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9ub2RlX21vZHVsZXMvanNvbmlmeS9pbmRleC5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9ub2RlX21vZHVsZXMvanNvbmlmeS9saWIvcGFyc2UuanMiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvbm9kZV9tb2R1bGVzL2pzb25pZnkvbGliL3N0cmluZ2lmeS5qcyIsImV4dGVybmFsIFwidHJ1ZmZsZS1zb2xpZGl0eS11dGlsc1wiIiwiZXh0ZXJuYWwgXCJ0cnVmZmxlLWNvZGUtdXRpbHNcIiIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9ub2RlX21vZHVsZXMvbm9kZS1pbnRlcnZhbC10cmVlL2xpYi9pbmRleC5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9ub2RlX21vZHVsZXMvc2hhbGxvd2VxdWFsL2luZGV4LmpzIiwiZXh0ZXJuYWwgXCJmYXN0LWxldmVuc2h0ZWluXCIiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvbm9kZV9tb2R1bGVzL3NlbXZlci9zZW12ZXIuanMiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci9saWIvc2Vzc2lvbi9zYWdhcy9pbmRleC5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi9hc3Qvc2FnYXMvaW5kZXguanMiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci9saWIvY29udHJvbGxlci9zYWdhcy9pbmRleC5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi93ZWIzL3NhZ2FzL2luZGV4LmpzIiwiL1VzZXJzL2duaWRhbi9zcmMvd29yay90cnVmZmxlL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvbGliL3dlYjMvYWN0aW9ucy9pbmRleC5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi93ZWIzL2FkYXB0ZXIuanMiLCIvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci9saWIvc2Vzc2lvbi9yZWR1Y2Vycy5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi9kYXRhL3JlZHVjZXJzLmpzIiwiL1VzZXJzL2duaWRhbi9zcmMvd29yay90cnVmZmxlL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvbGliL2V2bS9yZWR1Y2Vycy5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi9zb2xpZGl0eS9yZWR1Y2Vycy5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi90cmFjZS9yZWR1Y2Vycy5qcyIsIi9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL2xpYi9jb250cm9sbGVyL3JlZHVjZXJzLmpzIiwidGVzdC9jb250ZXh0LmpzIiwidGVzdC9kYXRhL2RlY29kaW5nLmpzIiwiZXh0ZXJuYWwgXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnlcIiIsImV4dGVybmFsIFwiZmFrZXJcIiIsImV4dGVybmFsIFwiY2hhbmdlLWNhc2VcIiIsInRlc3QvZGF0YS9pZHMuanMiLCJ0ZXN0L2RhdGEvbW9yZS1kZWNvZGluZy5qcyIsImV4dGVybmFsIFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL21hcFwiIiwidGVzdC9kYXRhL3V0aWxzLmpzIiwidGVzdC9lbmRzdGF0ZS5qcyIsInRlc3QvZXZtLmpzIiwidGVzdC9wcmVjb21waWxlcy5qcyIsInRlc3QvcmVzZXQuanMiLCJ0ZXN0L3NvbGlkaXR5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiRGVidWdnZXJcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiRGVidWdnZXJcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiRGVidWdnZXJcIl0gPSBmYWN0b3J5KCk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQyKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBiODdiZDQwNzMzNzU2ZDZmZDA2OCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImRlYnVnXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiZGVidWdcIlxuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvclwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yXCJcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIik7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfZW50cmllcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2VudHJpZXNcIik7XG5cbnZhciBfZW50cmllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lbnRyaWVzKTtcblxudmFyIF9hc3NpZ24gPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ25cIik7XG5cbnZhciBfYXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2lnbik7XG5cbnZhciBfZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIik7XG5cbnZhciBfZGVidWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVidWcpO1xuXG52YXIgX3Jlc2VsZWN0VHJlZSA9IHJlcXVpcmUoXCJyZXNlbGVjdC10cmVlXCIpO1xuXG52YXIgX3RydWZmbGVTb2xpZGl0eVV0aWxzID0gcmVxdWlyZShcInRydWZmbGUtc29saWRpdHktdXRpbHNcIik7XG5cbnZhciBfdHJ1ZmZsZVNvbGlkaXR5VXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJ1ZmZsZVNvbGlkaXR5VXRpbHMpO1xuXG52YXIgX3RydWZmbGVDb2RlVXRpbHMgPSByZXF1aXJlKFwidHJ1ZmZsZS1jb2RlLXV0aWxzXCIpO1xuXG52YXIgX3RydWZmbGVDb2RlVXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJ1ZmZsZUNvZGVVdGlscyk7XG5cbnZhciBfdHJ1ZmZsZURlY29kZVV0aWxzID0gcmVxdWlyZShcInRydWZmbGUtZGVjb2RlLXV0aWxzXCIpO1xuXG52YXIgRGVjb2RlVXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdHJ1ZmZsZURlY29kZVV0aWxzKTtcblxudmFyIF9tYXAgPSByZXF1aXJlKFwibGliL2FzdC9tYXBcIik7XG5cbnZhciBfanNvblBvaW50ZXIgPSByZXF1aXJlKFwianNvbi1wb2ludGVyXCIpO1xuXG52YXIgX2pzb25Qb2ludGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2pzb25Qb2ludGVyKTtcblxudmFyIF9zZWxlY3RvcnMgPSByZXF1aXJlKFwibGliL2V2bS9zZWxlY3RvcnNcIik7XG5cbnZhciBfc2VsZWN0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdG9ycyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmNvbnN0IGRlYnVnID0gKDAsIF9kZWJ1ZzIuZGVmYXVsdCkoXCJkZWJ1Z2dlcjpzb2xpZGl0eTpzZWxlY3RvcnNcIik7XG5cbmNvbnN0IHNlbXZlciA9IHJlcXVpcmUoXCJzZW12ZXJcIik7XG5cbmZ1bmN0aW9uIGdldFNvdXJjZVJhbmdlKGluc3RydWN0aW9uID0ge30pIHtcbiAgcmV0dXJuIHtcbiAgICBzdGFydDogaW5zdHJ1Y3Rpb24uc3RhcnQgfHwgMCxcbiAgICBsZW5ndGg6IGluc3RydWN0aW9uLmxlbmd0aCB8fCAwLFxuICAgIGxpbmVzOiBpbnN0cnVjdGlvbi5yYW5nZSB8fCB7XG4gICAgICBzdGFydDoge1xuICAgICAgICBsaW5lOiAwLFxuICAgICAgICBjb2x1bW46IDBcbiAgICAgIH0sXG4gICAgICBlbmQ6IHtcbiAgICAgICAgbGluZTogMCxcbiAgICAgICAgY29sdW1uOiAwXG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5sZXQgc29saWRpdHkgPSAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVTZWxlY3RvclRyZWUpKHtcbiAgLyoqXG4gICAqIHNvbGlkaXR5LnN0YXRlXG4gICAqL1xuICBzdGF0ZTogc3RhdGUgPT4gc3RhdGUuc29saWRpdHksXG5cbiAgLyoqXG4gICAqIHNvbGlkaXR5LmluZm9cbiAgICovXG4gIGluZm86IHtcbiAgICAvKipcbiAgICAgKiBzb2xpZGl0eS5pbmZvLnNvdXJjZXNcbiAgICAgKi9cbiAgICBzb3VyY2VzOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIvc3RhdGVcIl0sIHN0YXRlID0+IHN0YXRlLmluZm8uc291cmNlcy5ieUlkKSxcblxuICAgIC8qKlxuICAgICAqIHNvbGlkaXR5LmluZm8uc291cmNlTWFwc1xuICAgICAqL1xuICAgIHNvdXJjZU1hcHM6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi9zdGF0ZVwiXSwgc3RhdGUgPT4gc3RhdGUuaW5mby5zb3VyY2VNYXBzLmJ5Q29udGV4dClcbiAgfSxcblxuICAvKipcbiAgICogc29saWRpdHkuY3VycmVudFxuICAgKi9cbiAgY3VycmVudDoge1xuICAgIC8qKlxuICAgICAqIHNvbGlkaXR5LmN1cnJlbnQuc291cmNlTWFwXG4gICAgICovXG4gICAgc291cmNlTWFwOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LmNvbnRleHQsIFwiL2luZm8vc291cmNlTWFwc1wiXSwgKHsgY29udGV4dCB9LCBzb3VyY2VNYXBzKSA9PiBzb3VyY2VNYXBzW2NvbnRleHRdIHx8IHt9KSxcblxuICAgIC8qKlxuICAgICAqIHNvbGlkaXR5LmN1cnJlbnQuZnVuY3Rpb25EZXB0aFxuICAgICAqL1xuICAgIGZ1bmN0aW9uRGVwdGg6IHN0YXRlID0+IHN0YXRlLnNvbGlkaXR5LnByb2MuZnVuY3Rpb25EZXB0aCxcblxuICAgIC8qKlxuICAgICAqIHNvbGlkaXR5LmN1cnJlbnQuaW5zdHJ1Y3Rpb25zXG4gICAgICovXG4gICAgaW5zdHJ1Y3Rpb25zOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIvaW5mby9zb3VyY2VzXCIsIF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5jb250ZXh0LCBcIi4vc291cmNlTWFwXCJdLCAoc291cmNlcywgeyBiaW5hcnkgfSwgeyBzb3VyY2VNYXAgfSkgPT4ge1xuICAgICAgaWYgKCFiaW5hcnkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuXG4gICAgICBsZXQgaW5zdHJ1Y3Rpb25zID0gX3RydWZmbGVDb2RlVXRpbHMyLmRlZmF1bHQucGFyc2VDb2RlKGJpbmFyeSk7XG5cbiAgICAgIGlmICghc291cmNlTWFwKSB7XG4gICAgICAgIC8vIExldCdzIGNyZWF0ZSBhIHNvdXJjZSBtYXAgdG8gdXNlIHNpbmNlIG5vbmUgZXhpc3RzLiBUaGlzIHNvdXJjZSBtYXBcbiAgICAgICAgLy8gbWFwcyBqdXN0IGFzIG1hbnkgcmFuZ2VzIGFzIHRoZXJlIGFyZSBpbnN0cnVjdGlvbnMsIGFuZCBlbnN1cmVzIGV2ZXJ5XG4gICAgICAgIC8vIGluc3RydWN0aW9uIGlzIG1hcmtlZCBhcyBcImp1bXBpbmcgb3V0XCIuIFRoaXMgd2lsbCBlbnN1cmUgYWxsXG4gICAgICAgIC8vIGF2YWlsYWJsZSBkZWJ1Z2dlciBjb21tYW5kcyBzdGVwIG9uZSBpbnN0cnVjdGlvbiBhdCBhIHRpbWUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgaXMga2luZG9mIGEgaGFjazsgcGVyaGFwcyB0aGlzIHNob3VsZCBiZSBicm9rZW4gb3V0IGludG8gc2VwYXJhdGVcbiAgICAgICAgLy8gY29udGV4dCB0eXBlcy4gVE9ET1xuICAgICAgICBzb3VyY2VNYXAgPSBcIlwiO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluc3RydWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHNvdXJjZU1hcCArPSBpICsgXCI6XCIgKyBpICsgXCI6MTotMTtcIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgbGluZUFuZENvbHVtbk1hcHBpbmdzID0gKDAsIF9hc3NpZ24yLmRlZmF1bHQpKHt9LCAuLi4oMCwgX2VudHJpZXMyLmRlZmF1bHQpKHNvdXJjZXMpLm1hcCgoW2lkLCB7IHNvdXJjZSB9XSkgPT4gKHtcbiAgICAgICAgW2lkXTogX3RydWZmbGVTb2xpZGl0eVV0aWxzMi5kZWZhdWx0LmdldENoYXJhY3Rlck9mZnNldFRvTGluZUFuZENvbHVtbk1hcHBpbmcoc291cmNlIHx8IFwiXCIpXG4gICAgICB9KSkpO1xuICAgICAgdmFyIGh1bWFuUmVhZGFibGVTb3VyY2VNYXAgPSBfdHJ1ZmZsZVNvbGlkaXR5VXRpbHMyLmRlZmF1bHQuZ2V0SHVtYW5SZWFkYWJsZVNvdXJjZU1hcChzb3VyY2VNYXApO1xuXG4gICAgICBsZXQgcHJpbWFyeUZpbGUgPSBodW1hblJlYWRhYmxlU291cmNlTWFwWzBdLmZpbGU7XG4gICAgICBkZWJ1ZyhcInByaW1hcnlGaWxlICVvXCIsIHByaW1hcnlGaWxlKTtcblxuICAgICAgcmV0dXJuIGluc3RydWN0aW9ucy5tYXAoKGluc3RydWN0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAvLyBsb29rdXAgc291cmNlIG1hcCBieSBpbmRleCBhbmQgYWRkIGBpbmRleGAgcHJvcGVydHkgdG9cbiAgICAgICAgLy8gaW5zdHJ1Y3Rpb25cbiAgICAgICAgLy9cblxuICAgICAgICBjb25zdCBzb3VyY2VNYXAgPSBodW1hblJlYWRhYmxlU291cmNlTWFwW2luZGV4XSB8fCB7fTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGluc3RydWN0aW9uOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBpbnN0cnVjdGlvbiwgeyBpbmRleCB9KSxcbiAgICAgICAgICBzb3VyY2VNYXBcbiAgICAgICAgfTtcbiAgICAgIH0pLm1hcCgoeyBpbnN0cnVjdGlvbiwgc291cmNlTWFwIH0pID0+IHtcbiAgICAgICAgLy8gYWRkIHNvdXJjZSBtYXAgaW5mb3JtYXRpb24gdG8gaW5zdHJ1Y3Rpb24sIG9yIGRlZmF1bHRzXG4gICAgICAgIC8vXG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGp1bXAsXG4gICAgICAgICAgc3RhcnQgPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IDAsXG4gICAgICAgICAgZmlsZSA9IHByaW1hcnlGaWxlXG4gICAgICAgIH0gPSBzb3VyY2VNYXA7XG4gICAgICAgIGNvbnN0IGxpbmVBbmRDb2x1bW5NYXBwaW5nID0gbGluZUFuZENvbHVtbk1hcHBpbmdzW2ZpbGVdIHx8IHt9O1xuICAgICAgICBjb25zdCByYW5nZSA9IHtcbiAgICAgICAgICBzdGFydDogbGluZUFuZENvbHVtbk1hcHBpbmdbc3RhcnRdIHx8IHtcbiAgICAgICAgICAgIGxpbmU6IG51bGwsXG4gICAgICAgICAgICBjb2x1bW46IG51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVuZDogbGluZUFuZENvbHVtbk1hcHBpbmdbc3RhcnQgKyBsZW5ndGhdIHx8IHtcbiAgICAgICAgICAgIGxpbmU6IG51bGwsXG4gICAgICAgICAgICBjb2x1bW46IG51bGxcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LmxpbmUgPT09IG51bGwpIHtcbiAgICAgICAgICBkZWJ1ZyhcInNvdXJjZU1hcCAlb1wiLCBzb3VyY2VNYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIGluc3RydWN0aW9uLCB7XG5cbiAgICAgICAgICBqdW1wLFxuICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICBmaWxlLFxuICAgICAgICAgIHJhbmdlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSksXG5cbiAgICAvKipcbiAgICAgKiBzb2xpZGl0eS5jdXJyZW50Lmluc3RydWN0aW9uQXRQcm9ncmFtQ291bnRlclxuICAgICAqL1xuICAgIGluc3RydWN0aW9uQXRQcm9ncmFtQ291bnRlcjogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiLi9pbnN0cnVjdGlvbnNcIl0sIGluc3RydWN0aW9ucyA9PiB7XG4gICAgICBsZXQgbWFwID0gW107XG4gICAgICBpbnN0cnVjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoaW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgbWFwW2luc3RydWN0aW9uLnBjXSA9IGluc3RydWN0aW9uO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGZpbGwgaW4gZ2FwcyBpbiBtYXAgYnkgZGVmYXVsdGluZyB0byB0aGUgbGFzdCBrbm93biBpbnN0cnVjdGlvblxuICAgICAgbGV0IGxhc3RTZWVuID0gbnVsbDtcbiAgICAgIGZvciAobGV0IFtwYywgaW5zdHJ1Y3Rpb25dIG9mIG1hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgaWYgKGluc3RydWN0aW9uKSB7XG4gICAgICAgICAgbGFzdFNlZW4gPSBpbnN0cnVjdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXBbcGNdID0gbGFzdFNlZW47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXA7XG4gICAgfSksXG5cbiAgICAvKipcbiAgICAgKiBzb2xpZGl0eS5jdXJyZW50Lmluc3RydWN0aW9uXG4gICAgICovXG4gICAgaW5zdHJ1Y3Rpb246ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi4vaW5zdHJ1Y3Rpb25BdFByb2dyYW1Db3VudGVyXCIsIF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5zdGVwLnByb2dyYW1Db3VudGVyXSwgKG1hcCwgcGMpID0+IG1hcFtwY10gfHwge30pLFxuXG4gICAgLyoqXG4gICAgICogc29saWRpdHkuY3VycmVudC5zb3VyY2VcbiAgICAgKi9cbiAgICBzb3VyY2U6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi9pbmZvL3NvdXJjZXNcIiwgXCIuL2luc3RydWN0aW9uXCJdLCAoc291cmNlcywgeyBmaWxlOiBpZCB9KSA9PiBzb3VyY2VzW2lkXSB8fCB7fSksXG5cbiAgICAvKipcbiAgICAgKiBzb2xpZGl0eS5jdXJyZW50LnNvdXJjZVJhbmdlXG4gICAgICovXG4gICAgc291cmNlUmFuZ2U6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi4vaW5zdHJ1Y3Rpb25cIl0sIGdldFNvdXJjZVJhbmdlKSxcblxuICAgIC8qKlxuICAgICAqIHNvbGlkaXR5LmN1cnJlbnQuaXNTb3VyY2VSYW5nZUZpbmFsXG4gICAgICovXG4gICAgaXNTb3VyY2VSYW5nZUZpbmFsOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIuL2luc3RydWN0aW9uQXRQcm9ncmFtQ291bnRlclwiLCBfc2VsZWN0b3JzMi5kZWZhdWx0LmN1cnJlbnQuc3RlcC5wcm9ncmFtQ291bnRlciwgX3NlbGVjdG9yczIuZGVmYXVsdC5uZXh0LnN0ZXAucHJvZ3JhbUNvdW50ZXJdLCAobWFwLCBjdXJyZW50LCBuZXh0KSA9PiB7XG4gICAgICBpZiAoIW1hcFtuZXh0XSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgY3VycmVudCA9IG1hcFtjdXJyZW50XTtcbiAgICAgIG5leHQgPSBtYXBbbmV4dF07XG5cbiAgICAgIHJldHVybiBjdXJyZW50LnN0YXJ0ICE9IG5leHQuc3RhcnQgfHwgY3VycmVudC5sZW5ndGggIT0gbmV4dC5sZW5ndGggfHwgY3VycmVudC5maWxlICE9IG5leHQuZmlsZTtcbiAgICB9KSxcblxuICAgIC8qKlxuICAgICAqIHNvbGlkaXR5LmN1cnJlbnQuaXNNdWx0aWxpbmVcbiAgICAgKi9cbiAgICBpc011bHRpbGluZTogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiLi9zb3VyY2VSYW5nZVwiXSwgKHsgbGluZXMgfSkgPT4gbGluZXMuc3RhcnQubGluZSAhPSBsaW5lcy5lbmQubGluZSksXG5cbiAgICAvKipcbiAgICAgKiBzb2xpZGl0eS5jdXJyZW50LndpbGxKdW1wXG4gICAgICovXG4gICAgd2lsbEp1bXA6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtfc2VsZWN0b3JzMi5kZWZhdWx0LmN1cnJlbnQuc3RlcC5pc0p1bXBdLCBpc0p1bXAgPT4gaXNKdW1wKSxcblxuICAgIC8qKlxuICAgICAqIHNvbGlkaXR5LmN1cnJlbnQuanVtcERpcmVjdGlvblxuICAgICAqL1xuICAgIGp1bXBEaXJlY3Rpb246ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi4vaW5zdHJ1Y3Rpb25cIl0sIChpID0ge30pID0+IGkuanVtcCB8fCBcIi1cIiksXG5cbiAgICAvKipcbiAgICAgKiBzb2xpZGl0eS5jdXJyZW50LndpbGxDYWxsXG4gICAgICovXG4gICAgd2lsbENhbGw6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtfc2VsZWN0b3JzMi5kZWZhdWx0LmN1cnJlbnQuc3RlcC5pc0NhbGxdLCB4ID0+IHgpLFxuXG4gICAgLyoqXG4gICAgICogc29saWRpdHkuY3VycmVudC53aWxsQ3JlYXRlXG4gICAgICovXG4gICAgd2lsbENyZWF0ZTogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW19zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5zdGVwLmlzQ3JlYXRlXSwgeCA9PiB4KSxcblxuICAgIC8qKlxuICAgICAqIHNvbGlkaXR5LmN1cnJlbnQuY2FsbHNQcmVjb21waWxlXG4gICAgICovXG4gICAgY2FsbHNQcmVjb21waWxlOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LnN0ZXAuY2FsbHNQcmVjb21waWxlXSwgeCA9PiB4KSxcblxuICAgIC8qKlxuICAgICAqIHNvbGlkaXR5LmN1cnJlbnQud2lsbFJldHVyblxuICAgICAqL1xuICAgIHdpbGxSZXR1cm46ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtfc2VsZWN0b3JzMi5kZWZhdWx0LmN1cnJlbnQuc3RlcC5pc0hhbHRpbmddLCBpc0hhbHRpbmcgPT4gaXNIYWx0aW5nKSxcblxuICAgIC8vSEFDSzogRFVQTElDQVRFIENPREUgRk9MTE9XU1xuICAgIC8vVGhlIGZvbGxvd2luZyBjb2RlIGR1cGxpY2F0ZXMgc29tZSBzZWxlY3RvcnMgaW4gYXN0LlxuICAgIC8vVGhpcyBleGlzdHMgdG8gc3VwcG9yIHRoZSBzb2xpZGl0eS5jdXJyZW50LmNvbnRyYWN0Q2FsbCB3b3JrYXJvdW5kIGJlbG93LlxuICAgIC8vVGhpcyBzaG91bGQgYmUgY2xlYW5lZCB1cCBsYXRlci5cblxuICAgIC8qKlxuICAgICAqIHNvbGlkaXR5LmN1cnJlbnQucG9pbnRlclxuICAgICAqIEhBQ0sgZHVwbGljYXRlcyBhc3QuY3VycmVudC5wb2ludGVyXG4gICAgICovXG4gICAgcG9pbnRlcjogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiLi9zb3VyY2VcIiwgXCIuL3NvdXJjZVJhbmdlXCJdLCAoeyBhc3QgfSwgcmFuZ2UpID0+ICgwLCBfbWFwLmZpbmRSYW5nZSkoYXN0LCByYW5nZS5zdGFydCwgcmFuZ2UubGVuZ3RoKSksXG5cbiAgICAvKipcbiAgICAgKiBzb2xpZGl0eS5jdXJyZW50Lm5vZGVcbiAgICAgKiBIQUNLIGR1cGxpY2F0ZXMgYXN0LmN1cnJlbnQubm9kZVxuICAgICAqL1xuICAgIG5vZGU6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi4vc291cmNlXCIsIFwiLi9wb2ludGVyXCJdLCAoeyBhc3QgfSwgcG9pbnRlcikgPT4gcG9pbnRlciA/IF9qc29uUG9pbnRlcjIuZGVmYXVsdC5nZXQoYXN0LCBwb2ludGVyKSA6IF9qc29uUG9pbnRlcjIuZGVmYXVsdC5nZXQoYXN0LCBcIlwiKSksXG5cbiAgICAvKipcbiAgICAgKiBzb2xpZGl0eS5jdXJyZW50LmlzQ29udHJhY3RDYWxsXG4gICAgICogSEFDSyBXT1JLQVJPVU5EIChvbmx5IGFwcGxpZXMgdG8gc29sYyB2ZXJzaW9uIDwwLjUuMSlcbiAgICAgKiB0aGlzIHNlbGVjdG9yIGV4aXN0cyB0byB3b3JrIGFyb3VuZCBhIHByb2JsZW0gaW4gc29sY1xuICAgICAqIGl0IGF0dGVtcHRzIHRvIGRldGVjdCB3aGV0aGVyIHRoZSBjdXJyZW50IG5vZGUgaXMgYSBjb250cmFjdCBtZXRob2QgY2FsbFxuICAgICAqIChvciBsaWJyYXJ5IG1ldGhvZCBjYWxsKVxuICAgICAqIGl0IHdpbGwgbm90IHN1Y2Nlc3NmdWxseSBkZXRlY3QgdGhpcyBpZiB0aGUgbWV0aG9kIHdhcyBmaXJzdCBwbGFjZWQgaW4gYVxuICAgICAqIGZ1bmN0aW9uIHZhcmlhYmxlLCBvbmx5IGlmIGl0IGlzIGJlaW5nIGNhbGxlZCBkaXJlY3RseVxuICAgICAqL1xuICAgIGlzQ29udHJhY3RDYWxsOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIuL25vZGVcIl0sIG5vZGUgPT4gbm9kZSAhPT0gdW5kZWZpbmVkICYmIG5vZGUubm9kZVR5cGUgPT09IFwiRnVuY3Rpb25DYWxsXCIgJiYgbm9kZS5leHByZXNzaW9uICE9PSB1bmRlZmluZWQgJiYgbm9kZS5leHByZXNzaW9uLm5vZGVUeXBlID09PSBcIk1lbWJlckFjY2Vzc1wiICYmIG5vZGUuZXhwcmVzc2lvbi5leHByZXNzaW9uICE9PSB1bmRlZmluZWQgJiYgKERlY29kZVV0aWxzLkRlZmluaXRpb24uaXNDb250cmFjdChub2RlLmV4cHJlc3Npb24uZXhwcmVzc2lvbikgfHwgRGVjb2RlVXRpbHMuRGVmaW5pdGlvbi5pc0NvbnRyYWN0VHlwZShub2RlLmV4cHJlc3Npb24uZXhwcmVzc2lvbikpKSxcblxuICAgIC8qKlxuICAgICAqIHNvbGlkaXR5LmN1cnJlbnQubmVlZHNGdW5jdGlvbkRlcHRoV29ya2Fyb3VuZFxuICAgICAqIEhBQ0tcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBzb2xpZGl0eSB2ZXJzaW9uIHVzZWQgZm9yIHRoZSBjb250cmFjdCBhYm91dCB0byBiZVxuICAgICAqIGNhbGxlZCB3YXMgPDAuNS4xLCB0byBkZXRlcm1pbmUgd2hldGhlciB0byB1c2UgdGhlIGFib3ZlIHdvcmthcm91bmRcbiAgICAgKiBPbmx5IGNhbGwgdGhpcyBpZiB0aGUgY3VycmVudCBzdGVwIGlzIGEgY2FsbCBvciBjcmVhdGUhXG4gICAgICovXG4gICAgbmVlZHNGdW5jdGlvbkRlcHRoV29ya2Fyb3VuZDogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW19zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5zdGVwLmNhbGxDb250ZXh0XSwgY29udGV4dCA9PiBjb250ZXh0LmNvbXBpbGVyICE9PSB1bmRlZmluZWQgJiYgLy93b3VsZCBiZSB1bmRlZmluZWQgZm9yIGUuZy4gYSBwcmVjb21waWxlXG4gICAgY29udGV4dC5jb21waWxlci5uYW1lID09PSBcInNvbGNcIiAmJiBzZW12ZXIuc2F0aXNmaWVzKGNvbnRleHQuY29tcGlsZXIudmVyc2lvbiwgXCI8MC41LjFcIikpXG4gIH1cbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBzb2xpZGl0eTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWIvc29saWRpdHkvc2VsZWN0b3JzL2luZGV4LmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnByZWZpeE5hbWUgPSBwcmVmaXhOYW1lO1xuZXhwb3J0cy5rZWNjYWsyNTYgPSBrZWNjYWsyNTY7XG5leHBvcnRzLnN0YWJsZUtlY2NhazI1NiA9IHN0YWJsZUtlY2NhazI1NjtcbmV4cG9ydHMuaXNDYWxsTW5lbW9uaWMgPSBpc0NhbGxNbmVtb25pYztcbmV4cG9ydHMuaXNDcmVhdGVNbmVtb25pYyA9IGlzQ3JlYXRlTW5lbW9uaWM7XG5cbnZhciBfdHJ1ZmZsZURlY29kZVV0aWxzID0gcmVxdWlyZShcInRydWZmbGUtZGVjb2RlLXV0aWxzXCIpO1xuXG52YXIgdXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdHJ1ZmZsZURlY29kZVV0aWxzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuY29uc3Qgc3RyaW5naWZ5ID0gcmVxdWlyZShcImpzb24tc3RhYmxlLXN0cmluZ2lmeVwiKTtcblxuZnVuY3Rpb24gcHJlZml4TmFtZShwcmVmaXgsIGZuKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgXCJuYW1lXCIsIHtcbiAgICB2YWx1ZTogYCR7cHJlZml4fS4ke2ZuLm5hbWV9YCxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG5cbiAgcmV0dXJuIGZuO1xufVxuXG4vKipcbiAqIEByZXR1cm4gMHgtcHJlZml4IHN0cmluZyBvZiBrZWNjYWsyNTYgaGFzaFxuICovXG5mdW5jdGlvbiBrZWNjYWsyNTYoLi4uYXJncykge1xuICByZXR1cm4gdXRpbHMuQ29udmVyc2lvbi50b0hleFN0cmluZyh1dGlscy5FVk0ua2VjY2FrMjU2KC4uLmFyZ3MpKTtcbn1cblxuLyoqXG4gKiBHaXZlbiBhbiBvYmplY3QsIHJldHVybiBhIHN0YWJsZSBoYXNoIGJ5IGZpcnN0IHJ1bm5pbmcgaXQgdGhyb3VnaCBhIHN0YWJsZVxuICogc3RyaW5naWZ5IG9wZXJhdGlvbiBiZWZvcmUgaGFzaGluZ1xuICovXG5mdW5jdGlvbiBzdGFibGVLZWNjYWsyNTYob2JqKSB7XG4gIHJldHVybiBrZWNjYWsyNTYoeyB0eXBlOiBcInN0cmluZ1wiLCB2YWx1ZTogc3RyaW5naWZ5KG9iaikgfSk7XG59XG5cbi8qXG4gKiBHaXZlbiBhIG1tZW1vbmljLCBkZXRlcm1pbmUgd2hldGhlciBpdCdzIHRoZSBtbmVtb25pYyBvZiBhIGNhbGxpbmdcbiAqIGluc3RydWN0aW9uIChkb2VzIE5PVCBpbmNsdWRlIGNyZWF0aW9uIGluc3RydWN0aW9ucylcbiAqL1xuZnVuY3Rpb24gaXNDYWxsTW5lbW9uaWMob3ApIHtcbiAgY29uc3QgY2FsbHMgPSBbXCJDQUxMXCIsIFwiREVMRUdBVEVDQUxMXCIsIFwiU1RBVElDQ0FMTFwiLCBcIkNBTExDT0RFXCJdO1xuICByZXR1cm4gY2FsbHMuaW5jbHVkZXMob3ApO1xufVxuXG4vKlxuICogR2l2ZW4gYSBtbWVtb25pYywgZGV0ZXJtaW5lIHdoZXRoZXIgaXQncyB0aGUgbW5lbW9uaWMgb2YgYSBjcmVhdGlvblxuICogaW5zdHJ1Y3Rpb25cbiAqL1xuZnVuY3Rpb24gaXNDcmVhdGVNbmVtb25pYyhvcCkge1xuICBjb25zdCBjcmVhdGVzID0gW1wiQ1JFQVRFXCIsIFwiQ1JFQVRFMlwiXTtcbiAgcmV0dXJuIGNyZWF0ZXMuaW5jbHVkZXMob3ApO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9oZWxwZXJzL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY2hhaVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImNoYWlcIlxuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgZGVidWdNb2R1bGUgZnJvbSBcImRlYnVnXCI7XG5jb25zdCBkZWJ1ZyA9IGRlYnVnTW9kdWxlKFwidGVzdDpoZWxwZXJzXCIpO1xuXG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IGZzIGZyb20gXCJmcy1leHRyYVwiO1xuaW1wb3J0IENvbnRyYWN0cyBmcm9tIFwidHJ1ZmZsZS13b3JrZmxvdy1jb21waWxlXCI7XG5pbXBvcnQgRGVidWcgZnJvbSBcInRydWZmbGUtZGVidWctdXRpbHNcIjtcbmltcG9ydCBBcnRpZmFjdG9yIGZyb20gXCJ0cnVmZmxlLWFydGlmYWN0b3JcIjtcbmltcG9ydCBXZWIzIGZyb20gXCJ3ZWIzXCI7XG5pbXBvcnQgTWlncmF0ZSBmcm9tIFwidHJ1ZmZsZS1taWdyYXRlXCI7XG5pbXBvcnQgQm94IGZyb20gXCJ0cnVmZmxlLWJveFwiO1xuaW1wb3J0IFJlc29sdmVyIGZyb20gXCJ0cnVmZmxlLXJlc29sdmVyXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcmVwYXJlQ29udHJhY3RzKHByb3ZpZGVyLCBzb3VyY2VzID0ge30sIG1pZ3JhdGlvbnMpIHtcbiAgbGV0IGNvbmZpZyA9IGF3YWl0IGNyZWF0ZVNhbmRib3goKTtcblxuICBsZXQgYWNjb3VudHMgPSBhd2FpdCBnZXRBY2NvdW50cyhwcm92aWRlcik7XG5cbiAgY29uZmlnLm5ldHdvcmtzW1wiZGVidWdnZXJcIl0gPSB7XG4gICAgcHJvdmlkZXI6IHByb3ZpZGVyLFxuICAgIG5ldHdvcmtfaWQ6IFwiKlwiLFxuICAgIGZyb206IGFjY291bnRzWzBdXG4gIH07XG4gIGNvbmZpZy5uZXR3b3JrID0gXCJkZWJ1Z2dlclwiO1xuXG4gIGNvbmZpZy5jb21waWxlcnMgPSB7XG4gICAgc29sYzoge1xuICAgICAgdmVyc2lvbjogXCIwLjUuMVwiLFxuICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgb3B0aW1pemVyOiB7IGVuYWJsZWQ6IGZhbHNlLCBydW5zOiAyMDAgfSxcbiAgICAgICAgZXZtVmVyc2lvbjogXCJieXphbnRpdW1cIlxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBhd2FpdCBhZGRDb250cmFjdHMoY29uZmlnLCBzb3VyY2VzKTtcbiAgbGV0IHsgY29udHJhY3RzLCBmaWxlcyB9ID0gYXdhaXQgY29tcGlsZShjb25maWcpO1xuICBsZXQgY29udHJhY3ROYW1lcyA9IE9iamVjdC5rZXlzKGNvbnRyYWN0cyk7XG5cbiAgaWYgKCFtaWdyYXRpb25zKSB7XG4gICAgbWlncmF0aW9ucyA9IGF3YWl0IGRlZmF1bHRNaWdyYXRpb25zKGNvbnRyYWN0TmFtZXMpO1xuICB9XG5cbiAgYXdhaXQgYWRkTWlncmF0aW9ucyhjb25maWcsIG1pZ3JhdGlvbnMpO1xuICBhd2FpdCBtaWdyYXRlKGNvbmZpZyk7XG5cbiAgbGV0IGFydGlmYWN0cyA9IGF3YWl0IGdhdGhlckFydGlmYWN0cyhjb25maWcpO1xuICBkZWJ1ZyhcImFydGlmYWN0czogJW9cIiwgYXJ0aWZhY3RzLm1hcChhID0+IGEuY29udHJhY3ROYW1lKSk7XG5cbiAgbGV0IGFic3RyYWN0aW9ucyA9IHt9O1xuICBjb250cmFjdE5hbWVzLmZvckVhY2gobmFtZSA9PiB7XG4gICAgYWJzdHJhY3Rpb25zW25hbWVdID0gY29uZmlnLnJlc29sdmVyLnJlcXVpcmUobmFtZSk7XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgZmlsZXMsXG4gICAgYWJzdHJhY3Rpb25zLFxuICAgIGFydGlmYWN0cyxcbiAgICBjb25maWdcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFjY291bnRzKHByb3ZpZGVyKSB7XG4gIGxldCB3ZWIzID0gbmV3IFdlYjMocHJvdmlkZXIpO1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYWNjZXB0LCByZWplY3QpIHtcbiAgICB3ZWIzLmV0aC5nZXRBY2NvdW50cyhmdW5jdGlvbihlcnIsIGFjY291bnRzKSB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICBhY2NlcHQoYWNjb3VudHMpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNhbmRib3goKSB7XG4gIGxldCBjb25maWcgPSBhd2FpdCBuZXcgUHJvbWlzZShmdW5jdGlvbihhY2NlcHQsIHJlamVjdCkge1xuICAgIEJveC5zYW5kYm94KFxuICAgICAge1xuICAgICAgICB1bnNhZmVDbGVhbnVwOiB0cnVlLFxuICAgICAgICBzZXRHcmFjZWZ1bENsZWFudXA6IHRydWUsXG4gICAgICAgIG5hbWU6IFwiZGVmYXVsdFwiXG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcbiAgICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICByZXN1bHQucmVzb2x2ZXIgPSBuZXcgUmVzb2x2ZXIocmVzdWx0KTtcbiAgICAgICAgcmVzdWx0LmFydGlmYWN0b3IgPSBuZXcgQXJ0aWZhY3RvcihyZXN1bHQuY29udHJhY3RzX2J1aWxkX2RpcmVjdG9yeSk7XG4gICAgICAgIHJlc3VsdC5uZXR3b3JrcyA9IHt9O1xuXG4gICAgICAgIGFjY2VwdChyZXN1bHQpO1xuICAgICAgfVxuICAgICk7XG4gIH0pO1xuXG4gIGF3YWl0IGZzLnJlbW92ZShwYXRoLmpvaW4oY29uZmlnLmNvbnRyYWN0c19kaXJlY3RvcnksIFwiTWV0YUNvaW4uc29sXCIpKTtcbiAgYXdhaXQgZnMucmVtb3ZlKHBhdGguam9pbihjb25maWcuY29udHJhY3RzX2RpcmVjdG9yeSwgXCJDb252ZXJ0TGliLnNvbFwiKSk7XG4gIGF3YWl0IGZzLnJlbW92ZShcbiAgICBwYXRoLmpvaW4oY29uZmlnLm1pZ3JhdGlvbnNfZGlyZWN0b3J5LCBcIjJfZGVwbG95X2NvbnRyYWN0cy5qc1wiKVxuICApO1xuXG4gIHJldHVybiBjb25maWc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRDb250cmFjdHMoY29uZmlnLCBzb3VyY2VzID0ge30pIHtcbiAgbGV0IHByb21pc2VzID0gW107XG4gIGZvciAobGV0IGZpbGVuYW1lIG9mIE9iamVjdC5rZXlzKHNvdXJjZXMpKSB7XG4gICAgbGV0IHNvdXJjZSA9IHNvdXJjZXNbZmlsZW5hbWVdO1xuICAgIHByb21pc2VzLnB1c2goXG4gICAgICBmcy5vdXRwdXRGaWxlKHBhdGguam9pbihjb25maWcuY29udHJhY3RzX2RpcmVjdG9yeSwgZmlsZW5hbWUpLCBzb3VyY2UpXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRNaWdyYXRpb25zKGNvbmZpZywgbWlncmF0aW9ucyA9IHt9KSB7XG4gIGxldCBwcm9taXNlcyA9IFtdO1xuICBmb3IgKGxldCBmaWxlbmFtZSBvZiBPYmplY3Qua2V5cyhtaWdyYXRpb25zKSkge1xuICAgIGxldCBzb3VyY2UgPSBtaWdyYXRpb25zW2ZpbGVuYW1lXTtcbiAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgZnMub3V0cHV0RmlsZShwYXRoLmpvaW4oY29uZmlnLm1pZ3JhdGlvbnNfZGlyZWN0b3J5LCBmaWxlbmFtZSksIHNvdXJjZSlcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlZmF1bHRNaWdyYXRpb25zKGNvbnRyYWN0TmFtZXMpIHtcbiAgY29udHJhY3ROYW1lcyA9IGNvbnRyYWN0TmFtZXMuZmlsdGVyKG5hbWUgPT4gbmFtZSAhPT0gXCJNaWdyYXRpb25zXCIpO1xuXG4gIGxldCBtaWdyYXRpb25zID0ge307XG5cbiAgY29udHJhY3ROYW1lcy5mb3JFYWNoKChjb250cmFjdE5hbWUsIGkpID0+IHtcbiAgICBsZXQgaW5kZXggPSBpICsgMjsgLy8gc3RhcnQgYXQgMiBjYXVzZSBNaWdyYXRpb25zIG1pZ3JhdGlvblxuICAgIGxldCBmaWxlbmFtZSA9IGAke2luZGV4fV9taWdyYXRlXyR7Y29udHJhY3ROYW1lfS5qc2A7XG4gICAgbGV0IHNvdXJjZSA9IGBcbiAgICAgIHZhciAke2NvbnRyYWN0TmFtZX0gPSBhcnRpZmFjdHMucmVxdWlyZShcIiR7Y29udHJhY3ROYW1lfVwiKTtcblxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkZXBsb3llcikge1xuICAgICAgICBkZXBsb3llci5kZXBsb3koJHtjb250cmFjdE5hbWV9KTtcbiAgICAgIH07XG4gICAgYDtcblxuICAgIG1pZ3JhdGlvbnNbZmlsZW5hbWVdID0gc291cmNlO1xuICB9KTtcblxuICByZXR1cm4gbWlncmF0aW9ucztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXBpbGUoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihhY2NlcHQsIHJlamVjdCkge1xuICAgIENvbnRyYWN0cy5jb21waWxlKFxuICAgICAgY29uZmlnLndpdGgoe1xuICAgICAgICBhbGw6IHRydWUsXG4gICAgICAgIHF1aWV0OiB0cnVlXG4gICAgICB9KSxcbiAgICAgIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAgIGlmIChlcnIpIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgY29uc3QgeyBjb250cmFjdHMsIG91dHB1dHMgfSA9IHJlc3VsdDtcbiAgICAgICAgZGVidWcoXCJyZXN1bHQgJU9cIiwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIGFjY2VwdCh7IGNvbnRyYWN0cywgZmlsZXM6IG91dHB1dHMuc29sYyB9KTtcbiAgICAgIH1cbiAgICApO1xuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZ3JhdGUoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihhY2NlcHQsIHJlamVjdCkge1xuICAgIE1pZ3JhdGUucnVuKFxuICAgICAgY29uZmlnLndpdGgoe1xuICAgICAgICBxdWlldDogdHJ1ZVxuICAgICAgfSksXG4gICAgICBmdW5jdGlvbihlcnIsIGNvbnRyYWN0cykge1xuICAgICAgICBpZiAoZXJyKSByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgIGFjY2VwdChjb250cmFjdHMpO1xuICAgICAgfVxuICAgICk7XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2F0aGVyQXJ0aWZhY3RzKGNvbmZpZykge1xuICByZXR1cm4gRGVidWcuZ2F0aGVyQXJ0aWZhY3RzKGNvbmZpZyk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gdGVzdC9oZWxwZXJzLmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidHJ1ZmZsZS1kZWNvZGUtdXRpbHNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJ0cnVmZmxlLWRlY29kZS11dGlsc1wiXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImdhbmFjaGUtY29yZVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImdhbmFjaGUtY29yZVwiXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2FzeW5jVG9HZW5lcmF0b3IyID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yXCIpO1xuXG52YXIgX2FzeW5jVG9HZW5lcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXN5bmNUb0dlbmVyYXRvcjIpO1xuXG52YXIgX2RlYnVnID0gcmVxdWlyZShcImRlYnVnXCIpO1xuXG52YXIgX2RlYnVnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlYnVnKTtcblxudmFyIF90cnVmZmxlRXhwZWN0ID0gcmVxdWlyZShcInRydWZmbGUtZXhwZWN0XCIpO1xuXG52YXIgX3RydWZmbGVFeHBlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJ1ZmZsZUV4cGVjdCk7XG5cbnZhciBfc2Vzc2lvbiA9IHJlcXVpcmUoXCIuL3Nlc3Npb25cIik7XG5cbnZhciBfc2Vzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXNzaW9uKTtcblxudmFyIF9yZXNlbGVjdFRyZWUgPSByZXF1aXJlKFwicmVzZWxlY3QtdHJlZVwiKTtcblxudmFyIF9zZWxlY3RvcnMgPSByZXF1aXJlKFwiLi9kYXRhL3NlbGVjdG9yc1wiKTtcblxudmFyIF9zZWxlY3RvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0b3JzKTtcblxudmFyIF9zZWxlY3RvcnMzID0gcmVxdWlyZShcIi4vYXN0L3NlbGVjdG9yc1wiKTtcblxudmFyIF9zZWxlY3RvcnM0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0b3JzMyk7XG5cbnZhciBfc2VsZWN0b3JzNSA9IHJlcXVpcmUoXCIuL3RyYWNlL3NlbGVjdG9yc1wiKTtcblxudmFyIF9zZWxlY3RvcnM2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0b3JzNSk7XG5cbnZhciBfc2VsZWN0b3JzNyA9IHJlcXVpcmUoXCIuL2V2bS9zZWxlY3RvcnNcIik7XG5cbnZhciBfc2VsZWN0b3JzOCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdG9yczcpO1xuXG52YXIgX3NlbGVjdG9yczkgPSByZXF1aXJlKFwiLi9zb2xpZGl0eS9zZWxlY3RvcnNcIik7XG5cbnZhciBfc2VsZWN0b3JzMTAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3RvcnM5KTtcblxudmFyIF9zZWxlY3RvcnMxMSA9IHJlcXVpcmUoXCIuL3Nlc3Npb24vc2VsZWN0b3JzXCIpO1xuXG52YXIgX3NlbGVjdG9yczEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0b3JzMTEpO1xuXG52YXIgX3NlbGVjdG9yczEzID0gcmVxdWlyZShcIi4vY29udHJvbGxlci9zZWxlY3RvcnNcIik7XG5cbnZhciBfc2VsZWN0b3JzMTQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3RvcnMxMyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmNvbnN0IGRlYnVnID0gKDAsIF9kZWJ1ZzIuZGVmYXVsdCkoXCJkZWJ1Z2dlclwiKTtcblxuLyoqXG4gKiBAZXhhbXBsZVxuICogbGV0IHNlc3Npb24gPSBEZWJ1Z2dlclxuICogICAuZm9yVHgoPHR4SGFzaD4sIHtcbiAqICAgICBjb250cmFjdHM6IFs8Y29udHJhY3Qgb2JqPiwgLi4uXSxcbiAqICAgICBwcm92aWRlcjogPHByb3ZpZGVyIGluc3RhbmNlPlxuICogICB9KVxuICogICAuY29ubmVjdCgpO1xuICovXG5jbGFzcyBEZWJ1Z2dlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1Nlc3Npb259IHNlc3Npb24gLSBkZWJ1Z2dlciBzZXNzaW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihzZXNzaW9uKSB7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9zZXNzaW9uID0gc2Vzc2lvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZXMgYSBEZWJ1Z2dlciBmb3IgYSBnaXZlbiB0cmFuc2FjdGlvbiBoYXNoLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHhIYXNoIC0gdHJhbnNhY3Rpb24gaGFzaCB3aXRoIGxlYWRpbmcgXCIweFwiXG4gICAqIEBwYXJhbSB7e2NvbnRyYWN0czogQXJyYXk8Q29udHJhY3Q+LCBmaWxlczogQXJyYXk8U3RyaW5nPiwgcHJvdmlkZXI6IFdlYjNQcm92aWRlcn19IG9wdGlvbnMgLVxuICAgKiBAcmV0dXJuIHtEZWJ1Z2dlcn0gaW5zdGFuY2VcbiAgICovXG4gIHN0YXRpYyBmb3JUeCh0eEhhc2gsIG9wdGlvbnMgPSB7fSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KShmdW5jdGlvbiogKCkge1xuICAgICAgX3RydWZmbGVFeHBlY3QyLmRlZmF1bHQub3B0aW9ucyhvcHRpb25zLCBbXCJjb250cmFjdHNcIiwgXCJwcm92aWRlclwiXSk7XG5cbiAgICAgIGxldCBzZXNzaW9uID0gbmV3IF9zZXNzaW9uMi5kZWZhdWx0KG9wdGlvbnMuY29udHJhY3RzLCBvcHRpb25zLmZpbGVzLCB0eEhhc2gsIG9wdGlvbnMucHJvdmlkZXIpO1xuXG4gICAgICB0cnkge1xuICAgICAgICB5aWVsZCBzZXNzaW9uLnJlYWR5KCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgX3RoaXMoc2Vzc2lvbik7XG4gICAgfSkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25uZWN0cyB0byB0aGUgaW5zdGFudGlhdGVkIERlYnVnZ2VyLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTZXNzaW9ufSBzZXNzaW9uIGluc3RhbmNlXG4gICAqL1xuICBjb25uZWN0KCkge1xuICAgIHJldHVybiB0aGlzLl9zZXNzaW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4cG9ydGVkIHNlbGVjdG9yc1xuICAgKlxuICAgKiBTZWUgaW5kaXZpZHVhbCBzZWxlY3RvciBkb2NzIGZvciBmdWxsIGxpc3RpbmdcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogRGVidWdnZXIuc2VsZWN0b3JzLmFzdC5jdXJyZW50LnRyZWVcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogRGVidWdnZXIuc2VsZWN0b3JzLnNvbGlkaXR5LmN1cnJlbnQuaW5zdHJ1Y3Rpb25cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogRGVidWdnZXIuc2VsZWN0b3JzLnRyYWNlLnN0ZXBzXG4gICAqL1xuICBzdGF0aWMgZ2V0IHNlbGVjdG9ycygpIHtcbiAgICByZXR1cm4gKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTmVzdGVkU2VsZWN0b3IpKHtcbiAgICAgIGFzdDogX3NlbGVjdG9yczQuZGVmYXVsdCxcbiAgICAgIGRhdGE6IF9zZWxlY3RvcnMyLmRlZmF1bHQsXG4gICAgICB0cmFjZTogX3NlbGVjdG9yczYuZGVmYXVsdCxcbiAgICAgIGV2bTogX3NlbGVjdG9yczguZGVmYXVsdCxcbiAgICAgIHNvbGlkaXR5OiBfc2VsZWN0b3JzMTAuZGVmYXVsdCxcbiAgICAgIHNlc3Npb246IF9zZWxlY3RvcnMxMi5kZWZhdWx0LFxuICAgICAgY29udHJvbGxlcjogX3NlbGVjdG9yczE0LmRlZmF1bHRcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBEZWJ1Z2dlcjsgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHR5cGVkZWYge09iamVjdH0gQ29udHJhY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gY29udHJhY3ROYW1lIGNvbnRyYWN0IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gc291cmNlIHNvbGlkaXR5IHNvdXJjZSBjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd9IHNvdXJjZVBhdGggcGF0aCB0byBzb3VyY2UgZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiaW5hcnkgMHgtcHJlZml4ZWQgaGV4IHN0cmluZyB3aXRoIGNyZWF0ZSBieXRlY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzb3VyY2VNYXAgc29saWRpdHkgc291cmNlIG1hcCBmb3IgY3JlYXRlIGJ5dGVjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGFzdCBBYnN0cmFjdCBTeW50YXggVHJlZSBmcm9tIFNvbGlkaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGRlcGxveWVkQmluYXJ5IDB4LXByZWZpeGVkIGNvbXBpbGVkIGJpbmFyeSAob24gY2hhaW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGRlcGxveWVkU291cmNlTWFwIHNvbGlkaXR5IHNvdXJjZSBtYXAgZm9yIG9uLWNoYWluIGJ5dGVjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL2RlYnVnZ2VyLmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9lbnRyaWVzXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9lbnRyaWVzXCJcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZW50cmllcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2VudHJpZXNcIik7XG5cbnZhciBfZW50cmllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lbnRyaWVzKTtcblxudmFyIF9hc3NpZ24gPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ25cIik7XG5cbnZhciBfYXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2lnbik7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIik7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIik7XG5cbnZhciBfZGVidWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVidWcpO1xuXG52YXIgX3Jlc2VsZWN0VHJlZSA9IHJlcXVpcmUoXCJyZXNlbGVjdC10cmVlXCIpO1xuXG52YXIgX2Zhc3RMZXZlbnNodGVpbiA9IHJlcXVpcmUoXCJmYXN0LWxldmVuc2h0ZWluXCIpO1xuXG52YXIgX2Zhc3RMZXZlbnNodGVpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mYXN0TGV2ZW5zaHRlaW4pO1xuXG52YXIgX3NlbGVjdG9ycyA9IHJlcXVpcmUoXCJsaWIvdHJhY2Uvc2VsZWN0b3JzXCIpO1xuXG52YXIgX3NlbGVjdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3RvcnMpO1xuXG52YXIgX2hlbHBlcnMgPSByZXF1aXJlKFwibGliL2hlbHBlcnNcIik7XG5cbnZhciBfdHJ1ZmZsZURlY29kZVV0aWxzID0gcmVxdWlyZShcInRydWZmbGUtZGVjb2RlLXV0aWxzXCIpO1xuXG52YXIgRGVjb2RlVXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdHJ1ZmZsZURlY29kZVV0aWxzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuY29uc3QgZGVidWcgPSAoMCwgX2RlYnVnMi5kZWZhdWx0KShcImRlYnVnZ2VyOmV2bTpzZWxlY3RvcnNcIik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuZnVuY3Rpb24gZmluZENvbnRleHQoeyBhZGRyZXNzLCBiaW5hcnkgfSwgaW5zdGFuY2VzLCBzZWFyY2gsIGNvbnRleHRzKSB7XG4gIGxldCByZWNvcmQ7XG4gIGlmIChhZGRyZXNzKSB7XG4gICAgcmVjb3JkID0gaW5zdGFuY2VzW2FkZHJlc3NdO1xuICAgIGlmICghcmVjb3JkKSB7XG4gICAgICByZXR1cm4geyBhZGRyZXNzIH07XG4gICAgfVxuICAgIGJpbmFyeSA9IHJlY29yZC5iaW5hcnk7XG4gIH0gZWxzZSB7XG4gICAgcmVjb3JkID0gc2VhcmNoKGJpbmFyeSk7XG4gIH1cblxuICBsZXQgY29udGV4dCA9IGNvbnRleHRzWyhyZWNvcmQgfHwge30pLmNvbnRleHRdO1xuXG4gIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBjb250ZXh0LCB7XG4gICAgYmluYXJ5XG4gIH0pO1xufVxuXG4vKipcbiAqIGNyZWF0ZSBFVk0tbGV2ZWwgc2VsZWN0b3JzIGZvciBhIGdpdmVuIHRyYWNlIHN0ZXAgc2VsZWN0b3JcbiAqIG1heSBzcGVjaWZ5IGFkZGl0aW9uYWwgc2VsZWN0b3JzIHRvIGluY2x1ZGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3RlcFNlbGVjdG9ycyhzdGVwLCBzdGF0ZSA9IG51bGwpIHtcbiAgbGV0IGJhc2UgPSB7XG4gICAgLyoqXG4gICAgICogLnRyYWNlXG4gICAgICpcbiAgICAgKiB0cmFjZSBzdGVwIGluZm8gcmVsYXRlZCB0byBvcGVyYXRpb25cbiAgICAgKi9cbiAgICB0cmFjZTogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW3N0ZXBdLCAoeyBnYXNDb3N0LCBvcCwgcGMgfSkgPT4gKHsgZ2FzQ29zdCwgb3AsIHBjIH0pKSxcblxuICAgIC8qKlxuICAgICAqIC5wcm9ncmFtQ291bnRlclxuICAgICAqL1xuICAgIHByb2dyYW1Db3VudGVyOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIuL3RyYWNlXCJdLCBzdGVwID0+IHN0ZXAucGMpLFxuXG4gICAgLyoqXG4gICAgICogLmlzSnVtcFxuICAgICAqL1xuICAgIGlzSnVtcDogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiLi90cmFjZVwiXSwgc3RlcCA9PiBzdGVwLm9wICE9IFwiSlVNUERFU1RcIiAmJiBzdGVwLm9wLmluZGV4T2YoXCJKVU1QXCIpID09IDApLFxuXG4gICAgLyoqXG4gICAgICogLmlzQ2FsbFxuICAgICAqXG4gICAgICogd2hldGhlciB0aGUgb3Bjb2RlIHdpbGwgc3dpdGNoIHRvIGFub3RoZXIgY2FsbGluZyBjb250ZXh0XG4gICAgICovXG4gICAgaXNDYWxsOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIuL3RyYWNlXCJdLCBzdGVwID0+ICgwLCBfaGVscGVycy5pc0NhbGxNbmVtb25pYykoc3RlcC5vcCkpLFxuXG4gICAgLyoqXG4gICAgICogLmlzQ3JlYXRlXG4gICAgICovXG4gICAgaXNDcmVhdGU6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi4vdHJhY2VcIl0sIHN0ZXAgPT4gKDAsIF9oZWxwZXJzLmlzQ3JlYXRlTW5lbW9uaWMpKHN0ZXAub3ApKSxcblxuICAgIC8qKlxuICAgICAqIC5pc0hhbHRpbmdcbiAgICAgKlxuICAgICAqIHdoZXRoZXIgdGhlIGluc3RydWN0aW9uIGhhbHRzIG9yIHJldHVybnMgZnJvbSBhIGNhbGxpbmcgY29udGV4dFxuICAgICAqL1xuICAgIGlzSGFsdGluZzogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiLi90cmFjZVwiXSwgc3RlcCA9PiBzdGVwLm9wID09IFwiU1RPUFwiIHx8IHN0ZXAub3AgPT0gXCJSRVRVUk5cIilcbiAgfTtcblxuICBpZiAoc3RhdGUpIHtcbiAgICBjb25zdCBpc1JlbGF0aXZlID0gcGF0aCA9PiB0eXBlb2YgcGF0aCA9PSBcInN0cmluZ1wiICYmIChwYXRoLnN0YXJ0c1dpdGgoXCIuL1wiKSB8fCBwYXRoLnN0YXJ0c1dpdGgoXCIuLi9cIikpO1xuXG4gICAgaWYgKGlzUmVsYXRpdmUoc3RhdGUpKSB7XG4gICAgICBzdGF0ZSA9IGAuLi8ke3N0YXRlfWA7XG4gICAgfVxuXG4gICAgKDAsIF9hc3NpZ24yLmRlZmF1bHQpKGJhc2UsIHtcbiAgICAgIC8qKlxuICAgICAgICogLmNhbGxBZGRyZXNzXG4gICAgICAgKlxuICAgICAgICogYWRkcmVzcyB0cmFuc2ZlcnJlZCB0byBieSBjYWxsIG9wZXJhdGlvblxuICAgICAgICovXG4gICAgICBjYWxsQWRkcmVzczogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiLi9pc0NhbGxcIiwgXCIuL3RyYWNlXCIsIHN0YXRlXSwgKG1hdGNoZXMsIHN0ZXAsIHsgc3RhY2sgfSkgPT4ge1xuICAgICAgICBpZiAoIW1hdGNoZXMpIHJldHVybiBudWxsO1xuXG4gICAgICAgIGxldCBhZGRyZXNzID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMl07XG4gICAgICAgIHJldHVybiBEZWNvZGVVdGlscy5Db252ZXJzaW9uLnRvQWRkcmVzcyhhZGRyZXNzKTtcbiAgICAgIH0pLFxuXG4gICAgICAvKipcbiAgICAgICAqIC5jcmVhdGVCaW5hcnlcbiAgICAgICAqXG4gICAgICAgKiBiaW5hcnkgY29kZSB0byBleGVjdXRlIHZpYSBjcmVhdGUgb3BlcmF0aW9uXG4gICAgICAgKi9cbiAgICAgIGNyZWF0ZUJpbmFyeTogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiLi9pc0NyZWF0ZVwiLCBcIi4vdHJhY2VcIiwgc3RhdGVdLCAobWF0Y2hlcywgc3RlcCwgeyBzdGFjaywgbWVtb3J5IH0pID0+IHtcbiAgICAgICAgaWYgKCFtYXRjaGVzKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAvLyBHZXQgdGhlIGNvZGUgdGhhdCdzIGdvaW5nIHRvIGJlIGNyZWF0ZWQgZnJvbSBtZW1vcnkuXG4gICAgICAgIC8vIE5vdGUgd2UgbXVsdGlwbHkgYnkgMiBiZWNhdXNlIHRoZXNlIG9mZnNldHMgYXJlIGluIGJ5dGVzLlxuICAgICAgICBjb25zdCBvZmZzZXQgPSBwYXJzZUludChzdGFja1tzdGFjay5sZW5ndGggLSAyXSwgMTYpICogMjtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gcGFyc2VJbnQoc3RhY2tbc3RhY2subGVuZ3RoIC0gM10sIDE2KSAqIDI7XG5cbiAgICAgICAgcmV0dXJuIFwiMHhcIiArIG1lbW9yeS5qb2luKFwiXCIpLnN1YnN0cmluZyhvZmZzZXQsIG9mZnNldCArIGxlbmd0aCk7XG4gICAgICB9KSxcblxuICAgICAgLyoqXG4gICAgICAgKiAuY2FsbENvbnRleHRcbiAgICAgICAqXG4gICAgICAgKiBjb250ZXh0IGZvciB3aGF0IHdlJ3JlIGFib3V0IHRvIGNhbGwgaW50byAob3IgY3JlYXRlKVxuICAgICAgICovXG4gICAgICBjYWxsQ29udGV4dDogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiLi9jYWxsQWRkcmVzc1wiLCBcIi4vY3JlYXRlQmluYXJ5XCIsIFwiL2luZm8vaW5zdGFuY2VzXCIsIFwiL2luZm8vYmluYXJpZXMvc2VhcmNoXCIsIFwiL2luZm8vY29udGV4dHNcIl0sIChhZGRyZXNzLCBiaW5hcnksIGluc3RhbmNlcywgc2VhcmNoLCBjb250ZXh0cykgPT4gZmluZENvbnRleHQoeyBhZGRyZXNzLCBiaW5hcnkgfSwgaW5zdGFuY2VzLCBzZWFyY2gsIGNvbnRleHRzKSksXG5cbiAgICAgIC8qKlxuICAgICAgICogLmNhbGxzUHJlY29tcGlsZVxuICAgICAgICpcbiAgICAgICAqIGlzIHRoZSBjYWxsIGFkZHJlc3MgdG8gYSBwcmVjb21waWxlZCBjb250cmFjdD9cbiAgICAgICAqIEhBQ0tcbiAgICAgICAqL1xuICAgICAgY2FsbHNQcmVjb21waWxlOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIuL2NhbGxBZGRyZXNzXCIsIFwiL2luZm8vY29udGV4dHNcIiwgXCIvaW5mby9pbnN0YW5jZXNcIl0sIChhZGRyZXNzLCBjb250ZXh0cywgaW5zdGFuY2VzKSA9PiB7XG4gICAgICAgIGlmICghYWRkcmVzcykgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgbGV0IHsgY29udGV4dCB9ID0gaW5zdGFuY2VzW2FkZHJlc3NdIHx8IHt9O1xuICAgICAgICBsZXQgeyBiaW5hcnkgfSA9IGNvbnRleHRzW2NvbnRleHRdIHx8IHt9O1xuICAgICAgICByZXR1cm4gIWJpbmFyeTtcbiAgICAgIH0pXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYmFzZTtcbn1cblxuY29uc3QgZXZtID0gKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlU2VsZWN0b3JUcmVlKSh7XG4gIC8qKlxuICAgKiBldm0uc3RhdGVcbiAgICovXG4gIHN0YXRlOiBzdGF0ZSA9PiBzdGF0ZS5ldm0sXG5cbiAgLyoqXG4gICAqIGV2bS5pbmZvXG4gICAqL1xuICBpbmZvOiB7XG4gICAgLyoqXG4gICAgICogZXZtLmluZm8uY29udGV4dHNcbiAgICAgKi9cbiAgICBjb250ZXh0czogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiL3N0YXRlXCJdLCBzdGF0ZSA9PiBzdGF0ZS5pbmZvLmNvbnRleHRzLmJ5Q29udGV4dCksXG5cbiAgICAvKipcbiAgICAgKiBldm0uaW5mby5pbnN0YW5jZXNcbiAgICAgKi9cbiAgICBpbnN0YW5jZXM6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi9zdGF0ZVwiXSwgc3RhdGUgPT4gc3RhdGUuaW5mby5pbnN0YW5jZXMuYnlBZGRyZXNzKSxcblxuICAgIC8qKlxuICAgICAqIGV2bS5pbmZvLmJpbmFyaWVzXG4gICAgICovXG4gICAgYmluYXJpZXM6IHtcbiAgICAgIF86ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi9zdGF0ZVwiXSwgc3RhdGUgPT4gc3RhdGUuaW5mby5jb250ZXh0cy5ieUJpbmFyeSksXG5cbiAgICAgIC8qKlxuICAgICAgICogZXZtLmluZm8uYmluYXJpZXMuc2VhcmNoXG4gICAgICAgKlxuICAgICAgICogcmV0dXJucyBmdW5jdGlvbiAoYmluYXJ5KSA9PiBjb250ZXh0XG4gICAgICAgKi9cbiAgICAgIHNlYXJjaDogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiLi9fXCJdLCBiaW5hcmllcyA9PiBiaW5hcnkgPT4ge1xuICAgICAgICAvLyBzZWFyY2ggZm9yIGEgZ2l2ZW4gYmluYXJ5IGJhc2VkIG9uIGxldmVuc2h0ZWluIGRpc3RhbmNlcyB0b1xuICAgICAgICAvLyBleGlzdGluZyAoa25vd24pIGNvbnRleHQgYmluYXJpZXMuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGxldmVuc2h0ZWluIGRpc3RhbmNlIGlzIHRoZSBudW1iZXIgb2YgdGV4dHVhbCBtb2RpZmljYXRpb25zXG4gICAgICAgIC8vIChpbnNlcnQsIGNoYW5nZSwgZGVsZXRlKSByZXF1aXJlZCB0byBjb252ZXJ0IHN0cmluZyBhIHRvIGJcbiAgICAgICAgLy9cbiAgICAgICAgLy8gZmlsdGVyIGJ5IGEgcGVyY2VudGFnZSB0aHJlc2hvbGRcbiAgICAgICAgY29uc3QgdGhyZXNob2xkID0gMC4yNTtcblxuICAgICAgICAvLyBza2lwIGxldmVuc2h0ZWluIGNoZWNrIGZvciB1bmRlZmluZWQgYmluYXJpZXNcbiAgICAgICAgaWYgKCFiaW5hcnkgfHwgYmluYXJ5ID09IFwiMHgwXCIpIHtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHRzID0gKDAsIF9lbnRyaWVzMi5kZWZhdWx0KShiaW5hcmllcykubWFwKChba25vd25CaW5hcnksIHsgY29udGV4dCB9XSkgPT4gKHtcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIGRpc3RhbmNlOiBfZmFzdExldmVuc2h0ZWluMi5kZWZhdWx0LmdldChrbm93bkJpbmFyeSwgYmluYXJ5KVxuICAgICAgICB9KSkuZmlsdGVyKCh7IGRpc3RhbmNlIH0pID0+IGRpc3RhbmNlIDw9IGJpbmFyeS5sZW5ndGggKiB0aHJlc2hvbGQpLnNvcnQoKHsgZGlzdGFuY2U6IGEgfSwgeyBkaXN0YW5jZTogYiB9KSA9PiBhIC0gYik7XG5cbiAgICAgICAgaWYgKHJlc3VsdHNbMF0pIHtcbiAgICAgICAgICBjb25zdCB7IGNvbnRleHQgfSA9IHJlc3VsdHNbMF07XG4gICAgICAgICAgcmV0dXJuIHsgY29udGV4dCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfSlcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIGV2bS5jdXJyZW50XG4gICAqL1xuICBjdXJyZW50OiB7XG4gICAgLyoqXG4gICAgICogZXZtLmN1cnJlbnQuY2FsbHN0YWNrXG4gICAgICovXG4gICAgY2FsbHN0YWNrOiBzdGF0ZSA9PiBzdGF0ZS5ldm0ucHJvYy5jYWxsc3RhY2ssXG5cbiAgICAvKipcbiAgICAgKiBldm0uY3VycmVudC5jYWxsXG4gICAgICovXG4gICAgY2FsbDogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiLi9jYWxsc3RhY2tcIl0sIHN0YWNrID0+IHN0YWNrLmxlbmd0aCA/IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdIDoge30pLFxuXG4gICAgLyoqXG4gICAgICogZXZtLmN1cnJlbnQuY3JlYXRpb25EZXB0aFxuICAgICAqIGhvdyBtYW55IGNyZWF0aW9uIGNhbGxzIGFyZSBjdXJyZW50bHkgb24gdGhlIGNhbGwgc3RhY2s/XG4gICAgICovXG4gICAgY3JlYXRpb25EZXB0aDogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiLi9jYWxsc3RhY2tcIl0sIHN0YWNrID0+IHN0YWNrLmZpbHRlcihjYWxsID0+IGNhbGwuYWRkcmVzcyA9PT0gdW5kZWZpbmVkKS5sZW5ndGgpLFxuXG4gICAgLyoqXG4gICAgICogZXZtLmN1cnJlbnQuY29udGV4dFxuICAgICAqL1xuICAgIGNvbnRleHQ6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi4vY2FsbFwiLCBcIi9pbmZvL2luc3RhbmNlc1wiLCBcIi9pbmZvL2JpbmFyaWVzL3NlYXJjaFwiLCBcIi9pbmZvL2NvbnRleHRzXCJdLCBmaW5kQ29udGV4dCksXG5cbiAgICAvKipcbiAgICAgKiBldm0uY3VycmVudC5zdGF0ZVxuICAgICAqXG4gICAgICogZXZtIHN0YXRlIGluZm86IGFzIG9mIGxhc3Qgb3BlcmF0aW9uLCBiZWZvcmUgb3AgZGVmaW5lZCBpbiBzdGVwXG4gICAgICovXG4gICAgc3RhdGU6ICgwLCBfYXNzaWduMi5kZWZhdWx0KSh7fSwgLi4uW1wiZGVwdGhcIiwgXCJlcnJvclwiLCBcImdhc1wiLCBcIm1lbW9yeVwiLCBcInN0YWNrXCIsIFwic3RvcmFnZVwiXS5tYXAocGFyYW0gPT4gKHtcbiAgICAgIFtwYXJhbV06ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtfc2VsZWN0b3JzMi5kZWZhdWx0LnN0ZXBdLCBzdGVwID0+IHN0ZXBbcGFyYW1dKVxuICAgIH0pKSksXG5cbiAgICAvKipcbiAgICAgKiBldm0uY3VycmVudC5zdGVwXG4gICAgICovXG4gICAgc3RlcDogY3JlYXRlU3RlcFNlbGVjdG9ycyhfc2VsZWN0b3JzMi5kZWZhdWx0LnN0ZXAsIFwiLi9zdGF0ZVwiKVxuICB9LFxuXG4gIC8qKlxuICAgKiBldm0ubmV4dFxuICAgKi9cbiAgbmV4dDoge1xuICAgIC8qKlxuICAgICAqIGV2bS5uZXh0LnN0YXRlXG4gICAgICpcbiAgICAgKiBldm0gc3RhdGUgYXMgYSByZXN1bHQgb2YgbmV4dCBzdGVwIG9wZXJhdGlvblxuICAgICAqL1xuICAgIHN0YXRlOiAoMCwgX2Fzc2lnbjIuZGVmYXVsdCkoe30sIC4uLltcImRlcHRoXCIsIFwiZXJyb3JcIiwgXCJnYXNcIiwgXCJtZW1vcnlcIiwgXCJzdGFja1wiLCBcInN0b3JhZ2VcIl0ubWFwKHBhcmFtID0+ICh7XG4gICAgICBbcGFyYW1dOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbX3NlbGVjdG9yczIuZGVmYXVsdC5uZXh0XSwgc3RlcCA9PiBzdGVwW3BhcmFtXSlcbiAgICB9KSkpLFxuXG4gICAgc3RlcDogY3JlYXRlU3RlcFNlbGVjdG9ycyhfc2VsZWN0b3JzMi5kZWZhdWx0Lm5leHQsIFwiLi9zdGF0ZVwiKVxuICB9XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZXZtO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9ldm0vc2VsZWN0b3JzL2luZGV4LmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVzZWxlY3RUcmVlID0gcmVxdWlyZShcInJlc2VsZWN0LXRyZWVcIik7XG5cbmxldCB0cmFjZSA9ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZVNlbGVjdG9yVHJlZSkoe1xuICAvKipcbiAgICogdHJhY2UuaW5kZXhcbiAgICpcbiAgICogY3VycmVudCBzdGVwIGluZGV4XG4gICAqL1xuICBpbmRleDogc3RhdGUgPT4gc3RhdGUudHJhY2UucHJvYy5pbmRleCxcblxuICAvKipcbiAgICogdHJhY2UuZmluaXNoZWRcbiAgICpcbiAgICogaXMgdGhlIHRyYWNlIGZpbmlzaGVkP1xuICAgKi9cbiAgZmluaXNoZWQ6IHN0YXRlID0+IHN0YXRlLnRyYWNlLnByb2MuZmluaXNoZWQsXG5cbiAgLyoqXG4gICAqIHRyYWNlLnN0ZXBzXG4gICAqXG4gICAqIGFsbCB0cmFjZSBzdGVwc1xuICAgKi9cbiAgc3RlcHM6IHN0YXRlID0+IHN0YXRlLnRyYWNlLmluZm8uc3RlcHMsXG5cbiAgLyoqXG4gICAqIHRyYWNlLnN0ZXBzUmVtYWluaW5nXG4gICAqXG4gICAqIG51bWJlciBvZiBzdGVwcyByZW1haW5pbmcgaW4gdHJhY2VcbiAgICovXG4gIHN0ZXBzUmVtYWluaW5nOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIuL3N0ZXBzXCIsIFwiLi9pbmRleFwiXSwgKHN0ZXBzLCBpbmRleCkgPT4gc3RlcHMubGVuZ3RoIC0gaW5kZXgpLFxuXG4gIC8qKlxuICAgKiB0cmFjZS5zdGVwXG4gICAqXG4gICAqIGN1cnJlbnQgdHJhY2Ugc3RlcFxuICAgKi9cbiAgc3RlcDogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiLi9zdGVwc1wiLCBcIi4vaW5kZXhcIl0sIChzdGVwcywgaW5kZXgpID0+IHN0ZXBzW2luZGV4XSksXG5cbiAgLyoqXG4gICAqIHRyYWNlLm5leHRcbiAgICpcbiAgICogbmV4dCB0cmFjZSBzdGVwXG4gICAqIEhBQ0s6IGlmIGF0IHRoZSBlbmQsXG4gICAqIHdlIHdpbGwgcmV0dXJuIHRoZSAqc2FtZSogdHJhY2Ugc3RlcFxuICAgKi9cbiAgbmV4dDogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiLi9zdGVwc1wiLCBcIi4vaW5kZXhcIl0sIChzdGVwcywgaW5kZXgpID0+IGluZGV4IDwgc3RlcHMubGVuZ3RoIC0gMSA/IHN0ZXBzW2luZGV4ICsgMV0gOiBzdGVwc1tpbmRleF0pXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gdHJhY2U7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL3RyYWNlL3NlbGVjdG9ycy9pbmRleC5qcyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ25cIlxuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kc1wiXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZXNlbGVjdC10cmVlXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicmVzZWxlY3QtdHJlZVwiXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWR1eC1zYWdhL2VmZmVjdHNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJyZWR1eC1zYWdhL2VmZmVjdHNcIlxuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVkdXhcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJyZWR1eFwiXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXNcIlxuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm4uanNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJibi5qc1wiXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kZWJ1ZyA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcblxudmFyIF9kZWJ1ZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWJ1Zyk7XG5cbnZhciBfcmVzZWxlY3RUcmVlID0gcmVxdWlyZShcInJlc2VsZWN0LXRyZWVcIik7XG5cbnZhciBfanNvblBvaW50ZXIgPSByZXF1aXJlKFwianNvbi1wb2ludGVyXCIpO1xuXG52YXIgX2pzb25Qb2ludGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2pzb25Qb2ludGVyKTtcblxudmFyIF9zZWxlY3RvcnMgPSByZXF1aXJlKFwibGliL3NvbGlkaXR5L3NlbGVjdG9yc1wiKTtcblxudmFyIF9zZWxlY3RvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0b3JzKTtcblxudmFyIF9tYXAgPSByZXF1aXJlKFwiLi4vbWFwXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5jb25zdCBkZWJ1ZyA9ICgwLCBfZGVidWcyLmRlZmF1bHQpKFwiZGVidWdnZXI6YXN0OnNlbGVjdG9yc1wiKTtcblxuLyoqXG4gKiBhc3RcbiAqL1xuY29uc3QgYXN0ID0gKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlU2VsZWN0b3JUcmVlKSh7XG4gIC8qKlxuICAgKiBhc3Qudmlld3NcbiAgICovXG4gIHZpZXdzOiB7XG4gICAgLyoqXG4gICAgICogYXN0LnZpZXdzLnNvdXJjZXNcbiAgICAgKi9cbiAgICBzb3VyY2VzOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbX3NlbGVjdG9yczIuZGVmYXVsdC5pbmZvLnNvdXJjZXNdLCBzb3VyY2VzID0+IHNvdXJjZXMpXG4gIH0sXG5cbiAgLyoqXG4gICAqIGFzdC5jdXJyZW50XG4gICAqL1xuICBjdXJyZW50OiB7XG5cbiAgICAvKipcbiAgICAgKiBhc3QuY3VycmVudC50cmVlXG4gICAgICpcbiAgICAgKiBhc3QgZm9yIGN1cnJlbnQgc291cmNlXG4gICAgICovXG4gICAgdHJlZTogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW19zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5zb3VyY2VdLCAoeyBhc3QgfSkgPT4gYXN0KSxcblxuICAgIC8qKlxuICAgICAqIGFzdC5jdXJyZW50LmluZGV4XG4gICAgICpcbiAgICAgKiBzb3VyY2UgSURcbiAgICAgKi9cbiAgICBpbmRleDogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW19zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5zb3VyY2VdLCAoeyBpZCB9KSA9PiBpZCksXG5cbiAgICAvKipcbiAgICAgKiBhc3QuY3VycmVudC5wb2ludGVyXG4gICAgICpcbiAgICAgKiBqc29ucG9pbnRlciBmb3IgY3VycmVudCBhc3Qgbm9kZVxuICAgICAqL1xuICAgIHBvaW50ZXI6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi4vdHJlZVwiLCBfc2VsZWN0b3JzMi5kZWZhdWx0LmN1cnJlbnQuc291cmNlUmFuZ2VdLCAoYXN0LCByYW5nZSkgPT4gKDAsIF9tYXAuZmluZFJhbmdlKShhc3QsIHJhbmdlLnN0YXJ0LCByYW5nZS5sZW5ndGgpKSxcblxuICAgIC8qKlxuICAgICAqIGFzdC5jdXJyZW50Lm5vZGVcbiAgICAgKlxuICAgICAqIGN1cnJlbnQgYXN0IG5vZGUgdG8gZXhlY3V0ZVxuICAgICAqL1xuICAgIG5vZGU6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi4vdHJlZVwiLCBcIi4vcG9pbnRlclwiXSwgKGFzdCwgcG9pbnRlcikgPT4gcG9pbnRlciA/IF9qc29uUG9pbnRlcjIuZGVmYXVsdC5nZXQoYXN0LCBwb2ludGVyKSA6IF9qc29uUG9pbnRlcjIuZGVmYXVsdC5nZXQoYXN0LCBcIlwiKSlcblxuICB9XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gYXN0O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9hc3Qvc2VsZWN0b3JzL2luZGV4LmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnNhdmVTdGVwcyA9IHNhdmVTdGVwcztcbmV4cG9ydHMucmVjZWl2ZUFkZHJlc3NlcyA9IHJlY2VpdmVBZGRyZXNzZXM7XG5leHBvcnRzLm5leHQgPSBuZXh0O1xuZXhwb3J0cy50aWNrID0gdGljaztcbmV4cG9ydHMudG9jayA9IHRvY2s7XG5leHBvcnRzLmVuZFRyYWNlID0gZW5kVHJhY2U7XG5leHBvcnRzLnJlc2V0ID0gcmVzZXQ7XG5leHBvcnRzLnN1YnRvY2sgPSBzdWJ0b2NrO1xuY29uc3QgU0FWRV9TVEVQUyA9IGV4cG9ydHMuU0FWRV9TVEVQUyA9IFwiU0FWRV9TVEVQU1wiO1xuZnVuY3Rpb24gc2F2ZVN0ZXBzKHN0ZXBzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0FWRV9TVEVQUyxcbiAgICBzdGVwc1xuICB9O1xufVxuXG5jb25zdCBSRUNFSVZFX0FERFJFU1NFUyA9IGV4cG9ydHMuUkVDRUlWRV9BRERSRVNTRVMgPSBcIlJFQ0VJVkVfQUREUkVTU0VTXCI7XG5mdW5jdGlvbiByZWNlaXZlQWRkcmVzc2VzKGFkZHJlc3Nlcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFQ0VJVkVfQUREUkVTU0VTLFxuICAgIGFkZHJlc3Nlc1xuICB9O1xufVxuXG5jb25zdCBORVhUID0gZXhwb3J0cy5ORVhUID0gXCJORVhUXCI7XG5mdW5jdGlvbiBuZXh0KCkge1xuICByZXR1cm4geyB0eXBlOiBORVhUIH07XG59XG5cbmNvbnN0IFRJQ0sgPSBleHBvcnRzLlRJQ0sgPSBcIlRJQ0tcIjtcbmZ1bmN0aW9uIHRpY2soKSB7XG4gIHJldHVybiB7IHR5cGU6IFRJQ0sgfTtcbn1cblxuY29uc3QgVE9DSyA9IGV4cG9ydHMuVE9DSyA9IFwiVE9DS1wiO1xuZnVuY3Rpb24gdG9jaygpIHtcbiAgcmV0dXJuIHsgdHlwZTogVE9DSyB9O1xufVxuXG5jb25zdCBFTkRfT0ZfVFJBQ0UgPSBleHBvcnRzLkVORF9PRl9UUkFDRSA9IFwiRU9UXCI7XG5mdW5jdGlvbiBlbmRUcmFjZSgpIHtcbiAgcmV0dXJuIHsgdHlwZTogRU5EX09GX1RSQUNFIH07XG59XG5cbmNvbnN0IFJFU0VUID0gZXhwb3J0cy5SRVNFVCA9IFwiVFJBQ0VfUkVTRVRcIjtcbmZ1bmN0aW9uIHJlc2V0KCkge1xuICByZXR1cm4geyB0eXBlOiBSRVNFVCB9O1xufVxuXG5jb25zdCBTVUJUT0NLID0gZXhwb3J0cy5TVUJUT0NLID0gXCJTVUJUT0NLXCI7XG5mdW5jdGlvbiBzdWJ0b2NrKCkge1xuICByZXR1cm4geyB0eXBlOiBTVUJUT0NLIH07XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL3RyYWNlL2FjdGlvbnMvaW5kZXguanMiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9zZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3NldFwiKTtcblxudmFyIF9zZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0KTtcblxuZXhwb3J0cy5hZHZhbmNlID0gYWR2YW5jZTtcbmV4cG9ydHMuc2lnbmFsVGlja1NhZ2FDb21wbGV0aW9uID0gc2lnbmFsVGlja1NhZ2FDb21wbGV0aW9uO1xuZXhwb3J0cy5wcm9jZXNzVHJhY2UgPSBwcm9jZXNzVHJhY2U7XG5leHBvcnRzLnJlc2V0ID0gcmVzZXQ7XG5leHBvcnRzLnNhZ2EgPSBzYWdhO1xuXG52YXIgX2RlYnVnID0gcmVxdWlyZShcImRlYnVnXCIpO1xuXG52YXIgX2RlYnVnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlYnVnKTtcblxudmFyIF9lZmZlY3RzID0gcmVxdWlyZShcInJlZHV4LXNhZ2EvZWZmZWN0c1wiKTtcblxudmFyIF9oZWxwZXJzID0gcmVxdWlyZShcImxpYi9oZWxwZXJzXCIpO1xuXG52YXIgX3RydWZmbGVEZWNvZGVVdGlscyA9IHJlcXVpcmUoXCJ0cnVmZmxlLWRlY29kZS11dGlsc1wiKTtcblxudmFyIERlY29kZVV0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3RydWZmbGVEZWNvZGVVdGlscyk7XG5cbnZhciBfYWN0aW9ucyA9IHJlcXVpcmUoXCIuLi9hY3Rpb25zXCIpO1xuXG52YXIgYWN0aW9ucyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9hY3Rpb25zKTtcblxudmFyIF9zZWxlY3RvcnMgPSByZXF1aXJlKFwiLi4vc2VsZWN0b3JzXCIpO1xuXG52YXIgX3NlbGVjdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3RvcnMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5jb25zdCBkZWJ1ZyA9ICgwLCBfZGVidWcyLmRlZmF1bHQpKFwiZGVidWdnZXI6dHJhY2U6c2FnYXNcIik7XG5cbmZ1bmN0aW9uKiB3YWl0Rm9yVHJhY2UoKSB7XG4gIGxldCB7IHN0ZXBzIH0gPSB5aWVsZCAoMCwgX2VmZmVjdHMudGFrZSkoYWN0aW9ucy5TQVZFX1NURVBTKTtcblxuICBsZXQgYWRkcmVzc2VzID0gWy4uLm5ldyBfc2V0Mi5kZWZhdWx0KHN0ZXBzLmZpbHRlcigoeyBvcCB9KSA9PiAoMCwgX2hlbHBlcnMuaXNDYWxsTW5lbW9uaWMpKG9wKSkubWFwKCh7IHN0YWNrIH0pID0+IERlY29kZVV0aWxzLkNvbnZlcnNpb24udG9BZGRyZXNzKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDJdKSkpXTtcblxuICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLnJlY2VpdmVBZGRyZXNzZXMoYWRkcmVzc2VzKSk7XG59XG5cbmZ1bmN0aW9uKiBhZHZhbmNlKCkge1xuICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLm5leHQoKSk7XG5cbiAgZGVidWcoXCJUT0NLIHRvIHRha2VcIik7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy50YWtlKShbYWN0aW9ucy5UT0NLLCBhY3Rpb25zLkVORF9PRl9UUkFDRV0pO1xuICBkZWJ1ZyhcIlRPQ0sgdGFrZW5cIik7XG59XG5cbmNvbnN0IFNVQk1PRFVMRV9DT1VOVCA9IDM7IC8vZGF0YSwgZXZtLCBzb2xpZGl0eVxuXG5mdW5jdGlvbiogbmV4dCgpIHtcbiAgbGV0IHJlbWFpbmluZyA9IHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuc3RlcHNSZW1haW5pbmcpO1xuICBkZWJ1ZyhcInJlbWFpbmluZzogJW9cIiwgcmVtYWluaW5nKTtcbiAgbGV0IHN0ZXBzID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5zdGVwcyk7XG4gIGRlYnVnKFwidG90YWwgc3RlcHM6ICVvXCIsIHN0ZXBzLmxlbmd0aCk7XG4gIGxldCB3YWl0aW5nRm9yU3VibW9kdWxlcyA9IDA7XG5cbiAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICBkZWJ1ZyhcInB1dHRpbmcgVElDS1wiKTtcbiAgICAvLyB1cGRhdGVzIHN0YXRlIGZvciBjdXJyZW50IHN0ZXBcbiAgICB3YWl0aW5nRm9yU3VibW9kdWxlcyA9IFNVQk1PRFVMRV9DT1VOVDtcbiAgICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLnRpY2soKSk7XG4gICAgZGVidWcoXCJwdXQgVElDS1wiKTtcblxuICAgIC8vd2FpdCBmb3IgYWxsIHN1YnRvY2tzIGJlZm9yZSBjb250aW51aW5nXG4gICAgd2hpbGUgKHdhaXRpbmdGb3JTdWJtb2R1bGVzID4gMCkge1xuICAgICAgeWllbGQgKDAsIF9lZmZlY3RzLnRha2UpKGFjdGlvbnMuU1VCVE9DSyk7XG4gICAgICBkZWJ1ZyhcImdvdCBTVUJUT0NLXCIpO1xuICAgICAgd2FpdGluZ0ZvclN1Ym1vZHVsZXMtLTtcbiAgICB9XG5cbiAgICByZW1haW5pbmctLTsgLy8gbG9jYWwgdXBkYXRlLCBqdXN0IGZvciBjb252ZW5pZW5jZVxuICB9XG5cbiAgaWYgKHJlbWFpbmluZykge1xuICAgIGRlYnVnKFwicHV0dGluZyBUT0NLXCIpO1xuICAgIC8vIHVwZGF0ZXMgc3RlcCB0byBuZXh0IHN0ZXAgaW4gdHJhY2VcbiAgICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLnRvY2soKSk7XG4gICAgZGVidWcoXCJwdXQgVE9DS1wiKTtcbiAgfSBlbHNlIHtcbiAgICBkZWJ1ZyhcInB1dHRpbmcgRU5EX09GX1RSQUNFXCIpO1xuICAgIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuZW5kVHJhY2UoKSk7XG4gICAgZGVidWcoXCJwdXQgRU5EX09GX1RSQUNFXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uKiBzaWduYWxUaWNrU2FnYUNvbXBsZXRpb24oKSB7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuc3VidG9jaygpKTtcbn1cblxuZnVuY3Rpb24qIHByb2Nlc3NUcmFjZSh0cmFjZSkge1xuICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLnNhdmVTdGVwcyh0cmFjZSkpO1xuXG4gIGxldCB7IGFkZHJlc3NlcyB9ID0geWllbGQgKDAsIF9lZmZlY3RzLnRha2UpKGFjdGlvbnMuUkVDRUlWRV9BRERSRVNTRVMpO1xuICBkZWJ1ZyhcInJlY2VpdmVkIGFkZHJlc3Nlc1wiKTtcblxuICByZXR1cm4gYWRkcmVzc2VzO1xufVxuXG5mdW5jdGlvbiogcmVzZXQoKSB7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMucmVzZXQoKSk7XG59XG5cbmZ1bmN0aW9uKiBzYWdhKCkge1xuICAvLyB3YWl0IGZvciB0cmFjZSB0byBiZSBkZWZpbmVkXG4gIHlpZWxkKiB3YWl0Rm9yVHJhY2UoKTtcblxuICB5aWVsZCAoMCwgX2VmZmVjdHMudGFrZUV2ZXJ5KShhY3Rpb25zLk5FWFQsIG5leHQpO1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX2hlbHBlcnMucHJlZml4TmFtZSkoXCJ0cmFjZVwiLCBzYWdhKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWIvdHJhY2Uvc2FnYXMvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlXCJcbi8vIG1vZHVsZSBpZCA9IDIyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvdmFsdWVzXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC92YWx1ZXNcIlxuLy8gbW9kdWxlIGlkID0gMjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnN0YXJ0ID0gc3RhcnQ7XG5leHBvcnRzLnJlYWR5ID0gcmVhZHk7XG5leHBvcnRzLmVycm9yID0gZXJyb3I7XG5leHBvcnRzLnJlY29yZENvbnRyYWN0cyA9IHJlY29yZENvbnRyYWN0cztcbmV4cG9ydHMuc2F2ZVRyYW5zYWN0aW9uID0gc2F2ZVRyYW5zYWN0aW9uO1xuZXhwb3J0cy5zYXZlUmVjZWlwdCA9IHNhdmVSZWNlaXB0O1xuY29uc3QgU1RBUlQgPSBleHBvcnRzLlNUQVJUID0gXCJTRVNTSU9OX1NUQVJUXCI7XG5mdW5jdGlvbiBzdGFydCh0eEhhc2gsIHByb3ZpZGVyKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU1RBUlQsXG4gICAgdHhIYXNoLFxuICAgIHByb3ZpZGVyXG4gIH07XG59XG5cbmNvbnN0IFJFQURZID0gZXhwb3J0cy5SRUFEWSA9IFwiU0VTU0lPTl9SRUFEWVwiO1xuZnVuY3Rpb24gcmVhZHkoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVBRFlcbiAgfTtcbn1cblxuY29uc3QgRVJST1IgPSBleHBvcnRzLkVSUk9SID0gXCJTRVNTSU9OX0VSUk9SXCI7XG5mdW5jdGlvbiBlcnJvcihlcnJvcikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEVSUk9SLFxuICAgIGVycm9yXG4gIH07XG59XG5cbmNvbnN0IFJFQ09SRF9DT05UUkFDVFMgPSBleHBvcnRzLlJFQ09SRF9DT05UUkFDVFMgPSBcIlJFQ09SRF9DT05UUkFDVFNcIjtcbmZ1bmN0aW9uIHJlY29yZENvbnRyYWN0cyhjb250ZXh0cywgc291cmNlcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFQ09SRF9DT05UUkFDVFMsXG4gICAgY29udGV4dHMsXG4gICAgc291cmNlc1xuICB9O1xufVxuXG5jb25zdCBTQVZFX1RSQU5TQUNUSU9OID0gZXhwb3J0cy5TQVZFX1RSQU5TQUNUSU9OID0gXCJTQVZFX1RSQU5TQUNUSU9OXCI7XG5mdW5jdGlvbiBzYXZlVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTQVZFX1RSQU5TQUNUSU9OLFxuICAgIHRyYW5zYWN0aW9uXG4gIH07XG59XG5cbmNvbnN0IFNBVkVfUkVDRUlQVCA9IGV4cG9ydHMuU0FWRV9SRUNFSVBUID0gXCJTQVZFX1JFQ0VJUFRcIjtcbmZ1bmN0aW9uIHNhdmVSZWNlaXB0KHJlY2VpcHQpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTQVZFX1JFQ0VJUFQsXG4gICAgcmVjZWlwdFxuICB9O1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9zZXNzaW9uL2FjdGlvbnMvaW5kZXguanMiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9taXNlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlXCIpO1xuXG52YXIgX3Byb21pc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvbWlzZSk7XG5cbnZhciBfYXN5bmNUb0dlbmVyYXRvcjIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3JcIik7XG5cbnZhciBfYXN5bmNUb0dlbmVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3luY1RvR2VuZXJhdG9yMik7XG5cbnZhciBfdmFsdWVzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvdmFsdWVzXCIpO1xuXG52YXIgX3ZhbHVlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92YWx1ZXMpO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzXCIpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2VudHJpZXMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9lbnRyaWVzXCIpO1xuXG52YXIgX2VudHJpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZW50cmllcyk7XG5cbnZhciBfYXNzaWduID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduXCIpO1xuXG52YXIgX2Fzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NpZ24pO1xuXG52YXIgX2RlYnVnID0gcmVxdWlyZShcImRlYnVnXCIpO1xuXG52YXIgX2RlYnVnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlYnVnKTtcblxudmFyIF9yZXNlbGVjdFRyZWUgPSByZXF1aXJlKFwicmVzZWxlY3QtdHJlZVwiKTtcblxudmFyIF9qc29uUG9pbnRlciA9IHJlcXVpcmUoXCJqc29uLXBvaW50ZXJcIik7XG5cbnZhciBfanNvblBvaW50ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfanNvblBvaW50ZXIpO1xuXG52YXIgX2hlbHBlcnMgPSByZXF1aXJlKFwibGliL2hlbHBlcnNcIik7XG5cbnZhciBfc2VsZWN0b3JzID0gcmVxdWlyZShcImxpYi9hc3Qvc2VsZWN0b3JzXCIpO1xuXG52YXIgX3NlbGVjdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3RvcnMpO1xuXG52YXIgX3NlbGVjdG9yczMgPSByZXF1aXJlKFwibGliL2V2bS9zZWxlY3RvcnNcIik7XG5cbnZhciBfc2VsZWN0b3JzNCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdG9yczMpO1xuXG52YXIgX3NlbGVjdG9yczUgPSByZXF1aXJlKFwibGliL3NvbGlkaXR5L3NlbGVjdG9yc1wiKTtcblxudmFyIF9zZWxlY3RvcnM2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0b3JzNSk7XG5cbnZhciBfdHJ1ZmZsZURlY29kZVV0aWxzID0gcmVxdWlyZShcInRydWZmbGUtZGVjb2RlLXV0aWxzXCIpO1xuXG52YXIgRGVjb2RlVXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdHJ1ZmZsZURlY29kZVV0aWxzKTtcblxudmFyIF90cnVmZmxlRGVjb2RlciA9IHJlcXVpcmUoXCJ0cnVmZmxlLWRlY29kZXJcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmNvbnN0IGRlYnVnID0gKDAsIF9kZWJ1ZzIuZGVmYXVsdCkoXCJkZWJ1Z2dlcjpkYXRhOnNlbGVjdG9yc1wiKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IGlkZW50aXR5ID0geCA9PiB4O1xuXG5mdW5jdGlvbiBjcmVhdGVTdGF0ZVNlbGVjdG9ycyh7IHN0YWNrLCBtZW1vcnksIHN0b3JhZ2UgfSkge1xuICByZXR1cm4ge1xuICAgIC8qKlxuICAgICAqIC5zdGFja1xuICAgICAqL1xuICAgIHN0YWNrOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbc3RhY2tdLCB3b3JkcyA9PiAod29yZHMgfHwgW10pLm1hcCh3b3JkID0+IERlY29kZVV0aWxzLkNvbnZlcnNpb24udG9CeXRlcyh3b3JkKSkpLFxuXG4gICAgLyoqXG4gICAgICogLm1lbW9yeVxuICAgICAqL1xuICAgIG1lbW9yeTogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW21lbW9yeV0sIHdvcmRzID0+IERlY29kZVV0aWxzLkNvbnZlcnNpb24udG9CeXRlcyh3b3Jkcy5qb2luKFwiXCIpKSksXG5cbiAgICAvKipcbiAgICAgKiAuc3RvcmFnZVxuICAgICAqL1xuICAgIHN0b3JhZ2U6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtzdG9yYWdlXSwgbWFwcGluZyA9PiAoMCwgX2Fzc2lnbjIuZGVmYXVsdCkoe30sIC4uLigwLCBfZW50cmllczIuZGVmYXVsdCkobWFwcGluZykubWFwKChbYWRkcmVzcywgd29yZF0pID0+ICh7XG4gICAgICBbYDB4JHthZGRyZXNzfWBdOiBEZWNvZGVVdGlscy5Db252ZXJzaW9uLnRvQnl0ZXMod29yZClcbiAgICB9KSkpKVxuICB9O1xufVxuXG5jb25zdCBkYXRhID0gKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlU2VsZWN0b3JUcmVlKSh7XG4gIHN0YXRlOiBzdGF0ZSA9PiBzdGF0ZS5kYXRhLFxuXG4gIC8qKlxuICAgKiBkYXRhLnZpZXdzXG4gICAqL1xuICB2aWV3czoge1xuICAgIC8qKlxuICAgICAqIGRhdGEudmlld3MuYXN0XG4gICAgICovXG4gICAgYXN0OiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50XSwgdHJlZSA9PiB0cmVlKSxcblxuICAgIC8qXG4gICAgICogZGF0YS52aWV3cy5hdExhc3RJbnN0cnVjdGlvbkZvclNvdXJjZVJhbmdlXG4gICAgICovXG4gICAgYXRMYXN0SW5zdHJ1Y3Rpb25Gb3JTb3VyY2VSYW5nZTogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW19zZWxlY3RvcnM2LmRlZmF1bHQuY3VycmVudC5pc1NvdXJjZVJhbmdlRmluYWxdLCBmaW5hbCA9PiBmaW5hbCksXG5cbiAgICAvKipcbiAgICAgKiBkYXRhLnZpZXdzLnNjb3BlcyAobmFtZXNwYWNlKVxuICAgICAqL1xuICAgIHNjb3Blczoge1xuICAgICAgLyoqXG4gICAgICAgKiBkYXRhLnZpZXdzLnNjb3Blcy5pbmxpbmVkIChuYW1lc3BhY2UpXG4gICAgICAgKi9cbiAgICAgIGlubGluZWQ6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRhdGEudmlld3Muc2NvcGVzLmlubGluZWQgKHNlbGVjdG9yKVxuICAgICAgICAgKiBzZWUgZGF0YS5pbmZvLnNjb3BlcyBmb3IgaG93IHRoaXMgZGlmZmVycyBmcm9tIHRoZSByYXcgdmVyc2lvblxuICAgICAgICAgKi9cbiAgICAgICAgXzogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiL2luZm8vc2NvcGVzXCIsIFwiLi9yYXdcIl0sIChzY29wZXMsIGlubGluZWQpID0+ICgwLCBfYXNzaWduMi5kZWZhdWx0KSh7fSwgLi4uKDAsIF9lbnRyaWVzMi5kZWZhdWx0KShpbmxpbmVkKS5tYXAoKFtpZCwgaW5mb10pID0+IHtcbiAgICAgICAgICBsZXQgbmV3SW5mbyA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIGluZm8pO1xuICAgICAgICAgIG5ld0luZm8udmFyaWFibGVzID0gc2NvcGVzW2lkXS52YXJpYWJsZXM7XG4gICAgICAgICAgcmV0dXJuIHsgW2lkXTogbmV3SW5mbyB9O1xuICAgICAgICB9KSkpLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkYXRhLnZpZXdzLnNjb3Blcy5pbmxpbmVkLnJhd1xuICAgICAgICAgKi9cbiAgICAgICAgcmF3OiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIvaW5mby9zY29wZXMvcmF3XCIsIF9zZWxlY3RvcnM2LmRlZmF1bHQuaW5mby5zb3VyY2VzXSwgKHNjb3Blcywgc291cmNlcykgPT4gKDAsIF9hc3NpZ24yLmRlZmF1bHQpKHt9LCAuLi4oMCwgX2VudHJpZXMyLmRlZmF1bHQpKHNjb3BlcykubWFwKChbaWQsIGVudHJ5XSkgPT4gKHtcbiAgICAgICAgICBbaWRdOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBlbnRyeSwge1xuXG4gICAgICAgICAgICBkZWZpbml0aW9uOiBfanNvblBvaW50ZXIyLmRlZmF1bHQuZ2V0KHNvdXJjZXNbZW50cnkuc291cmNlSWRdLmFzdCwgZW50cnkucG9pbnRlcilcbiAgICAgICAgICB9KVxuICAgICAgICB9KSkpKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkYXRhLnZpZXdzLmRlY29kZXJcbiAgICAgKlxuICAgICAqIHNlbGVjdG9yIHJldHVybnMgKGFzdCBub2RlIGRlZmluaXRpb24sIGRhdGEgcmVmZXJlbmNlKSA9PiBQcm9taXNlPHZhbHVlPlxuICAgICAqL1xuICAgIGRlY29kZXI6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi92aWV3cy9yZWZlcmVuY2VEZWNsYXJhdGlvbnNcIiwgXCIvbmV4dC9zdGF0ZVwiLCBcIi92aWV3cy9tYXBwaW5nS2V5c1wiLCBcIi9pbmZvL2FsbG9jYXRpb25zL3N0b3JhZ2VcIl0sIChyZWZlcmVuY2VEZWNsYXJhdGlvbnMsIHN0YXRlLCBtYXBwaW5nS2V5cywgc3RvcmFnZUFsbG9jYXRpb25zKSA9PiAoZGVmaW5pdGlvbiwgcmVmKSA9PiAoMCwgX3RydWZmbGVEZWNvZGVyLmZvckV2bVN0YXRlKShkZWZpbml0aW9uLCByZWYsIHtcbiAgICAgIHJlZmVyZW5jZURlY2xhcmF0aW9ucyxcbiAgICAgIHN0YXRlLFxuICAgICAgbWFwcGluZ0tleXMsXG4gICAgICBzdG9yYWdlQWxsb2NhdGlvbnNcbiAgICB9KSksXG5cbiAgICAvKlxuICAgICAqIGRhdGEudmlld3MudXNlckRlZmluZWRUeXBlc1xuICAgICAqL1xuICAgIHVzZXJEZWZpbmVkVHlwZXM6IHtcbiAgICAgIC8qXG4gICAgICAgKiBkYXRhLnZpZXdzLnVzZXJEZWZpbmVkVHlwZXMuY29udHJhY3REZWZpbml0aW9uc1xuICAgICAgICogcmVzdHJpY3QgdG8gY29udHJhY3RzIG9ubHksIGFuZCBnZXQgdGhlaXIgZGVmaW5pdGlvbnNcbiAgICAgICAqL1xuICAgICAgY29udHJhY3REZWZpbml0aW9uczogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiL2luZm8vdXNlckRlZmluZWRUeXBlc1wiLCBcIi92aWV3cy9zY29wZXMvaW5saW5lZFwiXSwgKHR5cGVJZHMsIHNjb3BlcykgPT4gdHlwZUlkcy5tYXAoaWQgPT4gc2NvcGVzW2lkXS5kZWZpbml0aW9uKS5maWx0ZXIobm9kZSA9PiBub2RlLm5vZGVUeXBlID09PSBcIkNvbnRyYWN0RGVmaW5pdGlvblwiKSlcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBkYXRhLnZpZXdzLnJlZmVyZW5jZURlY2xhcmF0aW9uc1xuICAgICAqL1xuICAgIHJlZmVyZW5jZURlY2xhcmF0aW9uczogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiLi9zY29wZXMvaW5saW5lZFwiLCBcIi9pbmZvL3VzZXJEZWZpbmVkVHlwZXNcIl0sIChzY29wZXMsIHVzZXJEZWZpbmVkVHlwZXMpID0+ICgwLCBfYXNzaWduMi5kZWZhdWx0KSh7fSwgLi4udXNlckRlZmluZWRUeXBlcy5tYXAoaWQgPT4gKHsgW2lkXTogc2NvcGVzW2lkXS5kZWZpbml0aW9uIH0pKSkpLFxuXG4gICAgLyoqXG4gICAgICogZGF0YS52aWV3cy5tYXBwaW5nS2V5c1xuICAgICAqL1xuICAgIG1hcHBpbmdLZXlzOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIvcHJvYy9tYXBwZWRQYXRoc1wiLCBcIi9jdXJyZW50L2FkZHJlc3NcIiwgXCIvY3VycmVudC9kdW1teUFkZHJlc3NcIl0sIChtYXBwZWRQYXRocywgYWRkcmVzcywgZHVtbXlBZGRyZXNzKSA9PiBbXS5jb25jYXQoLi4uKDAsIF92YWx1ZXMyLmRlZmF1bHQpKChtYXBwZWRQYXRocy5ieUFkZHJlc3NbYWRkcmVzcyB8fCBkdW1teUFkZHJlc3NdIHx8IHsgYnlUeXBlOiB7fSB9KS5ieVR5cGUpLm1hcCgoeyBieVNsb3RBZGRyZXNzIH0pID0+ICgwLCBfdmFsdWVzMi5kZWZhdWx0KShieVNsb3RBZGRyZXNzKSkpLmZpbHRlcihzbG90ID0+IHNsb3Qua2V5ICE9PSB1bmRlZmluZWQpKVxuICB9LFxuXG4gIC8qKlxuICAgKiBkYXRhLmluZm9cbiAgICovXG4gIGluZm86IHtcbiAgICAvKipcbiAgICAgKiBkYXRhLmluZm8uc2NvcGVzIChuYW1lc3BhY2UpXG4gICAgICovXG4gICAgc2NvcGVzOiB7XG4gICAgICAvKipcbiAgICAgICAqIGRhdGEuaW5mby5zY29wZXMgKHNlbGVjdG9yKVxuICAgICAgICogdGhlIHJhdyB2ZXJzaW9uIGlzIGJlbG93OyB0aGlzIHZlcnNpb24gYWNjb3VudHMgZm9yIGluaGVyaXRhbmNlXG4gICAgICAgKiBOT1RFOiBkb2Vzbid0IHRoaXMgc2VsZWN0b3IgcmVhbGx5IGJlbG9uZyBpbiBkYXRhLnZpZXdzPyAgWWVzLlxuICAgICAgICogQnV0LCBzaW5jZSBpdCdzIHJlcGxhY2luZyB0aGUgb2xkIGRhdGEuaW5mby5zY29wZXMgKHdoaWNoIGlzIG5vd1xuICAgICAgICogZGF0YS5pbmZvLnNjb3Blcy5yYXcpLCBJIGRpZG4ndCB3YW50IHRvIG1vdmUgaXQuXG4gICAgICAgKi9cbiAgICAgIF86ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi4vcmF3XCIsIFwiL3ZpZXdzL3Njb3Blcy9pbmxpbmVkL3Jhd1wiXSwgKHNjb3BlcywgaW5saW5lZCkgPT4gKDAsIF9hc3NpZ24yLmRlZmF1bHQpKHt9LCAuLi4oMCwgX2VudHJpZXMyLmRlZmF1bHQpKHNjb3BlcykubWFwKChbaWQsIHNjb3BlXSkgPT4ge1xuICAgICAgICBsZXQgZGVmaW5pdGlvbiA9IGlubGluZWRbaWRdLmRlZmluaXRpb247XG4gICAgICAgIGlmIChkZWZpbml0aW9uLm5vZGVUeXBlICE9PSBcIkNvbnRyYWN0RGVmaW5pdGlvblwiIHx8IHNjb3BlLnZhcmlhYmxlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIHsgW2lkXTogc2NvcGUgfTtcbiAgICAgICAgfVxuICAgICAgICAvL2lmIHdlJ3ZlIHJlYWNoZWQgdGhpcyBwb2ludCwgd2Ugc2hvdWxkIGJlIGRlYWxpbmcgd2l0aCBhXG4gICAgICAgIC8vY29udHJhY3QsIGFuZCBzcGVjaWZpY2FsbHkgYSBjb250cmFjdCAtLSBub3QgYW4gaW50ZXJmYWNlIG9yXG4gICAgICAgIC8vbGlicmFyeSAodGhvc2UgZG9uJ3QgZ2V0IFwidmFyaWFibGVzXCIgZW50cmllcyBpbiB0aGVpciBzY29wZXMpXG4gICAgICAgIGRlYnVnKFwiY29udHJhY3QgaWQgJWRcIiwgaWQpO1xuICAgICAgICBsZXQgbmV3U2NvcGUgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzY29wZSk7XG4gICAgICAgIC8vbm90ZSB0aGF0IFNvbGlkaXR5IGdpdmVzIHVzIHRoZSBsaW5lYXJpemF0aW9uIGluIG9yZGVyIGZyb20gbW9zdFxuICAgICAgICAvL2Rlcml2ZWQgdG8gbW9zdCBiYXNlLCBidXQgd2Ugd2FudCBtb3N0IGJhc2UgdG8gbW9zdCBkZXJpdmVkO1xuICAgICAgICAvL2Fubm95aW5nbHksIHJldmVyc2UoKSBpcyBpbi1wbGFjZSwgc28gd2UgY2xvbmUgd2l0aCBzbGljZSgpIGZpcnN0XG4gICAgICAgIGxldCBsaW5lYXJpemVkQmFzZUNvbnRyYWN0c0Zyb21CYXNlID0gZGVmaW5pdGlvbi5saW5lYXJpemVkQmFzZUNvbnRyYWN0cy5zbGljZSgpLnJldmVyc2UoKTtcbiAgICAgICAgLy9ub3csIHdlIHB1dCBpdCBhbGwgdG9nZXRoZXJcbiAgICAgICAgbmV3U2NvcGUudmFyaWFibGVzID0gW10uY29uY2F0KC4uLmxpbmVhcml6ZWRCYXNlQ29udHJhY3RzRnJvbUJhc2UubWFwKGNvbnRyYWN0SWQgPT4gc2NvcGVzW2NvbnRyYWN0SWRdLnZhcmlhYmxlcykpLmZpbHRlcih2YXJpYWJsZSA9PiB7XG4gICAgICAgICAgLy8uLi5leGNlcHQsIEhBQ0ssIGxldCdzIGZpbHRlciBvdXQgdGhvc2UgY29uc3RhbnRzIHdlIGRvbid0IGtub3dcbiAgICAgICAgICAvL2hvdyB0byByZWFkLiAgdGhleSdsbCBqdXN0IGNsdXR0ZXIgdGhpbmdzIHVwLlxuICAgICAgICAgIGxldCBkZWZpbml0aW9uID0gaW5saW5lZFt2YXJpYWJsZS5pZF0uZGVmaW5pdGlvbjtcbiAgICAgICAgICByZXR1cm4gIWRlZmluaXRpb24uY29uc3RhbnQgfHwgRGVjb2RlVXRpbHMuRGVmaW5pdGlvbi5pc1NpbXBsZUNvbnN0YW50KGRlZmluaXRpb24udmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4geyBbaWRdOiBuZXdTY29wZSB9O1xuICAgICAgfSkpKSxcblxuICAgICAgLypcbiAgICAgICAqIGRhdGEuaW5mby5zY29wZXMucmF3XG4gICAgICAgKi9cbiAgICAgIHJhdzogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiL3N0YXRlXCJdLCBzdGF0ZSA9PiBzdGF0ZS5pbmZvLnNjb3Blcy5ieUlkKVxuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIGRhdGEuaW5mby5hbGxvY2F0aW9uc1xuICAgICAqL1xuICAgIGFsbG9jYXRpb25zOiB7XG4gICAgICAvKlxuICAgICAgICogZGF0YS5pbmZvLmFsbG9jYXRpb25zLnN0b3JhZ2VcbiAgICAgICAqL1xuICAgICAgc3RvcmFnZTogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiL3N0YXRlXCJdLCBzdGF0ZSA9PiBzdGF0ZS5pbmZvLmFsbG9jYXRpb25zLnN0b3JhZ2UpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRhdGEuaW5mby51c2VyRGVmaW5lZFR5cGVzXG4gICAgICovXG4gICAgdXNlckRlZmluZWRUeXBlczogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiL3N0YXRlXCJdLCBzdGF0ZSA9PiBzdGF0ZS5pbmZvLnVzZXJEZWZpbmVkVHlwZXMpXG4gIH0sXG5cbiAgLyoqXG4gICAqIGRhdGEucHJvY1xuICAgKi9cbiAgcHJvYzoge1xuICAgIC8qKlxuICAgICAqIGRhdGEucHJvYy5hc3NpZ25tZW50c1xuICAgICAqL1xuICAgIGFzc2lnbm1lbnRzOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIvc3RhdGVcIl0sIHN0YXRlID0+IHN0YXRlLnByb2MuYXNzaWdubWVudHNcbiAgICAvL25vdGU6IHRoaXMgbm8gbG9uZ2VyIGZldGNoZXMganVzdCB0aGUgYnlJZCwgYnV0IHJhdGhlciB0aGUgd2hvbGVcbiAgICAvL2Fzc2lnbm1lbnRzIG9iamVjdFxuICAgICksXG5cbiAgICAvKlxuICAgICAqIGRhdGEucHJvYy5tYXBwZWRQYXRoc1xuICAgICAqL1xuICAgIG1hcHBlZFBhdGhzOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIvc3RhdGVcIl0sIHN0YXRlID0+IHN0YXRlLnByb2MubWFwcGVkUGF0aHMpLFxuXG4gICAgLyoqXG4gICAgICogZGF0YS5wcm9jLmRlY29kaW5nS2V5c1xuICAgICAqXG4gICAgICogbnVtYmVyIG9mIGtleXMgdGhhdCBhcmUgc3RpbGwgZGVjb2RpbmdcbiAgICAgKi9cbiAgICBkZWNvZGluZ0tleXM6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi4vbWFwcGVkUGF0aHNcIl0sIG1hcHBlZFBhdGhzID0+IG1hcHBlZFBhdGhzLmRlY29kaW5nU3RhcnRlZClcbiAgfSxcblxuICAvKipcbiAgICogZGF0YS5jdXJyZW50XG4gICAqL1xuICBjdXJyZW50OiB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBkYXRhLmN1cnJlbnQuc2NvcGVcbiAgICAgKi9cbiAgICBzY29wZToge1xuICAgICAgLyoqXG4gICAgICAgKiBkYXRhLmN1cnJlbnQuc2NvcGUuaWRcbiAgICAgICAqL1xuICAgICAgaWQ6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtfc2VsZWN0b3JzMi5kZWZhdWx0LmN1cnJlbnQubm9kZV0sIG5vZGUgPT4gbm9kZS5pZClcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZGF0YS5jdXJyZW50LnN0YXRlXG4gICAgICovXG4gICAgc3RhdGU6IGNyZWF0ZVN0YXRlU2VsZWN0b3JzKF9zZWxlY3RvcnM0LmRlZmF1bHQuY3VycmVudC5zdGF0ZSksXG5cbiAgICAvKipcbiAgICAgKiBkYXRhLmN1cnJlbnQuZnVuY3Rpb25EZXB0aFxuICAgICAqL1xuXG4gICAgZnVuY3Rpb25EZXB0aDogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW19zZWxlY3RvcnM2LmRlZmF1bHQuY3VycmVudC5mdW5jdGlvbkRlcHRoXSwgaWRlbnRpdHkpLFxuXG4gICAgLyoqXG4gICAgICogZGF0YS5jdXJyZW50LmFkZHJlc3NcbiAgICAgKiBOb3RlOiBNYXkgYmUgdW5kZWZpbmVkIChpZiBpbiBhbiBpbml0aWFsaXplcilcbiAgICAgKi9cblxuICAgIGFkZHJlc3M6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtfc2VsZWN0b3JzNC5kZWZhdWx0LmN1cnJlbnQuY2FsbF0sIGNhbGwgPT4gY2FsbC5hZGRyZXNzKSxcblxuICAgIC8qKlxuICAgICAqIGRhdGEuY3VycmVudC5kdW1teUFkZHJlc3NcbiAgICAgKi9cblxuICAgIGR1bW15QWRkcmVzczogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW19zZWxlY3RvcnM0LmRlZmF1bHQuY3VycmVudC5jcmVhdGlvbkRlcHRoXSwgaWRlbnRpdHkpLFxuXG4gICAgLyoqXG4gICAgICogZGF0YS5jdXJyZW50LmlkZW50aWZpZXJzIChuYW1lc3BhY2UpXG4gICAgICovXG4gICAgaWRlbnRpZmllcnM6IHtcbiAgICAgIC8qKlxuICAgICAgICogZGF0YS5jdXJyZW50LmlkZW50aWZpZXJzIChzZWxlY3RvcilcbiAgICAgICAqXG4gICAgICAgKiByZXR1cm5zIGlkZW50aWZlcnMgYW5kIGNvcnJlc3BvbmRpbmcgZGVmaW5pdGlvbiBub2RlIElEXG4gICAgICAgKi9cbiAgICAgIF86ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi92aWV3cy9zY29wZXMvaW5saW5lZFwiLCBcIi9jdXJyZW50L3Njb3BlXCJdLCAoc2NvcGVzLCBzY29wZSkgPT4ge1xuICAgICAgICBsZXQgY3VyID0gc2NvcGUuaWQ7XG4gICAgICAgIGxldCB2YXJpYWJsZXMgPSB7fTtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgdmFyaWFibGVzID0gKDAsIF9hc3NpZ24yLmRlZmF1bHQpKHZhcmlhYmxlcywgLi4uKHNjb3Blc1tjdXJdLnZhcmlhYmxlcyB8fCBbXSkuZmlsdGVyKHYgPT4gdi5uYW1lICE9PSBcIlwiKSAvL2V4Y2x1ZGUgYW5vbnltb3VzIG91dHB1dCBwYXJhbXNcbiAgICAgICAgICAuZmlsdGVyKHYgPT4gdmFyaWFibGVzW3YubmFtZV0gPT0gdW5kZWZpbmVkKS5tYXAodiA9PiAoeyBbdi5uYW1lXTogdi5pZCB9KSkpO1xuXG4gICAgICAgICAgY3VyID0gc2NvcGVzW2N1cl0ucGFyZW50SWQ7XG4gICAgICAgIH0gd2hpbGUgKGN1ciAhPSBudWxsKTtcblxuICAgICAgICByZXR1cm4gdmFyaWFibGVzO1xuICAgICAgfSksXG5cbiAgICAgIC8qKlxuICAgICAgICogZGF0YS5jdXJyZW50LmlkZW50aWZpZXJzLmRlZmluaXRpb25zXG4gICAgICAgKlxuICAgICAgICogY3VycmVudCB2YXJpYWJsZSBkZWZpbml0aW9uc1xuICAgICAgICovXG4gICAgICBkZWZpbml0aW9uczogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW1wiL3ZpZXdzL3Njb3Blcy9pbmxpbmVkXCIsIFwiLi9fXCJdLCAoc2NvcGVzLCBpZGVudGlmaWVycykgPT4gKDAsIF9hc3NpZ24yLmRlZmF1bHQpKHt9LCAuLi4oMCwgX2VudHJpZXMyLmRlZmF1bHQpKGlkZW50aWZpZXJzKS5tYXAoKFtpZGVudGlmaWVyLCBpZF0pID0+IHtcbiAgICAgICAgbGV0IHsgZGVmaW5pdGlvbiB9ID0gc2NvcGVzW2lkXTtcblxuICAgICAgICByZXR1cm4geyBbaWRlbnRpZmllcl06IGRlZmluaXRpb24gfTtcbiAgICAgIH0pKSksXG5cbiAgICAgIC8qKlxuICAgICAgICogZGF0YS5jdXJyZW50LmlkZW50aWZpZXJzLnJlZnNcbiAgICAgICAqXG4gICAgICAgKiBjdXJyZW50IHZhcmlhYmxlcycgdmFsdWUgcmVmc1xuICAgICAgICovXG4gICAgICByZWZzOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIvcHJvYy9hc3NpZ25tZW50c1wiLCBcIi4vX1wiLCBfc2VsZWN0b3JzNi5kZWZhdWx0LmN1cnJlbnQuZnVuY3Rpb25EZXB0aCwgLy9mb3IgcHJ1bmluZyB0aGluZ3MgdG9vIGRlZXAgb24gc3RhY2tcbiAgICAgIFwiL2N1cnJlbnQvYWRkcmVzc1wiLCAvL2ZvciBjb250cmFjdCB2YXJpYWJsZXNcbiAgICAgIFwiL2N1cnJlbnQvZHVtbXlBZGRyZXNzXCIgLy9mb3IgY29udHJhY3QgdmFycyB3aGVuIGluIGNyZWF0aW9uIGNhbGxcbiAgICAgIF0sIChhc3NpZ25tZW50cywgaWRlbnRpZmllcnMsIGN1cnJlbnREZXB0aCwgYWRkcmVzcywgZHVtbXlBZGRyZXNzKSA9PiAoMCwgX2Fzc2lnbjIuZGVmYXVsdCkoe30sIC4uLigwLCBfZW50cmllczIuZGVmYXVsdCkoaWRlbnRpZmllcnMpLm1hcCgoW2lkZW50aWZpZXIsIGFzdElkXSkgPT4ge1xuICAgICAgICAvL25vdGU6IHRoaXMgbmVlZHMgdHdlYWtpbmcgZm9yIHNwZWNpYWxzIGxhdGVyXG4gICAgICAgIGxldCBpZDtcblxuICAgICAgICAvL2ZpcnN0LCBjaGVjayBpZiBpdCdzIGEgY29udHJhY3QgdmFyXG4gICAgICAgIGlmIChhZGRyZXNzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBsZXQgbWF0Y2hJZHMgPSAoYXNzaWdubWVudHMuYnlBc3RJZFthc3RJZF0gfHwgW10pLmZpbHRlcihpZEhhc2ggPT4gYXNzaWdubWVudHMuYnlJZFtpZEhhc2hdLmFkZHJlc3MgPT09IGFkZHJlc3MpO1xuICAgICAgICAgIGlmIChtYXRjaElkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZCA9IG1hdGNoSWRzWzBdOyAvL3RoZXJlIHNob3VsZCBvbmx5IGJlIG9uZSFcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IG1hdGNoSWRzID0gKGFzc2lnbm1lbnRzLmJ5QXN0SWRbYXN0SWRdIHx8IFtdKS5maWx0ZXIoaWRIYXNoID0+IGFzc2lnbm1lbnRzLmJ5SWRbaWRIYXNoXS5kdW1teUFkZHJlc3MgPT09IGR1bW15QWRkcmVzcyk7XG4gICAgICAgICAgaWYgKG1hdGNoSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlkID0gbWF0Y2hJZHNbMF07IC8vYWdhaW4sIHRoZXJlIHNob3VsZCBvbmx5IGJlIG9uZSFcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL2lmIG5vdCBjb250cmFjdCwgaXQncyBsb2NhbCwgc28gZmluZCB0aGUgaW5uZXJtb3N0XG4gICAgICAgIC8vKGJ1dCBub3QgYmV5b25kIGN1cnJlbnQgZGVwdGgpXG4gICAgICAgIGlmIChpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbGV0IG1hdGNoRnJhbWVzID0gKGFzc2lnbm1lbnRzLmJ5QXN0SWRbYXN0SWRdIHx8IFtdKS5tYXAoaWQgPT4gYXNzaWdubWVudHMuYnlJZFtpZF0uc3RhY2tmcmFtZSkuZmlsdGVyKHN0YWNrZnJhbWUgPT4gc3RhY2tmcmFtZSAhPT0gdW5kZWZpbmVkKTtcblxuICAgICAgICAgIGlmIChtYXRjaEZyYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvL3RoaXMgY2hlY2sgaXNuJ3QgKnJlYWxseSpcbiAgICAgICAgICAgIC8vbmVjZXNzYXJ5LCBidXQgbWF5IGFzIHdlbGwgcHJldmVudCBzdHVwaWQgc3R1ZmZcbiAgICAgICAgICAgIGxldCBtYXhNYXRjaCA9IE1hdGgubWluKGN1cnJlbnREZXB0aCwgTWF0aC5tYXgoLi4ubWF0Y2hGcmFtZXMpKTtcbiAgICAgICAgICAgIGlkID0gKDAsIF9oZWxwZXJzLnN0YWJsZUtlY2NhazI1NikoeyBhc3RJZCwgc3RhY2tmcmFtZTogbWF4TWF0Y2ggfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9pZiB3ZSBzdGlsbCBkaWRuJ3QgZmluZCBpdCwgb2ggd2VsbFxuXG4gICAgICAgIGxldCB7IHJlZiB9ID0gYXNzaWdubWVudHMuYnlJZFtpZF0gfHwge307XG4gICAgICAgIGlmICghcmVmKSB7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgW2lkZW50aWZpZXJdOiByZWZcbiAgICAgICAgfTtcbiAgICAgIH0pKSksXG5cbiAgICAgIC8qKlxuICAgICAgICogZGF0YS5jdXJyZW50LmlkZW50aWZpZXJzLmRlY29kZWRcbiAgICAgICAqXG4gICAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHZhbHVlcyBhcyBQcm9taXNlc1xuICAgICAgICovXG4gICAgICBkZWNvZGVkOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIvdmlld3MvZGVjb2RlclwiLCBcIi4vZGVmaW5pdGlvbnNcIiwgXCIuL3JlZnNcIl0sICgoKSA9PiB7XG4gICAgICAgIHZhciBfcmVmID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KShmdW5jdGlvbiogKGRlY29kZSwgZGVmaW5pdGlvbnMsIHJlZnMpIHtcbiAgICAgICAgICBkZWJ1ZyhcInNldHRpbmcgdXAga2V5ZWRQcm9taXNlc1wiKTtcbiAgICAgICAgICBjb25zdCBrZXllZFByb21pc2VzID0gKDAsIF9lbnRyaWVzMi5kZWZhdWx0KShyZWZzKS5tYXAoKCgpID0+IHtcbiAgICAgICAgICAgIHZhciBfcmVmMiA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoZnVuY3Rpb24qIChbaWRlbnRpZmllciwgcmVmXSkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIFtpZGVudGlmaWVyXTogeWllbGQgZGVjb2RlKGRlZmluaXRpb25zW2lkZW50aWZpZXJdLCByZWYpXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pKCkpO1xuICAgICAgICAgIGRlYnVnKFwic2V0IHVwIGtleWVkUHJvbWlzZXNcIik7XG4gICAgICAgICAgY29uc3Qga2V5ZWRSZXN1bHRzID0geWllbGQgX3Byb21pc2UyLmRlZmF1bHQuYWxsKGtleWVkUHJvbWlzZXMpO1xuICAgICAgICAgIGRlYnVnKFwiZ290IGtleWVkUmVzdWx0c1wiKTtcbiAgICAgICAgICByZXR1cm4gRGVjb2RlVXRpbHMuQ29udmVyc2lvbi5jbGVhbkNvbnRhaW5lcnMoKDAsIF9hc3NpZ24yLmRlZmF1bHQpKHt9LCAuLi5rZXllZFJlc3VsdHMpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyLCBfeDMpIHtcbiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgfSkoKSlcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIGRhdGEubmV4dFxuICAgKi9cbiAgbmV4dDoge1xuICAgIC8qKlxuICAgICAqIGRhdGEubmV4dC5zdGF0ZVxuICAgICAqL1xuICAgIHN0YXRlOiBjcmVhdGVTdGF0ZVNlbGVjdG9ycyhfc2VsZWN0b3JzNC5kZWZhdWx0Lm5leHQuc3RhdGUpXG4gIH1cbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBkYXRhO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9kYXRhL3NlbGVjdG9ycy9pbmRleC5qcyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzXCIpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG5leHBvcnRzLnNjb3BlID0gc2NvcGU7XG5leHBvcnRzLmRlY2xhcmUgPSBkZWNsYXJlO1xuZXhwb3J0cy5kZWZpbmVUeXBlID0gZGVmaW5lVHlwZTtcbmV4cG9ydHMucmVzZXQgPSByZXNldDtcbmV4cG9ydHMubGVhcm5BZGRyZXNzU2FnYSA9IGxlYXJuQWRkcmVzc1NhZ2E7XG5leHBvcnRzLnJlY29yZEFsbG9jYXRpb25zID0gcmVjb3JkQWxsb2NhdGlvbnM7XG5leHBvcnRzLnNhZ2EgPSBzYWdhO1xuXG52YXIgX2RlYnVnID0gcmVxdWlyZShcImRlYnVnXCIpO1xuXG52YXIgX2RlYnVnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlYnVnKTtcblxudmFyIF9lZmZlY3RzID0gcmVxdWlyZShcInJlZHV4LXNhZ2EvZWZmZWN0c1wiKTtcblxudmFyIF9oZWxwZXJzID0gcmVxdWlyZShcImxpYi9oZWxwZXJzXCIpO1xuXG52YXIgX2FjdGlvbnMgPSByZXF1aXJlKFwibGliL3RyYWNlL2FjdGlvbnNcIik7XG5cbnZhciBfYWN0aW9uczIgPSByZXF1aXJlKFwiLi4vYWN0aW9uc1wiKTtcblxudmFyIGFjdGlvbnMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfYWN0aW9uczIpO1xuXG52YXIgX3NhZ2FzID0gcmVxdWlyZShcImxpYi90cmFjZS9zYWdhc1wiKTtcblxudmFyIHRyYWNlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3NhZ2FzKTtcblxudmFyIF9zZWxlY3RvcnMgPSByZXF1aXJlKFwiLi4vc2VsZWN0b3JzXCIpO1xuXG52YXIgX3NlbGVjdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3RvcnMpO1xuXG52YXIgX3RydWZmbGVEZWNvZGVVdGlscyA9IHJlcXVpcmUoXCJ0cnVmZmxlLWRlY29kZS11dGlsc1wiKTtcblxudmFyIERlY29kZVV0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3RydWZmbGVEZWNvZGVVdGlscyk7XG5cbnZhciBfdHJ1ZmZsZURlY29kZXIgPSByZXF1aXJlKFwidHJ1ZmZsZS1kZWNvZGVyXCIpO1xuXG52YXIgX2JuID0gcmVxdWlyZShcImJuLmpzXCIpO1xuXG52YXIgX2JuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JuKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuY29uc3QgZGVidWcgPSAoMCwgX2RlYnVnMi5kZWZhdWx0KShcImRlYnVnZ2VyOmRhdGE6c2FnYXNcIik7XG5cbmZ1bmN0aW9uKiBzY29wZShub2RlSWQsIHBvaW50ZXIsIHBhcmVudElkLCBzb3VyY2VJZCkge1xuICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0UmVzb2x2ZSkoYWN0aW9ucy5zY29wZShub2RlSWQsIHBvaW50ZXIsIHBhcmVudElkLCBzb3VyY2VJZCkpO1xufVxuXG5mdW5jdGlvbiogZGVjbGFyZShub2RlKSB7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXRSZXNvbHZlKShhY3Rpb25zLmRlY2xhcmUobm9kZSkpO1xufVxuXG5mdW5jdGlvbiogZGVmaW5lVHlwZShub2RlKSB7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXRSZXNvbHZlKShhY3Rpb25zLmRlZmluZVR5cGUobm9kZSkpO1xufVxuXG5mdW5jdGlvbiogdGlja1NhZ2EoKSB7XG4gIGRlYnVnKFwiZ290IFRJQ0tcIik7XG5cbiAgeWllbGQqIHZhcmlhYmxlc0FuZE1hcHBpbmdzU2FnYSgpO1xuICB5aWVsZCogdHJhY2Uuc2lnbmFsVGlja1NhZ2FDb21wbGV0aW9uKCk7XG59XG5cbmZ1bmN0aW9uKiB2YXJpYWJsZXNBbmRNYXBwaW5nc1NhZ2EoKSB7XG4gIGxldCBub2RlID0gKHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQudmlld3MuYXN0KSkubm9kZTtcbiAgbGV0IGRlY29kZSA9IHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQudmlld3MuZGVjb2Rlcik7XG4gIGxldCBzY29wZXMgPSB5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LnZpZXdzLnNjb3Blcy5pbmxpbmVkKTtcbiAgbGV0IHJlZmVyZW5jZURlY2xhcmF0aW9ucyA9IHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQudmlld3MucmVmZXJlbmNlRGVjbGFyYXRpb25zKTtcbiAgbGV0IGFsbG9jYXRpb25zID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5pbmZvLmFsbG9jYXRpb25zLnN0b3JhZ2UpO1xuICBsZXQgY3VycmVudEFzc2lnbm1lbnRzID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5wcm9jLmFzc2lnbm1lbnRzKTtcbiAgbGV0IG1hcHBlZFBhdGhzID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5wcm9jLm1hcHBlZFBhdGhzKTtcbiAgbGV0IGN1cnJlbnREZXB0aCA9IHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5mdW5jdGlvbkRlcHRoKTtcbiAgbGV0IGFkZHJlc3MgPSB5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LmN1cnJlbnQuYWRkcmVzcyk7IC8vbWF5IGJlIHVuZGVmaW5lZFxuICBsZXQgZHVtbXlBZGRyZXNzID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LmR1bW15QWRkcmVzcyk7XG5cbiAgbGV0IHN0YWNrID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5uZXh0LnN0YXRlLnN0YWNrKTtcbiAgaWYgKCFzdGFjaykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCB0b3AgPSBzdGFjay5sZW5ndGggLSAxO1xuICB2YXIgYXNzaWdubWVudCwgYXNzaWdubWVudHMsIGJhc2VFeHByZXNzaW9uLCBzbG90LCBwYXRoO1xuXG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHN0YWNrIGlzIG9ubHkgcmVhZHkgZm9yIGludGVycHJldGF0aW9uIGFmdGVyIHRoZSBsYXN0IHN0ZXAgb2YgZWFjaFxuICAvLyBzb3VyY2UgcmFuZ2VcbiAgLy9cbiAgLy8gdGhlIGRhdGEgbW9kdWxlIGFsd2F5cyBsb29rcyBhdCB0aGUgcmVzdWx0IG9mIGEgcGFydGljdWxhciBvcGNvZGVcbiAgLy8gKGkuZS4sIHRoZSBmb2xsb3dpbmcgdHJhY2Ugc3RlcCdzIHN0YWNrL21lbW9yeS9zdG9yYWdlKSwgc28gdGhpc1xuICAvLyBhc3NlcnRzIHRoYXQgdGhlIF9jdXJyZW50XyBvcGVyYXRpb24gaXMgdGhlIGZpbmFsIG9uZSBiZWZvcmVcbiAgLy8gcHJvY2VlZGluZ1xuICBpZiAoISh5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LnZpZXdzLmF0TGFzdEluc3RydWN0aW9uRm9yU291cmNlUmFuZ2UpKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAgIGNhc2UgXCJGdW5jdGlvbkRlZmluaXRpb25cIjpcbiAgICAgIGxldCBwYXJhbWV0ZXJzID0gbm9kZS5wYXJhbWV0ZXJzLnBhcmFtZXRlcnM7XG4gICAgICAvL25vdGUgdGhhdCB3ZSBkbyAqbm90KiBpbmNsdWRlIHJldHVybiBwYXJhbWV0ZXJzLCBzaW5jZSB0aG9zZSBhcmVcbiAgICAgIC8vaGFuZGxlZCBieSB0aGUgVmFyaWFibGVEZWNsYXJhdGlvbiBjYXNlIChubywgSSBkb24ndCBrbm93IHdoeSBpdFxuICAgICAgLy93b3JrcyBvdXQgdGhhdCB3YXkpXG4gICAgICBsZXQgcmV2ZXJzZVBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzLnNsaWNlKCkucmV2ZXJzZSgpO1xuICAgICAgLy9yZXZlcnNlIGlzIGluLXBsYWNlLCBzbyB3ZSB1c2Ugc2xpY2UoKSB0byBjbG9uZSBmaXJzdFxuICAgICAgZGVidWcoXCJyZXZlcnNlUGFyYW1ldGVycyAlb1wiLCBwYXJhbWV0ZXJzKTtcblxuICAgICAgbGV0IGN1cnJlbnRQb3NpdGlvbiA9IHRvcDtcbiAgICAgIGFzc2lnbm1lbnRzID0geyBieUlkOiB7fSB9O1xuXG4gICAgICBmb3IgKGxldCBwYXJhbWV0ZXIgb2YgcmV2ZXJzZVBhcmFtZXRlcnMpIHtcbiAgICAgICAgbGV0IHdvcmRzID0gRGVjb2RlVXRpbHMuRGVmaW5pdGlvbi5zdGFja1NpemUocGFyYW1ldGVyKTtcbiAgICAgICAgbGV0IHBvaW50ZXIgPSB7XG4gICAgICAgICAgc3RhY2s6IHtcbiAgICAgICAgICAgIGZyb206IGN1cnJlbnRQb3NpdGlvbiAtIHdvcmRzICsgMSxcbiAgICAgICAgICAgIHRvOiBjdXJyZW50UG9zaXRpb25cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGxldCBhc3NpZ25tZW50ID0gbWFrZUFzc2lnbm1lbnQoeyBhc3RJZDogcGFyYW1ldGVyLmlkLCBzdGFja2ZyYW1lOiBjdXJyZW50RGVwdGggfSwgcG9pbnRlcik7XG4gICAgICAgIGFzc2lnbm1lbnRzLmJ5SWRbYXNzaWdubWVudC5pZF0gPSBhc3NpZ25tZW50O1xuICAgICAgICBjdXJyZW50UG9zaXRpb24gLT0gd29yZHM7XG4gICAgICB9XG5cbiAgICAgIGRlYnVnKFwiRnVuY3Rpb24gZGVmaW5pdGlvbiBjYXNlXCIpO1xuICAgICAgZGVidWcoXCJhc3NpZ25tZW50cyAlT1wiLCBhc3NpZ25tZW50cyk7XG5cbiAgICAgIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuYXNzaWduKGFzc2lnbm1lbnRzKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgXCJDb250cmFjdERlZmluaXRpb25cIjpcbiAgICAgIGxldCBhbGxvY2F0aW9uID0gYWxsb2NhdGlvbnNbbm9kZS5pZF07XG5cbiAgICAgIGRlYnVnKFwiQ29udHJhY3QgZGVmaW5pdGlvbiBjYXNlXCIpO1xuICAgICAgZGVidWcoXCJhbGxvY2F0aW9ucyAlT1wiLCBhbGxvY2F0aW9ucyk7XG4gICAgICBkZWJ1ZyhcImFsbG9jYXRpb24gJU9cIiwgYWxsb2NhdGlvbik7XG4gICAgICBhc3NpZ25tZW50cyA9IHsgYnlJZDoge30gfTtcbiAgICAgIGZvciAobGV0IGlkIGluIGFsbG9jYXRpb24ubWVtYmVycykge1xuICAgICAgICBpZCA9IE51bWJlcihpZCk7IC8vbm90IHN1cmUgd2h5IHdlJ3JlIGdldHRpbmcgdGhlbSBhcyBzdHJpbmdzLCBidXQuLi5cbiAgICAgICAgbGV0IGlkT2JqID0gYWRkcmVzcyAhPT0gdW5kZWZpbmVkID8geyBhc3RJZDogaWQsIGFkZHJlc3MgfSA6IHsgYXN0SWQ6IGlkLCBkdW1teUFkZHJlc3MgfTtcbiAgICAgICAgbGV0IGZ1bGxJZCA9ICgwLCBfaGVscGVycy5zdGFibGVLZWNjYWsyNTYpKGlkT2JqKTtcbiAgICAgICAgLy93ZSBkb24ndCB1c2UgbWFrZUFzc2lnbm1lbnQgaGVyZSBhcyB3ZSBoYWQgdG8gY29tcHV0ZSB0aGUgSUQgYW55d2F5XG4gICAgICAgIGFzc2lnbm1lbnQgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBpZE9iaiwge1xuICAgICAgICAgIGlkOiBmdWxsSWQsXG4gICAgICAgICAgcmVmOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCAoY3VycmVudEFzc2lnbm1lbnRzLmJ5SWRbZnVsbElkXSB8fCB7fSkucmVmIHx8IHt9LCBhbGxvY2F0aW9uLm1lbWJlcnNbaWRdLnBvaW50ZXIpXG4gICAgICAgIH0pO1xuICAgICAgICBhc3NpZ25tZW50cy5ieUlkW2Z1bGxJZF0gPSBhc3NpZ25tZW50O1xuICAgICAgfVxuICAgICAgZGVidWcoXCJhc3NpZ25tZW50cyAlT1wiLCBhc3NpZ25tZW50cyk7XG5cbiAgICAgIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuYXNzaWduKGFzc2lnbm1lbnRzKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgXCJWYXJpYWJsZURlY2xhcmF0aW9uXCI6XG4gICAgICBsZXQgdmFySWQgPSBub2RlLmlkO1xuICAgICAgZGVidWcoXCJWYXJpYWJsZSBkZWNsYXJhdGlvbiBjYXNlXCIpO1xuICAgICAgZGVidWcoXCJjdXJyZW50RGVwdGggJWQgdmFySWQgJWRcIiwgY3VycmVudERlcHRoLCB2YXJJZCk7XG5cbiAgICAgIC8vTk9URTogV2UncmUgZ29pbmcgdG8gbWFrZSB0aGUgYXNzaWdubWVudCBjb25kaXRpb25hbCBoZXJlOyBoZXJlJ3Mgd2h5LlxuICAgICAgLy9UaGVyZSdzIGEgYnVnIHdoZXJlIGNhbGxpbmcgdGhlIGF1dG9nZW5lcmF0ZWQgYWNjZXNzb3IgZm9yIGEgcHVibGljXG4gICAgICAvL2NvbnRyYWN0IHZhcmlhYmxlIGNhdXNlcyB0aGUgZGVidWdnZXIgdG8gc2VlIHR3byBhZGRpdGlvbmFsXG4gICAgICAvL2RlY2xhcmF0aW9ucyBmb3IgdGhhdCB2YXJpYWJsZS4uLiB3aGljaCB0aGlzIGNvZGUgcmVhZHMgYXMgbG9jYWxcbiAgICAgIC8vdmFyaWFibGUgZGVjbGFyYXRpb25zLiAgUmF0aGVyIHRoYW4gcHJldmVudCB0aGlzIGF0IHRoZSBzb3VyY2UsIHdlJ3JlXG4gICAgICAvL2p1c3QgZ29pbmcgdG8gY2hlY2sgZm9yIGl0IGhlcmUsIGJ5IG5vdCBhZGRpbmcgYSBsb2NhbCB2YXJpYWJsZSBpZiBzYWlkXG4gICAgICAvL3ZhcmlhYmxlIGlzIGFscmVhZHkgYSBjb250cmFjdCB2YXJpYWJsZS5cblxuICAgICAgaWYgKGN1cnJlbnRBc3NpZ25tZW50cy5ieUFzdElkW3ZhcklkXSAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnRBc3NpZ25tZW50cy5ieUFzdElkW3ZhcklkXS5zb21lKGlkID0+IGN1cnJlbnRBc3NpZ25tZW50cy5ieUlkW2lkXS5hZGRyZXNzICE9PSB1bmRlZmluZWQgfHwgY3VycmVudEFzc2lnbm1lbnRzLmJ5SWRbaWRdLmR1bW15QWRkcmVzcyAhPT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLy9vdGhlcndpc2UsIGdvIGFoZWFkIGFuZCBtYWtlIHRoZSBhc3NpZ25tZW50XG4gICAgICBhc3NpZ25tZW50ID0gbWFrZUFzc2lnbm1lbnQoeyBhc3RJZDogdmFySWQsIHN0YWNrZnJhbWU6IGN1cnJlbnREZXB0aCB9LCB7XG4gICAgICAgIHN0YWNrOiB7XG4gICAgICAgICAgZnJvbTogdG9wIC0gRGVjb2RlVXRpbHMuRGVmaW5pdGlvbi5zdGFja1NpemUobm9kZSkgKyAxLFxuICAgICAgICAgIHRvOiB0b3BcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhc3NpZ25tZW50cyA9IHsgYnlJZDogeyBbYXNzaWdubWVudC5pZF06IGFzc2lnbm1lbnQgfSB9O1xuICAgICAgeWllbGQgKDAsIF9lZmZlY3RzLnB1dCkoYWN0aW9ucy5hc3NpZ24oYXNzaWdubWVudHMpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBcIkluZGV4QWNjZXNzXCI6XG4gICAgICAvLyB0byB0cmFjayBgbWFwcGluZ2AgdHlwZXMga25vd24gaW5kaWNlc1xuICAgICAgLy8gKGFuZCBhbHNvICpzb21lKiBrbm93biBpbmRpY2VzIGZvciBhcnJheXMpXG5cbiAgICAgIGRlYnVnKFwiSW5kZXggYWNjZXNzIGNhc2VcIik7XG5cbiAgICAgIC8vd2UncmUgZ29pbmcgdG8gc3RhcnQgYnkgZG9pbmcgdGhlIHNhbWUgdGhpbmcgYXMgaW4gdGhlIGRlZmF1bHQgY2FzZVxuICAgICAgLy8oc2VlIGJlbG93KSAtLSBnZXR0aW5nIHRoaW5ncyByZWFkeSBmb3IgYW4gYXNzaWdubWVudC4gIFRoZW4gd2UncmVcbiAgICAgIC8vZ29pbmcgdG8gZm9yZ2V0IHRoaXMgZm9yIGEgYml0IHdoaWxlIHdlIGhhbmRsZSB0aGUgcmVzdC4uLlxuICAgICAgYXNzaWdubWVudHMgPSBsaXRlcmFsQXNzaWdubWVudHMobm9kZSwgc3RhY2ssIGN1cnJlbnREZXB0aCk7XG5cbiAgICAgIC8vd2UnbGwgbmVlZCB0aGlzXG4gICAgICBiYXNlRXhwcmVzc2lvbiA9IG5vZGUuYmFzZUV4cHJlc3Npb247XG5cbiAgICAgIC8vYnV0IGZpcnN0LCBhIGRpdmVyc2lvbiAtLSBpcyB0aGlzIHNvbWV0aGluZyB0aGF0IGNvdWxkIG5vdCAqcG9zc2libHkqXG4gICAgICAvL2xlYWQgdG8gYSBtYXBwaW5nPyAgaS5lLiwgZWl0aGVyIGEgYnl0ZXMsIG9yIGFuIGFycmF5IG9mIG5vbi1yZWZlcmVuY2VcbiAgICAgIC8vdHlwZXMsIG9yIGEgbm9uLXN0b3JhZ2UgYXJyYXk/XG4gICAgICAvL2lmIHNvLCB3ZSdsbCBqdXN0IGRvIHRoZSBhc3NpZ24gYW5kIHF1aXQgb3V0IGVhcmx5XG4gICAgICAvLyhub3RlOiB3ZSB3cml0ZSBpdCB0aGlzIHdheSBiZWNhdXNlIG1hcHBpbmdzIGFyZW4ndCBjYXVnaHQgYnlcbiAgICAgIC8vaXNSZWZlcmVuY2UpXG4gICAgICBpZiAoRGVjb2RlVXRpbHMuRGVmaW5pdGlvbi50eXBlQ2xhc3MoYmFzZUV4cHJlc3Npb24pID09PSBcImJ5dGVzXCIgfHwgRGVjb2RlVXRpbHMuRGVmaW5pdGlvbi50eXBlQ2xhc3MoYmFzZUV4cHJlc3Npb24pID09PSBcImFycmF5XCIgJiYgKERlY29kZVV0aWxzLkRlZmluaXRpb24uaXNSZWZlcmVuY2Uobm9kZSkgPyBEZWNvZGVVdGlscy5EZWZpbml0aW9uLnJlZmVyZW5jZVR5cGUoYmFzZUV4cHJlc3Npb24pICE9PSBcInN0b3JhZ2VcIiA6ICFEZWNvZGVVdGlscy5EZWZpbml0aW9uLmlzTWFwcGluZyhub2RlKSkpIHtcbiAgICAgICAgZGVidWcoXCJJbmRleCBjYXNlIGJhaWxlZCBvdXQgZWFybHlcIik7XG4gICAgICAgIGRlYnVnKFwidHlwZUNsYXNzICVzXCIsIERlY29kZVV0aWxzLkRlZmluaXRpb24udHlwZUNsYXNzKGJhc2VFeHByZXNzaW9uKSk7XG4gICAgICAgIGRlYnVnKFwicmVmZXJlbmNlVHlwZSAlc1wiLCBEZWNvZGVVdGlscy5EZWZpbml0aW9uLnJlZmVyZW5jZVR5cGUoYmFzZUV4cHJlc3Npb24pKTtcbiAgICAgICAgZGVidWcoXCJpc1JlZmVyZW5jZShub2RlKSAlb1wiLCBEZWNvZGVVdGlscy5EZWZpbml0aW9uLmlzUmVmZXJlbmNlKG5vZGUpKTtcbiAgICAgICAgeWllbGQgKDAsIF9lZmZlY3RzLnB1dCkoYWN0aW9ucy5hc3NpZ24oYXNzaWdubWVudHMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGxldCBrZXlEZWZpbml0aW9uID0gRGVjb2RlVXRpbHMuRGVmaW5pdGlvbi5rZXlEZWZpbml0aW9uKGJhc2VFeHByZXNzaW9uLCBzY29wZXMpO1xuICAgICAgLy9pZiB3ZSdyZSBkZWFsaW5nIHdpdGggYW4gYXJyYXksIHRoaXMgd2lsbCBqdXN0IGhhY2sgdXAgYSB1aW50IGRlZmluaXRpb25cbiAgICAgIC8vOilcblxuICAgICAgLy9iZWdpbiBzdWJzZWN0aW9uOiBrZXkgZGVjb2RpbmdcbiAgICAgIC8vKEkgdHJpZWQgZmFjdG9yaW5nIHRoaXMgb3V0IGludG8gaXRzIG93biBzYWdhIGJ1dCBpdCBkaWRuJ3Qgd29yayB3aGVuIElcbiAgICAgIC8vZGlkIDpQIClcbiAgICAgIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMubWFwS2V5RGVjb2RpbmcodHJ1ZSkpO1xuXG4gICAgICBsZXQgaW5kZXhWYWx1ZTtcbiAgICAgIGxldCBpbmRleERlZmluaXRpb24gPSBub2RlLmluZGV4RXhwcmVzc2lvbjtcblxuICAgICAgLy93aHkgdGhlIGxvb3A/IHNlZSB0aGUgZW5kIG9mIHRoZSBibG9jayBpdCBoZWFkcyBmb3IgYW4gZXhwbGFuYXRvcnlcbiAgICAgIC8vY29tbWVudFxuICAgICAgd2hpbGUgKGluZGV4VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXQgaW5kZXhJZCA9IGluZGV4RGVmaW5pdGlvbi5pZDtcbiAgICAgICAgLy9pbmRpY2VzIG5lZWQgdG8gYmUgaWRlbnRpZmllZCBieSBzdGFja2ZyYW1lXG4gICAgICAgIGxldCBpbmRleElkT2JqID0geyBhc3RJZDogaW5kZXhJZCwgc3RhY2tmcmFtZTogY3VycmVudERlcHRoIH07XG4gICAgICAgIGxldCBmdWxsSW5kZXhJZCA9ICgwLCBfaGVscGVycy5zdGFibGVLZWNjYWsyNTYpKGluZGV4SWRPYmopO1xuXG4gICAgICAgIGNvbnN0IGluZGV4UmVmZXJlbmNlID0gKGN1cnJlbnRBc3NpZ25tZW50cy5ieUlkW2Z1bGxJbmRleElkXSB8fCB7fSkucmVmO1xuXG4gICAgICAgIGlmIChEZWNvZGVVdGlscy5EZWZpbml0aW9uLmlzU2ltcGxlQ29uc3RhbnQoaW5kZXhEZWZpbml0aW9uKSkge1xuICAgICAgICAgIC8vd2hpbGUgdGhlIG1haW4gY2FzZSBpcyB0aGUgbmV4dCBvbmUsIHdoZXJlIHdlIGxvb2sgZm9yIGEgcHJpb3JcbiAgICAgICAgICAvL2Fzc2lnbm1lbnQsIHdlIG5lZWQgdGhpcyBjYXNlIChhbmQgbmVlZCBpdCBmaXJzdCkgZm9yIHR3byByZWFzb25zOlxuICAgICAgICAgIC8vMS4gc29tZSBjb25zdGFudCBleHByZXNzaW9ucyAoc3BlY2lmaWNhbGx5LCBzdHJpbmcgYW5kIGhleCBsaXRlcmFscylcbiAgICAgICAgICAvL2FyZW4ndCBzb3VyY2VtYXBwZWQgdG8gYW5kIHNvIHdvbid0IGhhdmUgYSBwcmlvciBhc3NpZ25tZW50XG4gICAgICAgICAgLy8yLiBpZiB0aGUga2V5IHR5cGUgaXMgYnl0ZXNOIGJ1dCB0aGUgZXhwcmVzc2lvbiBpcyBjb25zdGFudCwgdGhlXG4gICAgICAgICAgLy92YWx1ZSB3aWxsIGdvIG9uIHRoZSBzdGFjayAqbGVmdCotcGFkZGVkIGluc3RlYWQgb2YgcmlnaHQtcGFkZGVkLFxuICAgICAgICAgIC8vc28gbG9va2luZyBmb3IgYSBwcmlvciBhc3NpZ25tZW50IHdpbGwgcmVhZCB0aGUgd3JvbmcgdmFsdWUuXG4gICAgICAgICAgLy9zbyBpbnN0ZWFkIGl0J3MgcHJlZmVyYWJsZSB0byB1c2UgdGhlIGNvbnN0YW50IGRpcmVjdGx5LlxuICAgICAgICAgIGluZGV4VmFsdWUgPSB5aWVsZCAoMCwgX2VmZmVjdHMuY2FsbCkoZGVjb2RlLCBrZXlEZWZpbml0aW9uLCB7XG4gICAgICAgICAgICBkZWZpbml0aW9uOiBpbmRleERlZmluaXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleFJlZmVyZW5jZSkge1xuICAgICAgICAgIC8vaWYgYSBwcmlvciBhc3NpZ25tZW50IGlzIGZvdW5kXG4gICAgICAgICAgbGV0IHNwbGljZWREZWZpbml0aW9uO1xuICAgICAgICAgIC8vaW4gZ2VuZXJhbCwgd2Ugd2FudCB0byBkZWNvZGUgdXNpbmcgdGhlIGtleSBkZWZpbml0aW9uLCBub3QgdGhlIGluZGV4XG4gICAgICAgICAgLy9kZWZpbml0aW9uLiBob3dldmVyLCB0aGUga2V5IGRlZmluaXRpb24gbWF5IGhhdmUgdGhlIHdyb25nIGxvY2F0aW9uXG4gICAgICAgICAgLy9vbiBpdC4gIHNvLCB3aGVuIGFwcGxpY2FibGUsIHdlIHNwbGljZSB0aGUgaW5kZXggZGVmaW5pdGlvbiBsb2NhdGlvblxuICAgICAgICAgIC8vb250byB0aGUga2V5IGRlZmluaXRpb24gbG9jYXRpb24uXG4gICAgICAgICAgaWYgKERlY29kZVV0aWxzLkRlZmluaXRpb24uaXNSZWZlcmVuY2UoaW5kZXhEZWZpbml0aW9uKSkge1xuICAgICAgICAgICAgc3BsaWNlZERlZmluaXRpb24gPSBEZWNvZGVVdGlscy5EZWZpbml0aW9uLnNwbGljZUxvY2F0aW9uKGtleURlZmluaXRpb24sIERlY29kZVV0aWxzLkRlZmluaXRpb24ucmVmZXJlbmNlVHlwZShpbmRleERlZmluaXRpb24pKTtcbiAgICAgICAgICAgIC8vd2UgY291bGQgcHV0IGNvZGUgaGVyZSB0byBhZGQgb24gdGhlIFwiX3B0clwiIGVuZGluZyB3aGVuIGFic2VudCxcbiAgICAgICAgICAgIC8vYnV0IHdlIHByZXNlbnRseSBpZ25vcmUgdGhhdCBlbmRpbmcsIHNvIHdlJ2xsIHNraXAgdGhhdFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzcGxpY2VkRGVmaW5pdGlvbiA9IGtleURlZmluaXRpb247XG4gICAgICAgICAgfVxuICAgICAgICAgIGluZGV4VmFsdWUgPSB5aWVsZCAoMCwgX2VmZmVjdHMuY2FsbCkoZGVjb2RlLCBzcGxpY2VkRGVmaW5pdGlvbiwgaW5kZXhSZWZlcmVuY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGluZGV4RGVmaW5pdGlvbi5yZWZlcmVuY2VkRGVjbGFyYXRpb24gJiYgc2NvcGVzW2luZGV4RGVmaW5pdGlvbi5yZWZlcmVuY2VEZWNsYXJhdGlvbl0pIHtcbiAgICAgICAgICAvL3RoZXJlJ3Mgb25lIG1vcmUgcmVhc29uIHdlIG1pZ2h0IGhhdmUgZmFpbGVkIHRvIGRlY29kZSBpdDogaXQgbWlnaHQgYmUgYVxuICAgICAgICAgIC8vY29uc3RhbnQgc3RhdGUgdmFyaWFibGUuICBVbmZvcnR1bmF0ZWx5LCB3ZSBkb24ndCBrbm93IGhvdyB0byBkZWNvZGUgYWxsXG4gICAgICAgICAgLy90aG9zZSBhdCB0aGUgbW9tZW50LCBidXQgd2UgY2FuIGhhbmRsZSB0aGUgb25lcyB3ZSBkbyBrbm93IGhvdyB0byBkZWNvZGUuXG4gICAgICAgICAgLy9JbiB0aGUgZnV0dXJlIGhvcGVmdWxseSB3ZSB3aWxsIGRlY29kZSBhbGwgb2YgdGhlbVxuICAgICAgICAgIGRlYnVnKFwicmVmZXJlbmNlZERlY2xhcmF0aW9uICVkXCIsIGluZGV4RGVmaW5pdGlvbi5yZWZlcmVuY2VkRGVjbGFyYXRpb24pO1xuICAgICAgICAgIGxldCBpbmRleENvbnN0YW50RGVjbGFyYXRpb24gPSBzY29wZXNbaW5kZXhEZWZpbml0aW9uLnJlZmVyZW5jZWREZWNsYXJhdGlvbl0uZGVmaW5pdGlvbjtcbiAgICAgICAgICBkZWJ1ZyhcImluZGV4Q29uc3RhbnREZWNsYXJhdGlvbiAlT1wiLCBpbmRleENvbnN0YW50RGVjbGFyYXRpb24pO1xuICAgICAgICAgIGlmIChpbmRleENvbnN0YW50RGVjbGFyYXRpb24uY29uc3RhbnQpIHtcbiAgICAgICAgICAgIGxldCBpbmRleENvbnN0YW50RGVmaW5pdGlvbiA9IGluZGV4Q29uc3RhbnREZWNsYXJhdGlvbi52YWx1ZTtcbiAgICAgICAgICAgIC8vbmV4dCBsaW5lIGZpbHRlcnMgb3V0IGNvbnN0YW50cyB3ZSBkb24ndCBrbm93IGhvdyB0byBoYW5kbGVcbiAgICAgICAgICAgIGlmIChEZWNvZGVVdGlscy5EZWZpbml0aW9uLmlzU2ltcGxlQ29uc3RhbnQoaW5kZXhDb25zdGFudERlZmluaXRpb24pKSB7XG4gICAgICAgICAgICAgIGluZGV4VmFsdWUgPSB5aWVsZCAoMCwgX2VmZmVjdHMuY2FsbCkoZGVjb2RlLCBrZXlEZWZpbml0aW9uLCB7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogaW5kZXhDb25zdGFudERlY2xhcmF0aW9uLnZhbHVlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL3RoZXJlJ3Mgc3RpbGwgb25lIG1vcmUgcmVhc29uIHdlIG1pZ2h0IGhhdmUgZmFpbGVkIHRvIGRlY29kZSBpdDpcbiAgICAgICAgLy9jZXJ0YWluIChzaWxlbnQpIHR5cGUgY29udmVyc2lvbnMgYXJlbid0IHNvdXJjZW1hcHBlZCBlaXRoZXIuXG4gICAgICAgIC8vKHRoYW5rZnVsbHksIGFueSB0eXBlIGNvbnZlcnNpb24gdGhhdCBhY3R1YWxseSAqZG9lcyogc29tZXRoaW5nIHNlZW1zXG4gICAgICAgIC8vdG8gYmUgc291cmNlbWFwcGVkLikgIFNvIGlmIHdlJ3ZlIGZhaWxlZCB0byBkZWNvZGUgaXQsIHdlIHRyeSBhZ2FpblxuICAgICAgICAvL3dpdGggdGhlIGFyZ3VtZW50IG9mIHRoZSB0eXBlIGNvbnZlcnNpb24sIGlmIGl0IGlzIG9uZTsgd2UgbGVhdmVcbiAgICAgICAgLy9pbmRleFZhbHVlIHVuZGVmaW5lZCBzbyB0aGUgbG9vcCB3aWxsIGNvbnRpbnVlXG4gICAgICAgIC8vKG5vdGUgdGhhdCB0aGlzIGNhc2UgaXMgbGFzdCBmb3IgYSByZWFzb247IGlmIHRoaXMgd2VyZSBlYXJsaWVyLCBpdFxuICAgICAgICAvL3dvdWxkIGNhdGNoICpub24qLXNpbGVudCB0eXBlIGNvbnZlcnNpb25zLCB3aGljaCB3ZSB3YW50IHRvIGp1c3QgcmVhZFxuICAgICAgICAvL29mZiB0aGUgc3RhY2spXG4gICAgICAgIGVsc2UgaWYgKGluZGV4RGVmaW5pdGlvbi5raW5kID09PSBcInR5cGVDb252ZXJzaW9uXCIpIHtcbiAgICAgICAgICAgIGluZGV4RGVmaW5pdGlvbiA9IGluZGV4RGVmaW5pdGlvbi5hcmd1bWVudHNbMF07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vb3RoZXJ3aXNlLCB3ZSd2ZSBqdXN0IHRvdGFsbHkgZmFpbGVkIHRvIGRlY29kZSBpdCwgc28gd2UgbWFya1xuICAgICAgICAgIC8vaW5kZXhWYWx1ZSBhcyBudWxsIChhcyBkaXN0aW5jdCBmcm9tIHVuZGVmaW5lZCkgdG8gaW5kaWNhdGUgdGhpcy4gIEluXG4gICAgICAgICAgLy90aGUgZnV0dXJlLCB3ZSBzaG91bGQgYmUgYWJsZSB0byBkZWNvZGUgYWxsIG1hcHBpbmcga2V5cywgYnV0IHdlJ3JlXG4gICAgICAgICAgLy9ub3QgcXVpdGUgdGhlcmUgeWV0LCBzb3JyeSAoYmVjYXVzZSB3ZSBjYW4ndCB5ZXQgaGFuZGxlIGFsbCBjb25zdGFudFxuICAgICAgICAgIC8vc3RhdGUgdmFyaWFibGVzKVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBpbmRleFZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgLy9ub3csIGFzIG1lbnRpb25lZCwgcmV0cnkgaW4gdGhlIHR5cGVDb252ZXJzaW9uIGNhc2VcbiAgICAgIH1cblxuICAgICAgeWllbGQgKDAsIF9lZmZlY3RzLnB1dCkoYWN0aW9ucy5tYXBLZXlEZWNvZGluZyhmYWxzZSkpO1xuICAgICAgLy9lbmQgc3Vic2VjdGlvbjoga2V5IGRlY29kaW5nXG5cbiAgICAgIGRlYnVnKFwiaW5kZXggdmFsdWUgJU9cIiwgaW5kZXhWYWx1ZSk7XG4gICAgICBkZWJ1ZyhcImtleURlZmluaXRpb24gJW9cIiwga2V5RGVmaW5pdGlvbik7XG5cbiAgICAgIC8vd2hldyEgQnV0IHdlJ3JlIG5vdCBkb25lIHlldCAtLSB3ZSBuZWVkIHRvIHR1cm4gdGhpcyBkZWNvZGVkIGtleSBpbnRvXG4gICAgICAvL2FuIGFjdHVhbCBwYXRoIChhc3N1bWluZyB3ZSAqZGlkKiBkZWNvZGUgaXQpXG4gICAgICBpZiAoaW5kZXhWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBwYXRoID0gZmV0Y2hCYXNlUGF0aChiYXNlRXhwcmVzc2lvbiwgbWFwcGVkUGF0aHMsIGN1cnJlbnRBc3NpZ25tZW50cywgY3VycmVudERlcHRoKTtcblxuICAgICAgICBsZXQgc2xvdCA9IHsgcGF0aCB9O1xuXG4gICAgICAgIC8vd2UgbmVlZCB0byBkbyB0aGluZ3MgZGlmZmVyZW50bHkgZGVwZW5kaW5nIG9uIHdoZXRoZXIgd2UncmUgZGVhbGluZ1xuICAgICAgICAvL3dpdGggYW4gYXJyYXkgb3IgbWFwcGluZ1xuICAgICAgICBzd2l0Y2ggKERlY29kZVV0aWxzLkRlZmluaXRpb24udHlwZUNsYXNzKGJhc2VFeHByZXNzaW9uKSkge1xuICAgICAgICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgICAgICAgc2xvdC5oYXNoUGF0aCA9IERlY29kZVV0aWxzLkRlZmluaXRpb24uaXNEeW5hbWljQXJyYXkoYmFzZUV4cHJlc3Npb24pO1xuICAgICAgICAgICAgc2xvdC5vZmZzZXQgPSBpbmRleFZhbHVlLm11bG4oKDAsIF90cnVmZmxlRGVjb2Rlci5zdG9yYWdlU2l6ZSkobm9kZSwgcmVmZXJlbmNlRGVjbGFyYXRpb25zLCBhbGxvY2F0aW9ucykud29yZHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm1hcHBpbmdcIjpcbiAgICAgICAgICAgIHNsb3Qua2V5ID0gaW5kZXhWYWx1ZTtcbiAgICAgICAgICAgIHNsb3Qua2V5RW5jb2RpbmcgPSBEZWNvZGVVdGlscy5EZWZpbml0aW9uLmtleUVuY29kaW5nKGtleURlZmluaXRpb24pO1xuICAgICAgICAgICAgc2xvdC5vZmZzZXQgPSBuZXcgX2JuMi5kZWZhdWx0KDApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGRlYnVnKFwidW5yZWNvZ25pemVkIGluZGV4IGFjY2VzcyFcIik7XG4gICAgICAgIH1cbiAgICAgICAgZGVidWcoXCJzbG90ICVPXCIsIHNsb3QpO1xuXG4gICAgICAgIC8vbm93LCBtYXAgaXQhIChhbmQgZG8gdGhlIGFzc2lnbiBhcyB3ZWxsKVxuICAgICAgICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLm1hcFBhdGhBbmRBc3NpZ24oYWRkcmVzcyB8fCBkdW1teUFkZHJlc3MsIHNsb3QsIGFzc2lnbm1lbnRzLCBEZWNvZGVVdGlscy5EZWZpbml0aW9uLnR5cGVJZGVudGlmaWVyKG5vZGUpLCBEZWNvZGVVdGlscy5EZWZpbml0aW9uLnR5cGVJZGVudGlmaWVyKGJhc2VFeHByZXNzaW9uKSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9pZiB3ZSBmYWlsZWQgdG8gZGVjb2RlLCBqdXN0IGRvIHRoZSBhc3NpZ24gZnJvbSBhYm92ZVxuICAgICAgICBkZWJ1ZyhcImZhaWxlZCB0byBkZWNvZGUsIGp1c3QgYXNzaWduaW5nXCIpO1xuICAgICAgICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLmFzc2lnbihhc3NpZ25tZW50cykpO1xuICAgICAgfVxuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgXCJNZW1iZXJBY2Nlc3NcIjpcbiAgICAgIC8vd2UncmUgZ29pbmcgdG8gc3RhcnQgYnkgZG9pbmcgdGhlIHNhbWUgdGhpbmcgYXMgaW4gdGhlIGRlZmF1bHQgY2FzZVxuICAgICAgLy8oc2VlIGJlbG93KSAtLSBnZXR0aW5nIHRoaW5ncyByZWFkeSBmb3IgYW4gYXNzaWdubWVudC4gIFRoZW4gd2UncmVcbiAgICAgIC8vZ29pbmcgdG8gZm9yZ2V0IHRoaXMgZm9yIGEgYml0IHdoaWxlIHdlIGhhbmRsZSB0aGUgcmVzdC4uLlxuICAgICAgYXNzaWdubWVudHMgPSBsaXRlcmFsQXNzaWdubWVudHMobm9kZSwgc3RhY2ssIGN1cnJlbnREZXB0aCk7XG5cbiAgICAgIGRlYnVnKFwiTWVtYmVyIGFjY2VzcyBjYXNlXCIpO1xuXG4gICAgICAvL01lbWJlckFjY2VzcyB1c2VzIGV4cHJlc3Npb24sIG5vdCBiYXNlRXhwcmVzc2lvblxuICAgICAgYmFzZUV4cHJlc3Npb24gPSBub2RlLmV4cHJlc3Npb247XG5cbiAgICAgIC8vaWYgdGhpcyBpc24ndCBhIHN0b3JhZ2Ugc3RydWN0LCBvciB0aGUgZWxlbWVudCBpc24ndCBvZiByZWZlcmVuY2UgdHlwZSxcbiAgICAgIC8vd2UnbGwganVzdCBkbyB0aGUgYXNzaWdubWVudCBhbmQgcXVpdCBvdXQgKGFnYWluLCBub3RlIHRoYXQgbWFwcGluZ3NcbiAgICAgIC8vYXJlbid0IGNhdWdodCBieSBpc1JlZmVyZW5jZSlcbiAgICAgIGlmIChEZWNvZGVVdGlscy5EZWZpbml0aW9uLnR5cGVDbGFzcyhiYXNlRXhwcmVzc2lvbikgIT09IFwic3RydWN0XCIgfHwgKERlY29kZVV0aWxzLkRlZmluaXRpb24uaXNSZWZlcmVuY2Uobm9kZSkgPyBEZWNvZGVVdGlscy5EZWZpbml0aW9uLnJlZmVyZW5jZVR5cGUoYmFzZUV4cHJlc3Npb24pICE9PSBcInN0b3JhZ2VcIiA6ICFEZWNvZGVVdGlscy5EZWZpbml0aW9uLmlzTWFwcGluZyhub2RlKSkpIHtcbiAgICAgICAgZGVidWcoXCJNZW1iZXIgY2FzZSBiYWlsZWQgb3V0IGVhcmx5XCIpO1xuICAgICAgICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLmFzc2lnbihhc3NpZ25tZW50cykpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLy9idXQgaWYgaXQgaXMgYSBzdG9yYWdlIHN0cnVjdCwgd2UgaGF2ZSB0byBtYXAgdGhlIHBhdGggYXMgd2VsbFxuICAgICAgcGF0aCA9IGZldGNoQmFzZVBhdGgoYmFzZUV4cHJlc3Npb24sIG1hcHBlZFBhdGhzLCBjdXJyZW50QXNzaWdubWVudHMsIGN1cnJlbnREZXB0aCk7XG5cbiAgICAgIHNsb3QgPSB7IHBhdGggfTtcblxuICAgICAgbGV0IHN0cnVjdElkID0gRGVjb2RlVXRpbHMuRGVmaW5pdGlvbi50eXBlSWQoYmFzZUV4cHJlc3Npb24pO1xuICAgICAgbGV0IG1lbWJlckFsbG9jYXRpb24gPSBhbGxvY2F0aW9uc1tzdHJ1Y3RJZF0ubWVtYmVyc1tub2RlLnJlZmVyZW5jZWREZWNsYXJhdGlvbl07XG5cbiAgICAgIHNsb3Qub2Zmc2V0ID0gbWVtYmVyQWxsb2NhdGlvbi5wb2ludGVyLnN0b3JhZ2UuZnJvbS5zbG90Lm9mZnNldC5jbG9uZSgpO1xuXG4gICAgICBkZWJ1ZyhcInNsb3QgJW9cIiwgc2xvdCk7XG4gICAgICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLm1hcFBhdGhBbmRBc3NpZ24oYWRkcmVzcyB8fCBkdW1teUFkZHJlc3MsIHNsb3QsIGFzc2lnbm1lbnRzLCBEZWNvZGVVdGlscy5EZWZpbml0aW9uLnR5cGVJZGVudGlmaWVyKG5vZGUpLCBEZWNvZGVVdGlscy5EZWZpbml0aW9uLnR5cGVJZGVudGlmaWVyKGJhc2VFeHByZXNzaW9uKSkpO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGlmIChub2RlLnR5cGVEZXNjcmlwdGlvbnMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBkZWJ1ZyhcImRlY29kaW5nIGV4cHJlc3Npb24gdmFsdWUgJU9cIiwgbm9kZS50eXBlRGVzY3JpcHRpb25zKTtcbiAgICAgIGRlYnVnKFwiZGVmYXVsdCBjYXNlXCIpO1xuICAgICAgZGVidWcoXCJjdXJyZW50RGVwdGggJWQgbm9kZS5pZCAlZFwiLCBjdXJyZW50RGVwdGgsIG5vZGUuaWQpO1xuXG4gICAgICBhc3NpZ25tZW50cyA9IGxpdGVyYWxBc3NpZ25tZW50cyhub2RlLCBzdGFjaywgY3VycmVudERlcHRoKTtcbiAgICAgIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuYXNzaWduKGFzc2lnbm1lbnRzKSk7XG4gICAgICBicmVhaztcbiAgfVxufVxuXG5mdW5jdGlvbiogcmVzZXQoKSB7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMucmVzZXQoKSk7XG59XG5cbmZ1bmN0aW9uKiBsZWFybkFkZHJlc3NTYWdhKGR1bW15QWRkcmVzcywgYWRkcmVzcykge1xuICBkZWJ1ZyhcImFib3V0IHRvIGxlYXJuIGFuIGFkZHJlc3NcIik7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMubGVhcm5BZGRyZXNzKGR1bW15QWRkcmVzcywgYWRkcmVzcykpO1xuICBkZWJ1ZyhcImFkZHJlc3MgbGVhcm50XCIpO1xufVxuXG5mdW5jdGlvbiogcmVjb3JkQWxsb2NhdGlvbnMoKSB7XG4gIGxldCBjb250cmFjdHMgPSB5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LnZpZXdzLnVzZXJEZWZpbmVkVHlwZXMuY29udHJhY3REZWZpbml0aW9ucyk7XG4gIGRlYnVnKFwiY29udHJhY3RzICVPXCIsIGNvbnRyYWN0cyk7XG4gIGxldCByZWZlcmVuY2VEZWNsYXJhdGlvbnMgPSB5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LnZpZXdzLnJlZmVyZW5jZURlY2xhcmF0aW9ucyk7XG4gIGRlYnVnKFwicmVmZXJlbmNlRGVjbGFyYXRpb25zICVPXCIsIHJlZmVyZW5jZURlY2xhcmF0aW9ucyk7XG4gIGxldCBzdG9yYWdlQWxsb2NhdGlvbnMgPSAoMCwgX3RydWZmbGVEZWNvZGVyLmdldFN0b3JhZ2VBbGxvY2F0aW9ucykocmVmZXJlbmNlRGVjbGFyYXRpb25zLCBjb250cmFjdHMpO1xuICBkZWJ1ZyhcInN0b3JhZ2VBbGxvY2F0aW9ucyAlT1wiLCBzdG9yYWdlQWxsb2NhdGlvbnMpO1xuICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLmFsbG9jYXRlKHN0b3JhZ2VBbGxvY2F0aW9ucykpO1xufVxuXG5mdW5jdGlvbiBtYWtlQXNzaWdubWVudChpZE9iaiwgcmVmKSB7XG4gIGxldCBpZCA9ICgwLCBfaGVscGVycy5zdGFibGVLZWNjYWsyNTYpKGlkT2JqKTtcbiAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIGlkT2JqLCB7IGlkLCByZWYgfSk7XG59XG5cbmZ1bmN0aW9uIGxpdGVyYWxBc3NpZ25tZW50cyhub2RlLCBzdGFjaywgY3VycmVudERlcHRoKSB7XG4gIGxldCB0b3AgPSBzdGFjay5sZW5ndGggLSAxO1xuXG4gIGxldCBsaXRlcmFsID0gKDAsIF90cnVmZmxlRGVjb2Rlci5yZWFkU3RhY2spKHN0YWNrLCB0b3AgLSBEZWNvZGVVdGlscy5EZWZpbml0aW9uLnN0YWNrU2l6ZShub2RlKSArIDEsIHRvcCk7XG5cbiAgbGV0IGFzc2lnbm1lbnQgPSBtYWtlQXNzaWdubWVudCh7IGFzdElkOiBub2RlLmlkLCBzdGFja2ZyYW1lOiBjdXJyZW50RGVwdGggfSwgeyBsaXRlcmFsIH0pO1xuXG4gIHJldHVybiB7IGJ5SWQ6IHsgW2Fzc2lnbm1lbnQuaWRdOiBhc3NpZ25tZW50IH0gfTtcbn1cblxuZnVuY3Rpb24gZmV0Y2hCYXNlUGF0aChiYXNlTm9kZSwgbWFwcGVkUGF0aHMsIGN1cnJlbnRBc3NpZ25tZW50cywgY3VycmVudERlcHRoKSB7XG4gIGxldCBmdWxsSWQgPSAoMCwgX2hlbHBlcnMuc3RhYmxlS2VjY2FrMjU2KSh7XG4gICAgYXN0SWQ6IGJhc2VOb2RlLmlkLFxuICAgIHN0YWNrZnJhbWU6IGN1cnJlbnREZXB0aFxuICB9KTtcbiAgbGV0IGJhc2VQYXRoUmVmID0gbWFwcGVkUGF0aHMuYnlJZFtmdWxsSWRdO1xuICAvL21heSBiZSB1bmRlZmluZWQhIHRoaXMgbWVhbnMgdGhhdCB0aGUgYmFzZSBpcyBub3QgYW4gaW5kZXggb3IgbWVtYmVyXG4gIC8vYWNjZXNzLCBidXQganVzdCBhbiBvcmRpbmFyeSBtYXBwaW5nIG9yIGFycmF5IG9yIHN0cnVjdC4gIG5vdGUgdGhhdCBpdCBtYXlcbiAgLy9iZSB2aWEgYSBwb2ludGVyISBmb3IgdGhpcyByZWFzb24sIHdlIGZldGNoIHRoZSBiYXNlIGZyb20gdGhlIHN0YWNrIHJhdGhlclxuICAvL3RoYW4gZnJvbSB0aGUgYWxsb2NhdGlvbiB0YWJsZVxuICBpZiAoYmFzZVBhdGhSZWYgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBtYXBwZWRQYXRocy5ieUFkZHJlc3NbYmFzZVBhdGhSZWYuYWRkcmVzc10uYnlUeXBlW2Jhc2VQYXRoUmVmLnR5cGVJZGVudGlmaWVyXS5ieVNsb3RBZGRyZXNzW2Jhc2VQYXRoUmVmLnNsb3RBZGRyZXNzXTtcbiAgfSBlbHNlIHtcbiAgICAvL2Jhc2UgZXhwcmVzc2lvbiBpcyBhbiBleHByZXNzaW9uLCBhbmQgc28gaGFzIGEgbGl0ZXJhbCBhc3NpZ25lZCB0b1xuICAgIC8vaXRcbiAgICBsZXQgb2Zmc2V0ID0gRGVjb2RlVXRpbHMuQ29udmVyc2lvbi50b0JOKGN1cnJlbnRBc3NpZ25tZW50cy5ieUlkW2Z1bGxJZF0ucmVmLmxpdGVyYWwpO1xuICAgIHJldHVybiB7IG9mZnNldCB9O1xuICB9XG59XG5cbmZ1bmN0aW9uKiBzYWdhKCkge1xuICB5aWVsZCAoMCwgX2VmZmVjdHMudGFrZUV2ZXJ5KShfYWN0aW9ucy5USUNLLCB0aWNrU2FnYSk7XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfaGVscGVycy5wcmVmaXhOYW1lKShcImRhdGFcIiwgc2FnYSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL2RhdGEvc2FnYXMvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc2V0XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3NldFwiXG4vLyBtb2R1bGUgaWQgPSAyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuYWR2YW5jZSA9IGFkdmFuY2U7XG5leHBvcnRzLnN0ZXBOZXh0ID0gc3RlcE5leHQ7XG5leHBvcnRzLnN0ZXBPdmVyID0gc3RlcE92ZXI7XG5leHBvcnRzLnN0ZXBJbnRvID0gc3RlcEludG87XG5leHBvcnRzLnN0ZXBPdXQgPSBzdGVwT3V0O1xuZXhwb3J0cy5yZXNldCA9IHJlc2V0O1xuZXhwb3J0cy5pbnRlcnJ1cHQgPSBpbnRlcnJ1cHQ7XG5leHBvcnRzLmNvbnRpbnVlVW50aWxCcmVha3BvaW50ID0gY29udGludWVVbnRpbEJyZWFrcG9pbnQ7XG5leHBvcnRzLmFkZEJyZWFrcG9pbnQgPSBhZGRCcmVha3BvaW50O1xuZXhwb3J0cy5yZW1vdmVCcmVha3BvaW50ID0gcmVtb3ZlQnJlYWtwb2ludDtcbmV4cG9ydHMucmVtb3ZlQWxsQnJlYWtwb2ludHMgPSByZW1vdmVBbGxCcmVha3BvaW50cztcbmV4cG9ydHMuZG9uZVN0ZXBwaW5nID0gZG9uZVN0ZXBwaW5nO1xuY29uc3QgQURWQU5DRSA9IGV4cG9ydHMuQURWQU5DRSA9IFwiQURWQU5DRVwiO1xuZnVuY3Rpb24gYWR2YW5jZSgpIHtcbiAgcmV0dXJuIHsgdHlwZTogQURWQU5DRSB9O1xufVxuXG5jb25zdCBTVEVQX05FWFQgPSBleHBvcnRzLlNURVBfTkVYVCA9IFwiU1RFUF9ORVhUXCI7XG5mdW5jdGlvbiBzdGVwTmV4dCgpIHtcbiAgcmV0dXJuIHsgdHlwZTogU1RFUF9ORVhUIH07XG59XG5cbmNvbnN0IFNURVBfT1ZFUiA9IGV4cG9ydHMuU1RFUF9PVkVSID0gXCJTVEVQX09WRVJcIjtcbmZ1bmN0aW9uIHN0ZXBPdmVyKCkge1xuICByZXR1cm4geyB0eXBlOiBTVEVQX09WRVIgfTtcbn1cblxuY29uc3QgU1RFUF9JTlRPID0gZXhwb3J0cy5TVEVQX0lOVE8gPSBcIlNURVBfSU5UT1wiO1xuZnVuY3Rpb24gc3RlcEludG8oKSB7XG4gIHJldHVybiB7IHR5cGU6IFNURVBfSU5UTyB9O1xufVxuXG5jb25zdCBTVEVQX09VVCA9IGV4cG9ydHMuU1RFUF9PVVQgPSBcIlNURVBfT1VUXCI7XG5mdW5jdGlvbiBzdGVwT3V0KCkge1xuICByZXR1cm4geyB0eXBlOiBTVEVQX09VVCB9O1xufVxuXG5jb25zdCBSRVNFVCA9IGV4cG9ydHMuUkVTRVQgPSBcIlJFU0VUXCI7XG5mdW5jdGlvbiByZXNldCgpIHtcbiAgcmV0dXJuIHsgdHlwZTogUkVTRVQgfTtcbn1cblxuY29uc3QgSU5URVJSVVBUID0gZXhwb3J0cy5JTlRFUlJVUFQgPSBcIklOVEVSUlVQVFwiO1xuZnVuY3Rpb24gaW50ZXJydXB0KCkge1xuICByZXR1cm4geyB0eXBlOiBJTlRFUlJVUFQgfTtcbn1cblxuY29uc3QgQ09OVElOVUUgPSBleHBvcnRzLkNPTlRJTlVFID0gXCJDT05USU5VRVwiO1xuZnVuY3Rpb24gY29udGludWVVbnRpbEJyZWFrcG9pbnQoKSB7XG4gIC8vXCJjb250aW51ZVwiIGlzIG5vdCBhIGxlZ2FsIG5hbWVcbiAgcmV0dXJuIHsgdHlwZTogQ09OVElOVUUgfTtcbn1cblxuY29uc3QgQUREX0JSRUFLUE9JTlQgPSBleHBvcnRzLkFERF9CUkVBS1BPSU5UID0gXCJBRERfQlJFQUtQT0lOVFwiO1xuZnVuY3Rpb24gYWRkQnJlYWtwb2ludChicmVha3BvaW50KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQUREX0JSRUFLUE9JTlQsXG4gICAgYnJlYWtwb2ludFxuICB9O1xufVxuXG5jb25zdCBSRU1PVkVfQlJFQUtQT0lOVCA9IGV4cG9ydHMuUkVNT1ZFX0JSRUFLUE9JTlQgPSBcIlJFTU9WRV9CUkVBS1BPSU5UXCI7XG5mdW5jdGlvbiByZW1vdmVCcmVha3BvaW50KGJyZWFrcG9pbnQpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBSRU1PVkVfQlJFQUtQT0lOVCxcbiAgICBicmVha3BvaW50XG4gIH07XG59XG5cbmNvbnN0IFJFTU9WRV9BTExfQlJFQUtQT0lOVFMgPSBleHBvcnRzLlJFTU9WRV9BTExfQlJFQUtQT0lOVFMgPSBcIlJFTU9WRV9BTExfQlJFQUtQT0lOVFNcIjtcbmZ1bmN0aW9uIHJlbW92ZUFsbEJyZWFrcG9pbnRzKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFTU9WRV9BTExfQlJFQUtQT0lOVFNcbiAgfTtcbn1cblxuY29uc3QgRE9ORV9TVEVQUElORyA9IGV4cG9ydHMuRE9ORV9TVEVQUElORyA9IFwiRE9ORV9TVEVQUElOR1wiO1xuZnVuY3Rpb24gZG9uZVN0ZXBwaW5nKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IERPTkVfU1RFUFBJTkdcbiAgfTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWIvY29udHJvbGxlci9hY3Rpb25zL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwianNvbi1wb2ludGVyXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwianNvbi1wb2ludGVyXCJcbi8vIG1vZHVsZSBpZCA9IDI5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2tleXMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzXCIpO1xuXG52YXIgX2tleXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa2V5cyk7XG5cbmV4cG9ydHMuZ2V0UmFuZ2UgPSBnZXRSYW5nZTtcbmV4cG9ydHMucmFuZ2VOb2RlcyA9IHJhbmdlTm9kZXM7XG5leHBvcnRzLmZpbmRSYW5nZSA9IGZpbmRSYW5nZTtcblxudmFyIF9kZWJ1ZyA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcblxudmFyIF9kZWJ1ZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWJ1Zyk7XG5cbnZhciBfbm9kZUludGVydmFsVHJlZSA9IHJlcXVpcmUoXCJub2RlLWludGVydmFsLXRyZWVcIik7XG5cbnZhciBfbm9kZUludGVydmFsVHJlZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub2RlSW50ZXJ2YWxUcmVlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuY29uc3QgZGVidWcgPSAoMCwgX2RlYnVnMi5kZWZhdWx0KShcImRlYnVnZ2VyOmFzdDptYXBcIik7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZ2V0UmFuZ2Uobm9kZSkge1xuICAvLyBzcmM6IFwiPHN0YXJ0Pjo8bGVuZ3RoPjo8Xz5cIlxuICAvLyByZXR1cm5zIFtzdGFydCwgZW5kXVxuICBsZXQgW3N0YXJ0LCBsZW5ndGhdID0gbm9kZS5zcmMuc3BsaXQoXCI6XCIpLnNsaWNlKDAsIDIpLm1hcChpID0+IHBhcnNlSW50KGkpKTtcblxuICByZXR1cm4gW3N0YXJ0LCBzdGFydCArIGxlbmd0aF07XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmFuZ2VOb2Rlcyhub2RlLCBwb2ludGVyID0gXCJcIikge1xuICBpZiAobm9kZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdCguLi5ub2RlLm1hcCgoc3ViLCBpKSA9PiByYW5nZU5vZGVzKHN1YiwgYCR7cG9pbnRlcn0vJHtpfWApKSk7XG4gIH0gZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgIGxldCByZXN1bHRzID0gW107XG5cbiAgICBpZiAobm9kZS5zcmMpIHtcbiAgICAgIHJlc3VsdHMucHVzaCh7IHBvaW50ZXIsIHJhbmdlOiBnZXRSYW5nZShub2RlKSB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cy5jb25jYXQoLi4uKDAsIF9rZXlzMi5kZWZhdWx0KShub2RlKS5tYXAoa2V5ID0+IHJhbmdlTm9kZXMobm9kZVtrZXldLCBgJHtwb2ludGVyfS8ke2tleX1gKSkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGZpbmRSYW5nZShub2RlLCBzb3VyY2VTdGFydCwgc291cmNlTGVuZ3RoKSB7XG4gIGxldCByYW5nZXMgPSByYW5nZU5vZGVzKG5vZGUpO1xuICBsZXQgdHJlZSA9IG5ldyBfbm9kZUludGVydmFsVHJlZTIuZGVmYXVsdCgpO1xuXG4gIHJhbmdlcy5mb3JFYWNoKCh7IHJhbmdlLCBwb2ludGVyIH0pID0+IHtcbiAgICBsZXQgW3N0YXJ0LCBlbmRdID0gcmFuZ2U7XG5cbiAgICB0cmVlLmluc2VydChzdGFydCwgZW5kLCB7IHJhbmdlLCBwb2ludGVyIH0pO1xuICB9KTtcblxuICBsZXQgc291cmNlRW5kID0gc291cmNlU3RhcnQgKyBzb3VyY2VMZW5ndGg7XG5cbiAgbGV0IG92ZXJsYXBwaW5nID0gdHJlZS5zZWFyY2goc291cmNlU3RhcnQsIHNvdXJjZUVuZCk7XG5cbiAgLy8gZmluZCBub2RlcyB0aGF0IGZ1bGx5IGNvbnRhaW4gcmVxdWVzdGVkIHJhbmdlLFxuICAvLyByZXR1cm4gbG9uZ2VzdCBwb2ludGVyXG4gIHJldHVybiBvdmVybGFwcGluZy5maWx0ZXIoKHsgcmFuZ2UgfSkgPT4gc291cmNlU3RhcnQgPj0gcmFuZ2VbMF0gJiYgc291cmNlRW5kIDw9IHJhbmdlWzFdKS5tYXAoKHsgcG9pbnRlciB9KSA9PiBwb2ludGVyKS5yZWR1Y2UoKGEsIGIpID0+IGEubGVuZ3RoID4gYi5sZW5ndGggPyBhIDogYiwgXCJcIik7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL2FzdC9tYXAuanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ0cnVmZmxlLWRlY29kZXJcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJ0cnVmZmxlLWRlY29kZXJcIlxuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZW50cmllcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2VudHJpZXNcIik7XG5cbnZhciBfZW50cmllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lbnRyaWVzKTtcblxudmFyIF9hc3NpZ24gPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ25cIik7XG5cbnZhciBfYXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2lnbik7XG5cbnZhciBfZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIik7XG5cbnZhciBfZGVidWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVidWcpO1xuXG52YXIgX3Jlc2VsZWN0VHJlZSA9IHJlcXVpcmUoXCJyZXNlbGVjdC10cmVlXCIpO1xuXG52YXIgX3NlbGVjdG9ycyA9IHJlcXVpcmUoXCJsaWIvZXZtL3NlbGVjdG9yc1wiKTtcblxudmFyIF9zZWxlY3RvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0b3JzKTtcblxudmFyIF9zZWxlY3RvcnMzID0gcmVxdWlyZShcImxpYi9zb2xpZGl0eS9zZWxlY3RvcnNcIik7XG5cbnZhciBfc2VsZWN0b3JzNCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdG9yczMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5jb25zdCBkZWJ1ZyA9ICgwLCBfZGVidWcyLmRlZmF1bHQpKFwiZGVidWdnZXI6c2Vzc2lvbjpzZWxlY3RvcnNcIik7XG5cbmNvbnN0IHNlc3Npb24gPSAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVTZWxlY3RvclRyZWUpKHtcbiAgLyoqXG4gICAqIHNlc3Npb24uaW5mb1xuICAgKi9cbiAgaW5mbzoge1xuXG4gICAgLyoqXG4gICAgICogc2Vzc2lvbi5pbmZvLmFmZmVjdGVkSW5zdGFuY2VzXG4gICAgICovXG4gICAgYWZmZWN0ZWRJbnN0YW5jZXM6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtfc2VsZWN0b3JzMi5kZWZhdWx0LmluZm8uaW5zdGFuY2VzLCBfc2VsZWN0b3JzMi5kZWZhdWx0LmluZm8uY29udGV4dHMsIF9zZWxlY3RvcnM0LmRlZmF1bHQuaW5mby5zb3VyY2VzLCBfc2VsZWN0b3JzNC5kZWZhdWx0LmluZm8uc291cmNlTWFwc10sIChpbnN0YW5jZXMsIGNvbnRleHRzLCBzb3VyY2VzLCBzb3VyY2VNYXBzKSA9PiAoMCwgX2Fzc2lnbjIuZGVmYXVsdCkoe30sIC4uLigwLCBfZW50cmllczIuZGVmYXVsdCkoaW5zdGFuY2VzKS5tYXAoKFthZGRyZXNzLCB7IGNvbnRleHQgfV0pID0+IHtcbiAgICAgIGRlYnVnKFwiaW5zdGFuY2VzICVPXCIsIGluc3RhbmNlcyk7XG4gICAgICBkZWJ1ZyhcImNvbnRleHRzICVPXCIsIGNvbnRleHRzKTtcbiAgICAgIGxldCB7IGNvbnRyYWN0TmFtZSwgYmluYXJ5IH0gPSBjb250ZXh0c1tjb250ZXh0XTtcbiAgICAgIGxldCB7IHNvdXJjZU1hcCB9ID0gc291cmNlTWFwc1tjb250ZXh0XSB8fCB7fTtcblxuICAgICAgbGV0IHsgc291cmNlIH0gPSBzb3VyY2VNYXAgP1xuICAgICAgLy8gbG9vayBmb3Igc291cmNlIElEIGJldHdlZW4gc2Vjb25kIGFuZCB0aGlyZCBjb2xvbnMgKEhBQ0spXG4gICAgICBzb3VyY2VzW3NvdXJjZU1hcC5tYXRjaCgvXlteOl0rOlteOl0rOihbXjpdKyk6LylbMV1dIDoge307XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIFthZGRyZXNzXToge1xuICAgICAgICAgIGNvbnRyYWN0TmFtZSwgc291cmNlLCBiaW5hcnlcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSkpXG5cbiAgfSxcblxuICAvKipcbiAgICogc2Vzc2lvbi50cmFuc2FjdGlvbiAobmFtZXNwYWNlKVxuICAgKi9cbiAgdHJhbnNhY3Rpb246IHtcblxuICAgIC8qKlxuICAgICAqIHNlc3Npb24udHJhbnNhY3Rpb24gKHNlbGVjdG9yKVxuICAgICAqIGNvbnRhaW5zIHRoZSB3ZWIzIHRyYW5zYWN0aW9uIG9iamVjdFxuICAgICAqL1xuICAgIF86IHN0YXRlID0+IHN0YXRlLnNlc3Npb24udHJhbnNhY3Rpb24sXG5cbiAgICAvKipcbiAgICAgKiBzZXNzaW9uLnRyYW5zYWN0aW9uLnJlY2VpcHRcbiAgICAgKiBjb250YWlucyB0aGUgd2ViMyByZWNlaXB0IG9iamVjdFxuICAgICAqL1xuICAgIHJlY2VpcHQ6IHN0YXRlID0+IHN0YXRlLnNlc3Npb24ucmVjZWlwdFxuXG4gIH1cblxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHNlc3Npb247XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL3Nlc3Npb24vc2VsZWN0b3JzL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwid2ViM1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIndlYjNcIlxuLy8gbW9kdWxlIGlkID0gMzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnNjb3BlID0gc2NvcGU7XG5leHBvcnRzLmRlY2xhcmUgPSBkZWNsYXJlO1xuZXhwb3J0cy5hc3NpZ24gPSBhc3NpZ247XG5leHBvcnRzLm1hcFBhdGhBbmRBc3NpZ24gPSBtYXBQYXRoQW5kQXNzaWduO1xuZXhwb3J0cy5tYXBLZXlEZWNvZGluZyA9IG1hcEtleURlY29kaW5nO1xuZXhwb3J0cy5yZXNldCA9IHJlc2V0O1xuZXhwb3J0cy5sZWFybkFkZHJlc3MgPSBsZWFybkFkZHJlc3M7XG5leHBvcnRzLmRlZmluZVR5cGUgPSBkZWZpbmVUeXBlO1xuZXhwb3J0cy5hbGxvY2F0ZSA9IGFsbG9jYXRlO1xuY29uc3QgU0NPUEUgPSBleHBvcnRzLlNDT1BFID0gXCJTQ09QRVwiO1xuZnVuY3Rpb24gc2NvcGUoaWQsIHBvaW50ZXIsIHBhcmVudElkLCBzb3VyY2VJZCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNDT1BFLFxuICAgIGlkLFxuICAgIHBvaW50ZXIsXG4gICAgcGFyZW50SWQsXG4gICAgc291cmNlSWRcbiAgfTtcbn1cblxuY29uc3QgREVDTEFSRSA9IGV4cG9ydHMuREVDTEFSRSA9IFwiREVDTEFSRV9WQVJJQUJMRVwiO1xuZnVuY3Rpb24gZGVjbGFyZShub2RlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogREVDTEFSRSxcbiAgICBub2RlXG4gIH07XG59XG5cbmNvbnN0IEFTU0lHTiA9IGV4cG9ydHMuQVNTSUdOID0gXCJBU1NJR05cIjtcbmZ1bmN0aW9uIGFzc2lnbihhc3NpZ25tZW50cykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFTU0lHTixcbiAgICBhc3NpZ25tZW50c1xuICB9O1xufVxuXG5jb25zdCBNQVBfUEFUSF9BTkRfQVNTSUdOID0gZXhwb3J0cy5NQVBfUEFUSF9BTkRfQVNTSUdOID0gXCJNQVBfUEFUSF9BTkRfQVNTSUdOXCI7XG5mdW5jdGlvbiBtYXBQYXRoQW5kQXNzaWduKGFkZHJlc3MsIHNsb3QsIGFzc2lnbm1lbnRzLCB0eXBlSWRlbnRpZmllciwgYmFzZVR5cGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBNQVBfUEFUSF9BTkRfQVNTSUdOLFxuICAgIGFkZHJlc3MsXG4gICAgc2xvdCxcbiAgICBhc3NpZ25tZW50cyxcbiAgICB0eXBlSWRlbnRpZmllcixcbiAgICBiYXNlVHlwZVxuICB9O1xufVxuXG5jb25zdCBNQVBfS0VZX0RFQ09ESU5HID0gZXhwb3J0cy5NQVBfS0VZX0RFQ09ESU5HID0gXCJNQVBfS0VZX0RFQ09ESU5HXCI7XG5mdW5jdGlvbiBtYXBLZXlEZWNvZGluZyhzdGFydGVkKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogTUFQX0tFWV9ERUNPRElORyxcbiAgICBzdGFydGVkXG4gIH07XG59XG5cbmNvbnN0IFJFU0VUID0gZXhwb3J0cy5SRVNFVCA9IFwiREFUQV9SRVNFVFwiO1xuZnVuY3Rpb24gcmVzZXQoKSB7XG4gIHJldHVybiB7IHR5cGU6IFJFU0VUIH07XG59XG5cbmNvbnN0IExFQVJOX0FERFJFU1MgPSBleHBvcnRzLkxFQVJOX0FERFJFU1MgPSBcIkxFQVJOX0FERFJFU1NcIjtcbmZ1bmN0aW9uIGxlYXJuQWRkcmVzcyhkdW1teUFkZHJlc3MsIGFkZHJlc3MpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBMRUFSTl9BRERSRVNTLFxuICAgIGR1bW15QWRkcmVzcyxcbiAgICBhZGRyZXNzXG4gIH07XG59XG5cbmNvbnN0IERFRklORV9UWVBFID0gZXhwb3J0cy5ERUZJTkVfVFlQRSA9IFwiREVGSU5FX1RZUEVcIjtcbmZ1bmN0aW9uIGRlZmluZVR5cGUobm9kZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IERFRklORV9UWVBFLFxuICAgIG5vZGVcbiAgfTtcbn1cblxuY29uc3QgQUxMT0NBVEUgPSBleHBvcnRzLkFMTE9DQVRFID0gXCJBTExPQ0FURVwiO1xuZnVuY3Rpb24gYWxsb2NhdGUoc3RvcmFnZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFMTE9DQVRFLFxuICAgIHN0b3JhZ2VcbiAgICAvL2xhdGVyIHRoZXJlIHdpbGwgYmUgbW9yZVxuICB9O1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9kYXRhL2FjdGlvbnMvaW5kZXguanMiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuYWRkQ29udGV4dCA9IGFkZENvbnRleHQ7XG5leHBvcnRzLmFkZEluc3RhbmNlID0gYWRkSW5zdGFuY2U7XG5leHBvcnRzLmJlZ2luID0gYmVnaW47XG5leHBvcnRzLmNhbGxzdGFja1NhZ2EgPSBjYWxsc3RhY2tTYWdhO1xuZXhwb3J0cy5yZXNldCA9IHJlc2V0O1xuZXhwb3J0cy5zYWdhID0gc2FnYTtcblxudmFyIF9kZWJ1ZyA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcblxudmFyIF9kZWJ1ZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWJ1Zyk7XG5cbnZhciBfZWZmZWN0cyA9IHJlcXVpcmUoXCJyZWR1eC1zYWdhL2VmZmVjdHNcIik7XG5cbnZhciBfaGVscGVycyA9IHJlcXVpcmUoXCJsaWIvaGVscGVyc1wiKTtcblxudmFyIF9hY3Rpb25zID0gcmVxdWlyZShcImxpYi90cmFjZS9hY3Rpb25zXCIpO1xuXG52YXIgX2FjdGlvbnMyID0gcmVxdWlyZShcIi4uL2FjdGlvbnNcIik7XG5cbnZhciBhY3Rpb25zID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2FjdGlvbnMyKTtcblxudmFyIF9zZWxlY3RvcnMgPSByZXF1aXJlKFwiLi4vc2VsZWN0b3JzXCIpO1xuXG52YXIgX3NlbGVjdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3RvcnMpO1xuXG52YXIgX3NhZ2FzID0gcmVxdWlyZShcImxpYi9kYXRhL3NhZ2FzXCIpO1xuXG52YXIgZGF0YSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9zYWdhcyk7XG5cbnZhciBfc2FnYXMyID0gcmVxdWlyZShcImxpYi90cmFjZS9zYWdhc1wiKTtcblxudmFyIHRyYWNlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3NhZ2FzMik7XG5cbnZhciBfdHJ1ZmZsZURlY29kZVV0aWxzID0gcmVxdWlyZShcInRydWZmbGUtZGVjb2RlLXV0aWxzXCIpO1xuXG52YXIgRGVjb2RlVXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdHJ1ZmZsZURlY29kZVV0aWxzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuY29uc3QgZGVidWcgPSAoMCwgX2RlYnVnMi5kZWZhdWx0KShcImRlYnVnZ2VyOmV2bTpzYWdhc1wiKTtcblxuLyoqXG4gKiBBZGRzIEVWTSBieXRlY29kZSBjb250ZXh0XG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBJRCAoMHgtcHJlZml4ZWQga2VjY2FrIG9mIGJpbmFyeSlcbiAqL1xuZnVuY3Rpb24qIGFkZENvbnRleHQoY29udHJhY3ROYW1lLCB7IGFkZHJlc3MsIGJpbmFyeSB9LCBjb21waWxlcikge1xuICBjb25zdCByYXcgPSBiaW5hcnkgfHwgYWRkcmVzcztcbiAgY29uc3QgY29udGV4dCA9ICgwLCBfaGVscGVycy5rZWNjYWsyNTYpKHJhdyk7XG5cbiAgeWllbGQgKDAsIF9lZmZlY3RzLnB1dCkoYWN0aW9ucy5hZGRDb250ZXh0KGNvbnRyYWN0TmFtZSwgcmF3LCBjb21waWxlcikpO1xuXG4gIGlmIChiaW5hcnkpIHtcbiAgICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLmFkZEJpbmFyeShjb250ZXh0LCBiaW5hcnkpKTtcbiAgfVxuXG4gIHJldHVybiBjb250ZXh0O1xufVxuXG4vKipcbiAqIEFkZHMga25vd24gZGVwbG95ZWQgaW5zdGFuY2Ugb2YgYmluYXJ5IGF0IGFkZHJlc3NcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmluYXJ5IC0gbWF5IGJlIHVuZGVmaW5lZCAoZS5nLiBwcmVjb21waWxlcylcbiAqIEByZXR1cm4ge3N0cmluZ30gSUQgKDB4LXByZWZpeGVkIGtlY2NhayBvZiBiaW5hcnkpXG4gKi9cbmZ1bmN0aW9uKiBhZGRJbnN0YW5jZShhZGRyZXNzLCBiaW5hcnkpIHtcbiAgbGV0IHNlYXJjaCA9IHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuaW5mby5iaW5hcmllcy5zZWFyY2gpO1xuICBsZXQgeyBjb250ZXh0IH0gPSBzZWFyY2goYmluYXJ5KTtcblxuICAvLyBpbiBjYXNlIGJpbmFyeSBpcyB1bmtub3duLCBhZGQgY29udGV4dCBmb3IgYWRkcmVzc1xuICBpZiAoIWNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0geWllbGQqIGFkZENvbnRleHQodW5kZWZpbmVkLCB7IGFkZHJlc3MgfSwgdW5kZWZpbmVkKTtcbiAgfVxuXG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuYWRkSW5zdGFuY2UoYWRkcmVzcywgY29udGV4dCwgYmluYXJ5KSk7XG5cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbmZ1bmN0aW9uKiBiZWdpbih7IGFkZHJlc3MsIGJpbmFyeSB9KSB7XG4gIGlmIChhZGRyZXNzKSB7XG4gICAgeWllbGQgKDAsIF9lZmZlY3RzLnB1dCkoYWN0aW9ucy5jYWxsKGFkZHJlc3MpKTtcbiAgfSBlbHNlIHtcbiAgICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLmNyZWF0ZShiaW5hcnkpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiogdGlja1NhZ2EoKSB7XG4gIGRlYnVnKFwiZ290IFRJQ0tcIik7XG5cbiAgeWllbGQqIGNhbGxzdGFja1NhZ2EoKTtcbiAgeWllbGQqIHRyYWNlLnNpZ25hbFRpY2tTYWdhQ29tcGxldGlvbigpO1xufVxuXG5mdW5jdGlvbiogY2FsbHN0YWNrU2FnYSgpIHtcbiAgaWYgKHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5zdGVwLmlzQ2FsbCkpIHtcbiAgICBkZWJ1ZyhcImdvdCBjYWxsXCIpO1xuICAgIGxldCBhZGRyZXNzID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LnN0ZXAuY2FsbEFkZHJlc3MpO1xuXG4gICAgZGVidWcoXCJjYWxsaW5nIGFkZHJlc3MgJXNcIiwgYWRkcmVzcyk7XG5cbiAgICAvLyBpZiB0aGVyZSBpcyBubyBiaW5hcnkgKGUuZy4gaW4gdGhlIGNhc2Ugb2YgcHJlY29tcGlsZWQgY29udHJhY3RzKSxcbiAgICAvLyB0aGVuIHRoZXJlIHdpbGwgYmUgbm8gdHJhY2Ugc3RlcHMgZm9yIHRoZSBjYWxsZWQgY29kZSwgYW5kIHNvIHdlXG4gICAgLy8gc2hvdWxkbid0IHRlbGwgdGhlIGRlYnVnZ2VyIHRoYXQgd2UncmUgZW50ZXJpbmcgYW5vdGhlciBleGVjdXRpb25cbiAgICAvLyBjb250ZXh0XG4gICAgaWYgKHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5zdGVwLmNhbGxzUHJlY29tcGlsZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLmNhbGwoYWRkcmVzcykpO1xuICB9IGVsc2UgaWYgKHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5zdGVwLmlzQ3JlYXRlKSkge1xuICAgIGRlYnVnKFwiZ290IGNyZWF0ZVwiKTtcbiAgICBsZXQgYmluYXJ5ID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LnN0ZXAuY3JlYXRlQmluYXJ5KTtcblxuICAgIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuY3JlYXRlKGJpbmFyeSkpO1xuICB9IGVsc2UgaWYgKHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5zdGVwLmlzSGFsdGluZykpIHtcbiAgICBkZWJ1ZyhcImdvdCByZXR1cm5cIik7XG5cbiAgICBsZXQgY2FsbHN0YWNrID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LmNhbGxzdGFjayk7XG5cbiAgICAvL2lmIHRoZSBwcm9ncmFtJ3Mgbm90IGVuZGluZywgYW5kIHdlIGp1c3QgcmV0dXJuZWQgZnJvbSBhIGNvbnN0cnVjdG9yLFxuICAgIC8vbGVhcm4gdGhlIGFkZHJlc3Mgb2Ygd2hhdCB3ZSBqdXN0IGluaXRpYWxpemVkXG4gICAgLy8oZG8gdGhpcyBiZWZvcmUgd2UgcHV0IHRoZSByZXR1cm4gYWN0aW9uIHRvIGF2b2lkIG9mZi1ieS1vbmUgZXJyb3IpXG4gICAgaWYgKGNhbGxzdGFjay5sZW5ndGggPiAxICYmIGNhbGxzdGFja1tjYWxsc3RhY2subGVuZ3RoIC0gMV0uYWRkcmVzcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgZHVtbXlBZGRyZXNzID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LmNyZWF0aW9uRGVwdGgpO1xuICAgICAgZGVidWcoXCJkdW1teUFkZHJlc3MgJWRcIiwgZHVtbXlBZGRyZXNzKTtcblxuICAgICAgLy9OT1RFOiB0aGUgZm9sbG93aW5nIGxvZ2ljLCBmb3IgZ2V0dGluZyB0aGUgY3JlYXRlZCBhZGRyZXNzLCByZWFsbHlcbiAgICAgIC8vYmVsb25ncyBpbiBhIHNlbGVjdG9yLiAgSG93ZXZlciwgZXZlcnkgdGltZSBJIHRyeSB0byBtYWtlIGl0IGFcbiAgICAgIC8vc2VsZWN0b3IsIEkgZ2V0IG15c3RlcmlvdXMgZXJyb3IgbWVzc2FnZXMuICBTbywgd2UnbGwgZG8gaXQgb3Vyc2VsdmVzXG4gICAgICAvL2luIHRoZSBzYWdhIGluc3RlYWQuXG5cbiAgICAgIGxldCBzdGFjayA9IHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQubmV4dC5zdGF0ZS5zdGFjayk7XG4gICAgICBsZXQgY3JlYXRlZEFkZHJlc3MgPSBEZWNvZGVVdGlscy5Db252ZXJzaW9uLnRvQWRkcmVzcyhzdGFja1tzdGFjay5sZW5ndGggLSAxXSk7XG4gICAgICBkZWJ1ZyhcImNyZWF0ZWRBZGRyZXNzICVzXCIsIGNyZWF0ZWRBZGRyZXNzKTtcblxuICAgICAgeWllbGQqIGRhdGEubGVhcm5BZGRyZXNzU2FnYShkdW1teUFkZHJlc3MsIGNyZWF0ZWRBZGRyZXNzKTtcbiAgICAgIGRlYnVnKFwiYWRkcmVzcyBsZWFybnRcIik7XG4gICAgfVxuXG4gICAgeWllbGQgKDAsIF9lZmZlY3RzLnB1dCkoYWN0aW9ucy5yZXR1cm5DYWxsKCkpO1xuICB9XG5cbiAgeWllbGQqIHRyYWNlLnNpZ25hbFRpY2tTYWdhQ29tcGxldGlvbigpO1xufVxuXG5mdW5jdGlvbiogcmVzZXQoKSB7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMucmVzZXQoKSk7XG59XG5cbmZ1bmN0aW9uKiBzYWdhKCkge1xuICB5aWVsZCAoMCwgX2VmZmVjdHMudGFrZUV2ZXJ5KShfYWN0aW9ucy5USUNLLCB0aWNrU2FnYSk7XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfaGVscGVycy5wcmVmaXhOYW1lKShcImV2bVwiLCBzYWdhKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWIvZXZtL3NhZ2FzL2luZGV4LmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmFkZENvbnRleHQgPSBhZGRDb250ZXh0O1xuZXhwb3J0cy5hZGRCaW5hcnkgPSBhZGRCaW5hcnk7XG5leHBvcnRzLmFkZEluc3RhbmNlID0gYWRkSW5zdGFuY2U7XG5leHBvcnRzLmNhbGwgPSBjYWxsO1xuZXhwb3J0cy5jcmVhdGUgPSBjcmVhdGU7XG5leHBvcnRzLnJldHVybkNhbGwgPSByZXR1cm5DYWxsO1xuZXhwb3J0cy5yZXNldCA9IHJlc2V0O1xuY29uc3QgQUREX0NPTlRFWFQgPSBleHBvcnRzLkFERF9DT05URVhUID0gXCJFVk1fQUREX0NPTlRFWFRcIjtcbmZ1bmN0aW9uIGFkZENvbnRleHQoY29udHJhY3ROYW1lLCByYXcsIGNvbXBpbGVyKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQUREX0NPTlRFWFQsXG4gICAgY29udHJhY3ROYW1lLFxuICAgIHJhdyxcbiAgICBjb21waWxlclxuICB9O1xufVxuXG5jb25zdCBBRERfQklOQVJZID0gZXhwb3J0cy5BRERfQklOQVJZID0gXCJFVk1fQUREX0JJTkFSWVwiO1xuZnVuY3Rpb24gYWRkQmluYXJ5KGNvbnRleHQsIGJpbmFyeSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFERF9CSU5BUlksXG4gICAgY29udGV4dCxcbiAgICBiaW5hcnlcbiAgfTtcbn1cblxuY29uc3QgQUREX0lOU1RBTkNFID0gZXhwb3J0cy5BRERfSU5TVEFOQ0UgPSBcIkVWTV9BRERfSU5TVEFOQ0VcIjtcbmZ1bmN0aW9uIGFkZEluc3RhbmNlKGFkZHJlc3MsIGNvbnRleHQsIGJpbmFyeSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFERF9JTlNUQU5DRSxcbiAgICBhZGRyZXNzLFxuICAgIGNvbnRleHQsXG4gICAgYmluYXJ5XG4gIH07XG59XG5cbmNvbnN0IENBTEwgPSBleHBvcnRzLkNBTEwgPSBcIkNBTExcIjtcbmZ1bmN0aW9uIGNhbGwoYWRkcmVzcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IENBTEwsXG4gICAgYWRkcmVzc1xuICB9O1xufVxuXG5jb25zdCBDUkVBVEUgPSBleHBvcnRzLkNSRUFURSA9IFwiQ1JFQVRFXCI7XG5mdW5jdGlvbiBjcmVhdGUoYmluYXJ5KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQ1JFQVRFLFxuICAgIGJpbmFyeVxuICB9O1xufVxuXG5jb25zdCBSRVRVUk4gPSBleHBvcnRzLlJFVFVSTiA9IFwiUkVUVVJOXCI7XG5mdW5jdGlvbiByZXR1cm5DYWxsKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFVFVSTlxuICB9O1xufVxuXG5jb25zdCBSRVNFVCA9IGV4cG9ydHMuUkVTRVQgPSBcIkVWTV9SRVNFVFwiO1xuZnVuY3Rpb24gcmVzZXQoKSB7XG4gIHJldHVybiB7IHR5cGU6IFJFU0VUIH07XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL2V2bS9hY3Rpb25zL2luZGV4LmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmFkZFNvdXJjZSA9IGFkZFNvdXJjZTtcbmV4cG9ydHMuYWRkU291cmNlTWFwID0gYWRkU291cmNlTWFwO1xuZXhwb3J0cy5yZXNldCA9IHJlc2V0O1xuZXhwb3J0cy5zYWdhID0gc2FnYTtcblxudmFyIF9kZWJ1ZyA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcblxudmFyIF9kZWJ1ZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWJ1Zyk7XG5cbnZhciBfZWZmZWN0cyA9IHJlcXVpcmUoXCJyZWR1eC1zYWdhL2VmZmVjdHNcIik7XG5cbnZhciBfaGVscGVycyA9IHJlcXVpcmUoXCJsaWIvaGVscGVyc1wiKTtcblxudmFyIF9hY3Rpb25zID0gcmVxdWlyZShcIi4uL2FjdGlvbnNcIik7XG5cbnZhciBhY3Rpb25zID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2FjdGlvbnMpO1xuXG52YXIgX2FjdGlvbnMyID0gcmVxdWlyZShcImxpYi90cmFjZS9hY3Rpb25zXCIpO1xuXG52YXIgX3NhZ2FzID0gcmVxdWlyZShcImxpYi90cmFjZS9zYWdhc1wiKTtcblxudmFyIHRyYWNlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3NhZ2FzKTtcblxudmFyIF9zZWxlY3RvcnMgPSByZXF1aXJlKFwiLi4vc2VsZWN0b3JzXCIpO1xuXG52YXIgX3NlbGVjdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3RvcnMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5jb25zdCBkZWJ1ZyA9ICgwLCBfZGVidWcyLmRlZmF1bHQpKFwiZGVidWdnZXI6c29saWRpdHk6c2FnYXNcIik7XG5cbmZ1bmN0aW9uKiBhZGRTb3VyY2Uoc291cmNlLCBzb3VyY2VQYXRoLCBhc3QpIHtcbiAgeWllbGQgKDAsIF9lZmZlY3RzLnB1dCkoYWN0aW9ucy5hZGRTb3VyY2Uoc291cmNlLCBzb3VyY2VQYXRoLCBhc3QpKTtcbn1cblxuZnVuY3Rpb24qIGFkZFNvdXJjZU1hcChiaW5hcnksIHNvdXJjZU1hcCkge1xuICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLmFkZFNvdXJjZU1hcChiaW5hcnksIHNvdXJjZU1hcCkpO1xufVxuXG5mdW5jdGlvbiogdGlja1NhZ2EoKSB7XG4gIGRlYnVnKFwiZ290IFRJQ0tcIik7XG5cbiAgeWllbGQqIGZ1bmN0aW9uRGVwdGhTYWdhKCk7XG4gIHlpZWxkKiB0cmFjZS5zaWduYWxUaWNrU2FnYUNvbXBsZXRpb24oKTtcbn1cblxuZnVuY3Rpb24qIGZ1bmN0aW9uRGVwdGhTYWdhKCkge1xuICBpZiAoeWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LndpbGxKdW1wKSkge1xuICAgIGxldCBqdW1wRGlyZWN0aW9uID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50Lmp1bXBEaXJlY3Rpb24pO1xuICAgIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuanVtcChqdW1wRGlyZWN0aW9uKSk7XG4gIH0gZWxzZSBpZiAoeWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LndpbGxDYWxsKSkge1xuICAgIC8vd2UgaGF2ZSBzZXZlcmFsIGNhc2VzIGhlcmU6XG4gICAgLy8xLiBwcmVjb21waWxlIC0tICpkb24ndCogcHV0IGFueSBqdW1wXG4gICAgLy8yLiB3b3JrYXJvdW5kIGNhc2UgLS0gcHV0IGEgZG91YmxlIGp1bXAgKHNlZSBiZWxvdylcbiAgICAvLzMuIGdlbmVyYWwgY2FzZSAtLSBwdXQgYSBzaW5nbGUganVtcCBhcyBleHBlY3RlZFxuXG4gICAgZGVidWcoXCJhYm91dCB0byBjYWxsXCIpO1xuICAgIGlmICh5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LmN1cnJlbnQuY2FsbHNQcmVjb21waWxlKSkge1xuICAgICAgLy9jYWxsIHRvIHByZWNvbXBpbGU7IGRvIG5vdGhpbmdcbiAgICB9IGVsc2UgaWYgKCh5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LmN1cnJlbnQubmVlZHNGdW5jdGlvbkRlcHRoV29ya2Fyb3VuZCkpICYmICh5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LmN1cnJlbnQuaXNDb250cmFjdENhbGwpKSkge1xuICAgICAgLy9hbGwgdGhlc2UgcGFyZW50aGVzZXMgYXJlIG5lY2Vzc2FyeVxuICAgICAgLy9IQUNLIFdPUktBUk9VTkRcbiAgICAgIC8vYmVjYXVzZSBvZiB0aGUgcHJvYmxlbSBpbiBzb2xjIDwwLjUuMSB3aGVyZSBjb250cmFjdCBtZXRob2QgY2FsbHNcbiAgICAgIC8vZXNzZW50aWFsbHkgcmV0dXJuIHR3aWNlLCB3ZSBjb21wZW5zYXRlIGJ5IHB1dHRpbmcgKnR3byogaW53YXJkIGp1bXBzXG4gICAgICAvL2ZvciBzdWNoIGEgY2FsbC5cbiAgICAgIC8vTm90ZSB0aGF0IHRoaXMgd29uJ3Qgd29yayBpZiB0aGUgY29udHJhY3QgbWV0aG9kIHdhcyBwcmV2aW91c2x5IHBsYWNlZFxuICAgICAgLy9pbiBhIGZ1bmN0aW9uIHZhcmlhYmxlISAgVGhvc2Ugd2lsbCBjb250aW51ZSB0byBzY3JldyB0aGluZ3MgdXAhICBCdXRcbiAgICAgIC8vaWYgYSBjb250cmFjdCBjYWxsIGlzIGJlaW5nIG1hZGUgZGlyZWN0bHksIHdlIGNhbiBkZXRlY3QgdGhhdC5cbiAgICAgIC8vT2YgY291cnNlLCBhbGwgb2YgdGhpcyBzaG91bGQgd29yayBmaW5lIGFzIG9mIHNvbGlkaXR5IDAuNS4xLCB3aXRoIG5vXG4gICAgICAvL3dvcmthcm91bmQgbmVjZXNzYXJ5OyB0aGlzIGJyYW5jaCBzaG91bGQgb25seSBnZXQgdGFrZSBvbiBvbGRcbiAgICAgIC8vY29udHJhY3RzLlxuICAgICAgZGVidWcoXCJ3b3JrYXJvdW5kIGludm9rZWQhXCIpO1xuICAgICAgeWllbGQgKDAsIF9lZmZlY3RzLnB1dCkoYWN0aW9ucy5qdW1wKFwiMlwiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vYW4gb3JkaW5hcnkgY2FsbCwgbm90IHRvIGEgcHJlY29tcGlsZSAmIHdpdGggbm8gd29ya2Fyb3VuZCBuZWVkZWRcbiAgICAgIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuanVtcChcImlcIikpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LmN1cnJlbnQud2lsbENyZWF0ZSkpIHtcbiAgICAvL3RoaXMgY2FzZSwgdGhhbmtmdWxseSwgbmVlZHMgbm8gZnVydGhlciBicmVha2Rvd25cbiAgICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLmp1bXAoXCJpXCIpKTtcbiAgfSBlbHNlIGlmICh5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LmN1cnJlbnQud2lsbFJldHVybikpIHtcbiAgICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLmp1bXAoXCJvXCIpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiogcmVzZXQoKSB7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMucmVzZXQoKSk7XG59XG5cbmZ1bmN0aW9uKiBzYWdhKCkge1xuICB5aWVsZCAoMCwgX2VmZmVjdHMudGFrZUV2ZXJ5KShfYWN0aW9uczIuVElDSywgdGlja1NhZ2EpO1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX2hlbHBlcnMucHJlZml4TmFtZSkoXCJzb2xpZGl0eVwiLCBzYWdhKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWIvc29saWRpdHkvc2FnYXMvaW5kZXguanMiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuYWRkU291cmNlID0gYWRkU291cmNlO1xuZXhwb3J0cy5hZGRTb3VyY2VNYXAgPSBhZGRTb3VyY2VNYXA7XG5leHBvcnRzLmp1bXAgPSBqdW1wO1xuZXhwb3J0cy5yZXNldCA9IHJlc2V0O1xuY29uc3QgQUREX1NPVVJDRSA9IGV4cG9ydHMuQUREX1NPVVJDRSA9IFwiU09MSURJVFlfQUREX1NPVVJDRVwiO1xuZnVuY3Rpb24gYWRkU291cmNlKHNvdXJjZSwgc291cmNlUGF0aCwgYXN0KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQUREX1NPVVJDRSxcbiAgICBzb3VyY2UsXG4gICAgc291cmNlUGF0aCxcbiAgICBhc3RcbiAgfTtcbn1cblxuY29uc3QgQUREX1NPVVJDRU1BUCA9IGV4cG9ydHMuQUREX1NPVVJDRU1BUCA9IFwiU09MSURJVFlfQUREX1NPVVJDRU1BUFwiO1xuZnVuY3Rpb24gYWRkU291cmNlTWFwKGJpbmFyeSwgc291cmNlTWFwKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQUREX1NPVVJDRU1BUCxcbiAgICBiaW5hcnksXG4gICAgc291cmNlTWFwXG4gIH07XG59XG5cbmNvbnN0IEpVTVAgPSBleHBvcnRzLkpVTVAgPSBcIkpVTVBcIjtcbmZ1bmN0aW9uIGp1bXAoanVtcERpcmVjdGlvbikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEpVTVAsXG4gICAganVtcERpcmVjdGlvblxuICB9O1xufVxuXG5jb25zdCBSRVNFVCA9IGV4cG9ydHMuUkVTRVQgPSBcIlNPTElESVRZX1JFU0VUXCI7XG5mdW5jdGlvbiByZXNldCgpIHtcbiAgcmV0dXJuIHsgdHlwZTogUkVTRVQgfTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWIvc29saWRpdHkvYWN0aW9ucy9pbmRleC5qcyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RlYnVnID0gcmVxdWlyZShcImRlYnVnXCIpO1xuXG52YXIgX2RlYnVnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlYnVnKTtcblxudmFyIF9yZXNlbGVjdFRyZWUgPSByZXF1aXJlKFwicmVzZWxlY3QtdHJlZVwiKTtcblxudmFyIF9zZWxlY3RvcnMgPSByZXF1aXJlKFwibGliL2V2bS9zZWxlY3RvcnNcIik7XG5cbnZhciBfc2VsZWN0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdG9ycyk7XG5cbnZhciBfc2VsZWN0b3JzMyA9IHJlcXVpcmUoXCJsaWIvc29saWRpdHkvc2VsZWN0b3JzXCIpO1xuXG52YXIgX3NlbGVjdG9yczQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3RvcnMzKTtcblxudmFyIF9zZWxlY3RvcnM1ID0gcmVxdWlyZShcImxpYi9hc3Qvc2VsZWN0b3JzXCIpO1xuXG52YXIgX3NlbGVjdG9yczYgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3RvcnM1KTtcblxudmFyIF9zZWxlY3RvcnM3ID0gcmVxdWlyZShcImxpYi90cmFjZS9zZWxlY3RvcnNcIik7XG5cbnZhciBfc2VsZWN0b3JzOCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdG9yczcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5jb25zdCBkZWJ1ZyA9ICgwLCBfZGVidWcyLmRlZmF1bHQpKFwiZGVidWdnZXI6Y29udHJvbGxlcjpzYWdhc1wiKTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgaWRlbnRpdHkgPSB4ID0+IHg7XG5cbi8qKlxuICogY29udHJvbGxlclxuICovXG5jb25zdCBjb250cm9sbGVyID0gKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlU2VsZWN0b3JUcmVlKSh7XG4gIC8qKlxuICAgKiBjb250cm9sbGVyLnN0YXRlXG4gICAqL1xuICBzdGF0ZTogc3RhdGUgPT4gc3RhdGUuY29udHJvbGxlcixcbiAgLyoqXG4gICAqIGNvbnRyb2xsZXIuY3VycmVudFxuICAgKi9cbiAgY3VycmVudDoge1xuICAgIC8qKlxuICAgICAqIGNvbnRyb2xsZXIuY3VycmVudC5mdW5jdGlvbkRlcHRoXG4gICAgICovXG4gICAgZnVuY3Rpb25EZXB0aDogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW19zZWxlY3RvcnM0LmRlZmF1bHQuY3VycmVudC5mdW5jdGlvbkRlcHRoXSwgaWRlbnRpdHkpLFxuXG4gICAgLyoqXG4gICAgICogY29udHJvbGxlci5jdXJyZW50LmV4ZWN1dGlvbkNvbnRleHRcbiAgICAgKi9cbiAgICBleGVjdXRpb25Db250ZXh0OiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LmNhbGxdLCBpZGVudGl0eSksXG5cbiAgICAvKipcbiAgICAgKiBjb250cm9sbGVyLmN1cnJlbnQud2lsbEp1bXBcbiAgICAgKi9cbiAgICB3aWxsSnVtcDogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW19zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5zdGVwLmlzSnVtcF0sIGlkZW50aXR5KSxcblxuICAgIC8qKlxuICAgICAqIGNvbnRyb2xsZXIuY3VycmVudC5sb2NhdGlvblxuICAgICAqL1xuICAgIGxvY2F0aW9uOiB7XG4gICAgICAvKipcbiAgICAgICAqIGNvbnRyb2xsZXIuY3VycmVudC5sb2NhdGlvbi5zb3VyY2VSYW5nZVxuICAgICAgICovXG4gICAgICBzb3VyY2VSYW5nZTogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW19zZWxlY3RvcnM0LmRlZmF1bHQuY3VycmVudC5zb3VyY2VSYW5nZV0sIGlkZW50aXR5KSxcblxuICAgICAgLyoqXG4gICAgICAgKiBjb250cm9sbGVyLmN1cnJlbnQubG9jYXRpb24uc291cmNlXG4gICAgICAgKi9cbiAgICAgIHNvdXJjZTogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW19zZWxlY3RvcnM0LmRlZmF1bHQuY3VycmVudC5zb3VyY2VdLCBpZGVudGl0eSksXG5cbiAgICAgIC8qKlxuICAgICAgICogY29udHJvbGxlci5jdXJyZW50LmxvY2F0aW9uLm5vZGVcbiAgICAgICAqL1xuICAgICAgbm9kZTogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW19zZWxlY3RvcnM2LmRlZmF1bHQuY3VycmVudC5ub2RlXSwgaWRlbnRpdHkpLFxuXG4gICAgICAvKipcbiAgICAgICAqIGNvbnRyb2xsZXIuY3VycmVudC5sb2NhdGlvbi5pc011bHRpbGluZVxuICAgICAgICovXG4gICAgICBpc011bHRpbGluZTogKDAsIF9yZXNlbGVjdFRyZWUuY3JlYXRlTGVhZikoW19zZWxlY3RvcnM0LmRlZmF1bHQuY3VycmVudC5pc011bHRpbGluZV0sIGlkZW50aXR5KVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogY29udHJvbGxlci5icmVha3BvaW50c1xuICAgKi9cbiAgYnJlYWtwb2ludHM6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtcIi4vc3RhdGVcIl0sIHN0YXRlID0+IHN0YXRlLmJyZWFrcG9pbnRzKSxcblxuICAvKipcbiAgICogY29udHJvbGxlci5pc1N0ZXBwaW5nXG4gICAqL1xuICBpc1N0ZXBwaW5nOiAoMCwgX3Jlc2VsZWN0VHJlZS5jcmVhdGVMZWFmKShbXCIuL3N0YXRlXCJdLCBzdGF0ZSA9PiBzdGF0ZS5pc1N0ZXBwaW5nKSxcblxuICAvKipcbiAgICogY29udHJvbGxlci5maW5pc2hlZFxuICAgKi9cbiAgZmluaXNoZWQ6ICgwLCBfcmVzZWxlY3RUcmVlLmNyZWF0ZUxlYWYpKFtfc2VsZWN0b3JzOC5kZWZhdWx0LmZpbmlzaGVkXSwgaWRlbnRpdHkpXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gY29udHJvbGxlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWIvY29udHJvbGxlci9zZWxlY3RvcnMvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvYXJyYXkvZnJvbVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9hcnJheS9mcm9tXCJcbi8vIG1vZHVsZSBpZCA9IDQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBkZWJ1Z01vZHVsZSBmcm9tIFwiZGVidWdcIjtcbmNvbnN0IGRlYnVnID0gZGVidWdNb2R1bGUoXCJ0ZXN0OmRhdGE6ZGVjb2RlXCIpO1xuXG5pbXBvcnQgR2FuYWNoZSBmcm9tIFwiZ2FuYWNoZS1jb3JlXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiY2hhaVwiO1xuaW1wb3J0IGNoYW5nZUNhc2UgZnJvbSBcImNoYW5nZS1jYXNlXCI7XG5pbXBvcnQgQk4gZnJvbSBcImJuLmpzXCI7XG5cbmltcG9ydCB7IHByZXBhcmVDb250cmFjdHMgfSBmcm9tIFwidGVzdC9oZWxwZXJzXCI7XG5cbmltcG9ydCBEZWJ1Z2dlciBmcm9tIFwibGliL2RlYnVnZ2VyXCI7XG5cbmltcG9ydCBzb2xpZGl0eSBmcm9tIFwibGliL3NvbGlkaXR5L3NlbGVjdG9yc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24qIGdlbmVyYXRlVWludHMoKSB7XG4gIGxldCB4ID0gMDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICB5aWVsZCB4O1xuICAgIHgrKztcbiAgfVxufVxuXG5mdW5jdGlvbiBjb250cmFjdE5hbWUodGVzdE5hbWUpIHtcbiAgcmV0dXJuIHRlc3ROYW1lLnJlcGxhY2UoLyAvZywgXCJcIik7XG59XG5cbmZ1bmN0aW9uIGZpbGVOYW1lKHRlc3ROYW1lKSB7XG4gIHJldHVybiBgJHtjb250cmFjdE5hbWUodGVzdE5hbWUpfS5zb2xgO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVRlc3RzKGZpeHR1cmVzKSB7XG4gIGZvciAobGV0IHsgbmFtZSwgdmFsdWU6IGV4cGVjdGVkIH0gb2YgZml4dHVyZXMpIHtcbiAgICBpdChgY29ycmVjdGx5IGRlY29kZXMgJHtuYW1lfWAsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5kZWNvZGUobmFtZSk7XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKHJlc3BvbnNlLCBleHBlY3RlZCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbGFzdFN0YXRlbWVudExpbmUoc291cmNlKSB7XG4gIGNvbnN0IGxpbmVzID0gc291cmNlLnNwbGl0KFwiXFxuXCIpO1xuICBmb3IgKGxldCBpID0gbGluZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBsZXQgbGluZSA9IGxpbmVzW2ldO1xuICAgIGlmIChsaW5lLmluZGV4T2YoXCI7XCIpICE9IC0xKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcHJlcGFyZURlYnVnZ2VyKHRlc3ROYW1lLCBzb3VyY2VzKSB7XG4gIGNvbnN0IHByb3ZpZGVyID0gR2FuYWNoZS5wcm92aWRlcih7IHNlZWQ6IFwiZGVidWdnZXJcIiwgZ2FzTGltaXQ6IDcwMDAwMDAgfSk7XG5cbiAgbGV0IHsgYWJzdHJhY3Rpb25zLCBhcnRpZmFjdHM6IGNvbnRyYWN0cywgZmlsZXMgfSA9IGF3YWl0IHByZXBhcmVDb250cmFjdHMoXG4gICAgcHJvdmlkZXIsXG4gICAgc291cmNlc1xuICApO1xuXG4gIGxldCBpbnN0YW5jZSA9IGF3YWl0IGFic3RyYWN0aW9uc1tjb250cmFjdE5hbWUodGVzdE5hbWUpXS5kZXBsb3llZCgpO1xuICBsZXQgcmVjZWlwdCA9IGF3YWl0IGluc3RhbmNlLnJ1bigpO1xuICBsZXQgdHhIYXNoID0gcmVjZWlwdC50eDtcblxuICBsZXQgYnVnZ2VyID0gYXdhaXQgRGVidWdnZXIuZm9yVHgodHhIYXNoLCB7IHByb3ZpZGVyLCBmaWxlcywgY29udHJhY3RzIH0pO1xuXG4gIGxldCBzZXNzaW9uID0gYnVnZ2VyLmNvbm5lY3QoKTtcblxuICBsZXQgc291cmNlID0gc291cmNlc1tmaWxlTmFtZSh0ZXN0TmFtZSldO1xuXG4gIC8vd2UnbGwgbmVlZCB0aGUgZGVidWdnZXItaW50ZXJuYWwgSUQgb2YgdGhpcyBzb3VyY2VcbiAgbGV0IGRlYnVnZ2VyU291cmNlcyA9IHNlc3Npb24udmlldyhzb2xpZGl0eS5pbmZvLnNvdXJjZXMpO1xuICBsZXQgbWF0Y2hpbmdTb3VyY2VzID0gT2JqZWN0LnZhbHVlcyhkZWJ1Z2dlclNvdXJjZXMpLmZpbHRlcihzb3VyY2VPYmplY3QgPT5cbiAgICBzb3VyY2VPYmplY3Quc291cmNlUGF0aC5pbmNsdWRlcyhjb250cmFjdE5hbWUodGVzdE5hbWUpKVxuICApO1xuICBsZXQgc291cmNlSWQgPSBtYXRjaGluZ1NvdXJjZXNbMF0uaWQ7XG5cbiAgbGV0IGJyZWFrcG9pbnQgPSB7XG4gICAgc291cmNlSWQsXG4gICAgbGluZTogbGFzdFN0YXRlbWVudExpbmUoc291cmNlKVxuICB9O1xuXG4gIHNlc3Npb24uYWRkQnJlYWtwb2ludChicmVha3BvaW50KTtcblxuICBzZXNzaW9uLmNvbnRpbnVlVW50aWxCcmVha3BvaW50KCk7XG5cbiAgcmV0dXJuIHNlc3Npb247XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRlY29kZShuYW1lKSB7XG4gIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLnNlc3Npb24udmFyaWFibGUobmFtZSk7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xuICAgIHJlc3VsdCA9IHJlc3VsdC5tYXAoZWxlbWVudCA9PiB7XG4gICAgICBpZiAoQk4uaXNCTihlbGVtZW50KSkge1xuICAgICAgICAvLyBXZSdyZSBhc3N1bWluZyB0aGVzZSB0ZXN0cyBoYXZlIHNtYWxsIG51bWJlcnNcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQudG9OdW1iZXIoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQudG9TdHJpbmcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gZWxlbWVudC50b1N0cmluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJlc3VsdCA9PT0gXCJvYmplY3RcIikge1xuICAgIHN3aXRjaCAocmVzdWx0LnR5cGUpIHtcbiAgICAgIGNhc2UgXCJtYXBwaW5nXCI6IHtcbiAgICAgICAgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7fSxcbiAgICAgICAgICAuLi5PYmplY3QuZW50cmllcyhyZXN1bHQubWVtYmVycykubWFwKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmIChCTi5pc0JOKHZhbHVlKSkge1xuICAgICAgICAgICAgICAvLyBXZSdyZSBhc3N1bWluZyB0aGVzZSB0ZXN0cyBoYXZlIHNtYWxsIG51bWJlcnNcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b051bWJlcigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUudG9TdHJpbmcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIFtrZXldOiB2YWx1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzY3JpYmVEZWNvZGluZyh0ZXN0TmFtZSwgZml4dHVyZXMsIHNlbGVjdG9yLCBnZW5lcmF0ZVNvdXJjZSkge1xuICBjb25zdCBzb3VyY2VzID0ge1xuICAgIFtmaWxlTmFtZSh0ZXN0TmFtZSldOiBnZW5lcmF0ZVNvdXJjZShjb250cmFjdE5hbWUodGVzdE5hbWUpLCBmaXh0dXJlcylcbiAgfTtcblxuICBkZXNjcmliZSh0ZXN0TmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgdGVzdERlYnVnID0gZGVidWdNb2R1bGUoXG4gICAgICBgdGVzdDpkYXRhOmRlY29kZToke2NoYW5nZUNhc2UucGFyYW1DYXNlKHRlc3ROYW1lKX1gXG4gICAgKTtcblxuICAgIHRlc3REZWJ1ZyhcInNvdXJjZSAlc1wiLCBPYmplY3QudmFsdWVzKHNvdXJjZXMpWzBdKTtcblxuICAgIHRoaXMudGltZW91dCgzMDAwMCk7XG5cbiAgICBiZWZvcmUoXCJydW5zIGFuZCBvYnNlcnZlcyBkZWJ1Z2dlclwiLCBhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLnNlc3Npb24gPSBhd2FpdCBwcmVwYXJlRGVidWdnZXIodGVzdE5hbWUsIHNvdXJjZXMpO1xuICAgICAgdGhpcy5kZWNvZGUgPSBkZWNvZGU7XG5cbiAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICBkZWJ1ZyhcInNlbGVjdG9yICVPXCIsIHRoaXMuc2Vzc2lvbi52aWV3KHNlbGVjdG9yKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBnZW5lcmF0ZVRlc3RzLmJpbmQodGhpcykoZml4dHVyZXMpO1xuICB9KTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB0ZXN0L2RhdGEvaGVscGVycy5qcyIsIi8vIHJ1bnRpbWUgaGVscGVyXG5mdW5jdGlvbiBpbk1hbmlmZXN0KGlkKSB7IHJldHVybiBnbG9iYWwuX193ZWJwYWNrTWFuaWZlc3RfXy5pbmRleE9mKGlkKSA+PSAwO31cbmZ1bmN0aW9uIHJ1bihpZCkgeyBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTt9XG5cbi8vIG1vZHVsZXMgdG8gZXhlY3V0ZSBnb2VzIGhlcmVcbnZhciBpZHMgPSBbXG5yZXF1aXJlLnJlc29sdmUoXCIuLi8uLi8uLi9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL3Rlc3QvYXN0LmpzXCIpLHJlcXVpcmUucmVzb2x2ZShcIi4uLy4uLy4uL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvdGVzdC9jb250ZXh0LmpzXCIpLHJlcXVpcmUucmVzb2x2ZShcIi4uLy4uLy4uL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvdGVzdC9kYXRhL2RlY29kaW5nLmpzXCIpLHJlcXVpcmUucmVzb2x2ZShcIi4uLy4uLy4uL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvdGVzdC9kYXRhL2hlbHBlcnMuanNcIikscmVxdWlyZS5yZXNvbHZlKFwiLi4vLi4vLi4vcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci90ZXN0L2RhdGEvaWRzLmpzXCIpLHJlcXVpcmUucmVzb2x2ZShcIi4uLy4uLy4uL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvdGVzdC9kYXRhL21vcmUtZGVjb2RpbmcuanNcIikscmVxdWlyZS5yZXNvbHZlKFwiLi4vLi4vLi4vcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci90ZXN0L2RhdGEvdXRpbHMuanNcIikscmVxdWlyZS5yZXNvbHZlKFwiLi4vLi4vLi4vcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci90ZXN0L2VuZHN0YXRlLmpzXCIpLHJlcXVpcmUucmVzb2x2ZShcIi4uLy4uLy4uL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvdGVzdC9ldm0uanNcIikscmVxdWlyZS5yZXNvbHZlKFwiLi4vLi4vLi4vcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci90ZXN0L2hlbHBlcnMuanNcIikscmVxdWlyZS5yZXNvbHZlKFwiLi4vLi4vLi4vcGFja2FnZXMvdHJ1ZmZsZS1kZWJ1Z2dlci90ZXN0L3ByZWNvbXBpbGVzLmpzXCIpLHJlcXVpcmUucmVzb2x2ZShcIi4uLy4uLy4uL3BhY2thZ2VzL3RydWZmbGUtZGVidWdnZXIvdGVzdC9yZXNldC5qc1wiKSxyZXF1aXJlLnJlc29sdmUoXCIuLi8uLi8uLi9wYWNrYWdlcy90cnVmZmxlLWRlYnVnZ2VyL3Rlc3Qvc29saWRpdHkuanNcIilcbl07XG5cbmlkcy5maWx0ZXIoaW5NYW5pZmVzdCkuZm9yRWFjaChydW4pXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2duaWRhbi9zcmMvd29yay90cnVmZmxlL25vZGVfbW9kdWxlcy9tb2NoYS13ZWJwYWNrL2xpYi9lbnRyeS5qc1xuLy8gbW9kdWxlIGlkID0gNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IGRlYnVnTW9kdWxlIGZyb20gXCJkZWJ1Z1wiO1xuY29uc3QgZGVidWcgPSBkZWJ1Z01vZHVsZShcInRlc3Q6YXN0XCIpO1xuXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiY2hhaVwiO1xuXG5pbXBvcnQgR2FuYWNoZSBmcm9tIFwiZ2FuYWNoZS1jb3JlXCI7XG5cbmltcG9ydCB7IHByZXBhcmVDb250cmFjdHMgfSBmcm9tIFwiLi9oZWxwZXJzXCI7XG5pbXBvcnQgRGVidWdnZXIgZnJvbSBcImxpYi9kZWJ1Z2dlclwiO1xuXG5pbXBvcnQgYXN0IGZyb20gXCJsaWIvYXN0L3NlbGVjdG9yc1wiO1xuaW1wb3J0IHNvbGlkaXR5IGZyb20gXCJsaWIvc29saWRpdHkvc2VsZWN0b3JzXCI7XG5pbXBvcnQgdHJhY2UgZnJvbSBcImxpYi90cmFjZS9zZWxlY3RvcnNcIjtcblxuaW1wb3J0IHsgZ2V0UmFuZ2UgfSBmcm9tIFwibGliL2FzdC9tYXBcIjtcblxuY29uc3QgX19WQVJJQUJMRVMgPSBgXG5wcmFnbWEgc29saWRpdHkgfjAuNTtcblxuY29udHJhY3QgVmFyaWFibGVzIHtcbiAgZXZlbnQgUmVzdWx0KHVpbnQyNTYgcmVzdWx0KTtcblxuICB1aW50MjU2IHF1eDtcbiAgc3RyaW5nIHF1dXg7XG5cbiAgZnVuY3Rpb24gc3RhY2sodWludDI1NiBmb28pIHB1YmxpYyByZXR1cm5zICh1aW50MjU2KSB7XG4gICAgdWludDI1NiBiYXIgPSBmb28gKyAxO1xuICAgIHVpbnQyNTYgYmF6ID0gaW5uZXJTdGFjayhiYXIpO1xuXG4gICAgYmF6ICs9IDQ7XG5cbiAgICBxdXggPSBiYXo7XG5cbiAgICBlbWl0IFJlc3VsdChiYXopO1xuXG4gICAgcmV0dXJuIGJhejtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlubmVyU3RhY2sodWludDI1NiBiYXopIHB1YmxpYyByZXR1cm5zICh1aW50MjU2KSB7XG4gICAgdWludDI1NiBiYXIgPSBiYXogKyAyO1xuICAgIHJldHVybiBiYXI7XG4gIH1cbn1cbmA7XG5cbmxldCBzb3VyY2VzID0ge1xuICBcIlZhcmlhYmxlcy5zb2xcIjogX19WQVJJQUJMRVNcbn07XG5cbmRlc2NyaWJlKFwiQVNUXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgcHJvdmlkZXI7XG5cbiAgdmFyIGFic3RyYWN0aW9ucztcbiAgdmFyIGFydGlmYWN0cztcbiAgdmFyIGZpbGVzO1xuXG4gIGJlZm9yZShcIkNyZWF0ZSBQcm92aWRlclwiLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICBwcm92aWRlciA9IEdhbmFjaGUucHJvdmlkZXIoeyBzZWVkOiBcImRlYnVnZ2VyXCIsIGdhc0xpbWl0OiA3MDAwMDAwIH0pO1xuICB9KTtcblxuICBiZWZvcmUoXCJQcmVwYXJlIGNvbnRyYWN0cyBhbmQgYXJ0aWZhY3RzXCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGltZW91dCgzMDAwMCk7XG5cbiAgICBsZXQgcHJlcGFyZWQgPSBhd2FpdCBwcmVwYXJlQ29udHJhY3RzKHByb3ZpZGVyLCBzb3VyY2VzKTtcbiAgICBhYnN0cmFjdGlvbnMgPSBwcmVwYXJlZC5hYnN0cmFjdGlvbnM7XG4gICAgYXJ0aWZhY3RzID0gcHJlcGFyZWQuYXJ0aWZhY3RzO1xuICAgIGZpbGVzID0gcHJlcGFyZWQuZmlsZXM7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiTm9kZSBwb2ludGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgIGl0KFwidHJhdmVyc2VzXCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy50aW1lb3V0KDApO1xuICAgICAgbGV0IGluc3RhbmNlID0gYXdhaXQgYWJzdHJhY3Rpb25zLlZhcmlhYmxlcy5kZXBsb3llZCgpO1xuICAgICAgbGV0IHJlY2VpcHQgPSBhd2FpdCBpbnN0YW5jZS5zdGFjayg0KTtcbiAgICAgIGxldCB0eEhhc2ggPSByZWNlaXB0LnR4O1xuXG4gICAgICBsZXQgYnVnZ2VyID0gYXdhaXQgRGVidWdnZXIuZm9yVHgodHhIYXNoLCB7XG4gICAgICAgIHByb3ZpZGVyLFxuICAgICAgICBmaWxlcyxcbiAgICAgICAgY29udHJhY3RzOiBhcnRpZmFjdHNcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgc2Vzc2lvbiA9IGJ1Z2dlci5jb25uZWN0KCk7XG4gICAgICBkZWJ1ZyhcImFzdDogJU9cIiwgc2Vzc2lvbi52aWV3KGFzdC5jdXJyZW50LnRyZWUpKTtcblxuICAgICAgZG8ge1xuICAgICAgICBsZXQgeyBzdGFydCwgbGVuZ3RoIH0gPSBzZXNzaW9uLnZpZXcoc29saWRpdHkuY3VycmVudC5zb3VyY2VSYW5nZSk7XG4gICAgICAgIGxldCBlbmQgPSBzdGFydCArIGxlbmd0aDtcblxuICAgICAgICBsZXQgbm9kZSA9IHNlc3Npb24udmlldyhhc3QuY3VycmVudC5ub2RlKTtcblxuICAgICAgICBsZXQgW25vZGVTdGFydCwgbm9kZUxlbmd0aF0gPSBnZXRSYW5nZShub2RlKTtcbiAgICAgICAgbGV0IG5vZGVFbmQgPSBub2RlU3RhcnQgKyBub2RlTGVuZ3RoO1xuXG4gICAgICAgIGxldCBwb2ludGVyID0gc2Vzc2lvbi52aWV3KGFzdC5jdXJyZW50LnBvaW50ZXIpO1xuXG4gICAgICAgIGFzc2VydC5pc0F0TW9zdChcbiAgICAgICAgICBub2RlU3RhcnQsXG4gICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgYE5vZGUgJHtwb2ludGVyfSBhdCBzaG91bGQgbm90IGJlZ2luIGFmdGVyIGluc3RydWN0aW9uIHNvdXJjZSByYW5nZWBcbiAgICAgICAgKTtcbiAgICAgICAgYXNzZXJ0LmlzQXRMZWFzdChcbiAgICAgICAgICBub2RlRW5kLFxuICAgICAgICAgIGVuZCxcbiAgICAgICAgICBgTm9kZSAke3BvaW50ZXJ9IHNob3VsZCBub3QgZW5kIGFmdGVyIHNvdXJjZWBcbiAgICAgICAgKTtcblxuICAgICAgICBzZXNzaW9uLnN0ZXBOZXh0KCk7XG4gICAgICB9IHdoaWxlICghc2Vzc2lvbi52aWV3KHRyYWNlLmZpbmlzaGVkKSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gdGVzdC9hc3QuanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicGF0aFwiXG4vLyBtb2R1bGUgaWQgPSA0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmcy1leHRyYVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImZzLWV4dHJhXCJcbi8vIG1vZHVsZSBpZCA9IDQ1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInRydWZmbGUtd29ya2Zsb3ctY29tcGlsZVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInRydWZmbGUtd29ya2Zsb3ctY29tcGlsZVwiXG4vLyBtb2R1bGUgaWQgPSA0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ0cnVmZmxlLWRlYnVnLXV0aWxzXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwidHJ1ZmZsZS1kZWJ1Zy11dGlsc1wiXG4vLyBtb2R1bGUgaWQgPSA0N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ0cnVmZmxlLWFydGlmYWN0b3JcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJ0cnVmZmxlLWFydGlmYWN0b3JcIlxuLy8gbW9kdWxlIGlkID0gNDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidHJ1ZmZsZS1taWdyYXRlXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwidHJ1ZmZsZS1taWdyYXRlXCJcbi8vIG1vZHVsZSBpZCA9IDQ5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInRydWZmbGUtYm94XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwidHJ1ZmZsZS1ib3hcIlxuLy8gbW9kdWxlIGlkID0gNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidHJ1ZmZsZS1yZXNvbHZlclwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInRydWZmbGUtcmVzb2x2ZXJcIlxuLy8gbW9kdWxlIGlkID0gNTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidHJ1ZmZsZS1leHBlY3RcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJ0cnVmZmxlLWV4cGVjdFwiXG4vLyBtb2R1bGUgaWQgPSA1MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kZWJ1ZyA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcblxudmFyIF9kZWJ1ZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWJ1Zyk7XG5cbnZhciBfc2Vzc2lvbiA9IHJlcXVpcmUoXCIuL3Nlc3Npb25cIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmNvbnN0IGRlYnVnID0gKDAsIF9kZWJ1ZzIuZGVmYXVsdCkoXCJkZWJ1Z2dlcjpzZXNzaW9uXCIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfc2Vzc2lvbi5TZXNzaW9uO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9zZXNzaW9uL2luZGV4LmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlNlc3Npb24gPSB1bmRlZmluZWQ7XG5cbnZhciBfYXN5bmNUb0dlbmVyYXRvcjIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3JcIik7XG5cbnZhciBfYXN5bmNUb0dlbmVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3luY1RvR2VuZXJhdG9yMik7XG5cbnZhciBfdmFsdWVzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvdmFsdWVzXCIpO1xuXG52YXIgX3ZhbHVlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92YWx1ZXMpO1xuXG52YXIgX3Byb21pc2UgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2VcIik7XG5cbnZhciBfcHJvbWlzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9taXNlKTtcblxudmFyIF9kZWJ1ZyA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcblxudmFyIF9kZWJ1ZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWJ1Zyk7XG5cbnZhciBfc3RvcmUgPSByZXF1aXJlKFwibGliL3N0b3JlXCIpO1xuXG52YXIgX3N0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0b3JlKTtcblxudmFyIF9hY3Rpb25zID0gcmVxdWlyZShcImxpYi9jb250cm9sbGVyL2FjdGlvbnNcIik7XG5cbnZhciBjb250cm9sbGVyID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2FjdGlvbnMpO1xuXG52YXIgX2FjdGlvbnMyID0gcmVxdWlyZShcIi4vYWN0aW9uc1wiKTtcblxudmFyIGFjdGlvbnMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfYWN0aW9uczIpO1xuXG52YXIgX3NlbGVjdG9ycyA9IHJlcXVpcmUoXCJsaWIvZGF0YS9zZWxlY3RvcnNcIik7XG5cbnZhciBfc2VsZWN0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdG9ycyk7XG5cbnZhciBfc2FnYXMgPSByZXF1aXJlKFwiLi9zYWdhc1wiKTtcblxudmFyIF9zYWdhczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zYWdhcyk7XG5cbnZhciBfcmVkdWNlcnMgPSByZXF1aXJlKFwiLi9yZWR1Y2Vyc1wiKTtcblxudmFyIF9yZWR1Y2VyczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1Y2Vycyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmNvbnN0IGRlYnVnID0gKDAsIF9kZWJ1ZzIuZGVmYXVsdCkoXCJkZWJ1Z2dlcjpzZXNzaW9uOnNlc3Npb25cIik7XG5cbi8qKlxuICogRGVidWdnZXIgU2Vzc2lvblxuICovXG5jbGFzcyBTZXNzaW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8Q29udHJhY3Q+fSBjb250cmFjdHMgLSBjb250cmFjdCBkZWZpbml0aW9uc1xuICAgKiBAcGFyYW0ge0FycmF5PFN0cmluZz59IGZpbGVzIC0gYXJyYXkgb2YgZmlsZW5hbWVzIGZvciBzb3VyY2VNYXAgaW5kZXhlc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdHhIYXNoIC0gdHJhbnNhY3Rpb24gaGFzaFxuICAgKiBAcGFyYW0ge1dlYjNQcm92aWRlcn0gcHJvdmlkZXIgLSB3ZWIzIHByb3ZpZGVyXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb250cmFjdHMsIGZpbGVzLCB0eEhhc2gsIHByb3ZpZGVyKSB7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9zdG9yZSA9ICgwLCBfc3RvcmUyLmRlZmF1bHQpKF9yZWR1Y2VyczIuZGVmYXVsdCwgX3NhZ2FzMi5kZWZhdWx0KTtcblxuICAgIGxldCB7IGNvbnRleHRzLCBzb3VyY2VzIH0gPSBTZXNzaW9uLm5vcm1hbGl6ZShjb250cmFjdHMsIGZpbGVzKTtcblxuICAgIC8vIHJlY29yZCBjb250cmFjdHNcbiAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChhY3Rpb25zLnJlY29yZENvbnRyYWN0cyhjb250ZXh0cywgc291cmNlcykpO1xuXG4gICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goYWN0aW9ucy5zdGFydCh0eEhhc2gsIHByb3ZpZGVyKSk7XG4gIH1cblxuICByZWFkeSgpIHtcbiAgICByZXR1cm4gbmV3IF9wcm9taXNlMi5kZWZhdWx0KChhY2NlcHQsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fc3RvcmUuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2Vzc2lvbi5zdGF0dXMgPT0gXCJBQ1RJVkVcIikge1xuICAgICAgICAgIGFjY2VwdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLnN0YXRlLnNlc3Npb24uc3RhdHVzID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICByZWplY3QodGhpcy5zdGF0ZS5zZXNzaW9uLnN0YXR1cy5lcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0IHVwIGFydGlmYWN0cyBpbnRvIFwiY29udGV4dHNcIiBhbmQgXCJzb3VyY2VzXCIsIGRpdmlkaW5nIGFydGlmYWN0XG4gICAqIGRhdGEgaW50byBhcHByb3ByaWF0ZSBidWNrZXRzLlxuICAgKlxuICAgKiBNdWx0aXBsZSBjb250cmFjdHMgY2FuIGJlIGRlZmluZWQgaW4gdGhlIHNhbWUgc291cmNlIGZpbGUsIGJ1dCBoYXZlXG4gICAqIGRpZmZlcmVudCBieXRlY29kZXMuXG4gICAqXG4gICAqIFRoaXMgaXRlcmF0ZXMgb3ZlciB0aGUgY29udHJhY3RzIGFuZCBjb2xsZWN0cyBiaW5hcmllcyBzZXBhcmF0ZWx5XG4gICAqIGZyb20gc291cmNlcywgdXNpbmcgdGhlIG9wdGlvbmFsIGBmaWxlc2AgYXJndW1lbnQgdG8gZm9yY2VcbiAgICogc291cmNlIG9yZGVyaW5nLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIG5vcm1hbGl6ZShjb250cmFjdHMsIGZpbGVzID0gbnVsbCkge1xuICAgIGxldCBzb3VyY2VzQnlQYXRoID0ge307XG4gICAgbGV0IGNvbnRleHRzID0gW107XG4gICAgbGV0IHNvdXJjZXM7XG5cbiAgICBmb3IgKGxldCBjb250cmFjdCBvZiBjb250cmFjdHMpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIGNvbnRyYWN0TmFtZSxcbiAgICAgICAgYmluYXJ5LFxuICAgICAgICBzb3VyY2VNYXAsXG4gICAgICAgIGRlcGxveWVkQmluYXJ5LFxuICAgICAgICBkZXBsb3llZFNvdXJjZU1hcCxcbiAgICAgICAgc291cmNlUGF0aCxcbiAgICAgICAgc291cmNlLFxuICAgICAgICBhc3QsXG4gICAgICAgIGNvbXBpbGVyXG4gICAgICB9ID0gY29udHJhY3Q7XG5cbiAgICAgIGRlYnVnKFwic291cmNlTWFwICVvXCIsIHNvdXJjZU1hcCk7XG4gICAgICBkZWJ1ZyhcImNvbXBpbGVyICVvXCIsIGNvbXBpbGVyKTtcblxuICAgICAgc291cmNlc0J5UGF0aFtzb3VyY2VQYXRoXSA9IHsgc291cmNlUGF0aCwgc291cmNlLCBhc3QgfTtcblxuICAgICAgaWYgKGJpbmFyeSAmJiBiaW5hcnkgIT0gXCIweFwiKSB7XG4gICAgICAgIGNvbnRleHRzLnB1c2goe1xuICAgICAgICAgIGNvbnRyYWN0TmFtZSxcbiAgICAgICAgICBiaW5hcnksXG4gICAgICAgICAgc291cmNlTWFwXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGVwbG95ZWRCaW5hcnkgJiYgZGVwbG95ZWRCaW5hcnkgIT0gXCIweFwiKSB7XG4gICAgICAgIGNvbnRleHRzLnB1c2goe1xuICAgICAgICAgIGNvbnRyYWN0TmFtZSxcbiAgICAgICAgICBiaW5hcnk6IGRlcGxveWVkQmluYXJ5LFxuICAgICAgICAgIHNvdXJjZU1hcDogZGVwbG95ZWRTb3VyY2VNYXAsXG4gICAgICAgICAgY29tcGlsZXJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFmaWxlcykge1xuICAgICAgc291cmNlcyA9ICgwLCBfdmFsdWVzMi5kZWZhdWx0KShzb3VyY2VzQnlQYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc291cmNlcyA9IGZpbGVzLm1hcChmaWxlID0+IHNvdXJjZXNCeVBhdGhbZmlsZV0pO1xuICAgIH1cblxuICAgIHJldHVybiB7IGNvbnRleHRzLCBzb3VyY2VzIH07XG4gIH1cblxuICBnZXQgc3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlLmdldFN0YXRlKCk7XG4gIH1cblxuICB2aWV3KHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yKHRoaXMuc3RhdGUpO1xuICB9XG5cbiAgZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaW50ZXJydXB0KCkge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKGNvbnRyb2xsZXIuaW50ZXJydXB0KCkpO1xuICB9XG5cbiAgZG9uZVN0ZXBwaW5nKHN0ZXBwZXJBY3Rpb24pIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiBuZXcgX3Byb21pc2UyLmRlZmF1bHQoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgbGV0IGhhc1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGhhc1Jlc29sdmVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gX3RoaXMuX3N0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc3QgaXNTdGVwcGluZyA9IF90aGlzLnZpZXcoY29udHJvbGxlci5pc1N0ZXBwaW5nKTtcblxuICAgICAgICAgIGlmIChpc1N0ZXBwaW5nICYmICFoYXNTdGFydGVkKSB7XG4gICAgICAgICAgICBoYXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWlzU3RlcHBpbmcgJiYgaGFzU3RhcnRlZCAmJiAhaGFzUmVzb2x2ZWQpIHtcbiAgICAgICAgICAgIGhhc1Jlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLmRpc3BhdGNoKHN0ZXBwZXJBY3Rpb24pO1xuICAgICAgfSk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIGFkdmFuY2UoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICByZXR1cm4gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KShmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIHlpZWxkIF90aGlzMi5kb25lU3RlcHBpbmcoY29udHJvbGxlci5hZHZhbmNlKCkpO1xuICAgIH0pKCk7XG4gIH1cblxuICBzdGVwTmV4dCgpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHJldHVybiAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4geWllbGQgX3RoaXMzLmRvbmVTdGVwcGluZyhjb250cm9sbGVyLnN0ZXBOZXh0KCkpO1xuICAgIH0pKCk7XG4gIH1cblxuICBzdGVwT3ZlcigpIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIHJldHVybiAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4geWllbGQgX3RoaXM0LmRvbmVTdGVwcGluZyhjb250cm9sbGVyLnN0ZXBPdmVyKCkpO1xuICAgIH0pKCk7XG4gIH1cblxuICBzdGVwSW50bygpIHtcbiAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgIHJldHVybiAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4geWllbGQgX3RoaXM1LmRvbmVTdGVwcGluZyhjb250cm9sbGVyLnN0ZXBJbnRvKCkpO1xuICAgIH0pKCk7XG4gIH1cblxuICBzdGVwT3V0KCkge1xuICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgcmV0dXJuICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiB5aWVsZCBfdGhpczYuZG9uZVN0ZXBwaW5nKGNvbnRyb2xsZXIuc3RlcE91dCgpKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICByZXR1cm4gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KShmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIHlpZWxkIF90aGlzNy5kb25lU3RlcHBpbmcoY29udHJvbGxlci5yZXNldCgpKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgY29udGludWVVbnRpbEJyZWFrcG9pbnQoKSB7XG4gICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICByZXR1cm4gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KShmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIHlpZWxkIF90aGlzOC5kb25lU3RlcHBpbmcoY29udHJvbGxlci5jb250aW51ZVVudGlsQnJlYWtwb2ludCgpKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgYWRkQnJlYWtwb2ludChicmVha3BvaW50KSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goY29udHJvbGxlci5hZGRCcmVha3BvaW50KGJyZWFrcG9pbnQpKTtcbiAgfVxuXG4gIHJlbW92ZUJyZWFrcG9pbnQoYnJlYWtwb2ludCkge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKGNvbnRyb2xsZXIucmVtb3ZlQnJlYWtwb2ludChicmVha3BvaW50KSk7XG4gIH1cblxuICByZW1vdmVBbGxCcmVha3BvaW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5kaXNwYXRjaChjb250cm9sbGVyLnJlbW92ZUFsbEJyZWFrcG9pbnRzKCkpO1xuICB9XG5cbiAgZGVjb2RlUmVhZHkoKSB7XG4gICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgICByZXR1cm4gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KShmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIG5ldyBfcHJvbWlzZTIuZGVmYXVsdChmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICBsZXQgaGF2ZVJlc29sdmVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gX3RoaXM5Ll9zdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbkRlY29kaW5nU3RhcnRlZCA9IF90aGlzOS52aWV3KF9zZWxlY3RvcnMyLmRlZmF1bHQucHJvYy5kZWNvZGluZ0tleXMpO1xuXG4gICAgICAgICAgZGVidWcoXCJmb2xsb3dpbmcgZGVjb2Rpbmcgc3RhcnRlZDogJWRcIiwgc3Vic2NyaXB0aW9uRGVjb2RpbmdTdGFydGVkKTtcblxuICAgICAgICAgIGlmIChzdWJzY3JpcHRpb25EZWNvZGluZ1N0YXJ0ZWQgPD0gMCAmJiAhaGF2ZVJlc29sdmVkKSB7XG4gICAgICAgICAgICBoYXZlUmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGRlY29kaW5nU3RhcnRlZCA9IF90aGlzOS52aWV3KF9zZWxlY3RvcnMyLmRlZmF1bHQucHJvYy5kZWNvZGluZ0tleXMpO1xuXG4gICAgICAgIGRlYnVnKFwiaW5pdGlhbCBkZWNvZGluZyBzdGFydGVkOiAlZFwiLCBkZWNvZGluZ1N0YXJ0ZWQpO1xuXG4gICAgICAgIGlmIChkZWNvZGluZ1N0YXJ0ZWQgPD0gMCkge1xuICAgICAgICAgIGhhdmVSZXNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pKCk7XG4gIH1cblxuICB2YXJpYWJsZShuYW1lKSB7XG4gICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXG4gICAgcmV0dXJuICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoZnVuY3Rpb24qICgpIHtcbiAgICAgIHlpZWxkIF90aGlzMTAuZGVjb2RlUmVhZHkoKTtcblxuICAgICAgY29uc3QgZGVmaW5pdGlvbnMgPSBfdGhpczEwLnZpZXcoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LmlkZW50aWZpZXJzLmRlZmluaXRpb25zKTtcbiAgICAgIGNvbnN0IHJlZnMgPSBfdGhpczEwLnZpZXcoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LmlkZW50aWZpZXJzLnJlZnMpO1xuXG4gICAgICBjb25zdCBkZWNvZGUgPSBfdGhpczEwLnZpZXcoX3NlbGVjdG9yczIuZGVmYXVsdC52aWV3cy5kZWNvZGVyKTtcbiAgICAgIHJldHVybiB5aWVsZCBkZWNvZGUoZGVmaW5pdGlvbnNbbmFtZV0sIHJlZnNbbmFtZV0pO1xuICAgIH0pKCk7XG4gIH1cblxuICB2YXJpYWJsZXMoKSB7XG4gICAgdmFyIF90aGlzMTEgPSB0aGlzO1xuXG4gICAgcmV0dXJuICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoZnVuY3Rpb24qICgpIHtcbiAgICAgIGRlYnVnKFwiYXdhaXRpbmcgZGVjb2RlUmVhZHlcIik7XG4gICAgICB5aWVsZCBfdGhpczExLmRlY29kZVJlYWR5KCk7XG4gICAgICBkZWJ1ZyhcImRlY29kZSBub3cgcmVhZHlcIik7XG5cbiAgICAgIHJldHVybiB5aWVsZCBfdGhpczExLnZpZXcoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LmlkZW50aWZpZXJzLmRlY29kZWQpO1xuICAgICAgZGVidWcoXCJnb3QgdmFyaWFibGVzXCIpO1xuICAgIH0pKCk7XG4gIH1cbn1cbmV4cG9ydHMuU2Vzc2lvbiA9IFNlc3Npb247XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL3Nlc3Npb24vc2Vzc2lvbi5qcyIsIlwidXNlIHN0cmljdFwiO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vcHJvZHVjdGlvblwiKTtcbn0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwidGVzdFwiKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vdGVzdFwiKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vZGV2ZWxvcG1lbnRcIik7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL3N0b3JlL2luZGV4LmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY29tbW9uID0gcmVxdWlyZShcIi4vY29tbW9uXCIpO1xuXG52YXIgX2NvbW1vbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21tb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBfY29tbW9uMi5kZWZhdWx0O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9zdG9yZS90ZXN0LmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZW50cmllcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2VudHJpZXNcIik7XG5cbnZhciBfZW50cmllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lbnRyaWVzKTtcblxudmFyIF9hc3NpZ24gPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ25cIik7XG5cbnZhciBfYXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2lnbik7XG5cbmV4cG9ydHMuYWJicmV2aWF0ZVZhbHVlcyA9IGFiYnJldmlhdGVWYWx1ZXM7XG5leHBvcnRzLmRlZmF1bHQgPSBjb25maWd1cmVTdG9yZTtcblxudmFyIF9kZWJ1ZyA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcblxudmFyIF9kZWJ1ZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWJ1Zyk7XG5cbnZhciBfcmVkdXggPSByZXF1aXJlKFwicmVkdXhcIik7XG5cbnZhciBfcmVkdXhTYWdhID0gcmVxdWlyZShcInJlZHV4LXNhZ2FcIik7XG5cbnZhciBfcmVkdXhTYWdhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZHV4U2FnYSk7XG5cbnZhciBfcmVkdXhDbGlMb2dnZXIgPSByZXF1aXJlKFwicmVkdXgtY2xpLWxvZ2dlclwiKTtcblxudmFyIF9yZWR1eENsaUxvZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1eENsaUxvZ2dlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmNvbnN0IGRlYnVnID0gKDAsIF9kZWJ1ZzIuZGVmYXVsdCkoXCJkZWJ1Z2dlcjpzdG9yZTpjb21tb25cIik7XG5jb25zdCByZWR1eERlYnVnID0gKDAsIF9kZWJ1ZzIuZGVmYXVsdCkoXCJkZWJ1Z2dlcjpyZWR1eFwiKTtcblxuZnVuY3Rpb24gYWJicmV2aWF0ZVZhbHVlcyh2YWx1ZSwgb3B0aW9ucyA9IHt9LCBkZXB0aCA9IDApIHtcbiAgb3B0aW9ucy5zdHJpbmdMaW1pdCA9IG9wdGlvbnMuc3RyaW5nTGltaXQgfHwgNjY7XG4gIG9wdGlvbnMuYXJyYXlMaW1pdCA9IG9wdGlvbnMuYXJyYXlMaW1pdCB8fCA4O1xuICBvcHRpb25zLnJlY3Vyc2VMaW1pdCA9IG9wdGlvbnMucmVjdXJzZUxpbWl0IHx8IDQ7XG5cbiAgaWYgKGRlcHRoID4gb3B0aW9ucy5yZWN1cnNlTGltaXQpIHtcbiAgICByZXR1cm4gXCIuLi5cIjtcbiAgfVxuXG4gIGNvbnN0IHJlY3Vyc2UgPSBjaGlsZCA9PiBhYmJyZXZpYXRlVmFsdWVzKGNoaWxkLCBvcHRpb25zLCBkZXB0aCArIDEpO1xuXG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgaWYgKHZhbHVlLmxlbmd0aCA+IG9wdGlvbnMuYXJyYXlMaW1pdCkge1xuICAgICAgdmFsdWUgPSBbLi4udmFsdWUuc2xpY2UoMCwgb3B0aW9ucy5hcnJheUxpbWl0IC8gMiksIFwiLi4uXCIsIC4uLnZhbHVlLnNsaWNlKHZhbHVlLmxlbmd0aCAtIG9wdGlvbnMuYXJyYXlMaW1pdCAvIDIgKyAxKV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlLm1hcChyZWN1cnNlKTtcbiAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgIHJldHVybiAoMCwgX2Fzc2lnbjIuZGVmYXVsdCkoe30sIC4uLigwLCBfZW50cmllczIuZGVmYXVsdCkodmFsdWUpLm1hcCgoW2ssIHZdKSA9PiAoeyBbcmVjdXJzZShrKV06IHJlY3Vyc2UodikgfSkpKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUubGVuZ3RoID4gb3B0aW9ucy5zdHJpbmdMaW1pdCkge1xuICAgIGxldCBpbm5lciA9IFwiLi4uXCI7XG4gICAgbGV0IGV4dHJhY3RBbW91bnQgPSAob3B0aW9ucy5zdHJpbmdMaW1pdCAtIGlubmVyLmxlbmd0aCkgLyAyO1xuICAgIGxldCBsZWFkaW5nID0gdmFsdWUuc2xpY2UoMCwgTWF0aC5jZWlsKGV4dHJhY3RBbW91bnQpKTtcbiAgICBsZXQgdHJhaWxpbmcgPSB2YWx1ZS5zbGljZSh2YWx1ZS5sZW5ndGggLSBNYXRoLmZsb29yKGV4dHJhY3RBbW91bnQpKTtcbiAgICByZXR1cm4gYCR7bGVhZGluZ30ke2lubmVyfSR7dHJhaWxpbmd9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29uZmlndXJlU3RvcmUocmVkdWNlciwgc2FnYSwgaW5pdGlhbFN0YXRlLCBjb21wb3NlRW5oYW5jZXJzKSB7XG4gIGNvbnN0IHNhZ2FNaWRkbGV3YXJlID0gKDAsIF9yZWR1eFNhZ2EyLmRlZmF1bHQpKCk7XG5cbiAgaWYgKCFjb21wb3NlRW5oYW5jZXJzKSB7XG4gICAgY29tcG9zZUVuaGFuY2VycyA9IF9yZWR1eC5jb21wb3NlO1xuICB9XG5cbiAgY29uc3QgbG9nZ2VyTWlkZGxld2FyZSA9ICgwLCBfcmVkdXhDbGlMb2dnZXIyLmRlZmF1bHQpKHtcbiAgICBsb2c6IHJlZHV4RGVidWcsXG4gICAgc3RhdGVUcmFuc2Zvcm1lcjogc3RhdGUgPT4gYWJicmV2aWF0ZVZhbHVlcyhzdGF0ZSwge1xuICAgICAgYXJyYXlMaW1pdDogNCxcbiAgICAgIHJlY3Vyc2VMaW1pdDogM1xuICAgIH0pLFxuICAgIGFjdGlvblRyYW5zZm9ybWVyOiBhYmJyZXZpYXRlVmFsdWVzXG4gIH0pO1xuXG4gIGxldCBzdG9yZSA9ICgwLCBfcmVkdXguY3JlYXRlU3RvcmUpKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgY29tcG9zZUVuaGFuY2VycygoMCwgX3JlZHV4LmFwcGx5TWlkZGxld2FyZSkoc2FnYU1pZGRsZXdhcmUsIGxvZ2dlck1pZGRsZXdhcmUpKSk7XG5cbiAgc2FnYU1pZGRsZXdhcmUucnVuKHNhZ2EpO1xuXG4gIHJldHVybiBzdG9yZTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWIvc3RvcmUvY29tbW9uLmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVkdXgtc2FnYVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInJlZHV4LXNhZ2FcIlxuLy8gbW9kdWxlIGlkID0gNThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVkdXgtY2xpLWxvZ2dlclwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInJlZHV4LWNsaS1sb2dnZXJcIlxuLy8gbW9kdWxlIGlkID0gNTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGpzb24gPSB0eXBlb2YgSlNPTiAhPT0gJ3VuZGVmaW5lZCcgPyBKU09OIDogcmVxdWlyZSgnanNvbmlmeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmosIG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIG9wdHMgPSB7fTtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIG9wdHMgPSB7IGNtcDogb3B0cyB9O1xuICAgIHZhciBzcGFjZSA9IG9wdHMuc3BhY2UgfHwgJyc7XG4gICAgaWYgKHR5cGVvZiBzcGFjZSA9PT0gJ251bWJlcicpIHNwYWNlID0gQXJyYXkoc3BhY2UrMSkuam9pbignICcpO1xuICAgIHZhciBjeWNsZXMgPSAodHlwZW9mIG9wdHMuY3ljbGVzID09PSAnYm9vbGVhbicpID8gb3B0cy5jeWNsZXMgOiBmYWxzZTtcbiAgICB2YXIgcmVwbGFjZXIgPSBvcHRzLnJlcGxhY2VyIHx8IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuXG4gICAgdmFyIGNtcCA9IG9wdHMuY21wICYmIChmdW5jdGlvbiAoZikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHZhciBhb2JqID0geyBrZXk6IGEsIHZhbHVlOiBub2RlW2FdIH07XG4gICAgICAgICAgICAgICAgdmFyIGJvYmogPSB7IGtleTogYiwgdmFsdWU6IG5vZGVbYl0gfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZihhb2JqLCBib2JqKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfSkob3B0cy5jbXApO1xuXG4gICAgdmFyIHNlZW4gPSBbXTtcbiAgICByZXR1cm4gKGZ1bmN0aW9uIHN0cmluZ2lmeSAocGFyZW50LCBrZXksIG5vZGUsIGxldmVsKSB7XG4gICAgICAgIHZhciBpbmRlbnQgPSBzcGFjZSA/ICgnXFxuJyArIG5ldyBBcnJheShsZXZlbCArIDEpLmpvaW4oc3BhY2UpKSA6ICcnO1xuICAgICAgICB2YXIgY29sb25TZXBhcmF0b3IgPSBzcGFjZSA/ICc6ICcgOiAnOic7XG5cbiAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS50b0pTT04gJiYgdHlwZW9mIG5vZGUudG9KU09OID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS50b0pTT04oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5vZGUgPSByZXBsYWNlci5jYWxsKHBhcmVudCwga2V5LCBub2RlKTtcblxuICAgICAgICBpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0JyB8fCBub2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4ganNvbi5zdHJpbmdpZnkobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXkobm9kZSkpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gc3RyaW5naWZ5KG5vZGUsIGksIG5vZGVbaV0sIGxldmVsKzEpIHx8IGpzb24uc3RyaW5naWZ5KG51bGwpO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKGluZGVudCArIHNwYWNlICsgaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJ1snICsgb3V0LmpvaW4oJywnKSArIGluZGVudCArICddJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzZWVuLmluZGV4T2Yobm9kZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN5Y2xlcykgcmV0dXJuIGpzb24uc3RyaW5naWZ5KCdfX2N5Y2xlX18nKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDb252ZXJ0aW5nIGNpcmN1bGFyIHN0cnVjdHVyZSB0byBKU09OJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHNlZW4ucHVzaChub2RlKTtcblxuICAgICAgICAgICAgdmFyIGtleXMgPSBvYmplY3RLZXlzKG5vZGUpLnNvcnQoY21wICYmIGNtcChub2RlKSk7XG4gICAgICAgICAgICB2YXIgb3V0ID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBzdHJpbmdpZnkobm9kZSwga2V5LCBub2RlW2tleV0sIGxldmVsKzEpO1xuXG4gICAgICAgICAgICAgICAgaWYoIXZhbHVlKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIHZhciBrZXlWYWx1ZSA9IGpzb24uc3RyaW5naWZ5KGtleSlcbiAgICAgICAgICAgICAgICAgICAgKyBjb2xvblNlcGFyYXRvclxuICAgICAgICAgICAgICAgICAgICArIHZhbHVlO1xuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICBvdXQucHVzaChpbmRlbnQgKyBzcGFjZSArIGtleVZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlZW4uc3BsaWNlKHNlZW4uaW5kZXhPZihub2RlKSwgMSk7XG4gICAgICAgICAgICByZXR1cm4gJ3snICsgb3V0LmpvaW4oJywnKSArIGluZGVudCArICd9JztcbiAgICAgICAgfVxuICAgIH0pKHsgJyc6IG9iaiB9LCAnJywgb2JqLCAwKTtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiB7fS50b1N0cmluZy5jYWxsKHgpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkgfHwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZSB9O1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICBpZiAoaGFzLmNhbGwob2JqLCBrZXkpKSBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIGtleXM7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2duaWRhbi9zcmMvd29yay90cnVmZmxlL25vZGVfbW9kdWxlcy9qc29uLXN0YWJsZS1zdHJpbmdpZnkvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDYwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2xpYi9wYXJzZScpO1xuZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2xpYi9zdHJpbmdpZnknKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9ub2RlX21vZHVsZXMvanNvbmlmeS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGF0LCAvLyBUaGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgY2hhcmFjdGVyXG4gICAgY2gsIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlclxuICAgIGVzY2FwZWUgPSB7XG4gICAgICAgICdcIic6ICAnXCInLFxuICAgICAgICAnXFxcXCc6ICdcXFxcJyxcbiAgICAgICAgJy8nOiAgJy8nLFxuICAgICAgICBiOiAgICAnXFxiJyxcbiAgICAgICAgZjogICAgJ1xcZicsXG4gICAgICAgIG46ICAgICdcXG4nLFxuICAgICAgICByOiAgICAnXFxyJyxcbiAgICAgICAgdDogICAgJ1xcdCdcbiAgICB9LFxuICAgIHRleHQsXG5cbiAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgIC8vIENhbGwgZXJyb3Igd2hlbiBzb21ldGhpbmcgaXMgd3JvbmcuXG4gICAgICAgIHRocm93IHtcbiAgICAgICAgICAgIG5hbWU6ICAgICdTeW50YXhFcnJvcicsXG4gICAgICAgICAgICBtZXNzYWdlOiBtLFxuICAgICAgICAgICAgYXQ6ICAgICAgYXQsXG4gICAgICAgICAgICB0ZXh0OiAgICB0ZXh0XG4gICAgICAgIH07XG4gICAgfSxcbiAgICBcbiAgICBuZXh0ID0gZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgLy8gSWYgYSBjIHBhcmFtZXRlciBpcyBwcm92aWRlZCwgdmVyaWZ5IHRoYXQgaXQgbWF0Y2hlcyB0aGUgY3VycmVudCBjaGFyYWN0ZXIuXG4gICAgICAgIGlmIChjICYmIGMgIT09IGNoKSB7XG4gICAgICAgICAgICBlcnJvcihcIkV4cGVjdGVkICdcIiArIGMgKyBcIicgaW5zdGVhZCBvZiAnXCIgKyBjaCArIFwiJ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gR2V0IHRoZSBuZXh0IGNoYXJhY3Rlci4gV2hlbiB0aGVyZSBhcmUgbm8gbW9yZSBjaGFyYWN0ZXJzLFxuICAgICAgICAvLyByZXR1cm4gdGhlIGVtcHR5IHN0cmluZy5cbiAgICAgICAgXG4gICAgICAgIGNoID0gdGV4dC5jaGFyQXQoYXQpO1xuICAgICAgICBhdCArPSAxO1xuICAgICAgICByZXR1cm4gY2g7XG4gICAgfSxcbiAgICBcbiAgICBudW1iZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFBhcnNlIGEgbnVtYmVyIHZhbHVlLlxuICAgICAgICB2YXIgbnVtYmVyLFxuICAgICAgICAgICAgc3RyaW5nID0gJyc7XG4gICAgICAgIFxuICAgICAgICBpZiAoY2ggPT09ICctJykge1xuICAgICAgICAgICAgc3RyaW5nID0gJy0nO1xuICAgICAgICAgICAgbmV4dCgnLScpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7XG4gICAgICAgICAgICBzdHJpbmcgKz0gY2g7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoID09PSAnLicpIHtcbiAgICAgICAgICAgIHN0cmluZyArPSAnLic7XG4gICAgICAgICAgICB3aGlsZSAobmV4dCgpICYmIGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHtcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoID09PSAnZScgfHwgY2ggPT09ICdFJykge1xuICAgICAgICAgICAgc3RyaW5nICs9IGNoO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgaWYgKGNoID09PSAnLScgfHwgY2ggPT09ICcrJykge1xuICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoY2ggPj0gJzAnICYmIGNoIDw9ICc5Jykge1xuICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbnVtYmVyID0gK3N0cmluZztcbiAgICAgICAgaWYgKCFpc0Zpbml0ZShudW1iZXIpKSB7XG4gICAgICAgICAgICBlcnJvcihcIkJhZCBudW1iZXJcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFBhcnNlIGEgc3RyaW5nIHZhbHVlLlxuICAgICAgICB2YXIgaGV4LFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHN0cmluZyA9ICcnLFxuICAgICAgICAgICAgdWZmZmY7XG4gICAgICAgIFxuICAgICAgICAvLyBXaGVuIHBhcnNpbmcgZm9yIHN0cmluZyB2YWx1ZXMsIHdlIG11c3QgbG9vayBmb3IgXCIgYW5kIFxcIGNoYXJhY3RlcnMuXG4gICAgICAgIGlmIChjaCA9PT0gJ1wiJykge1xuICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkge1xuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ1wiJykge1xuICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXJyb3IoXCJCYWQgc3RyaW5nXCIpO1xuICAgIH0sXG5cbiAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHtcblxuLy8gU2tpcCB3aGl0ZXNwYWNlLlxuXG4gICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB3b3JkID0gZnVuY3Rpb24gKCkge1xuXG4vLyB0cnVlLCBmYWxzZSwgb3IgbnVsbC5cblxuICAgICAgICBzd2l0Y2ggKGNoKSB7XG4gICAgICAgIGNhc2UgJ3QnOlxuICAgICAgICAgICAgbmV4dCgndCcpO1xuICAgICAgICAgICAgbmV4dCgncicpO1xuICAgICAgICAgICAgbmV4dCgndScpO1xuICAgICAgICAgICAgbmV4dCgnZScpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgJ2YnOlxuICAgICAgICAgICAgbmV4dCgnZicpO1xuICAgICAgICAgICAgbmV4dCgnYScpO1xuICAgICAgICAgICAgbmV4dCgnbCcpO1xuICAgICAgICAgICAgbmV4dCgncycpO1xuICAgICAgICAgICAgbmV4dCgnZScpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlICduJzpcbiAgICAgICAgICAgIG5leHQoJ24nKTtcbiAgICAgICAgICAgIG5leHQoJ3UnKTtcbiAgICAgICAgICAgIG5leHQoJ2wnKTtcbiAgICAgICAgICAgIG5leHQoJ2wnKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVycm9yKFwiVW5leHBlY3RlZCAnXCIgKyBjaCArIFwiJ1wiKTtcbiAgICB9LFxuXG4gICAgdmFsdWUsICAvLyBQbGFjZSBob2xkZXIgZm9yIHRoZSB2YWx1ZSBmdW5jdGlvbi5cblxuICAgIGFycmF5ID0gZnVuY3Rpb24gKCkge1xuXG4vLyBQYXJzZSBhbiBhcnJheSB2YWx1ZS5cblxuICAgICAgICB2YXIgYXJyYXkgPSBbXTtcblxuICAgICAgICBpZiAoY2ggPT09ICdbJykge1xuICAgICAgICAgICAgbmV4dCgnWycpO1xuICAgICAgICAgICAgd2hpdGUoKTtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgbmV4dCgnXScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGNoKSB7XG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTtcbiAgICAgICAgICAgICAgICB3aGl0ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXh0KCcsJyk7XG4gICAgICAgICAgICAgICAgd2hpdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlcnJvcihcIkJhZCBhcnJheVwiKTtcbiAgICB9LFxuXG4gICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkge1xuXG4vLyBQYXJzZSBhbiBvYmplY3QgdmFsdWUuXG5cbiAgICAgICAgdmFyIGtleSxcbiAgICAgICAgICAgIG9iamVjdCA9IHt9O1xuXG4gICAgICAgIGlmIChjaCA9PT0gJ3snKSB7XG4gICAgICAgICAgICBuZXh0KCd7Jyk7XG4gICAgICAgICAgICB3aGl0ZSgpO1xuICAgICAgICAgICAgaWYgKGNoID09PSAnfScpIHtcbiAgICAgICAgICAgICAgICBuZXh0KCd9Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsgICAvLyBlbXB0eSBvYmplY3RcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChjaCkge1xuICAgICAgICAgICAgICAgIGtleSA9IHN0cmluZygpO1xuICAgICAgICAgICAgICAgIHdoaXRlKCk7XG4gICAgICAgICAgICAgICAgbmV4dCgnOicpO1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoJ0R1cGxpY2F0ZSBrZXkgXCInICsga2V5ICsgJ1wiJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTtcbiAgICAgICAgICAgICAgICB3aGl0ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV4dCgnLCcpO1xuICAgICAgICAgICAgICAgIHdoaXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXJyb3IoXCJCYWQgb2JqZWN0XCIpO1xuICAgIH07XG5cbnZhbHVlID0gZnVuY3Rpb24gKCkge1xuXG4vLyBQYXJzZSBhIEpTT04gdmFsdWUuIEl0IGNvdWxkIGJlIGFuIG9iamVjdCwgYW4gYXJyYXksIGEgc3RyaW5nLCBhIG51bWJlcixcbi8vIG9yIGEgd29yZC5cblxuICAgIHdoaXRlKCk7XG4gICAgc3dpdGNoIChjaCkge1xuICAgIGNhc2UgJ3snOlxuICAgICAgICByZXR1cm4gb2JqZWN0KCk7XG4gICAgY2FzZSAnWyc6XG4gICAgICAgIHJldHVybiBhcnJheSgpO1xuICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgcmV0dXJuIHN0cmluZygpO1xuICAgIGNhc2UgJy0nOlxuICAgICAgICByZXR1cm4gbnVtYmVyKCk7XG4gICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTtcbiAgICB9XG59O1xuXG4vLyBSZXR1cm4gdGhlIGpzb25fcGFyc2UgZnVuY3Rpb24uIEl0IHdpbGwgaGF2ZSBhY2Nlc3MgdG8gYWxsIG9mIHRoZSBhYm92ZVxuLy8gZnVuY3Rpb25zIGFuZCB2YXJpYWJsZXMuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNvdXJjZSwgcmV2aXZlcikge1xuICAgIHZhciByZXN1bHQ7XG4gICAgXG4gICAgdGV4dCA9IHNvdXJjZTtcbiAgICBhdCA9IDA7XG4gICAgY2ggPSAnICc7XG4gICAgcmVzdWx0ID0gdmFsdWUoKTtcbiAgICB3aGl0ZSgpO1xuICAgIGlmIChjaCkge1xuICAgICAgICBlcnJvcihcIlN5bnRheCBlcnJvclwiKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBhIHJldml2ZXIgZnVuY3Rpb24sIHdlIHJlY3Vyc2l2ZWx5IHdhbGsgdGhlIG5ldyBzdHJ1Y3R1cmUsXG4gICAgLy8gcGFzc2luZyBlYWNoIG5hbWUvdmFsdWUgcGFpciB0byB0aGUgcmV2aXZlciBmdW5jdGlvbiBmb3IgcG9zc2libGVcbiAgICAvLyB0cmFuc2Zvcm1hdGlvbiwgc3RhcnRpbmcgd2l0aCBhIHRlbXBvcmFyeSByb290IG9iamVjdCB0aGF0IGhvbGRzIHRoZSByZXN1bHRcbiAgICAvLyBpbiBhbiBlbXB0eSBrZXkuIElmIHRoZXJlIGlzIG5vdCBhIHJldml2ZXIgZnVuY3Rpb24sIHdlIHNpbXBseSByZXR1cm4gdGhlXG4gICAgLy8gcmVzdWx0LlxuXG4gICAgcmV0dXJuIHR5cGVvZiByZXZpdmVyID09PSAnZnVuY3Rpb24nID8gKGZ1bmN0aW9uIHdhbGsoaG9sZGVyLCBrZXkpIHtcbiAgICAgICAgdmFyIGssIHYsIHZhbHVlID0gaG9sZGVyW2tleV07XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBmb3IgKGsgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkge1xuICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7XG4gICAgfSh7Jyc6IHJlc3VsdH0sICcnKSkgOiByZXN1bHQ7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2duaWRhbi9zcmMvd29yay90cnVmZmxlL25vZGVfbW9kdWxlcy9qc29uaWZ5L2xpYi9wYXJzZS5qc1xuLy8gbW9kdWxlIGlkID0gNjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGN4ID0gL1tcXHUwMDAwXFx1MDBhZFxcdTA2MDAtXFx1MDYwNFxcdTA3MGZcXHUxN2I0XFx1MTdiNVxcdTIwMGMtXFx1MjAwZlxcdTIwMjgtXFx1MjAyZlxcdTIwNjAtXFx1MjA2ZlxcdWZlZmZcXHVmZmYwLVxcdWZmZmZdL2csXG4gICAgZXNjYXBhYmxlID0gL1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4OWZcXHUwMGFkXFx1MDYwMC1cXHUwNjA0XFx1MDcwZlxcdTE3YjRcXHUxN2I1XFx1MjAwYy1cXHUyMDBmXFx1MjAyOC1cXHUyMDJmXFx1MjA2MC1cXHUyMDZmXFx1ZmVmZlxcdWZmZjAtXFx1ZmZmZl0vZyxcbiAgICBnYXAsXG4gICAgaW5kZW50LFxuICAgIG1ldGEgPSB7ICAgIC8vIHRhYmxlIG9mIGNoYXJhY3RlciBzdWJzdGl0dXRpb25zXG4gICAgICAgICdcXGInOiAnXFxcXGInLFxuICAgICAgICAnXFx0JzogJ1xcXFx0JyxcbiAgICAgICAgJ1xcbic6ICdcXFxcbicsXG4gICAgICAgICdcXGYnOiAnXFxcXGYnLFxuICAgICAgICAnXFxyJzogJ1xcXFxyJyxcbiAgICAgICAgJ1wiJyA6ICdcXFxcXCInLFxuICAgICAgICAnXFxcXCc6ICdcXFxcXFxcXCdcbiAgICB9LFxuICAgIHJlcDtcblxuZnVuY3Rpb24gcXVvdGUoc3RyaW5nKSB7XG4gICAgLy8gSWYgdGhlIHN0cmluZyBjb250YWlucyBubyBjb250cm9sIGNoYXJhY3RlcnMsIG5vIHF1b3RlIGNoYXJhY3RlcnMsIGFuZCBub1xuICAgIC8vIGJhY2tzbGFzaCBjaGFyYWN0ZXJzLCB0aGVuIHdlIGNhbiBzYWZlbHkgc2xhcCBzb21lIHF1b3RlcyBhcm91bmQgaXQuXG4gICAgLy8gT3RoZXJ3aXNlIHdlIG11c3QgYWxzbyByZXBsYWNlIHRoZSBvZmZlbmRpbmcgY2hhcmFjdGVycyB3aXRoIHNhZmUgZXNjYXBlXG4gICAgLy8gc2VxdWVuY2VzLlxuICAgIFxuICAgIGVzY2FwYWJsZS5sYXN0SW5kZXggPSAwO1xuICAgIHJldHVybiBlc2NhcGFibGUudGVzdChzdHJpbmcpID8gJ1wiJyArIHN0cmluZy5yZXBsYWNlKGVzY2FwYWJsZSwgZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgdmFyIGMgPSBtZXRhW2FdO1xuICAgICAgICByZXR1cm4gdHlwZW9mIGMgPT09ICdzdHJpbmcnID8gYyA6XG4gICAgICAgICAgICAnXFxcXHUnICsgKCcwMDAwJyArIGEuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTtcbiAgICB9KSArICdcIicgOiAnXCInICsgc3RyaW5nICsgJ1wiJztcbn1cblxuZnVuY3Rpb24gc3RyKGtleSwgaG9sZGVyKSB7XG4gICAgLy8gUHJvZHVjZSBhIHN0cmluZyBmcm9tIGhvbGRlcltrZXldLlxuICAgIHZhciBpLCAgICAgICAgICAvLyBUaGUgbG9vcCBjb3VudGVyLlxuICAgICAgICBrLCAgICAgICAgICAvLyBUaGUgbWVtYmVyIGtleS5cbiAgICAgICAgdiwgICAgICAgICAgLy8gVGhlIG1lbWJlciB2YWx1ZS5cbiAgICAgICAgbGVuZ3RoLFxuICAgICAgICBtaW5kID0gZ2FwLFxuICAgICAgICBwYXJ0aWFsLFxuICAgICAgICB2YWx1ZSA9IGhvbGRlcltrZXldO1xuICAgIFxuICAgIC8vIElmIHRoZSB2YWx1ZSBoYXMgYSB0b0pTT04gbWV0aG9kLCBjYWxsIGl0IHRvIG9idGFpbiBhIHJlcGxhY2VtZW50IHZhbHVlLlxuICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUudG9KU09OID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudG9KU09OKGtleSk7XG4gICAgfVxuICAgIFxuICAgIC8vIElmIHdlIHdlcmUgY2FsbGVkIHdpdGggYSByZXBsYWNlciBmdW5jdGlvbiwgdGhlbiBjYWxsIHRoZSByZXBsYWNlciB0b1xuICAgIC8vIG9idGFpbiBhIHJlcGxhY2VtZW50IHZhbHVlLlxuICAgIGlmICh0eXBlb2YgcmVwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gcmVwLmNhbGwoaG9sZGVyLCBrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgXG4gICAgLy8gV2hhdCBoYXBwZW5zIG5leHQgZGVwZW5kcyBvbiB0aGUgdmFsdWUncyB0eXBlLlxuICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICByZXR1cm4gcXVvdGUodmFsdWUpO1xuICAgICAgICBcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgIC8vIEpTT04gbnVtYmVycyBtdXN0IGJlIGZpbml0ZS4gRW5jb2RlIG5vbi1maW5pdGUgbnVtYmVycyBhcyBudWxsLlxuICAgICAgICAgICAgcmV0dXJuIGlzRmluaXRlKHZhbHVlKSA/IFN0cmluZyh2YWx1ZSkgOiAnbnVsbCc7XG4gICAgICAgIFxuICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgYSBib29sZWFuIG9yIG51bGwsIGNvbnZlcnQgaXQgdG8gYSBzdHJpbmcuIE5vdGU6XG4gICAgICAgICAgICAvLyB0eXBlb2YgbnVsbCBkb2VzIG5vdCBwcm9kdWNlICdudWxsJy4gVGhlIGNhc2UgaXMgaW5jbHVkZWQgaGVyZSBpblxuICAgICAgICAgICAgLy8gdGhlIHJlbW90ZSBjaGFuY2UgdGhhdCB0aGlzIGdldHMgZml4ZWQgc29tZWRheS5cbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgXG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSByZXR1cm4gJ251bGwnO1xuICAgICAgICAgICAgZ2FwICs9IGluZGVudDtcbiAgICAgICAgICAgIHBhcnRpYWwgPSBbXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQXJyYXkuaXNBcnJheVxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkodmFsdWUpID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsW2ldID0gc3RyKGksIHZhbHVlKSB8fCAnbnVsbCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEpvaW4gYWxsIG9mIHRoZSBlbGVtZW50cyB0b2dldGhlciwgc2VwYXJhdGVkIHdpdGggY29tbWFzLCBhbmRcbiAgICAgICAgICAgICAgICAvLyB3cmFwIHRoZW0gaW4gYnJhY2tldHMuXG4gICAgICAgICAgICAgICAgdiA9IHBhcnRpYWwubGVuZ3RoID09PSAwID8gJ1tdJyA6IGdhcCA/XG4gICAgICAgICAgICAgICAgICAgICdbXFxuJyArIGdhcCArIHBhcnRpYWwuam9pbignLFxcbicgKyBnYXApICsgJ1xcbicgKyBtaW5kICsgJ10nIDpcbiAgICAgICAgICAgICAgICAgICAgJ1snICsgcGFydGlhbC5qb2luKCcsJykgKyAnXSc7XG4gICAgICAgICAgICAgICAgZ2FwID0gbWluZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSWYgdGhlIHJlcGxhY2VyIGlzIGFuIGFycmF5LCB1c2UgaXQgdG8gc2VsZWN0IHRoZSBtZW1iZXJzIHRvIGJlXG4gICAgICAgICAgICAvLyBzdHJpbmdpZmllZC5cbiAgICAgICAgICAgIGlmIChyZXAgJiYgdHlwZW9mIHJlcCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBsZW5ndGggPSByZXAubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBrID0gcmVwW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGsgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ID0gc3RyKGssIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydGlhbC5wdXNoKHF1b3RlKGspICsgKGdhcCA/ICc6ICcgOiAnOicpICsgdik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGl0ZXJhdGUgdGhyb3VnaCBhbGwgb2YgdGhlIGtleXMgaW4gdGhlIG9iamVjdC5cbiAgICAgICAgICAgICAgICBmb3IgKGsgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgaykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBzdHIoaywgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsLnB1c2gocXVvdGUoaykgKyAoZ2FwID8gJzogJyA6ICc6JykgKyB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAvLyBKb2luIGFsbCBvZiB0aGUgbWVtYmVyIHRleHRzIHRvZ2V0aGVyLCBzZXBhcmF0ZWQgd2l0aCBjb21tYXMsXG4gICAgICAgIC8vIGFuZCB3cmFwIHRoZW0gaW4gYnJhY2VzLlxuXG4gICAgICAgIHYgPSBwYXJ0aWFsLmxlbmd0aCA9PT0gMCA/ICd7fScgOiBnYXAgP1xuICAgICAgICAgICAgJ3tcXG4nICsgZ2FwICsgcGFydGlhbC5qb2luKCcsXFxuJyArIGdhcCkgKyAnXFxuJyArIG1pbmQgKyAnfScgOlxuICAgICAgICAgICAgJ3snICsgcGFydGlhbC5qb2luKCcsJykgKyAnfSc7XG4gICAgICAgIGdhcCA9IG1pbmQ7XG4gICAgICAgIHJldHVybiB2O1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUsIHJlcGxhY2VyLCBzcGFjZSkge1xuICAgIHZhciBpO1xuICAgIGdhcCA9ICcnO1xuICAgIGluZGVudCA9ICcnO1xuICAgIFxuICAgIC8vIElmIHRoZSBzcGFjZSBwYXJhbWV0ZXIgaXMgYSBudW1iZXIsIG1ha2UgYW4gaW5kZW50IHN0cmluZyBjb250YWluaW5nIHRoYXRcbiAgICAvLyBtYW55IHNwYWNlcy5cbiAgICBpZiAodHlwZW9mIHNwYWNlID09PSAnbnVtYmVyJykge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3BhY2U7IGkgKz0gMSkge1xuICAgICAgICAgICAgaW5kZW50ICs9ICcgJztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBJZiB0aGUgc3BhY2UgcGFyYW1ldGVyIGlzIGEgc3RyaW5nLCBpdCB3aWxsIGJlIHVzZWQgYXMgdGhlIGluZGVudCBzdHJpbmcuXG4gICAgZWxzZSBpZiAodHlwZW9mIHNwYWNlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpbmRlbnQgPSBzcGFjZTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBhIHJlcGxhY2VyLCBpdCBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgYW4gYXJyYXkuXG4gICAgLy8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvci5cbiAgICByZXAgPSByZXBsYWNlcjtcbiAgICBpZiAocmVwbGFjZXIgJiYgdHlwZW9mIHJlcGxhY2VyICE9PSAnZnVuY3Rpb24nXG4gICAgJiYgKHR5cGVvZiByZXBsYWNlciAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIHJlcGxhY2VyLmxlbmd0aCAhPT0gJ251bWJlcicpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSlNPTi5zdHJpbmdpZnknKTtcbiAgICB9XG4gICAgXG4gICAgLy8gTWFrZSBhIGZha2Ugcm9vdCBvYmplY3QgY29udGFpbmluZyBvdXIgdmFsdWUgdW5kZXIgdGhlIGtleSBvZiAnJy5cbiAgICAvLyBSZXR1cm4gdGhlIHJlc3VsdCBvZiBzdHJpbmdpZnlpbmcgdGhlIHZhbHVlLlxuICAgIHJldHVybiBzdHIoJycsIHsnJzogdmFsdWV9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvbm9kZV9tb2R1bGVzL2pzb25pZnkvbGliL3N0cmluZ2lmeS5qc1xuLy8gbW9kdWxlIGlkID0gNjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidHJ1ZmZsZS1zb2xpZGl0eS11dGlsc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInRydWZmbGUtc29saWRpdHktdXRpbHNcIlxuLy8gbW9kdWxlIGlkID0gNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidHJ1ZmZsZS1jb2RlLXV0aWxzXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwidHJ1ZmZsZS1jb2RlLXV0aWxzXCJcbi8vIG1vZHVsZSBpZCA9IDY1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG4vLyBBbiBhdWdtZW50ZWQgQVZMIFRyZWUgd2hlcmUgZWFjaCBub2RlIG1haW50YWlucyBhIGxpc3Qgb2YgcmVjb3JkcyBhbmQgdGhlaXIgc2VhcmNoIGludGVydmFscy5cclxuLy8gUmVjb3JkIGlzIGNvbXBvc2VkIG9mIGFuIGludGVydmFsIGFuZCBpdHMgdW5kZXJseWluZyBkYXRhLCBzZW50IGJ5IGEgY2xpZW50LiBUaGlzIGFsbG93cyB0aGVcclxuLy8gaW50ZXJ2YWwgdHJlZSB0byBoYXZlIHRoZSBzYW1lIGludGVydmFsIGluc2VydGVkIG11bHRpcGxlIHRpbWVzLCBhcyBsb25nIGl0cyBkYXRhIGlzIGRpZmZlcmVudC5cclxuLy8gQm90aCBpbnNlcnRpb24gYW5kIGRlbGV0aW9uIHJlcXVpcmUgTyhsb2cgbikgdGltZS4gU2VhcmNoaW5nIHJlcXVpcmVzIE8oaypsb2duKSB0aW1lLCB3aGVyZSBga2BcclxuLy8gaXMgdGhlIG51bWJlciBvZiBpbnRlcnZhbHMgaW4gdGhlIG91dHB1dCBsaXN0LlxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpc1NhbWUgPSByZXF1aXJlKFwic2hhbGxvd2VxdWFsXCIpO1xyXG5mdW5jdGlvbiBoZWlnaHQobm9kZSkge1xyXG4gICAgaWYgKG5vZGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBub2RlLmhlaWdodDtcclxuICAgIH1cclxufVxyXG52YXIgTm9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE5vZGUoaW50ZXJ2YWxUcmVlLCByZWNvcmQpIHtcclxuICAgICAgICB0aGlzLmludGVydmFsVHJlZSA9IGludGVydmFsVHJlZTtcclxuICAgICAgICB0aGlzLnJlY29yZHMgPSBbXTtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IDA7XHJcbiAgICAgICAgdGhpcy5rZXkgPSByZWNvcmQubG93O1xyXG4gICAgICAgIHRoaXMubWF4ID0gcmVjb3JkLmhpZ2g7XHJcbiAgICAgICAgLy8gU2F2ZSB0aGUgYXJyYXkgb2YgYWxsIHJlY29yZHMgd2l0aCB0aGUgc2FtZSBrZXkgZm9yIHRoaXMgbm9kZVxyXG4gICAgICAgIHRoaXMucmVjb3Jkcy5wdXNoKHJlY29yZCk7XHJcbiAgICB9XHJcbiAgICAvLyBHZXRzIHRoZSBoaWdoZXN0IHJlY29yZC5oaWdoIHZhbHVlIGZvciB0aGlzIG5vZGVcclxuICAgIE5vZGUucHJvdG90eXBlLmdldE5vZGVIaWdoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBoaWdoID0gdGhpcy5yZWNvcmRzWzBdLmhpZ2g7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLnJlY29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmVjb3Jkc1tpXS5oaWdoID4gaGlnaCkge1xyXG4gICAgICAgICAgICAgICAgaGlnaCA9IHRoaXMucmVjb3Jkc1tpXS5oaWdoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoaWdoO1xyXG4gICAgfTtcclxuICAgIC8vIFVwZGF0ZXMgaGVpZ2h0IHZhbHVlIG9mIHRoZSBub2RlLiBDYWxsZWQgZHVyaW5nIGluc2VydGlvbiwgcmViYWxhbmNlLCByZW1vdmFsXHJcbiAgICBOb2RlLnByb3RvdHlwZS51cGRhdGVIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1heChoZWlnaHQodGhpcy5sZWZ0KSwgaGVpZ2h0KHRoaXMucmlnaHQpKSArIDE7XHJcbiAgICB9O1xyXG4gICAgLy8gVXBkYXRlcyB0aGUgbWF4IHZhbHVlIG9mIGFsbCB0aGUgcGFyZW50cyBhZnRlciBpbnNlcnRpbmcgaW50byBhbHJlYWR5IGV4aXN0aW5nIG5vZGUsIGFzIHdlbGwgYXNcclxuICAgIC8vIHJlbW92aW5nIHRoZSBub2RlIGNvbXBsZXRlbHkgb3IgcmVtb3ZpbmcgdGhlIHJlY29yZCBvZiBhbiBhbHJlYWR5IGV4aXN0aW5nIG5vZGUuIFN0YXJ0cyB3aXRoXHJcbiAgICAvLyB0aGUgcGFyZW50IG9mIGFuIGFmZmVjdGVkIG5vZGUgYW5kIGJ1YmJsZXMgdXAgdG8gcm9vdFxyXG4gICAgTm9kZS5wcm90b3R5cGUudXBkYXRlTWF4T2ZQYXJlbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdGhpc0hpZ2ggPSB0aGlzLmdldE5vZGVIaWdoKCk7XHJcbiAgICAgICAgaWYgKHRoaXMubGVmdCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucmlnaHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLm1heCA9IE1hdGgubWF4KE1hdGgubWF4KHRoaXMubGVmdC5tYXgsIHRoaXMucmlnaHQubWF4KSwgdGhpc0hpZ2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmxlZnQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnJpZ2h0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXggPSBNYXRoLm1heCh0aGlzLmxlZnQubWF4LCB0aGlzSGlnaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMubGVmdCA9PT0gdW5kZWZpbmVkICYmIHRoaXMucmlnaHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLm1heCA9IE1hdGgubWF4KHRoaXMucmlnaHQubWF4LCB0aGlzSGlnaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1heCA9IHRoaXNIaWdoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQudXBkYXRlTWF4T2ZQYXJlbnRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qXHJcbiAgICBMZWZ0LUxlZnQgY2FzZTpcclxuICBcclxuICAgICAgICAgICB6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5XHJcbiAgICAgICAgICAvIFxcICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvICAgXFxcclxuICAgICAgICAgeSAgIFQ0ICAgICAgUmlnaHQgUm90YXRlICh6KSAgICAgICAgICB4ICAgICB6XHJcbiAgICAgICAgLyBcXCAgICAgICAgICAtIC0gLSAtIC0gLSAtIC0gLT4gICAgICAgLyBcXCAgIC8gXFxcclxuICAgICAgIHggICBUMyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVDEgVDIgVDMgVDRcclxuICAgICAgLyBcXFxyXG4gICAgVDEgICBUMlxyXG4gIFxyXG4gICAgTGVmdC1SaWdodCBjYXNlOlxyXG4gIFxyXG4gICAgICAgICB6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHogICAgICAgICAgICAgICAgICAgICAgICAgICB4XHJcbiAgICAgICAgLyBcXCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyBcXCAgICAgICAgICAgICAgICAgICAgICAgIC8gICBcXFxyXG4gICAgICAgeSAgIFQ0ICBMZWZ0IFJvdGF0ZSAoeSkgICAgICAgICB4ICBUNCAgUmlnaHQgUm90YXRlKHopICAgICB5ICAgICB6XHJcbiAgICAgIC8gXFwgICAgICAtIC0gLSAtIC0gLSAtIC0gLT4gICAgIC8gXFwgICAgICAtIC0gLSAtIC0gLSAtIC0+ICAvIFxcICAgLyBcXFxyXG4gICAgVDEgICB4ICAgICAgICAgICAgICAgICAgICAgICAgICAgeSAgVDMgICAgICAgICAgICAgICAgICAgICAgVDEgVDIgVDMgVDRcclxuICAgICAgICAvIFxcICAgICAgICAgICAgICAgICAgICAgICAgIC8gXFxcclxuICAgICAgVDIgICBUMyAgICAgICAgICAgICAgICAgICAgICBUMSBUMlxyXG4gICAgKi9cclxuICAgIC8vIEhhbmRsZXMgTGVmdC1MZWZ0IGNhc2UgYW5kIExlZnQtUmlnaHQgY2FzZSBhZnRlciByZWJhbGFuY2luZyBBVkwgdHJlZVxyXG4gICAgTm9kZS5wcm90b3R5cGUuX3VwZGF0ZU1heEFmdGVyUmlnaHRSb3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgIHZhciBsZWZ0ID0gcGFyZW50LmxlZnQ7XHJcbiAgICAgICAgLy8gVXBkYXRlIG1heCBvZiBsZWZ0IHNpYmxpbmcgKHggaW4gZmlyc3QgY2FzZSwgeSBpbiBzZWNvbmQpXHJcbiAgICAgICAgdmFyIHRoaXNQYXJlbnRMZWZ0SGlnaCA9IGxlZnQuZ2V0Tm9kZUhpZ2goKTtcclxuICAgICAgICBpZiAobGVmdC5sZWZ0ID09PSB1bmRlZmluZWQgJiYgbGVmdC5yaWdodCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGxlZnQubWF4ID0gTWF0aC5tYXgodGhpc1BhcmVudExlZnRIaWdoLCBsZWZ0LnJpZ2h0Lm1heCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxlZnQubGVmdCAhPT0gdW5kZWZpbmVkICYmIGxlZnQucmlnaHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBsZWZ0Lm1heCA9IE1hdGgubWF4KHRoaXNQYXJlbnRMZWZ0SGlnaCwgbGVmdC5sZWZ0Lm1heCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxlZnQubGVmdCA9PT0gdW5kZWZpbmVkICYmIGxlZnQucmlnaHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBsZWZ0Lm1heCA9IHRoaXNQYXJlbnRMZWZ0SGlnaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxlZnQubWF4ID0gTWF0aC5tYXgoTWF0aC5tYXgobGVmdC5sZWZ0Lm1heCwgbGVmdC5yaWdodC5tYXgpLCB0aGlzUGFyZW50TGVmdEhpZ2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBVcGRhdGUgbWF4IG9mIGl0c2VsZiAoeilcclxuICAgICAgICB2YXIgdGhpc0hpZ2ggPSB0aGlzLmdldE5vZGVIaWdoKCk7XHJcbiAgICAgICAgaWYgKHRoaXMubGVmdCA9PT0gdW5kZWZpbmVkICYmIHRoaXMucmlnaHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLm1heCA9IE1hdGgubWF4KHRoaXNIaWdoLCB0aGlzLnJpZ2h0Lm1heCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMubGVmdCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucmlnaHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLm1heCA9IE1hdGgubWF4KHRoaXNIaWdoLCB0aGlzLmxlZnQubWF4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5sZWZ0ID09PSB1bmRlZmluZWQgJiYgdGhpcy5yaWdodCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4ID0gdGhpc0hpZ2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1heCA9IE1hdGgubWF4KE1hdGgubWF4KHRoaXMubGVmdC5tYXgsIHRoaXMucmlnaHQubWF4KSwgdGhpc0hpZ2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBVcGRhdGUgbWF4IG9mIHBhcmVudCAoeSBpbiBmaXJzdCBjYXNlLCB4IGluIHNlY29uZClcclxuICAgICAgICBwYXJlbnQubWF4ID0gTWF0aC5tYXgoTWF0aC5tYXgocGFyZW50LmxlZnQubWF4LCBwYXJlbnQucmlnaHQubWF4KSwgcGFyZW50LmdldE5vZGVIaWdoKCkpO1xyXG4gICAgfTtcclxuICAgIC8qXHJcbiAgICBSaWdodC1SaWdodCBjYXNlOlxyXG4gIFxyXG4gICAgICB6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlcclxuICAgICAvIFxcICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8gICBcXFxyXG4gICAgVDEgIHkgICAgIExlZnQgUm90YXRlKHopICAgICAgIHogICAgIHhcclxuICAgICAgIC8gXFwgICAtIC0gLSAtIC0gLSAtIC0+ICAgICAvIFxcICAgLyBcXFxyXG4gICAgICBUMiAgeCAgICAgICAgICAgICAgICAgICAgICBUMSBUMiBUMyBUNFxyXG4gICAgICAgICAvIFxcXHJcbiAgICAgICAgVDMgVDRcclxuICBcclxuICAgIFJpZ2h0LUxlZnQgY2FzZTpcclxuICBcclxuICAgICAgIHogICAgICAgICAgICAgICAgICAgICAgICAgICAgeiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4XHJcbiAgICAgIC8gXFwgICAgICAgICAgICAgICAgICAgICAgICAgIC8gXFwgICAgICAgICAgICAgICAgICAgICAgICAgLyAgIFxcXHJcbiAgICAgVDEgIHkgICBSaWdodCBSb3RhdGUgKHkpICAgICBUMSAgeCAgICAgIExlZnQgUm90YXRlKHopICAgeiAgICAgeVxyXG4gICAgICAgIC8gXFwgIC0gLSAtIC0gLSAtIC0gLSAtPiAgICAgIC8gXFwgICAtIC0gLSAtIC0gLSAtIC0+ICAvIFxcICAgLyBcXFxyXG4gICAgICAgeCAgVDQgICAgICAgICAgICAgICAgICAgICAgICBUMiAgeSAgICAgICAgICAgICAgICAgICBUMSBUMiBUMyBUNFxyXG4gICAgICAvIFxcICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyBcXFxyXG4gICAgVDIgICBUMyAgICAgICAgICAgICAgICAgICAgICAgICAgIFQzIFQ0XHJcbiAgICAqL1xyXG4gICAgLy8gSGFuZGxlcyBSaWdodC1SaWdodCBjYXNlIGFuZCBSaWdodC1MZWZ0IGNhc2UgaW4gcmViYWxhbmNpbmcgQVZMIHRyZWVcclxuICAgIE5vZGUucHJvdG90eXBlLl91cGRhdGVNYXhBZnRlckxlZnRSb3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgIHZhciByaWdodCA9IHBhcmVudC5yaWdodDtcclxuICAgICAgICAvLyBVcGRhdGUgbWF4IG9mIHJpZ2h0IHNpYmxpbmcgKHggaW4gZmlyc3QgY2FzZSwgeSBpbiBzZWNvbmQpXHJcbiAgICAgICAgdmFyIHRoaXNQYXJlbnRSaWdodEhpZ2ggPSByaWdodC5nZXROb2RlSGlnaCgpO1xyXG4gICAgICAgIGlmIChyaWdodC5sZWZ0ID09PSB1bmRlZmluZWQgJiYgcmlnaHQucmlnaHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByaWdodC5tYXggPSBNYXRoLm1heCh0aGlzUGFyZW50UmlnaHRIaWdoLCByaWdodC5yaWdodC5tYXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChyaWdodC5sZWZ0ICE9PSB1bmRlZmluZWQgJiYgcmlnaHQucmlnaHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByaWdodC5tYXggPSBNYXRoLm1heCh0aGlzUGFyZW50UmlnaHRIaWdoLCByaWdodC5sZWZ0Lm1heCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJpZ2h0LmxlZnQgPT09IHVuZGVmaW5lZCAmJiByaWdodC5yaWdodCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJpZ2h0Lm1heCA9IHRoaXNQYXJlbnRSaWdodEhpZ2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByaWdodC5tYXggPSBNYXRoLm1heChNYXRoLm1heChyaWdodC5sZWZ0Lm1heCwgcmlnaHQucmlnaHQubWF4KSwgdGhpc1BhcmVudFJpZ2h0SGlnaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFVwZGF0ZSBtYXggb2YgaXRzZWxmICh6KVxyXG4gICAgICAgIHZhciB0aGlzSGlnaCA9IHRoaXMuZ2V0Tm9kZUhpZ2goKTtcclxuICAgICAgICBpZiAodGhpcy5sZWZ0ID09PSB1bmRlZmluZWQgJiYgdGhpcy5yaWdodCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4ID0gTWF0aC5tYXgodGhpc0hpZ2gsIHRoaXMucmlnaHQubWF4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5sZWZ0ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5yaWdodCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4ID0gTWF0aC5tYXgodGhpc0hpZ2gsIHRoaXMubGVmdC5tYXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmxlZnQgPT09IHVuZGVmaW5lZCAmJiB0aGlzLnJpZ2h0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXggPSB0aGlzSGlnaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4ID0gTWF0aC5tYXgoTWF0aC5tYXgodGhpcy5sZWZ0Lm1heCwgdGhpcy5yaWdodC5tYXgpLCB0aGlzSGlnaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFVwZGF0ZSBtYXggb2YgcGFyZW50ICh5IGluIGZpcnN0IGNhc2UsIHggaW4gc2Vjb25kKVxyXG4gICAgICAgIHBhcmVudC5tYXggPSBNYXRoLm1heChNYXRoLm1heChwYXJlbnQubGVmdC5tYXgsIHJpZ2h0Lm1heCksIHBhcmVudC5nZXROb2RlSGlnaCgpKTtcclxuICAgIH07XHJcbiAgICBOb2RlLnByb3RvdHlwZS5fbGVmdFJvdGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmlnaHRDaGlsZCA9IHRoaXMucmlnaHQ7XHJcbiAgICAgICAgcmlnaHRDaGlsZC5wYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICBpZiAocmlnaHRDaGlsZC5wYXJlbnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVydmFsVHJlZS5yb290ID0gcmlnaHRDaGlsZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChyaWdodENoaWxkLnBhcmVudC5sZWZ0ID09PSB0aGlzKSB7XHJcbiAgICAgICAgICAgICAgICByaWdodENoaWxkLnBhcmVudC5sZWZ0ID0gcmlnaHRDaGlsZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChyaWdodENoaWxkLnBhcmVudC5yaWdodCA9PT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgcmlnaHRDaGlsZC5wYXJlbnQucmlnaHQgPSByaWdodENoaWxkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmlnaHQgPSByaWdodENoaWxkLmxlZnQ7XHJcbiAgICAgICAgaWYgKHRoaXMucmlnaHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0LnBhcmVudCA9IHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJpZ2h0Q2hpbGQubGVmdCA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSByaWdodENoaWxkO1xyXG4gICAgICAgIHRoaXMudXBkYXRlSGVpZ2h0KCk7XHJcbiAgICAgICAgcmlnaHRDaGlsZC51cGRhdGVIZWlnaHQoKTtcclxuICAgIH07XHJcbiAgICBOb2RlLnByb3RvdHlwZS5fcmlnaHRSb3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGxlZnRDaGlsZCA9IHRoaXMubGVmdDtcclxuICAgICAgICBsZWZ0Q2hpbGQucGFyZW50ID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAgICAgaWYgKGxlZnRDaGlsZC5wYXJlbnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVydmFsVHJlZS5yb290ID0gbGVmdENoaWxkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGxlZnRDaGlsZC5wYXJlbnQubGVmdCA9PT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgbGVmdENoaWxkLnBhcmVudC5sZWZ0ID0gbGVmdENoaWxkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGxlZnRDaGlsZC5wYXJlbnQucmlnaHQgPT09IHRoaXMpIHtcclxuICAgICAgICAgICAgICAgIGxlZnRDaGlsZC5wYXJlbnQucmlnaHQgPSBsZWZ0Q2hpbGQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdENoaWxkLnJpZ2h0O1xyXG4gICAgICAgIGlmICh0aGlzLmxlZnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnQucGFyZW50ID0gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgbGVmdENoaWxkLnJpZ2h0ID0gdGhpcztcclxuICAgICAgICB0aGlzLnBhcmVudCA9IGxlZnRDaGlsZDtcclxuICAgICAgICB0aGlzLnVwZGF0ZUhlaWdodCgpO1xyXG4gICAgICAgIGxlZnRDaGlsZC51cGRhdGVIZWlnaHQoKTtcclxuICAgIH07XHJcbiAgICAvLyBSZWJhbGFuY2VzIHRoZSB0cmVlIGlmIHRoZSBoZWlnaHQgdmFsdWUgYmV0d2VlbiB0d28gbm9kZXMgb2YgdGhlIHNhbWUgcGFyZW50IGlzIGdyZWF0ZXIgdGhhblxyXG4gICAgLy8gdHdvLiBUaGVyZSBhcmUgNCBjYXNlcyB0aGF0IGNhbiBoYXBwZW4gd2hpY2ggYXJlIG91dGxpbmVkIGluIHRoZSBncmFwaGljcyBhYm92ZVxyXG4gICAgTm9kZS5wcm90b3R5cGUuX3JlYmFsYW5jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoaGVpZ2h0KHRoaXMubGVmdCkgPj0gMiArIGhlaWdodCh0aGlzLnJpZ2h0KSkge1xyXG4gICAgICAgICAgICB2YXIgbGVmdCA9IHRoaXMubGVmdDtcclxuICAgICAgICAgICAgaWYgKGhlaWdodChsZWZ0LmxlZnQpID49IGhlaWdodChsZWZ0LnJpZ2h0KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTGVmdC1MZWZ0IGNhc2VcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JpZ2h0Um90YXRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVNYXhBZnRlclJpZ2h0Um90YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMZWZ0LVJpZ2h0IGNhc2VcclxuICAgICAgICAgICAgICAgIGxlZnQuX2xlZnRSb3RhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JpZ2h0Um90YXRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVNYXhBZnRlclJpZ2h0Um90YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaGVpZ2h0KHRoaXMucmlnaHQpID49IDIgKyBoZWlnaHQodGhpcy5sZWZ0KSkge1xyXG4gICAgICAgICAgICB2YXIgcmlnaHQgPSB0aGlzLnJpZ2h0O1xyXG4gICAgICAgICAgICBpZiAoaGVpZ2h0KHJpZ2h0LnJpZ2h0KSA+PSBoZWlnaHQocmlnaHQubGVmdCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFJpZ2h0LVJpZ2h0IGNhc2VcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xlZnRSb3RhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU1heEFmdGVyTGVmdFJvdGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gUmlnaHQtTGVmdCBjYXNlXHJcbiAgICAgICAgICAgICAgICByaWdodC5fcmlnaHRSb3RhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xlZnRSb3RhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU1heEFmdGVyTGVmdFJvdGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE5vZGUucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcclxuICAgICAgICBpZiAocmVjb3JkLmxvdyA8IHRoaXMua2V5KSB7XHJcbiAgICAgICAgICAgIC8vIEluc2VydCBpbnRvIGxlZnQgc3VidHJlZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5sZWZ0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGVmdCA9IG5ldyBOb2RlKHRoaXMuaW50ZXJ2YWxUcmVlLCByZWNvcmQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0LnBhcmVudCA9IHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnQuaW5zZXJ0KHJlY29yZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEluc2VydCBpbnRvIHJpZ2h0IHN1YnRyZWVcclxuICAgICAgICAgICAgaWYgKHRoaXMucmlnaHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodCA9IG5ldyBOb2RlKHRoaXMuaW50ZXJ2YWxUcmVlLCByZWNvcmQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodC5wYXJlbnQgPSB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodC5pbnNlcnQocmVjb3JkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBVcGRhdGUgdGhlIG1heCB2YWx1ZSBvZiB0aGlzIGFuY2VzdG9yIGlmIG5lZWRlZFxyXG4gICAgICAgIGlmICh0aGlzLm1heCA8IHJlY29yZC5oaWdoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4ID0gcmVjb3JkLmhpZ2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFVwZGF0ZSBoZWlnaHQgb2YgZWFjaCBub2RlXHJcbiAgICAgICAgdGhpcy51cGRhdGVIZWlnaHQoKTtcclxuICAgICAgICAvLyBSZWJhbGFuY2UgdGhlIHRyZWUgdG8gZW5zdXJlIGFsbCBvcGVyYXRpb25zIGFyZSBleGVjdXRlZCBpbiBPKGxvZ24pIHRpbWUuIFRoaXMgaXMgZXNwZWNpYWxseVxyXG4gICAgICAgIC8vIGltcG9ydGFudCBpbiBzZWFyY2hpbmcsIGFzIHRoZSB0cmVlIGhhcyBhIGhpZ2ggY2hhbmNlIG9mIGRlZ2VuZXJhdGluZyB3aXRob3V0IHRoZSByZWJhbGFuY2luZ1xyXG4gICAgICAgIHRoaXMuX3JlYmFsYW5jZSgpO1xyXG4gICAgfTtcclxuICAgIE5vZGUucHJvdG90eXBlLl9nZXRPdmVybGFwcGluZ1JlY29yZHMgPSBmdW5jdGlvbiAoY3VycmVudE5vZGUsIGxvdywgaGlnaCkge1xyXG4gICAgICAgIGlmIChjdXJyZW50Tm9kZS5rZXkgPD0gaGlnaCAmJiBsb3cgPD0gY3VycmVudE5vZGUuZ2V0Tm9kZUhpZ2goKSkge1xyXG4gICAgICAgICAgICAvLyBOb2RlcyBhcmUgb3ZlcmxhcHBpbmcsIGNoZWNrIGlmIGluZGl2aWR1YWwgcmVjb3JkcyBpbiB0aGUgbm9kZSBhcmUgb3ZlcmxhcHBpbmdcclxuICAgICAgICAgICAgdmFyIHRlbXBSZXN1bHRzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudE5vZGUucmVjb3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlLnJlY29yZHNbaV0uaGlnaCA+PSBsb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wUmVzdWx0cy5wdXNoKGN1cnJlbnROb2RlLnJlY29yZHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0ZW1wUmVzdWx0cztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfTtcclxuICAgIE5vZGUucHJvdG90eXBlLnNlYXJjaCA9IGZ1bmN0aW9uIChsb3csIGhpZ2gpIHtcclxuICAgICAgICAvLyBEb24ndCBzZWFyY2ggbm9kZXMgdGhhdCBkb24ndCBleGlzdFxyXG4gICAgICAgIGlmICh0aGlzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbGVmdFNlYXJjaCA9IFtdO1xyXG4gICAgICAgIHZhciBvd25TZWFyY2ggPSBbXTtcclxuICAgICAgICB2YXIgcmlnaHRTZWFyY2ggPSBbXTtcclxuICAgICAgICAvLyBJZiBpbnRlcnZhbCBpcyB0byB0aGUgcmlnaHQgb2YgdGhlIHJpZ2h0bW9zdCBwb2ludCBvZiBhbnkgaW50ZXJ2YWwgaW4gdGhpcyBub2RlIGFuZCBhbGwgaXRzXHJcbiAgICAgICAgLy8gY2hpbGRyZW4sIHRoZXJlIHdvbid0IGJlIGFueSBtYXRjaGVzXHJcbiAgICAgICAgaWYgKGxvdyA+IHRoaXMubWF4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2VhcmNoIGxlZnQgY2hpbGRyZW5cclxuICAgICAgICBpZiAodGhpcy5sZWZ0ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5sZWZ0Lm1heCA+PSBsb3cpIHtcclxuICAgICAgICAgICAgbGVmdFNlYXJjaCA9IHRoaXMubGVmdC5zZWFyY2gobG93LCBoaWdoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2hlY2sgdGhpcyBub2RlXHJcbiAgICAgICAgb3duU2VhcmNoID0gdGhpcy5fZ2V0T3ZlcmxhcHBpbmdSZWNvcmRzKHRoaXMsIGxvdywgaGlnaCk7XHJcbiAgICAgICAgLy8gSWYgaW50ZXJ2YWwgaXMgdG8gdGhlIGxlZnQgb2YgdGhlIHN0YXJ0IG9mIHRoaXMgaW50ZXJ2YWwsIHRoZW4gaXQgY2FuJ3QgYmUgaW4gYW55IGNoaWxkIHRvXHJcbiAgICAgICAgLy8gdGhlIHJpZ2h0XHJcbiAgICAgICAgaWYgKGhpZ2ggPCB0aGlzLmtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbGVmdFNlYXJjaC5jb25jYXQob3duU2VhcmNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBzZWFyY2ggcmlnaHQgY2hpbGRyZW5cclxuICAgICAgICBpZiAodGhpcy5yaWdodCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJpZ2h0U2VhcmNoID0gdGhpcy5yaWdodC5zZWFyY2gobG93LCBoaWdoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmV0dXJuIGFjY3VtdWxhdGVkIHJlc3VsdHMsIGlmIGFueVxyXG4gICAgICAgIHJldHVybiBsZWZ0U2VhcmNoLmNvbmNhdChvd25TZWFyY2gsIHJpZ2h0U2VhcmNoKTtcclxuICAgIH07XHJcbiAgICAvLyBTZWFyY2hlcyBmb3IgYSBub2RlIGJ5IGEgYGtleWAgdmFsdWVcclxuICAgIE5vZGUucHJvdG90eXBlLnNlYXJjaEV4aXN0aW5nID0gZnVuY3Rpb24gKGxvdykge1xyXG4gICAgICAgIGlmICh0aGlzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMua2V5ID09PSBsb3cpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxvdyA8IHRoaXMua2V5KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxlZnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5zZWFyY2hFeGlzdGluZyhsb3cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yaWdodCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yaWdodC5zZWFyY2hFeGlzdGluZyhsb3cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgLy8gUmV0dXJucyB0aGUgc21hbGxlc3Qgbm9kZSBvZiB0aGUgc3VidHJlZVxyXG4gICAgTm9kZS5wcm90b3R5cGUuX21pblZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmxlZnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxlZnQuX21pblZhbHVlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE5vZGUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgIGlmIChub2RlLmtleSA8IHRoaXMua2V5KSB7XHJcbiAgICAgICAgICAgIC8vIE5vZGUgdG8gYmUgcmVtb3ZlZCBpcyBvbiB0aGUgbGVmdCBzaWRlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxlZnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5yZW1vdmUobm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2V5ID4gdGhpcy5rZXkpIHtcclxuICAgICAgICAgICAgLy8gTm9kZSB0byBiZSByZW1vdmVkIGlzIG9uIHRoZSByaWdodCBzaWRlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJpZ2h0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJpZ2h0LnJlbW92ZShub2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxlZnQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnJpZ2h0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vZGUgaGFzIHR3byBjaGlsZHJlblxyXG4gICAgICAgICAgICAgICAgdmFyIG1pblZhbHVlID0gdGhpcy5yaWdodC5fbWluVmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMua2V5ID0gbWluVmFsdWUua2V5O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRzID0gbWluVmFsdWUucmVjb3JkcztcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJpZ2h0LnJlbW92ZSh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwYXJlbnQubGVmdCA9PT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgLy8gT25lIGNoaWxkIG9yIG5vIGNoaWxkIGNhc2Ugb24gbGVmdCBzaWRlXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yaWdodCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmxlZnQgPSB0aGlzLnJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmlnaHQucGFyZW50ID0gcGFyZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmxlZnQgPSB0aGlzLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGVmdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGVmdC5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGFyZW50LnVwZGF0ZU1heE9mUGFyZW50cygpO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LnVwZGF0ZUhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50Ll9yZWJhbGFuY2UoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmVudC5yaWdodCA9PT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgLy8gT25lIGNoaWxkIG9yIG5vIGNoaWxkIGNhc2Ugb24gcmlnaHQgc2lkZVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmlnaHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5yaWdodCA9IHRoaXMucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yaWdodC5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQucmlnaHQgPSB0aGlzLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGVmdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGVmdC5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGFyZW50LnVwZGF0ZU1heE9mUGFyZW50cygpO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LnVwZGF0ZUhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50Ll9yZWJhbGFuY2UoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBOb2RlO1xyXG59KCkpO1xyXG5leHBvcnRzLk5vZGUgPSBOb2RlO1xyXG52YXIgSW50ZXJ2YWxUcmVlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSW50ZXJ2YWxUcmVlKCkge1xyXG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xyXG4gICAgfVxyXG4gICAgSW50ZXJ2YWxUcmVlLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAocmVjb3JkKSB7XHJcbiAgICAgICAgaWYgKHJlY29yZC5sb3cgPiByZWNvcmQuaGlnaCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Bsb3dgIHZhbHVlIG11c3QgYmUgbG93ZXIgb3IgZXF1YWwgdG8gYGhpZ2hgIHZhbHVlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnJvb3QgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBCYXNlIGNhc2U6IFRyZWUgaXMgZW1wdHksIG5ldyBub2RlIGJlY29tZXMgcm9vdFxyXG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBuZXcgTm9kZSh0aGlzLCByZWNvcmQpO1xyXG4gICAgICAgICAgICB0aGlzLmNvdW50Kys7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBjaGVjayBpZiBub2RlIGFscmVhZHkgZXhpc3RzIHdpdGggdGhlIHNhbWUga2V5XHJcbiAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy5yb290LnNlYXJjaEV4aXN0aW5nKHJlY29yZC5sb3cpO1xyXG4gICAgICAgICAgICBpZiAobm9kZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGUgcmVjb3JkcyBpbiB0aGlzIG5vZGUgaWYgdGhlcmUgYWxyZWFkeSBpcyB0aGUgb25lIHdpdGggc2FtZSBsb3csIGhpZ2gsIGRhdGFcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5yZWNvcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2FtZShub2RlLnJlY29yZHNbaV0sIHJlY29yZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByZWNvcmQgaXMgc2FtZSBhcyB0aGUgb25lIHdlJ3JlIHRyeWluZyB0byBpbnNlcnQ7IHJldHVybiBmYWxzZSB0byBpbmRpY2F0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3RoaW5nIGhhcyBiZWVuIGluc2VydGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHJlY29yZCB0byB0aGUgbm9kZVxyXG4gICAgICAgICAgICAgICAgbm9kZS5yZWNvcmRzLnB1c2gocmVjb3JkKTtcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBtYXggb2YgdGhlIG5vZGUgYW5kIGl0cyBwYXJlbnRzIGlmIG5lY2Vzc2FyeVxyXG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5oaWdoID4gbm9kZS5tYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLm1heCA9IHJlY29yZC5oaWdoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudC51cGRhdGVNYXhPZlBhcmVudHMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vZGUgd2l0aCB0aGlzIGtleSBkb2Vzbid0IGFscmVhZHkgZXhpc3QuIENhbGwgaW5zZXJ0IGZ1bmN0aW9uIG9uIHJvb3QncyBub2RlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QuaW5zZXJ0KHJlY29yZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBJbnRlcnZhbFRyZWUucHJvdG90eXBlLnNlYXJjaCA9IGZ1bmN0aW9uIChsb3csIGhpZ2gpIHtcclxuICAgICAgICBpZiAodGhpcy5yb290ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gVHJlZSBpcyBlbXB0eTsgcmV0dXJuIGVtcHR5IGFycmF5XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvb3Quc2VhcmNoKGxvdywgaGlnaCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEludGVydmFsVHJlZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHJlY29yZCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJvb3QgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBUcmVlIGlzIGVtcHR5OyBub3RoaW5nIHRvIHJlbW92ZVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMucm9vdC5zZWFyY2hFeGlzdGluZyhyZWNvcmQubG93KTtcclxuICAgICAgICAgICAgaWYgKG5vZGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUucmVjb3Jkcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlZFJlY29yZCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIC8vIE5vZGUgd2l0aCB0aGlzIGtleSBoYXMgMiBvciBtb3JlIHJlY29yZHMuIEZpbmQgdGhlIG9uZSB3ZSBuZWVkIGFuZCByZW1vdmUgaXRcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5yZWNvcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2FtZShub2RlLnJlY29yZHNbaV0sIHJlY29yZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZFJlY29yZCA9IG5vZGUucmVjb3Jkc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5yZWNvcmRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRSZWNvcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVkUmVjb3JkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBtYXggb2YgdGhhdCBub2RlIGFuZCBpdHMgcGFyZW50cyBpZiBuZWNlc3NhcnlcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVjb3JkLmhpZ2ggPT09IG5vZGUubWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlSGlnaCA9IG5vZGUuZ2V0Tm9kZUhpZ2goKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubGVmdCAhPT0gdW5kZWZpbmVkICYmIG5vZGUucmlnaHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5tYXggPSBNYXRoLm1heChNYXRoLm1heChub2RlLmxlZnQubWF4LCBub2RlLnJpZ2h0Lm1heCksIG5vZGVIaWdoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChub2RlLmxlZnQgIT09IHVuZGVmaW5lZCAmJiBub2RlLnJpZ2h0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUubWF4ID0gTWF0aC5tYXgobm9kZS5sZWZ0Lm1heCwgbm9kZUhpZ2gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUubGVmdCA9PT0gdW5kZWZpbmVkICYmIG5vZGUucmlnaHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5tYXggPSBNYXRoLm1heChub2RlLnJpZ2h0Lm1heCwgbm9kZUhpZ2gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5tYXggPSBub2RlSGlnaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50LnVwZGF0ZU1heE9mUGFyZW50cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnQtLTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLnJlY29yZHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBOb2RlIHdpdGggdGhpcyBrZXkgaGFzIG9ubHkgMSByZWNvcmQuIENoZWNrIGlmIHRoZSByZW1haW5pbmcgcmVjb3JkIGluIHRoaXMgbm9kZSBpc1xyXG4gICAgICAgICAgICAgICAgLy8gYWN0dWFsbHkgdGhlIG9uZSB3ZSB3YW50IHRvIHJlbW92ZVxyXG4gICAgICAgICAgICAgICAgaWYgKGlzU2FtZShub2RlLnJlY29yZHNbMF0sIHJlY29yZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcmVtYWluaW5nIHJlY29yZCBpcyB0aGUgb25lIHdlIHdhbnQgdG8gcmVtb3ZlLiBSZW1vdmUgdGhlIHdob2xlIG5vZGUgZnJvbSB0aGUgdHJlZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvb3Qua2V5ID09PSBub2RlLmtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSdyZSByZW1vdmluZyB0aGUgcm9vdCBlbGVtZW50LiBDcmVhdGUgYSBkdW1teSBub2RlIHRoYXQgd2lsbCB0ZW1wb3JhcmlseSB0YWtlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJvb3QncyBwYXJlbnQgcm9sZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm9vdFBhcmVudCA9IG5ldyBOb2RlKHRoaXMsIHsgbG93OiByZWNvcmQubG93LCBoaWdoOiByZWNvcmQubG93IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb290UGFyZW50LmxlZnQgPSB0aGlzLnJvb3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdC5wYXJlbnQgPSByb290UGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlZE5vZGUgPSB0aGlzLnJvb3QucmVtb3ZlKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3QgPSByb290UGFyZW50LmxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvb3QgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290LnBhcmVudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3ZlZE5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZWROb2RlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudC0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVkTm9kZSA9IHRoaXMucm9vdC5yZW1vdmUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZE5vZGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50LS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSByZW1haW5pbmcgcmVjb3JkIGlzIG5vdCB0aGUgb25lIHdlIHdhbnQgdG8gcmVtb3ZlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gTm8gcmVjb3JkcyBhdCBhbGwgaW4gdGhpcyBub2RlPyEgU2hvdWxkbid0IGhhcHBlblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEludGVydmFsVHJlZS5wcm90b3R5cGUuaW5PcmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEluT3JkZXIodGhpcy5yb290KTtcclxuICAgIH07XHJcbiAgICBJbnRlcnZhbFRyZWUucHJvdG90eXBlLnByZU9yZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJlT3JkZXIodGhpcy5yb290KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gSW50ZXJ2YWxUcmVlO1xyXG59KCkpO1xyXG5leHBvcnRzLkludGVydmFsVHJlZSA9IEludGVydmFsVHJlZTtcclxudmFyIERhdGFJbnRlcnZhbFRyZWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBEYXRhSW50ZXJ2YWxUcmVlKCkge1xyXG4gICAgICAgIHRoaXMudHJlZSA9IG5ldyBJbnRlcnZhbFRyZWUoKTtcclxuICAgIH1cclxuICAgIERhdGFJbnRlcnZhbFRyZWUucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChsb3csIGhpZ2gsIGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmVlLmluc2VydCh7IGxvdzogbG93LCBoaWdoOiBoaWdoLCBkYXRhOiBkYXRhIH0pO1xyXG4gICAgfTtcclxuICAgIERhdGFJbnRlcnZhbFRyZWUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChsb3csIGhpZ2gsIGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmVlLnJlbW92ZSh7IGxvdzogbG93LCBoaWdoOiBoaWdoLCBkYXRhOiBkYXRhIH0pO1xyXG4gICAgfTtcclxuICAgIERhdGFJbnRlcnZhbFRyZWUucHJvdG90eXBlLnNlYXJjaCA9IGZ1bmN0aW9uIChsb3csIGhpZ2gpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmVlLnNlYXJjaChsb3csIGhpZ2gpLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gdi5kYXRhOyB9KTtcclxuICAgIH07XHJcbiAgICBEYXRhSW50ZXJ2YWxUcmVlLnByb3RvdHlwZS5pbk9yZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRyZWUuaW5PcmRlcigpO1xyXG4gICAgfTtcclxuICAgIERhdGFJbnRlcnZhbFRyZWUucHJvdG90eXBlLnByZU9yZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRyZWUucHJlT3JkZXIoKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YUludGVydmFsVHJlZS5wcm90b3R5cGUsIFwiY291bnRcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmVlLmNvdW50O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIERhdGFJbnRlcnZhbFRyZWU7XHJcbn0oKSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IERhdGFJbnRlcnZhbFRyZWU7XHJcbnZhciBJbk9yZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSW5PcmRlcihzdGFydE5vZGUpIHtcclxuICAgICAgICB0aGlzLnN0YWNrID0gW107XHJcbiAgICAgICAgaWYgKHN0YXJ0Tm9kZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHVzaChzdGFydE5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIEluT3JkZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gV2lsbCBvbmx5IGhhcHBlbiBpZiBzdGFjayBpcyBlbXB0eSBhbmQgcG9wIGlzIGNhbGxlZFxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnROb2RlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGRvbmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQcm9jZXNzIHRoaXMgbm9kZVxyXG4gICAgICAgIGlmICh0aGlzLmkgPCB0aGlzLmN1cnJlbnROb2RlLnJlY29yZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmN1cnJlbnROb2RlLnJlY29yZHNbdGhpcy5pKytdLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Tm9kZS5yaWdodCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHVzaCh0aGlzLmN1cnJlbnROb2RlLnJpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE1pZ2h0IHBvcCB0aGUgbGFzdCBhbmQgc2V0IHRoaXMuY3VycmVudE5vZGUgPSB1bmRlZmluZWRcclxuICAgICAgICAgICAgdGhpcy5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dCgpO1xyXG4gICAgfTtcclxuICAgIEluT3JkZXIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSBub2RlO1xyXG4gICAgICAgIHRoaXMuaSA9IDA7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuY3VycmVudE5vZGUubGVmdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhY2sucHVzaCh0aGlzLmN1cnJlbnROb2RlKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHRoaXMuY3VycmVudE5vZGUubGVmdDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSW5PcmRlci5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB0aGlzLnN0YWNrLnBvcCgpO1xyXG4gICAgICAgIHRoaXMuaSA9IDA7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEluT3JkZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuSW5PcmRlciA9IEluT3JkZXI7XHJcbmlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICBJbk9yZGVyLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcclxufVxyXG52YXIgUHJlT3JkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQcmVPcmRlcihzdGFydE5vZGUpIHtcclxuICAgICAgICB0aGlzLnN0YWNrID0gW107XHJcbiAgICAgICAgdGhpcy5pID0gMDtcclxuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gc3RhcnROb2RlO1xyXG4gICAgfVxyXG4gICAgUHJlT3JkZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gV2lsbCBvbmx5IGhhcHBlbiBpZiBzdGFjayBpcyBlbXB0eSBhbmQgcG9wIGlzIGNhbGxlZCxcclxuICAgICAgICAvLyB3aGljaCBvbmx5IGhhcHBlbnMgaWYgdGhlcmUgaXMgbm8gcmlnaHQgbm9kZSAoaS5lIHdlIGFyZSBkb25lKVxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnROb2RlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGRvbmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQcm9jZXNzIHRoaXMgbm9kZVxyXG4gICAgICAgIGlmICh0aGlzLmkgPCB0aGlzLmN1cnJlbnROb2RlLnJlY29yZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmN1cnJlbnROb2RlLnJlY29yZHNbdGhpcy5pKytdLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Tm9kZS5yaWdodCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHVzaCh0aGlzLmN1cnJlbnROb2RlLnJpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE5vZGUubGVmdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHVzaCh0aGlzLmN1cnJlbnROb2RlLmxlZnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBvcCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5leHQoKTtcclxuICAgIH07XHJcbiAgICBQcmVPcmRlci5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgdGhpcy5zdGFjay5wdXNoKG5vZGUpO1xyXG4gICAgfTtcclxuICAgIFByZU9yZGVyLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHRoaXMuc3RhY2sucG9wKCk7XHJcbiAgICAgICAgdGhpcy5pID0gMDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUHJlT3JkZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuUHJlT3JkZXIgPSBQcmVPcmRlcjtcclxuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcclxuICAgIFByZU9yZGVyLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvbm9kZV9tb2R1bGVzL25vZGUtaW50ZXJ2YWwtdHJlZS9saWIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDY2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIsIGNvbXBhcmUsIGNvbXBhcmVDb250ZXh0KSB7XG4gIHZhciByZXQgPSBjb21wYXJlID8gY29tcGFyZS5jYWxsKGNvbXBhcmVDb250ZXh0LCBvYmpBLCBvYmpCKSA6IHZvaWQgMDtcblxuICBpZiAocmV0ICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gISFyZXQ7XG4gIH1cblxuICBpZiAob2JqQSA9PT0gb2JqQikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmpBICE9PSBcIm9iamVjdFwiIHx8ICFvYmpBIHx8IHR5cGVvZiBvYmpCICE9PSBcIm9iamVjdFwiIHx8ICFvYmpCKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBiSGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmJpbmQob2JqQik7XG5cbiAgLy8gVGVzdCBmb3IgQSdzIGtleXMgZGlmZmVyZW50IGZyb20gQi5cbiAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwga2V5c0EubGVuZ3RoOyBpZHgrKykge1xuICAgIHZhciBrZXkgPSBrZXlzQVtpZHhdO1xuXG4gICAgaWYgKCFiSGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZUEgPSBvYmpBW2tleV07XG4gICAgdmFyIHZhbHVlQiA9IG9iakJba2V5XTtcblxuICAgIHJldCA9IGNvbXBhcmUgPyBjb21wYXJlLmNhbGwoY29tcGFyZUNvbnRleHQsIHZhbHVlQSwgdmFsdWVCLCBrZXkpIDogdm9pZCAwO1xuXG4gICAgaWYgKHJldCA9PT0gZmFsc2UgfHwgKHJldCA9PT0gdm9pZCAwICYmIHZhbHVlQSAhPT0gdmFsdWVCKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9nbmlkYW4vc3JjL3dvcmsvdHJ1ZmZsZS9ub2RlX21vZHVsZXMvc2hhbGxvd2VxdWFsL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA2N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmYXN0LWxldmVuc2h0ZWluXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiZmFzdC1sZXZlbnNodGVpblwiXG4vLyBtb2R1bGUgaWQgPSA2OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBTZW1WZXI7XG5cbi8vIFRoZSBkZWJ1ZyBmdW5jdGlvbiBpcyBleGNsdWRlZCBlbnRpcmVseSBmcm9tIHRoZSBtaW5pZmllZCB2ZXJzaW9uLlxuLyogbm9taW4gKi8gdmFyIGRlYnVnO1xuLyogbm9taW4gKi8gaWYgKHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JyAmJlxuICAgIC8qIG5vbWluICovIHByb2Nlc3MuZW52ICYmXG4gICAgLyogbm9taW4gKi8gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyAmJlxuICAgIC8qIG5vbWluICovIC9cXGJzZW12ZXJcXGIvaS50ZXN0KHByb2Nlc3MuZW52Lk5PREVfREVCVUcpKVxuICAvKiBub21pbiAqLyBkZWJ1ZyA9IGZ1bmN0aW9uKCkge1xuICAgIC8qIG5vbWluICovIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICAvKiBub21pbiAqLyBhcmdzLnVuc2hpZnQoJ1NFTVZFUicpO1xuICAgIC8qIG5vbWluICovIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICAgIC8qIG5vbWluICovIH07XG4vKiBub21pbiAqLyBlbHNlXG4gIC8qIG5vbWluICovIGRlYnVnID0gZnVuY3Rpb24oKSB7fTtcblxuLy8gTm90ZTogdGhpcyBpcyB0aGUgc2VtdmVyLm9yZyB2ZXJzaW9uIG9mIHRoZSBzcGVjIHRoYXQgaXQgaW1wbGVtZW50c1xuLy8gTm90IG5lY2Vzc2FyaWx5IHRoZSBwYWNrYWdlIHZlcnNpb24gb2YgdGhpcyBjb2RlLlxuZXhwb3J0cy5TRU1WRVJfU1BFQ19WRVJTSU9OID0gJzIuMC4wJztcblxudmFyIE1BWF9MRU5HVEggPSAyNTY7XG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8vIE1heCBzYWZlIHNlZ21lbnQgbGVuZ3RoIGZvciBjb2VyY2lvbi5cbnZhciBNQVhfU0FGRV9DT01QT05FTlRfTEVOR1RIID0gMTY7XG5cbi8vIFRoZSBhY3R1YWwgcmVnZXhwcyBnbyBvbiBleHBvcnRzLnJlXG52YXIgcmUgPSBleHBvcnRzLnJlID0gW107XG52YXIgc3JjID0gZXhwb3J0cy5zcmMgPSBbXTtcbnZhciBSID0gMDtcblxuLy8gVGhlIGZvbGxvd2luZyBSZWd1bGFyIEV4cHJlc3Npb25zIGNhbiBiZSB1c2VkIGZvciB0b2tlbml6aW5nLFxuLy8gdmFsaWRhdGluZywgYW5kIHBhcnNpbmcgU2VtVmVyIHZlcnNpb24gc3RyaW5ncy5cblxuLy8gIyMgTnVtZXJpYyBJZGVudGlmaWVyXG4vLyBBIHNpbmdsZSBgMGAsIG9yIGEgbm9uLXplcm8gZGlnaXQgZm9sbG93ZWQgYnkgemVybyBvciBtb3JlIGRpZ2l0cy5cblxudmFyIE5VTUVSSUNJREVOVElGSUVSID0gUisrO1xuc3JjW05VTUVSSUNJREVOVElGSUVSXSA9ICcwfFsxLTldXFxcXGQqJztcbnZhciBOVU1FUklDSURFTlRJRklFUkxPT1NFID0gUisrO1xuc3JjW05VTUVSSUNJREVOVElGSUVSTE9PU0VdID0gJ1swLTldKyc7XG5cblxuLy8gIyMgTm9uLW51bWVyaWMgSWRlbnRpZmllclxuLy8gWmVybyBvciBtb3JlIGRpZ2l0cywgZm9sbG93ZWQgYnkgYSBsZXR0ZXIgb3IgaHlwaGVuLCBhbmQgdGhlbiB6ZXJvIG9yXG4vLyBtb3JlIGxldHRlcnMsIGRpZ2l0cywgb3IgaHlwaGVucy5cblxudmFyIE5PTk5VTUVSSUNJREVOVElGSUVSID0gUisrO1xuc3JjW05PTk5VTUVSSUNJREVOVElGSUVSXSA9ICdcXFxcZCpbYS16QS1aLV1bYS16QS1aMC05LV0qJztcblxuXG4vLyAjIyBNYWluIFZlcnNpb25cbi8vIFRocmVlIGRvdC1zZXBhcmF0ZWQgbnVtZXJpYyBpZGVudGlmaWVycy5cblxudmFyIE1BSU5WRVJTSU9OID0gUisrO1xuc3JjW01BSU5WRVJTSU9OXSA9ICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUl0gKyAnKVxcXFwuJyArXG4gICAgICAgICAgICAgICAgICAgJygnICsgc3JjW05VTUVSSUNJREVOVElGSUVSXSArICcpXFxcXC4nICtcbiAgICAgICAgICAgICAgICAgICAnKCcgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJdICsgJyknO1xuXG52YXIgTUFJTlZFUlNJT05MT09TRSA9IFIrKztcbnNyY1tNQUlOVkVSU0lPTkxPT1NFXSA9ICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSArICcpXFxcXC4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSArICcpXFxcXC4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSArICcpJztcblxuLy8gIyMgUHJlLXJlbGVhc2UgVmVyc2lvbiBJZGVudGlmaWVyXG4vLyBBIG51bWVyaWMgaWRlbnRpZmllciwgb3IgYSBub24tbnVtZXJpYyBpZGVudGlmaWVyLlxuXG52YXIgUFJFUkVMRUFTRUlERU5USUZJRVIgPSBSKys7XG5zcmNbUFJFUkVMRUFTRUlERU5USUZJRVJdID0gJyg/OicgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJdICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnfCcgKyBzcmNbTk9OTlVNRVJJQ0lERU5USUZJRVJdICsgJyknO1xuXG52YXIgUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRSA9IFIrKztcbnNyY1tQUkVSRUxFQVNFSURFTlRJRklFUkxPT1NFXSA9ICcoPzonICsgc3JjW05VTUVSSUNJREVOVElGSUVSTE9PU0VdICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd8JyArIHNyY1tOT05OVU1FUklDSURFTlRJRklFUl0gKyAnKSc7XG5cblxuLy8gIyMgUHJlLXJlbGVhc2UgVmVyc2lvblxuLy8gSHlwaGVuLCBmb2xsb3dlZCBieSBvbmUgb3IgbW9yZSBkb3Qtc2VwYXJhdGVkIHByZS1yZWxlYXNlIHZlcnNpb25cbi8vIGlkZW50aWZpZXJzLlxuXG52YXIgUFJFUkVMRUFTRSA9IFIrKztcbnNyY1tQUkVSRUxFQVNFXSA9ICcoPzotKCcgKyBzcmNbUFJFUkVMRUFTRUlERU5USUZJRVJdICtcbiAgICAgICAgICAgICAgICAgICcoPzpcXFxcLicgKyBzcmNbUFJFUkVMRUFTRUlERU5USUZJRVJdICsgJykqKSknO1xuXG52YXIgUFJFUkVMRUFTRUxPT1NFID0gUisrO1xuc3JjW1BSRVJFTEVBU0VMT09TRV0gPSAnKD86LT8oJyArIHNyY1tQUkVSRUxFQVNFSURFTlRJRklFUkxPT1NFXSArXG4gICAgICAgICAgICAgICAgICAgICAgICcoPzpcXFxcLicgKyBzcmNbUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRV0gKyAnKSopKSc7XG5cbi8vICMjIEJ1aWxkIE1ldGFkYXRhIElkZW50aWZpZXJcbi8vIEFueSBjb21iaW5hdGlvbiBvZiBkaWdpdHMsIGxldHRlcnMsIG9yIGh5cGhlbnMuXG5cbnZhciBCVUlMRElERU5USUZJRVIgPSBSKys7XG5zcmNbQlVJTERJREVOVElGSUVSXSA9ICdbMC05QS1aYS16LV0rJztcblxuLy8gIyMgQnVpbGQgTWV0YWRhdGFcbi8vIFBsdXMgc2lnbiwgZm9sbG93ZWQgYnkgb25lIG9yIG1vcmUgcGVyaW9kLXNlcGFyYXRlZCBidWlsZCBtZXRhZGF0YVxuLy8gaWRlbnRpZmllcnMuXG5cbnZhciBCVUlMRCA9IFIrKztcbnNyY1tCVUlMRF0gPSAnKD86XFxcXCsoJyArIHNyY1tCVUlMRElERU5USUZJRVJdICtcbiAgICAgICAgICAgICAnKD86XFxcXC4nICsgc3JjW0JVSUxESURFTlRJRklFUl0gKyAnKSopKSc7XG5cblxuLy8gIyMgRnVsbCBWZXJzaW9uIFN0cmluZ1xuLy8gQSBtYWluIHZlcnNpb24sIGZvbGxvd2VkIG9wdGlvbmFsbHkgYnkgYSBwcmUtcmVsZWFzZSB2ZXJzaW9uIGFuZFxuLy8gYnVpbGQgbWV0YWRhdGEuXG5cbi8vIE5vdGUgdGhhdCB0aGUgb25seSBtYWpvciwgbWlub3IsIHBhdGNoLCBhbmQgcHJlLXJlbGVhc2Ugc2VjdGlvbnMgb2Zcbi8vIHRoZSB2ZXJzaW9uIHN0cmluZyBhcmUgY2FwdHVyaW5nIGdyb3Vwcy4gIFRoZSBidWlsZCBtZXRhZGF0YSBpcyBub3QgYVxuLy8gY2FwdHVyaW5nIGdyb3VwLCBiZWNhdXNlIGl0IHNob3VsZCBub3QgZXZlciBiZSB1c2VkIGluIHZlcnNpb25cbi8vIGNvbXBhcmlzb24uXG5cbnZhciBGVUxMID0gUisrO1xudmFyIEZVTExQTEFJTiA9ICd2PycgKyBzcmNbTUFJTlZFUlNJT05dICtcbiAgICAgICAgICAgICAgICBzcmNbUFJFUkVMRUFTRV0gKyAnPycgK1xuICAgICAgICAgICAgICAgIHNyY1tCVUlMRF0gKyAnPyc7XG5cbnNyY1tGVUxMXSA9ICdeJyArIEZVTExQTEFJTiArICckJztcblxuLy8gbGlrZSBmdWxsLCBidXQgYWxsb3dzIHYxLjIuMyBhbmQgPTEuMi4zLCB3aGljaCBwZW9wbGUgZG8gc29tZXRpbWVzLlxuLy8gYWxzbywgMS4wLjBhbHBoYTEgKHByZXJlbGVhc2Ugd2l0aG91dCB0aGUgaHlwaGVuKSB3aGljaCBpcyBwcmV0dHlcbi8vIGNvbW1vbiBpbiB0aGUgbnBtIHJlZ2lzdHJ5LlxudmFyIExPT1NFUExBSU4gPSAnW3Y9XFxcXHNdKicgKyBzcmNbTUFJTlZFUlNJT05MT09TRV0gK1xuICAgICAgICAgICAgICAgICBzcmNbUFJFUkVMRUFTRUxPT1NFXSArICc/JyArXG4gICAgICAgICAgICAgICAgIHNyY1tCVUlMRF0gKyAnPyc7XG5cbnZhciBMT09TRSA9IFIrKztcbnNyY1tMT09TRV0gPSAnXicgKyBMT09TRVBMQUlOICsgJyQnO1xuXG52YXIgR1RMVCA9IFIrKztcbnNyY1tHVExUXSA9ICcoKD86PHw+KT89PyknO1xuXG4vLyBTb21ldGhpbmcgbGlrZSBcIjIuKlwiIG9yIFwiMS4yLnhcIi5cbi8vIE5vdGUgdGhhdCBcIngueFwiIGlzIGEgdmFsaWQgeFJhbmdlIGlkZW50aWZlciwgbWVhbmluZyBcImFueSB2ZXJzaW9uXCJcbi8vIE9ubHkgdGhlIGZpcnN0IGl0ZW0gaXMgc3RyaWN0bHkgcmVxdWlyZWQuXG52YXIgWFJBTkdFSURFTlRJRklFUkxPT1NFID0gUisrO1xuc3JjW1hSQU5HRUlERU5USUZJRVJMT09TRV0gPSBzcmNbTlVNRVJJQ0lERU5USUZJRVJMT09TRV0gKyAnfHh8WHxcXFxcKic7XG52YXIgWFJBTkdFSURFTlRJRklFUiA9IFIrKztcbnNyY1tYUkFOR0VJREVOVElGSUVSXSA9IHNyY1tOVU1FUklDSURFTlRJRklFUl0gKyAnfHh8WHxcXFxcKic7XG5cbnZhciBYUkFOR0VQTEFJTiA9IFIrKztcbnNyY1tYUkFOR0VQTEFJTl0gPSAnW3Y9XFxcXHNdKignICsgc3JjW1hSQU5HRUlERU5USUZJRVJdICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAnKD86XFxcXC4oJyArIHNyY1tYUkFOR0VJREVOVElGSUVSXSArICcpJyArXG4gICAgICAgICAgICAgICAgICAgJyg/OlxcXFwuKCcgKyBzcmNbWFJBTkdFSURFTlRJRklFUl0gKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICcoPzonICsgc3JjW1BSRVJFTEVBU0VdICsgJyk/JyArXG4gICAgICAgICAgICAgICAgICAgc3JjW0JVSUxEXSArICc/JyArXG4gICAgICAgICAgICAgICAgICAgJyk/KT8nO1xuXG52YXIgWFJBTkdFUExBSU5MT09TRSA9IFIrKztcbnNyY1tYUkFOR0VQTEFJTkxPT1NFXSA9ICdbdj1cXFxcc10qKCcgKyBzcmNbWFJBTkdFSURFTlRJRklFUkxPT1NFXSArICcpJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnKD86XFxcXC4oJyArIHNyY1tYUkFOR0VJREVOVElGSUVSTE9PU0VdICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoPzpcXFxcLignICsgc3JjW1hSQU5HRUlERU5USUZJRVJMT09TRV0gKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyg/OicgKyBzcmNbUFJFUkVMRUFTRUxPT1NFXSArICcpPycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgc3JjW0JVSUxEXSArICc/JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnKT8pPyc7XG5cbnZhciBYUkFOR0UgPSBSKys7XG5zcmNbWFJBTkdFXSA9ICdeJyArIHNyY1tHVExUXSArICdcXFxccyonICsgc3JjW1hSQU5HRVBMQUlOXSArICckJztcbnZhciBYUkFOR0VMT09TRSA9IFIrKztcbnNyY1tYUkFOR0VMT09TRV0gPSAnXicgKyBzcmNbR1RMVF0gKyAnXFxcXHMqJyArIHNyY1tYUkFOR0VQTEFJTkxPT1NFXSArICckJztcblxuLy8gQ29lcmNpb24uXG4vLyBFeHRyYWN0IGFueXRoaW5nIHRoYXQgY291bGQgY29uY2VpdmFibHkgYmUgYSBwYXJ0IG9mIGEgdmFsaWQgc2VtdmVyXG52YXIgQ09FUkNFID0gUisrO1xuc3JjW0NPRVJDRV0gPSAnKD86XnxbXlxcXFxkXSknICtcbiAgICAgICAgICAgICAgJyhcXFxcZHsxLCcgKyBNQVhfU0FGRV9DT01QT05FTlRfTEVOR1RIICsgJ30pJyArXG4gICAgICAgICAgICAgICcoPzpcXFxcLihcXFxcZHsxLCcgKyBNQVhfU0FGRV9DT01QT05FTlRfTEVOR1RIICsgJ30pKT8nICtcbiAgICAgICAgICAgICAgJyg/OlxcXFwuKFxcXFxkezEsJyArIE1BWF9TQUZFX0NPTVBPTkVOVF9MRU5HVEggKyAnfSkpPycgK1xuICAgICAgICAgICAgICAnKD86JHxbXlxcXFxkXSknO1xuXG4vLyBUaWxkZSByYW5nZXMuXG4vLyBNZWFuaW5nIGlzIFwicmVhc29uYWJseSBhdCBvciBncmVhdGVyIHRoYW5cIlxudmFyIExPTkVUSUxERSA9IFIrKztcbnNyY1tMT05FVElMREVdID0gJyg/On4+PyknO1xuXG52YXIgVElMREVUUklNID0gUisrO1xuc3JjW1RJTERFVFJJTV0gPSAnKFxcXFxzKiknICsgc3JjW0xPTkVUSUxERV0gKyAnXFxcXHMrJztcbnJlW1RJTERFVFJJTV0gPSBuZXcgUmVnRXhwKHNyY1tUSUxERVRSSU1dLCAnZycpO1xudmFyIHRpbGRlVHJpbVJlcGxhY2UgPSAnJDF+JztcblxudmFyIFRJTERFID0gUisrO1xuc3JjW1RJTERFXSA9ICdeJyArIHNyY1tMT05FVElMREVdICsgc3JjW1hSQU5HRVBMQUlOXSArICckJztcbnZhciBUSUxERUxPT1NFID0gUisrO1xuc3JjW1RJTERFTE9PU0VdID0gJ14nICsgc3JjW0xPTkVUSUxERV0gKyBzcmNbWFJBTkdFUExBSU5MT09TRV0gKyAnJCc7XG5cbi8vIENhcmV0IHJhbmdlcy5cbi8vIE1lYW5pbmcgaXMgXCJhdCBsZWFzdCBhbmQgYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aFwiXG52YXIgTE9ORUNBUkVUID0gUisrO1xuc3JjW0xPTkVDQVJFVF0gPSAnKD86XFxcXF4pJztcblxudmFyIENBUkVUVFJJTSA9IFIrKztcbnNyY1tDQVJFVFRSSU1dID0gJyhcXFxccyopJyArIHNyY1tMT05FQ0FSRVRdICsgJ1xcXFxzKyc7XG5yZVtDQVJFVFRSSU1dID0gbmV3IFJlZ0V4cChzcmNbQ0FSRVRUUklNXSwgJ2cnKTtcbnZhciBjYXJldFRyaW1SZXBsYWNlID0gJyQxXic7XG5cbnZhciBDQVJFVCA9IFIrKztcbnNyY1tDQVJFVF0gPSAnXicgKyBzcmNbTE9ORUNBUkVUXSArIHNyY1tYUkFOR0VQTEFJTl0gKyAnJCc7XG52YXIgQ0FSRVRMT09TRSA9IFIrKztcbnNyY1tDQVJFVExPT1NFXSA9ICdeJyArIHNyY1tMT05FQ0FSRVRdICsgc3JjW1hSQU5HRVBMQUlOTE9PU0VdICsgJyQnO1xuXG4vLyBBIHNpbXBsZSBndC9sdC9lcSB0aGluZywgb3IganVzdCBcIlwiIHRvIGluZGljYXRlIFwiYW55IHZlcnNpb25cIlxudmFyIENPTVBBUkFUT1JMT09TRSA9IFIrKztcbnNyY1tDT01QQVJBVE9STE9PU0VdID0gJ14nICsgc3JjW0dUTFRdICsgJ1xcXFxzKignICsgTE9PU0VQTEFJTiArICcpJHxeJCc7XG52YXIgQ09NUEFSQVRPUiA9IFIrKztcbnNyY1tDT01QQVJBVE9SXSA9ICdeJyArIHNyY1tHVExUXSArICdcXFxccyooJyArIEZVTExQTEFJTiArICcpJHxeJCc7XG5cblxuLy8gQW4gZXhwcmVzc2lvbiB0byBzdHJpcCBhbnkgd2hpdGVzcGFjZSBiZXR3ZWVuIHRoZSBndGx0IGFuZCB0aGUgdGhpbmdcbi8vIGl0IG1vZGlmaWVzLCBzbyB0aGF0IGA+IDEuMi4zYCA9PT4gYD4xLjIuM2BcbnZhciBDT01QQVJBVE9SVFJJTSA9IFIrKztcbnNyY1tDT01QQVJBVE9SVFJJTV0gPSAnKFxcXFxzKiknICsgc3JjW0dUTFRdICtcbiAgICAgICAgICAgICAgICAgICAgICAnXFxcXHMqKCcgKyBMT09TRVBMQUlOICsgJ3wnICsgc3JjW1hSQU5HRVBMQUlOXSArICcpJztcblxuLy8gdGhpcyBvbmUgaGFzIHRvIHVzZSB0aGUgL2cgZmxhZ1xucmVbQ09NUEFSQVRPUlRSSU1dID0gbmV3IFJlZ0V4cChzcmNbQ09NUEFSQVRPUlRSSU1dLCAnZycpO1xudmFyIGNvbXBhcmF0b3JUcmltUmVwbGFjZSA9ICckMSQyJDMnO1xuXG5cbi8vIFNvbWV0aGluZyBsaWtlIGAxLjIuMyAtIDEuMi40YFxuLy8gTm90ZSB0aGF0IHRoZXNlIGFsbCB1c2UgdGhlIGxvb3NlIGZvcm0sIGJlY2F1c2UgdGhleSdsbCBiZVxuLy8gY2hlY2tlZCBhZ2FpbnN0IGVpdGhlciB0aGUgc3RyaWN0IG9yIGxvb3NlIGNvbXBhcmF0b3IgZm9ybVxuLy8gbGF0ZXIuXG52YXIgSFlQSEVOUkFOR0UgPSBSKys7XG5zcmNbSFlQSEVOUkFOR0VdID0gJ15cXFxccyooJyArIHNyY1tYUkFOR0VQTEFJTl0gKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICdcXFxccystXFxcXHMrJyArXG4gICAgICAgICAgICAgICAgICAgJygnICsgc3JjW1hSQU5HRVBMQUlOXSArICcpJyArXG4gICAgICAgICAgICAgICAgICAgJ1xcXFxzKiQnO1xuXG52YXIgSFlQSEVOUkFOR0VMT09TRSA9IFIrKztcbnNyY1tIWVBIRU5SQU5HRUxPT1NFXSA9ICdeXFxcXHMqKCcgKyBzcmNbWFJBTkdFUExBSU5MT09TRV0gKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcXFxzKy1cXFxccysnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tYUkFOR0VQTEFJTkxPT1NFXSArICcpJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFxcXHMqJCc7XG5cbi8vIFN0YXIgcmFuZ2VzIGJhc2ljYWxseSBqdXN0IGFsbG93IGFueXRoaW5nIGF0IGFsbC5cbnZhciBTVEFSID0gUisrO1xuc3JjW1NUQVJdID0gJyg8fD4pPz0/XFxcXHMqXFxcXConO1xuXG4vLyBDb21waWxlIHRvIGFjdHVhbCByZWdleHAgb2JqZWN0cy5cbi8vIEFsbCBhcmUgZmxhZy1mcmVlLCB1bmxlc3MgdGhleSB3ZXJlIGNyZWF0ZWQgYWJvdmUgd2l0aCBhIGZsYWcuXG5mb3IgKHZhciBpID0gMDsgaSA8IFI7IGkrKykge1xuICBkZWJ1ZyhpLCBzcmNbaV0pO1xuICBpZiAoIXJlW2ldKVxuICAgIHJlW2ldID0gbmV3IFJlZ0V4cChzcmNbaV0pO1xufVxuXG5leHBvcnRzLnBhcnNlID0gcGFyc2U7XG5mdW5jdGlvbiBwYXJzZSh2ZXJzaW9uLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpXG4gICAgb3B0aW9ucyA9IHsgbG9vc2U6ICEhb3B0aW9ucywgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlIH1cblxuICBpZiAodmVyc2lvbiBpbnN0YW5jZW9mIFNlbVZlcilcbiAgICByZXR1cm4gdmVyc2lvbjtcblxuICBpZiAodHlwZW9mIHZlcnNpb24gIT09ICdzdHJpbmcnKVxuICAgIHJldHVybiBudWxsO1xuXG4gIGlmICh2ZXJzaW9uLmxlbmd0aCA+IE1BWF9MRU5HVEgpXG4gICAgcmV0dXJuIG51bGw7XG5cbiAgdmFyIHIgPSBvcHRpb25zLmxvb3NlID8gcmVbTE9PU0VdIDogcmVbRlVMTF07XG4gIGlmICghci50ZXN0KHZlcnNpb24pKVxuICAgIHJldHVybiBudWxsO1xuXG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBTZW1WZXIodmVyc2lvbiwgb3B0aW9ucyk7XG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0cy52YWxpZCA9IHZhbGlkO1xuZnVuY3Rpb24gdmFsaWQodmVyc2lvbiwgb3B0aW9ucykge1xuICB2YXIgdiA9IHBhcnNlKHZlcnNpb24sIG9wdGlvbnMpO1xuICByZXR1cm4gdiA/IHYudmVyc2lvbiA6IG51bGw7XG59XG5cblxuZXhwb3J0cy5jbGVhbiA9IGNsZWFuO1xuZnVuY3Rpb24gY2xlYW4odmVyc2lvbiwgb3B0aW9ucykge1xuICB2YXIgcyA9IHBhcnNlKHZlcnNpb24udHJpbSgpLnJlcGxhY2UoL15bPXZdKy8sICcnKSwgb3B0aW9ucyk7XG4gIHJldHVybiBzID8gcy52ZXJzaW9uIDogbnVsbDtcbn1cblxuZXhwb3J0cy5TZW1WZXIgPSBTZW1WZXI7XG5cbmZ1bmN0aW9uIFNlbVZlcih2ZXJzaW9uLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpXG4gICAgb3B0aW9ucyA9IHsgbG9vc2U6ICEhb3B0aW9ucywgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlIH1cbiAgaWYgKHZlcnNpb24gaW5zdGFuY2VvZiBTZW1WZXIpIHtcbiAgICBpZiAodmVyc2lvbi5sb29zZSA9PT0gb3B0aW9ucy5sb29zZSlcbiAgICAgIHJldHVybiB2ZXJzaW9uO1xuICAgIGVsc2VcbiAgICAgIHZlcnNpb24gPSB2ZXJzaW9uLnZlcnNpb247XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZlcnNpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBWZXJzaW9uOiAnICsgdmVyc2lvbik7XG4gIH1cblxuICBpZiAodmVyc2lvbi5sZW5ndGggPiBNQVhfTEVOR1RIKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZlcnNpb24gaXMgbG9uZ2VyIHRoYW4gJyArIE1BWF9MRU5HVEggKyAnIGNoYXJhY3RlcnMnKVxuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTZW1WZXIpKVxuICAgIHJldHVybiBuZXcgU2VtVmVyKHZlcnNpb24sIG9wdGlvbnMpO1xuXG4gIGRlYnVnKCdTZW1WZXInLCB2ZXJzaW9uLCBvcHRpb25zKTtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgdGhpcy5sb29zZSA9ICEhb3B0aW9ucy5sb29zZTtcblxuICB2YXIgbSA9IHZlcnNpb24udHJpbSgpLm1hdGNoKG9wdGlvbnMubG9vc2UgPyByZVtMT09TRV0gOiByZVtGVUxMXSk7XG5cbiAgaWYgKCFtKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgVmVyc2lvbjogJyArIHZlcnNpb24pO1xuXG4gIHRoaXMucmF3ID0gdmVyc2lvbjtcblxuICAvLyB0aGVzZSBhcmUgYWN0dWFsbHkgbnVtYmVyc1xuICB0aGlzLm1ham9yID0gK21bMV07XG4gIHRoaXMubWlub3IgPSArbVsyXTtcbiAgdGhpcy5wYXRjaCA9ICttWzNdO1xuXG4gIGlmICh0aGlzLm1ham9yID4gTUFYX1NBRkVfSU5URUdFUiB8fCB0aGlzLm1ham9yIDwgMClcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG1ham9yIHZlcnNpb24nKVxuXG4gIGlmICh0aGlzLm1pbm9yID4gTUFYX1NBRkVfSU5URUdFUiB8fCB0aGlzLm1pbm9yIDwgMClcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG1pbm9yIHZlcnNpb24nKVxuXG4gIGlmICh0aGlzLnBhdGNoID4gTUFYX1NBRkVfSU5URUdFUiB8fCB0aGlzLnBhdGNoIDwgMClcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHBhdGNoIHZlcnNpb24nKVxuXG4gIC8vIG51bWJlcmlmeSBhbnkgcHJlcmVsZWFzZSBudW1lcmljIGlkc1xuICBpZiAoIW1bNF0pXG4gICAgdGhpcy5wcmVyZWxlYXNlID0gW107XG4gIGVsc2VcbiAgICB0aGlzLnByZXJlbGVhc2UgPSBtWzRdLnNwbGl0KCcuJykubWFwKGZ1bmN0aW9uKGlkKSB7XG4gICAgICBpZiAoL15bMC05XSskLy50ZXN0KGlkKSkge1xuICAgICAgICB2YXIgbnVtID0gK2lkO1xuICAgICAgICBpZiAobnVtID49IDAgJiYgbnVtIDwgTUFYX1NBRkVfSU5URUdFUilcbiAgICAgICAgICByZXR1cm4gbnVtO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlkO1xuICAgIH0pO1xuXG4gIHRoaXMuYnVpbGQgPSBtWzVdID8gbVs1XS5zcGxpdCgnLicpIDogW107XG4gIHRoaXMuZm9ybWF0KCk7XG59XG5cblNlbVZlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMudmVyc2lvbiA9IHRoaXMubWFqb3IgKyAnLicgKyB0aGlzLm1pbm9yICsgJy4nICsgdGhpcy5wYXRjaDtcbiAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGgpXG4gICAgdGhpcy52ZXJzaW9uICs9ICctJyArIHRoaXMucHJlcmVsZWFzZS5qb2luKCcuJyk7XG4gIHJldHVybiB0aGlzLnZlcnNpb247XG59O1xuXG5TZW1WZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnZlcnNpb247XG59O1xuXG5TZW1WZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbihvdGhlcikge1xuICBkZWJ1ZygnU2VtVmVyLmNvbXBhcmUnLCB0aGlzLnZlcnNpb24sIHRoaXMub3B0aW9ucywgb3RoZXIpO1xuICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFNlbVZlcikpXG4gICAgb3RoZXIgPSBuZXcgU2VtVmVyKG90aGVyLCB0aGlzLm9wdGlvbnMpO1xuXG4gIHJldHVybiB0aGlzLmNvbXBhcmVNYWluKG90aGVyKSB8fCB0aGlzLmNvbXBhcmVQcmUob3RoZXIpO1xufTtcblxuU2VtVmVyLnByb3RvdHlwZS5jb21wYXJlTWFpbiA9IGZ1bmN0aW9uKG90aGVyKSB7XG4gIGlmICghKG90aGVyIGluc3RhbmNlb2YgU2VtVmVyKSlcbiAgICBvdGhlciA9IG5ldyBTZW1WZXIob3RoZXIsIHRoaXMub3B0aW9ucyk7XG5cbiAgcmV0dXJuIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLm1ham9yLCBvdGhlci5tYWpvcikgfHxcbiAgICAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLm1pbm9yLCBvdGhlci5taW5vcikgfHxcbiAgICAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLnBhdGNoLCBvdGhlci5wYXRjaCk7XG59O1xuXG5TZW1WZXIucHJvdG90eXBlLmNvbXBhcmVQcmUgPSBmdW5jdGlvbihvdGhlcikge1xuICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFNlbVZlcikpXG4gICAgb3RoZXIgPSBuZXcgU2VtVmVyKG90aGVyLCB0aGlzLm9wdGlvbnMpO1xuXG4gIC8vIE5PVCBoYXZpbmcgYSBwcmVyZWxlYXNlIGlzID4gaGF2aW5nIG9uZVxuICBpZiAodGhpcy5wcmVyZWxlYXNlLmxlbmd0aCAmJiAhb3RoZXIucHJlcmVsZWFzZS5sZW5ndGgpXG4gICAgcmV0dXJuIC0xO1xuICBlbHNlIGlmICghdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCAmJiBvdGhlci5wcmVyZWxlYXNlLmxlbmd0aClcbiAgICByZXR1cm4gMTtcbiAgZWxzZSBpZiAoIXRoaXMucHJlcmVsZWFzZS5sZW5ndGggJiYgIW90aGVyLnByZXJlbGVhc2UubGVuZ3RoKVxuICAgIHJldHVybiAwO1xuXG4gIHZhciBpID0gMDtcbiAgZG8ge1xuICAgIHZhciBhID0gdGhpcy5wcmVyZWxlYXNlW2ldO1xuICAgIHZhciBiID0gb3RoZXIucHJlcmVsZWFzZVtpXTtcbiAgICBkZWJ1ZygncHJlcmVsZWFzZSBjb21wYXJlJywgaSwgYSwgYik7XG4gICAgaWYgKGEgPT09IHVuZGVmaW5lZCAmJiBiID09PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gMDtcbiAgICBlbHNlIGlmIChiID09PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gMTtcbiAgICBlbHNlIGlmIChhID09PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gLTE7XG4gICAgZWxzZSBpZiAoYSA9PT0gYilcbiAgICAgIGNvbnRpbnVlO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiBjb21wYXJlSWRlbnRpZmllcnMoYSwgYik7XG4gIH0gd2hpbGUgKCsraSk7XG59O1xuXG4vLyBwcmVtaW5vciB3aWxsIGJ1bXAgdGhlIHZlcnNpb24gdXAgdG8gdGhlIG5leHQgbWlub3IgcmVsZWFzZSwgYW5kIGltbWVkaWF0ZWx5XG4vLyBkb3duIHRvIHByZS1yZWxlYXNlLiBwcmVtYWpvciBhbmQgcHJlcGF0Y2ggd29yayB0aGUgc2FtZSB3YXkuXG5TZW1WZXIucHJvdG90eXBlLmluYyA9IGZ1bmN0aW9uKHJlbGVhc2UsIGlkZW50aWZpZXIpIHtcbiAgc3dpdGNoIChyZWxlYXNlKSB7XG4gICAgY2FzZSAncHJlbWFqb3InOlxuICAgICAgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLnBhdGNoID0gMDtcbiAgICAgIHRoaXMubWlub3IgPSAwO1xuICAgICAgdGhpcy5tYWpvcisrO1xuICAgICAgdGhpcy5pbmMoJ3ByZScsIGlkZW50aWZpZXIpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncHJlbWlub3InOlxuICAgICAgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLnBhdGNoID0gMDtcbiAgICAgIHRoaXMubWlub3IrKztcbiAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3ByZXBhdGNoJzpcbiAgICAgIC8vIElmIHRoaXMgaXMgYWxyZWFkeSBhIHByZXJlbGVhc2UsIGl0IHdpbGwgYnVtcCB0byB0aGUgbmV4dCB2ZXJzaW9uXG4gICAgICAvLyBkcm9wIGFueSBwcmVyZWxlYXNlcyB0aGF0IG1pZ2h0IGFscmVhZHkgZXhpc3QsIHNpbmNlIHRoZXkgYXJlIG5vdFxuICAgICAgLy8gcmVsZXZhbnQgYXQgdGhpcyBwb2ludC5cbiAgICAgIHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPSAwO1xuICAgICAgdGhpcy5pbmMoJ3BhdGNoJywgaWRlbnRpZmllcik7XG4gICAgICB0aGlzLmluYygncHJlJywgaWRlbnRpZmllcik7XG4gICAgICBicmVhaztcbiAgICAvLyBJZiB0aGUgaW5wdXQgaXMgYSBub24tcHJlcmVsZWFzZSB2ZXJzaW9uLCB0aGlzIGFjdHMgdGhlIHNhbWUgYXNcbiAgICAvLyBwcmVwYXRjaC5cbiAgICBjYXNlICdwcmVyZWxlYXNlJzpcbiAgICAgIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKVxuICAgICAgICB0aGlzLmluYygncGF0Y2gnLCBpZGVudGlmaWVyKTtcbiAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnbWFqb3InOlxuICAgICAgLy8gSWYgdGhpcyBpcyBhIHByZS1tYWpvciB2ZXJzaW9uLCBidW1wIHVwIHRvIHRoZSBzYW1lIG1ham9yIHZlcnNpb24uXG4gICAgICAvLyBPdGhlcndpc2UgaW5jcmVtZW50IG1ham9yLlxuICAgICAgLy8gMS4wLjAtNSBidW1wcyB0byAxLjAuMFxuICAgICAgLy8gMS4xLjAgYnVtcHMgdG8gMi4wLjBcbiAgICAgIGlmICh0aGlzLm1pbm9yICE9PSAwIHx8IHRoaXMucGF0Y2ggIT09IDAgfHwgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMClcbiAgICAgICAgdGhpcy5tYWpvcisrO1xuICAgICAgdGhpcy5taW5vciA9IDA7XG4gICAgICB0aGlzLnBhdGNoID0gMDtcbiAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbWlub3InOlxuICAgICAgLy8gSWYgdGhpcyBpcyBhIHByZS1taW5vciB2ZXJzaW9uLCBidW1wIHVwIHRvIHRoZSBzYW1lIG1pbm9yIHZlcnNpb24uXG4gICAgICAvLyBPdGhlcndpc2UgaW5jcmVtZW50IG1pbm9yLlxuICAgICAgLy8gMS4yLjAtNSBidW1wcyB0byAxLjIuMFxuICAgICAgLy8gMS4yLjEgYnVtcHMgdG8gMS4zLjBcbiAgICAgIGlmICh0aGlzLnBhdGNoICE9PSAwIHx8IHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPT09IDApXG4gICAgICAgIHRoaXMubWlub3IrKztcbiAgICAgIHRoaXMucGF0Y2ggPSAwO1xuICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW107XG4gICAgICBicmVhaztcbiAgICBjYXNlICdwYXRjaCc6XG4gICAgICAvLyBJZiB0aGlzIGlzIG5vdCBhIHByZS1yZWxlYXNlIHZlcnNpb24sIGl0IHdpbGwgaW5jcmVtZW50IHRoZSBwYXRjaC5cbiAgICAgIC8vIElmIGl0IGlzIGEgcHJlLXJlbGVhc2UgaXQgd2lsbCBidW1wIHVwIHRvIHRoZSBzYW1lIHBhdGNoIHZlcnNpb24uXG4gICAgICAvLyAxLjIuMC01IHBhdGNoZXMgdG8gMS4yLjBcbiAgICAgIC8vIDEuMi4wIHBhdGNoZXMgdG8gMS4yLjFcbiAgICAgIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKVxuICAgICAgICB0aGlzLnBhdGNoKys7XG4gICAgICB0aGlzLnByZXJlbGVhc2UgPSBbXTtcbiAgICAgIGJyZWFrO1xuICAgIC8vIFRoaXMgcHJvYmFibHkgc2hvdWxkbid0IGJlIHVzZWQgcHVibGljbHkuXG4gICAgLy8gMS4wLjAgXCJwcmVcIiB3b3VsZCBiZWNvbWUgMS4wLjAtMCB3aGljaCBpcyB0aGUgd3JvbmcgZGlyZWN0aW9uLlxuICAgIGNhc2UgJ3ByZSc6XG4gICAgICBpZiAodGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMClcbiAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gWzBdO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5wcmVyZWxlYXNlLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnByZXJlbGVhc2VbaV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLnByZXJlbGVhc2VbaV0rKztcbiAgICAgICAgICAgIGkgPSAtMjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPT09IC0xKSAvLyBkaWRuJ3QgaW5jcmVtZW50IGFueXRoaW5nXG4gICAgICAgICAgdGhpcy5wcmVyZWxlYXNlLnB1c2goMCk7XG4gICAgICB9XG4gICAgICBpZiAoaWRlbnRpZmllcikge1xuICAgICAgICAvLyAxLjIuMC1iZXRhLjEgYnVtcHMgdG8gMS4yLjAtYmV0YS4yLFxuICAgICAgICAvLyAxLjIuMC1iZXRhLmZvb2JseiBvciAxLjIuMC1iZXRhIGJ1bXBzIHRvIDEuMi4wLWJldGEuMFxuICAgICAgICBpZiAodGhpcy5wcmVyZWxlYXNlWzBdID09PSBpZGVudGlmaWVyKSB7XG4gICAgICAgICAgaWYgKGlzTmFOKHRoaXMucHJlcmVsZWFzZVsxXSkpXG4gICAgICAgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbaWRlbnRpZmllciwgMF07XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtpZGVudGlmaWVyLCAwXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBpbmNyZW1lbnQgYXJndW1lbnQ6ICcgKyByZWxlYXNlKTtcbiAgfVxuICB0aGlzLmZvcm1hdCgpO1xuICB0aGlzLnJhdyA9IHRoaXMudmVyc2lvbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5leHBvcnRzLmluYyA9IGluYztcbmZ1bmN0aW9uIGluYyh2ZXJzaW9uLCByZWxlYXNlLCBsb29zZSwgaWRlbnRpZmllcikge1xuICBpZiAodHlwZW9mKGxvb3NlKSA9PT0gJ3N0cmluZycpIHtcbiAgICBpZGVudGlmaWVyID0gbG9vc2U7XG4gICAgbG9vc2UgPSB1bmRlZmluZWQ7XG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBuZXcgU2VtVmVyKHZlcnNpb24sIGxvb3NlKS5pbmMocmVsZWFzZSwgaWRlbnRpZmllcikudmVyc2lvbjtcbiAgfSBjYXRjaCAoZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnRzLmRpZmYgPSBkaWZmO1xuZnVuY3Rpb24gZGlmZih2ZXJzaW9uMSwgdmVyc2lvbjIpIHtcbiAgaWYgKGVxKHZlcnNpb24xLCB2ZXJzaW9uMikpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdjEgPSBwYXJzZSh2ZXJzaW9uMSk7XG4gICAgdmFyIHYyID0gcGFyc2UodmVyc2lvbjIpO1xuICAgIGlmICh2MS5wcmVyZWxlYXNlLmxlbmd0aCB8fCB2Mi5wcmVyZWxlYXNlLmxlbmd0aCkge1xuICAgICAgZm9yICh2YXIga2V5IGluIHYxKSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdtYWpvcicgfHwga2V5ID09PSAnbWlub3InIHx8IGtleSA9PT0gJ3BhdGNoJykge1xuICAgICAgICAgIGlmICh2MVtrZXldICE9PSB2MltrZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3ByZScra2V5O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICdwcmVyZWxlYXNlJztcbiAgICB9XG4gICAgZm9yICh2YXIga2V5IGluIHYxKSB7XG4gICAgICBpZiAoa2V5ID09PSAnbWFqb3InIHx8IGtleSA9PT0gJ21pbm9yJyB8fCBrZXkgPT09ICdwYXRjaCcpIHtcbiAgICAgICAgaWYgKHYxW2tleV0gIT09IHYyW2tleV0pIHtcbiAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydHMuY29tcGFyZUlkZW50aWZpZXJzID0gY29tcGFyZUlkZW50aWZpZXJzO1xuXG52YXIgbnVtZXJpYyA9IC9eWzAtOV0rJC87XG5mdW5jdGlvbiBjb21wYXJlSWRlbnRpZmllcnMoYSwgYikge1xuICB2YXIgYW51bSA9IG51bWVyaWMudGVzdChhKTtcbiAgdmFyIGJudW0gPSBudW1lcmljLnRlc3QoYik7XG5cbiAgaWYgKGFudW0gJiYgYm51bSkge1xuICAgIGEgPSArYTtcbiAgICBiID0gK2I7XG4gIH1cblxuICByZXR1cm4gKGFudW0gJiYgIWJudW0pID8gLTEgOlxuICAgICAgICAgKGJudW0gJiYgIWFudW0pID8gMSA6XG4gICAgICAgICBhIDwgYiA/IC0xIDpcbiAgICAgICAgIGEgPiBiID8gMSA6XG4gICAgICAgICAwO1xufVxuXG5leHBvcnRzLnJjb21wYXJlSWRlbnRpZmllcnMgPSByY29tcGFyZUlkZW50aWZpZXJzO1xuZnVuY3Rpb24gcmNvbXBhcmVJZGVudGlmaWVycyhhLCBiKSB7XG4gIHJldHVybiBjb21wYXJlSWRlbnRpZmllcnMoYiwgYSk7XG59XG5cbmV4cG9ydHMubWFqb3IgPSBtYWpvcjtcbmZ1bmN0aW9uIG1ham9yKGEsIGxvb3NlKSB7XG4gIHJldHVybiBuZXcgU2VtVmVyKGEsIGxvb3NlKS5tYWpvcjtcbn1cblxuZXhwb3J0cy5taW5vciA9IG1pbm9yO1xuZnVuY3Rpb24gbWlub3IoYSwgbG9vc2UpIHtcbiAgcmV0dXJuIG5ldyBTZW1WZXIoYSwgbG9vc2UpLm1pbm9yO1xufVxuXG5leHBvcnRzLnBhdGNoID0gcGF0Y2g7XG5mdW5jdGlvbiBwYXRjaChhLCBsb29zZSkge1xuICByZXR1cm4gbmV3IFNlbVZlcihhLCBsb29zZSkucGF0Y2g7XG59XG5cbmV4cG9ydHMuY29tcGFyZSA9IGNvbXBhcmU7XG5mdW5jdGlvbiBjb21wYXJlKGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBuZXcgU2VtVmVyKGEsIGxvb3NlKS5jb21wYXJlKG5ldyBTZW1WZXIoYiwgbG9vc2UpKTtcbn1cblxuZXhwb3J0cy5jb21wYXJlTG9vc2UgPSBjb21wYXJlTG9vc2U7XG5mdW5jdGlvbiBjb21wYXJlTG9vc2UoYSwgYikge1xuICByZXR1cm4gY29tcGFyZShhLCBiLCB0cnVlKTtcbn1cblxuZXhwb3J0cy5yY29tcGFyZSA9IHJjb21wYXJlO1xuZnVuY3Rpb24gcmNvbXBhcmUoYSwgYiwgbG9vc2UpIHtcbiAgcmV0dXJuIGNvbXBhcmUoYiwgYSwgbG9vc2UpO1xufVxuXG5leHBvcnRzLnNvcnQgPSBzb3J0O1xuZnVuY3Rpb24gc29ydChsaXN0LCBsb29zZSkge1xuICByZXR1cm4gbGlzdC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gZXhwb3J0cy5jb21wYXJlKGEsIGIsIGxvb3NlKTtcbiAgfSk7XG59XG5cbmV4cG9ydHMucnNvcnQgPSByc29ydDtcbmZ1bmN0aW9uIHJzb3J0KGxpc3QsIGxvb3NlKSB7XG4gIHJldHVybiBsaXN0LnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBleHBvcnRzLnJjb21wYXJlKGEsIGIsIGxvb3NlKTtcbiAgfSk7XG59XG5cbmV4cG9ydHMuZ3QgPSBndDtcbmZ1bmN0aW9uIGd0KGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSA+IDA7XG59XG5cbmV4cG9ydHMubHQgPSBsdDtcbmZ1bmN0aW9uIGx0KGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSA8IDA7XG59XG5cbmV4cG9ydHMuZXEgPSBlcTtcbmZ1bmN0aW9uIGVxKGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSA9PT0gMDtcbn1cblxuZXhwb3J0cy5uZXEgPSBuZXE7XG5mdW5jdGlvbiBuZXEoYSwgYiwgbG9vc2UpIHtcbiAgcmV0dXJuIGNvbXBhcmUoYSwgYiwgbG9vc2UpICE9PSAwO1xufVxuXG5leHBvcnRzLmd0ZSA9IGd0ZTtcbmZ1bmN0aW9uIGd0ZShhLCBiLCBsb29zZSkge1xuICByZXR1cm4gY29tcGFyZShhLCBiLCBsb29zZSkgPj0gMDtcbn1cblxuZXhwb3J0cy5sdGUgPSBsdGU7XG5mdW5jdGlvbiBsdGUoYSwgYiwgbG9vc2UpIHtcbiAgcmV0dXJuIGNvbXBhcmUoYSwgYiwgbG9vc2UpIDw9IDA7XG59XG5cbmV4cG9ydHMuY21wID0gY21wO1xuZnVuY3Rpb24gY21wKGEsIG9wLCBiLCBsb29zZSkge1xuICB2YXIgcmV0O1xuICBzd2l0Y2ggKG9wKSB7XG4gICAgY2FzZSAnPT09JzpcbiAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcpIGEgPSBhLnZlcnNpb247XG4gICAgICBpZiAodHlwZW9mIGIgPT09ICdvYmplY3QnKSBiID0gYi52ZXJzaW9uO1xuICAgICAgcmV0ID0gYSA9PT0gYjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJyE9PSc6XG4gICAgICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnKSBhID0gYS52ZXJzaW9uO1xuICAgICAgaWYgKHR5cGVvZiBiID09PSAnb2JqZWN0JykgYiA9IGIudmVyc2lvbjtcbiAgICAgIHJldCA9IGEgIT09IGI7XG4gICAgICBicmVhaztcbiAgICBjYXNlICcnOiBjYXNlICc9JzogY2FzZSAnPT0nOiByZXQgPSBlcShhLCBiLCBsb29zZSk7IGJyZWFrO1xuICAgIGNhc2UgJyE9JzogcmV0ID0gbmVxKGEsIGIsIGxvb3NlKTsgYnJlYWs7XG4gICAgY2FzZSAnPic6IHJldCA9IGd0KGEsIGIsIGxvb3NlKTsgYnJlYWs7XG4gICAgY2FzZSAnPj0nOiByZXQgPSBndGUoYSwgYiwgbG9vc2UpOyBicmVhaztcbiAgICBjYXNlICc8JzogcmV0ID0gbHQoYSwgYiwgbG9vc2UpOyBicmVhaztcbiAgICBjYXNlICc8PSc6IHJldCA9IGx0ZShhLCBiLCBsb29zZSk7IGJyZWFrO1xuICAgIGRlZmF1bHQ6IHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgb3BlcmF0b3I6ICcgKyBvcCk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0cy5Db21wYXJhdG9yID0gQ29tcGFyYXRvcjtcbmZ1bmN0aW9uIENvbXBhcmF0b3IoY29tcCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKVxuICAgIG9wdGlvbnMgPSB7IGxvb3NlOiAhIW9wdGlvbnMsIGluY2x1ZGVQcmVyZWxlYXNlOiBmYWxzZSB9XG5cbiAgaWYgKGNvbXAgaW5zdGFuY2VvZiBDb21wYXJhdG9yKSB7XG4gICAgaWYgKGNvbXAubG9vc2UgPT09ICEhb3B0aW9ucy5sb29zZSlcbiAgICAgIHJldHVybiBjb21wO1xuICAgIGVsc2VcbiAgICAgIGNvbXAgPSBjb21wLnZhbHVlO1xuICB9XG5cbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENvbXBhcmF0b3IpKVxuICAgIHJldHVybiBuZXcgQ29tcGFyYXRvcihjb21wLCBvcHRpb25zKTtcblxuICBkZWJ1ZygnY29tcGFyYXRvcicsIGNvbXAsIG9wdGlvbnMpO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB0aGlzLmxvb3NlID0gISFvcHRpb25zLmxvb3NlO1xuICB0aGlzLnBhcnNlKGNvbXApO1xuXG4gIGlmICh0aGlzLnNlbXZlciA9PT0gQU5ZKVxuICAgIHRoaXMudmFsdWUgPSAnJztcbiAgZWxzZVxuICAgIHRoaXMudmFsdWUgPSB0aGlzLm9wZXJhdG9yICsgdGhpcy5zZW12ZXIudmVyc2lvbjtcblxuICBkZWJ1ZygnY29tcCcsIHRoaXMpO1xufVxuXG52YXIgQU5ZID0ge307XG5Db21wYXJhdG9yLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKGNvbXApIHtcbiAgdmFyIHIgPSB0aGlzLm9wdGlvbnMubG9vc2UgPyByZVtDT01QQVJBVE9STE9PU0VdIDogcmVbQ09NUEFSQVRPUl07XG4gIHZhciBtID0gY29tcC5tYXRjaChyKTtcblxuICBpZiAoIW0pXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjb21wYXJhdG9yOiAnICsgY29tcCk7XG5cbiAgdGhpcy5vcGVyYXRvciA9IG1bMV07XG4gIGlmICh0aGlzLm9wZXJhdG9yID09PSAnPScpXG4gICAgdGhpcy5vcGVyYXRvciA9ICcnO1xuXG4gIC8vIGlmIGl0IGxpdGVyYWxseSBpcyBqdXN0ICc+JyBvciAnJyB0aGVuIGFsbG93IGFueXRoaW5nLlxuICBpZiAoIW1bMl0pXG4gICAgdGhpcy5zZW12ZXIgPSBBTlk7XG4gIGVsc2VcbiAgICB0aGlzLnNlbXZlciA9IG5ldyBTZW1WZXIobVsyXSwgdGhpcy5vcHRpb25zLmxvb3NlKTtcbn07XG5cbkNvbXBhcmF0b3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnZhbHVlO1xufTtcblxuQ29tcGFyYXRvci5wcm90b3R5cGUudGVzdCA9IGZ1bmN0aW9uKHZlcnNpb24pIHtcbiAgZGVidWcoJ0NvbXBhcmF0b3IudGVzdCcsIHZlcnNpb24sIHRoaXMub3B0aW9ucy5sb29zZSk7XG5cbiAgaWYgKHRoaXMuc2VtdmVyID09PSBBTlkpXG4gICAgcmV0dXJuIHRydWU7XG5cbiAgaWYgKHR5cGVvZiB2ZXJzaW9uID09PSAnc3RyaW5nJylcbiAgICB2ZXJzaW9uID0gbmV3IFNlbVZlcih2ZXJzaW9uLCB0aGlzLm9wdGlvbnMpO1xuXG4gIHJldHVybiBjbXAodmVyc2lvbiwgdGhpcy5vcGVyYXRvciwgdGhpcy5zZW12ZXIsIHRoaXMub3B0aW9ucyk7XG59O1xuXG5Db21wYXJhdG9yLnByb3RvdHlwZS5pbnRlcnNlY3RzID0gZnVuY3Rpb24oY29tcCwgb3B0aW9ucykge1xuICBpZiAoIShjb21wIGluc3RhbmNlb2YgQ29tcGFyYXRvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhIENvbXBhcmF0b3IgaXMgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIGlmICghb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpXG4gICAgb3B0aW9ucyA9IHsgbG9vc2U6ICEhb3B0aW9ucywgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlIH1cblxuICB2YXIgcmFuZ2VUbXA7XG5cbiAgaWYgKHRoaXMub3BlcmF0b3IgPT09ICcnKSB7XG4gICAgcmFuZ2VUbXAgPSBuZXcgUmFuZ2UoY29tcC52YWx1ZSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHNhdGlzZmllcyh0aGlzLnZhbHVlLCByYW5nZVRtcCwgb3B0aW9ucyk7XG4gIH0gZWxzZSBpZiAoY29tcC5vcGVyYXRvciA9PT0gJycpIHtcbiAgICByYW5nZVRtcCA9IG5ldyBSYW5nZSh0aGlzLnZhbHVlLCBvcHRpb25zKTtcbiAgICByZXR1cm4gc2F0aXNmaWVzKGNvbXAuc2VtdmVyLCByYW5nZVRtcCwgb3B0aW9ucyk7XG4gIH1cblxuICB2YXIgc2FtZURpcmVjdGlvbkluY3JlYXNpbmcgPVxuICAgICh0aGlzLm9wZXJhdG9yID09PSAnPj0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc+JykgJiZcbiAgICAoY29tcC5vcGVyYXRvciA9PT0gJz49JyB8fCBjb21wLm9wZXJhdG9yID09PSAnPicpO1xuICB2YXIgc2FtZURpcmVjdGlvbkRlY3JlYXNpbmcgPVxuICAgICh0aGlzLm9wZXJhdG9yID09PSAnPD0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc8JykgJiZcbiAgICAoY29tcC5vcGVyYXRvciA9PT0gJzw9JyB8fCBjb21wLm9wZXJhdG9yID09PSAnPCcpO1xuICB2YXIgc2FtZVNlbVZlciA9IHRoaXMuc2VtdmVyLnZlcnNpb24gPT09IGNvbXAuc2VtdmVyLnZlcnNpb247XG4gIHZhciBkaWZmZXJlbnREaXJlY3Rpb25zSW5jbHVzaXZlID1cbiAgICAodGhpcy5vcGVyYXRvciA9PT0gJz49JyB8fCB0aGlzLm9wZXJhdG9yID09PSAnPD0nKSAmJlxuICAgIChjb21wLm9wZXJhdG9yID09PSAnPj0nIHx8IGNvbXAub3BlcmF0b3IgPT09ICc8PScpO1xuICB2YXIgb3Bwb3NpdGVEaXJlY3Rpb25zTGVzc1RoYW4gPVxuICAgIGNtcCh0aGlzLnNlbXZlciwgJzwnLCBjb21wLnNlbXZlciwgb3B0aW9ucykgJiZcbiAgICAoKHRoaXMub3BlcmF0b3IgPT09ICc+PScgfHwgdGhpcy5vcGVyYXRvciA9PT0gJz4nKSAmJlxuICAgIChjb21wLm9wZXJhdG9yID09PSAnPD0nIHx8IGNvbXAub3BlcmF0b3IgPT09ICc8JykpO1xuICB2YXIgb3Bwb3NpdGVEaXJlY3Rpb25zR3JlYXRlclRoYW4gPVxuICAgIGNtcCh0aGlzLnNlbXZlciwgJz4nLCBjb21wLnNlbXZlciwgb3B0aW9ucykgJiZcbiAgICAoKHRoaXMub3BlcmF0b3IgPT09ICc8PScgfHwgdGhpcy5vcGVyYXRvciA9PT0gJzwnKSAmJlxuICAgIChjb21wLm9wZXJhdG9yID09PSAnPj0nIHx8IGNvbXAub3BlcmF0b3IgPT09ICc+JykpO1xuXG4gIHJldHVybiBzYW1lRGlyZWN0aW9uSW5jcmVhc2luZyB8fCBzYW1lRGlyZWN0aW9uRGVjcmVhc2luZyB8fFxuICAgIChzYW1lU2VtVmVyICYmIGRpZmZlcmVudERpcmVjdGlvbnNJbmNsdXNpdmUpIHx8XG4gICAgb3Bwb3NpdGVEaXJlY3Rpb25zTGVzc1RoYW4gfHwgb3Bwb3NpdGVEaXJlY3Rpb25zR3JlYXRlclRoYW47XG59O1xuXG5cbmV4cG9ydHMuUmFuZ2UgPSBSYW5nZTtcbmZ1bmN0aW9uIFJhbmdlKHJhbmdlLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpXG4gICAgb3B0aW9ucyA9IHsgbG9vc2U6ICEhb3B0aW9ucywgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlIH1cblxuICBpZiAocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkge1xuICAgIGlmIChyYW5nZS5sb29zZSA9PT0gISFvcHRpb25zLmxvb3NlICYmXG4gICAgICAgIHJhbmdlLmluY2x1ZGVQcmVyZWxlYXNlID09PSAhIW9wdGlvbnMuaW5jbHVkZVByZXJlbGVhc2UpIHtcbiAgICAgIHJldHVybiByYW5nZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZS5yYXcsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChyYW5nZSBpbnN0YW5jZW9mIENvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLnZhbHVlLCBvcHRpb25zKTtcbiAgfVxuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSYW5nZSkpXG4gICAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZSwgb3B0aW9ucyk7XG5cbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgdGhpcy5sb29zZSA9ICEhb3B0aW9ucy5sb29zZTtcbiAgdGhpcy5pbmNsdWRlUHJlcmVsZWFzZSA9ICEhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZVxuXG4gIC8vIEZpcnN0LCBzcGxpdCBiYXNlZCBvbiBib29sZWFuIG9yIHx8XG4gIHRoaXMucmF3ID0gcmFuZ2U7XG4gIHRoaXMuc2V0ID0gcmFuZ2Uuc3BsaXQoL1xccypcXHxcXHxcXHMqLykubWFwKGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyc2VSYW5nZShyYW5nZS50cmltKCkpO1xuICB9LCB0aGlzKS5maWx0ZXIoZnVuY3Rpb24oYykge1xuICAgIC8vIHRocm93IG91dCBhbnkgdGhhdCBhcmUgbm90IHJlbGV2YW50IGZvciB3aGF0ZXZlciByZWFzb25cbiAgICByZXR1cm4gYy5sZW5ndGg7XG4gIH0pO1xuXG4gIGlmICghdGhpcy5zZXQubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBTZW1WZXIgUmFuZ2U6ICcgKyByYW5nZSk7XG4gIH1cblxuICB0aGlzLmZvcm1hdCgpO1xufVxuXG5SYW5nZS5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmFuZ2UgPSB0aGlzLnNldC5tYXAoZnVuY3Rpb24oY29tcHMpIHtcbiAgICByZXR1cm4gY29tcHMuam9pbignICcpLnRyaW0oKTtcbiAgfSkuam9pbignfHwnKS50cmltKCk7XG4gIHJldHVybiB0aGlzLnJhbmdlO1xufTtcblxuUmFuZ2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJhbmdlO1xufTtcblxuUmFuZ2UucHJvdG90eXBlLnBhcnNlUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICB2YXIgbG9vc2UgPSB0aGlzLm9wdGlvbnMubG9vc2U7XG4gIHJhbmdlID0gcmFuZ2UudHJpbSgpO1xuICAvLyBgMS4yLjMgLSAxLjIuNGAgPT4gYD49MS4yLjMgPD0xLjIuNGBcbiAgdmFyIGhyID0gbG9vc2UgPyByZVtIWVBIRU5SQU5HRUxPT1NFXSA6IHJlW0hZUEhFTlJBTkdFXTtcbiAgcmFuZ2UgPSByYW5nZS5yZXBsYWNlKGhyLCBoeXBoZW5SZXBsYWNlKTtcbiAgZGVidWcoJ2h5cGhlbiByZXBsYWNlJywgcmFuZ2UpO1xuICAvLyBgPiAxLjIuMyA8IDEuMi41YCA9PiBgPjEuMi4zIDwxLjIuNWBcbiAgcmFuZ2UgPSByYW5nZS5yZXBsYWNlKHJlW0NPTVBBUkFUT1JUUklNXSwgY29tcGFyYXRvclRyaW1SZXBsYWNlKTtcbiAgZGVidWcoJ2NvbXBhcmF0b3IgdHJpbScsIHJhbmdlLCByZVtDT01QQVJBVE9SVFJJTV0pO1xuXG4gIC8vIGB+IDEuMi4zYCA9PiBgfjEuMi4zYFxuICByYW5nZSA9IHJhbmdlLnJlcGxhY2UocmVbVElMREVUUklNXSwgdGlsZGVUcmltUmVwbGFjZSk7XG5cbiAgLy8gYF4gMS4yLjNgID0+IGBeMS4yLjNgXG4gIHJhbmdlID0gcmFuZ2UucmVwbGFjZShyZVtDQVJFVFRSSU1dLCBjYXJldFRyaW1SZXBsYWNlKTtcblxuICAvLyBub3JtYWxpemUgc3BhY2VzXG4gIHJhbmdlID0gcmFuZ2Uuc3BsaXQoL1xccysvKS5qb2luKCcgJyk7XG5cbiAgLy8gQXQgdGhpcyBwb2ludCwgdGhlIHJhbmdlIGlzIGNvbXBsZXRlbHkgdHJpbW1lZCBhbmRcbiAgLy8gcmVhZHkgdG8gYmUgc3BsaXQgaW50byBjb21wYXJhdG9ycy5cblxuICB2YXIgY29tcFJlID0gbG9vc2UgPyByZVtDT01QQVJBVE9STE9PU0VdIDogcmVbQ09NUEFSQVRPUl07XG4gIHZhciBzZXQgPSByYW5nZS5zcGxpdCgnICcpLm1hcChmdW5jdGlvbihjb21wKSB7XG4gICAgcmV0dXJuIHBhcnNlQ29tcGFyYXRvcihjb21wLCB0aGlzLm9wdGlvbnMpO1xuICB9LCB0aGlzKS5qb2luKCcgJykuc3BsaXQoL1xccysvKTtcbiAgaWYgKHRoaXMub3B0aW9ucy5sb29zZSkge1xuICAgIC8vIGluIGxvb3NlIG1vZGUsIHRocm93IG91dCBhbnkgdGhhdCBhcmUgbm90IHZhbGlkIGNvbXBhcmF0b3JzXG4gICAgc2V0ID0gc2V0LmZpbHRlcihmdW5jdGlvbihjb21wKSB7XG4gICAgICByZXR1cm4gISFjb21wLm1hdGNoKGNvbXBSZSk7XG4gICAgfSk7XG4gIH1cbiAgc2V0ID0gc2V0Lm1hcChmdW5jdGlvbihjb21wKSB7XG4gICAgcmV0dXJuIG5ldyBDb21wYXJhdG9yKGNvbXAsIHRoaXMub3B0aW9ucyk7XG4gIH0sIHRoaXMpO1xuXG4gIHJldHVybiBzZXQ7XG59O1xuXG5SYW5nZS5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uKHJhbmdlLCBvcHRpb25zKSB7XG4gIGlmICghKHJhbmdlIGluc3RhbmNlb2YgUmFuZ2UpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYSBSYW5nZSBpcyByZXF1aXJlZCcpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuc2V0LnNvbWUoZnVuY3Rpb24odGhpc0NvbXBhcmF0b3JzKSB7XG4gICAgcmV0dXJuIHRoaXNDb21wYXJhdG9ycy5ldmVyeShmdW5jdGlvbih0aGlzQ29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIHJhbmdlLnNldC5zb21lKGZ1bmN0aW9uKHJhbmdlQ29tcGFyYXRvcnMpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlQ29tcGFyYXRvcnMuZXZlcnkoZnVuY3Rpb24ocmFuZ2VDb21wYXJhdG9yKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXNDb21wYXJhdG9yLmludGVyc2VjdHMocmFuZ2VDb21wYXJhdG9yLCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vLyBNb3N0bHkganVzdCBmb3IgdGVzdGluZyBhbmQgbGVnYWN5IEFQSSByZWFzb25zXG5leHBvcnRzLnRvQ29tcGFyYXRvcnMgPSB0b0NvbXBhcmF0b3JzO1xuZnVuY3Rpb24gdG9Db21wYXJhdG9ycyhyYW5nZSwgb3B0aW9ucykge1xuICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKS5zZXQubWFwKGZ1bmN0aW9uKGNvbXApIHtcbiAgICByZXR1cm4gY29tcC5tYXAoZnVuY3Rpb24oYykge1xuICAgICAgcmV0dXJuIGMudmFsdWU7XG4gICAgfSkuam9pbignICcpLnRyaW0oKS5zcGxpdCgnICcpO1xuICB9KTtcbn1cblxuLy8gY29tcHJpc2VkIG9mIHhyYW5nZXMsIHRpbGRlcywgc3RhcnMsIGFuZCBndGx0J3MgYXQgdGhpcyBwb2ludC5cbi8vIGFscmVhZHkgcmVwbGFjZWQgdGhlIGh5cGhlbiByYW5nZXNcbi8vIHR1cm4gaW50byBhIHNldCBvZiBKVVNUIGNvbXBhcmF0b3JzLlxuZnVuY3Rpb24gcGFyc2VDb21wYXJhdG9yKGNvbXAsIG9wdGlvbnMpIHtcbiAgZGVidWcoJ2NvbXAnLCBjb21wLCBvcHRpb25zKTtcbiAgY29tcCA9IHJlcGxhY2VDYXJldHMoY29tcCwgb3B0aW9ucyk7XG4gIGRlYnVnKCdjYXJldCcsIGNvbXApO1xuICBjb21wID0gcmVwbGFjZVRpbGRlcyhjb21wLCBvcHRpb25zKTtcbiAgZGVidWcoJ3RpbGRlcycsIGNvbXApO1xuICBjb21wID0gcmVwbGFjZVhSYW5nZXMoY29tcCwgb3B0aW9ucyk7XG4gIGRlYnVnKCd4cmFuZ2UnLCBjb21wKTtcbiAgY29tcCA9IHJlcGxhY2VTdGFycyhjb21wLCBvcHRpb25zKTtcbiAgZGVidWcoJ3N0YXJzJywgY29tcCk7XG4gIHJldHVybiBjb21wO1xufVxuXG5mdW5jdGlvbiBpc1goaWQpIHtcbiAgcmV0dXJuICFpZCB8fCBpZC50b0xvd2VyQ2FzZSgpID09PSAneCcgfHwgaWQgPT09ICcqJztcbn1cblxuLy8gfiwgfj4gLS0+ICogKGFueSwga2luZGEgc2lsbHkpXG4vLyB+MiwgfjIueCwgfjIueC54LCB+PjIsIH4+Mi54IH4+Mi54LnggLS0+ID49Mi4wLjAgPDMuMC4wXG4vLyB+Mi4wLCB+Mi4wLngsIH4+Mi4wLCB+PjIuMC54IC0tPiA+PTIuMC4wIDwyLjEuMFxuLy8gfjEuMiwgfjEuMi54LCB+PjEuMiwgfj4xLjIueCAtLT4gPj0xLjIuMCA8MS4zLjBcbi8vIH4xLjIuMywgfj4xLjIuMyAtLT4gPj0xLjIuMyA8MS4zLjBcbi8vIH4xLjIuMCwgfj4xLjIuMCAtLT4gPj0xLjIuMCA8MS4zLjBcbmZ1bmN0aW9uIHJlcGxhY2VUaWxkZXMoY29tcCwgb3B0aW9ucykge1xuICByZXR1cm4gY29tcC50cmltKCkuc3BsaXQoL1xccysvKS5tYXAoZnVuY3Rpb24oY29tcCkge1xuICAgIHJldHVybiByZXBsYWNlVGlsZGUoY29tcCwgb3B0aW9ucyk7XG4gIH0pLmpvaW4oJyAnKTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZVRpbGRlKGNvbXAsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JylcbiAgICBvcHRpb25zID0geyBsb29zZTogISFvcHRpb25zLCBpbmNsdWRlUHJlcmVsZWFzZTogZmFsc2UgfVxuICB2YXIgciA9IG9wdGlvbnMubG9vc2UgPyByZVtUSUxERUxPT1NFXSA6IHJlW1RJTERFXTtcbiAgcmV0dXJuIGNvbXAucmVwbGFjZShyLCBmdW5jdGlvbihfLCBNLCBtLCBwLCBwcikge1xuICAgIGRlYnVnKCd0aWxkZScsIGNvbXAsIF8sIE0sIG0sIHAsIHByKTtcbiAgICB2YXIgcmV0O1xuXG4gICAgaWYgKGlzWChNKSlcbiAgICAgIHJldCA9ICcnO1xuICAgIGVsc2UgaWYgKGlzWChtKSlcbiAgICAgIHJldCA9ICc+PScgKyBNICsgJy4wLjAgPCcgKyAoK00gKyAxKSArICcuMC4wJztcbiAgICBlbHNlIGlmIChpc1gocCkpXG4gICAgICAvLyB+MS4yID09ID49MS4yLjAgPDEuMy4wXG4gICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLjAgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnO1xuICAgIGVsc2UgaWYgKHByKSB7XG4gICAgICBkZWJ1ZygncmVwbGFjZVRpbGRlIHByJywgcHIpO1xuICAgICAgaWYgKHByLmNoYXJBdCgwKSAhPT0gJy0nKVxuICAgICAgICBwciA9ICctJyArIHByO1xuICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4nICsgcCArIHByICtcbiAgICAgICAgICAgICcgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnO1xuICAgIH0gZWxzZVxuICAgICAgLy8gfjEuMi4zID09ID49MS4yLjMgPDEuMy4wXG4gICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICtcbiAgICAgICAgICAgICcgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnO1xuXG4gICAgZGVidWcoJ3RpbGRlIHJldHVybicsIHJldCk7XG4gICAgcmV0dXJuIHJldDtcbiAgfSk7XG59XG5cbi8vIF4gLS0+ICogKGFueSwga2luZGEgc2lsbHkpXG4vLyBeMiwgXjIueCwgXjIueC54IC0tPiA+PTIuMC4wIDwzLjAuMFxuLy8gXjIuMCwgXjIuMC54IC0tPiA+PTIuMC4wIDwzLjAuMFxuLy8gXjEuMiwgXjEuMi54IC0tPiA+PTEuMi4wIDwyLjAuMFxuLy8gXjEuMi4zIC0tPiA+PTEuMi4zIDwyLjAuMFxuLy8gXjEuMi4wIC0tPiA+PTEuMi4wIDwyLjAuMFxuZnVuY3Rpb24gcmVwbGFjZUNhcmV0cyhjb21wLCBvcHRpb25zKSB7XG4gIHJldHVybiBjb21wLnRyaW0oKS5zcGxpdCgvXFxzKy8pLm1hcChmdW5jdGlvbihjb21wKSB7XG4gICAgcmV0dXJuIHJlcGxhY2VDYXJldChjb21wLCBvcHRpb25zKTtcbiAgfSkuam9pbignICcpO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlQ2FyZXQoY29tcCwgb3B0aW9ucykge1xuICBkZWJ1ZygnY2FyZXQnLCBjb21wLCBvcHRpb25zKTtcbiAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JylcbiAgICBvcHRpb25zID0geyBsb29zZTogISFvcHRpb25zLCBpbmNsdWRlUHJlcmVsZWFzZTogZmFsc2UgfVxuICB2YXIgciA9IG9wdGlvbnMubG9vc2UgPyByZVtDQVJFVExPT1NFXSA6IHJlW0NBUkVUXTtcbiAgcmV0dXJuIGNvbXAucmVwbGFjZShyLCBmdW5jdGlvbihfLCBNLCBtLCBwLCBwcikge1xuICAgIGRlYnVnKCdjYXJldCcsIGNvbXAsIF8sIE0sIG0sIHAsIHByKTtcbiAgICB2YXIgcmV0O1xuXG4gICAgaWYgKGlzWChNKSlcbiAgICAgIHJldCA9ICcnO1xuICAgIGVsc2UgaWYgKGlzWChtKSlcbiAgICAgIHJldCA9ICc+PScgKyBNICsgJy4wLjAgPCcgKyAoK00gKyAxKSArICcuMC4wJztcbiAgICBlbHNlIGlmIChpc1gocCkpIHtcbiAgICAgIGlmIChNID09PSAnMCcpXG4gICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuMCA8JyArIE0gKyAnLicgKyAoK20gKyAxKSArICcuMCc7XG4gICAgICBlbHNlXG4gICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuMCA8JyArICgrTSArIDEpICsgJy4wLjAnO1xuICAgIH0gZWxzZSBpZiAocHIpIHtcbiAgICAgIGRlYnVnKCdyZXBsYWNlQ2FyZXQgcHInLCBwcik7XG4gICAgICBpZiAocHIuY2hhckF0KDApICE9PSAnLScpXG4gICAgICAgIHByID0gJy0nICsgcHI7XG4gICAgICBpZiAoTSA9PT0gJzAnKSB7XG4gICAgICAgIGlmIChtID09PSAnMCcpXG4gICAgICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4nICsgcCArIHByICtcbiAgICAgICAgICAgICAgICAnIDwnICsgTSArICcuJyArIG0gKyAnLicgKyAoK3AgKyAxKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgKyBwciArXG4gICAgICAgICAgICAgICAgJyA8JyArIE0gKyAnLicgKyAoK20gKyAxKSArICcuMCc7XG4gICAgICB9IGVsc2VcbiAgICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4nICsgcCArIHByICtcbiAgICAgICAgICAgICAgJyA8JyArICgrTSArIDEpICsgJy4wLjAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Zygnbm8gcHInKTtcbiAgICAgIGlmIChNID09PSAnMCcpIHtcbiAgICAgICAgaWYgKG0gPT09ICcwJylcbiAgICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICtcbiAgICAgICAgICAgICAgICAnIDwnICsgTSArICcuJyArIG0gKyAnLicgKyAoK3AgKyAxKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgK1xuICAgICAgICAgICAgICAgICcgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgK1xuICAgICAgICAgICAgICAnIDwnICsgKCtNICsgMSkgKyAnLjAuMCc7XG4gICAgfVxuXG4gICAgZGVidWcoJ2NhcmV0IHJldHVybicsIHJldCk7XG4gICAgcmV0dXJuIHJldDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VYUmFuZ2VzKGNvbXAsIG9wdGlvbnMpIHtcbiAgZGVidWcoJ3JlcGxhY2VYUmFuZ2VzJywgY29tcCwgb3B0aW9ucyk7XG4gIHJldHVybiBjb21wLnNwbGl0KC9cXHMrLykubWFwKGZ1bmN0aW9uKGNvbXApIHtcbiAgICByZXR1cm4gcmVwbGFjZVhSYW5nZShjb21wLCBvcHRpb25zKTtcbiAgfSkuam9pbignICcpO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlWFJhbmdlKGNvbXAsIG9wdGlvbnMpIHtcbiAgY29tcCA9IGNvbXAudHJpbSgpO1xuICBpZiAoIW9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKVxuICAgIG9wdGlvbnMgPSB7IGxvb3NlOiAhIW9wdGlvbnMsIGluY2x1ZGVQcmVyZWxlYXNlOiBmYWxzZSB9XG4gIHZhciByID0gb3B0aW9ucy5sb29zZSA/IHJlW1hSQU5HRUxPT1NFXSA6IHJlW1hSQU5HRV07XG4gIHJldHVybiBjb21wLnJlcGxhY2UociwgZnVuY3Rpb24ocmV0LCBndGx0LCBNLCBtLCBwLCBwcikge1xuICAgIGRlYnVnKCd4UmFuZ2UnLCBjb21wLCByZXQsIGd0bHQsIE0sIG0sIHAsIHByKTtcbiAgICB2YXIgeE0gPSBpc1goTSk7XG4gICAgdmFyIHhtID0geE0gfHwgaXNYKG0pO1xuICAgIHZhciB4cCA9IHhtIHx8IGlzWChwKTtcbiAgICB2YXIgYW55WCA9IHhwO1xuXG4gICAgaWYgKGd0bHQgPT09ICc9JyAmJiBhbnlYKVxuICAgICAgZ3RsdCA9ICcnO1xuXG4gICAgaWYgKHhNKSB7XG4gICAgICBpZiAoZ3RsdCA9PT0gJz4nIHx8IGd0bHQgPT09ICc8Jykge1xuICAgICAgICAvLyBub3RoaW5nIGlzIGFsbG93ZWRcbiAgICAgICAgcmV0ID0gJzwwLjAuMCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBub3RoaW5nIGlzIGZvcmJpZGRlblxuICAgICAgICByZXQgPSAnKic7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChndGx0ICYmIGFueVgpIHtcbiAgICAgIC8vIHJlcGxhY2UgWCB3aXRoIDBcbiAgICAgIGlmICh4bSlcbiAgICAgICAgbSA9IDA7XG4gICAgICBpZiAoeHApXG4gICAgICAgIHAgPSAwO1xuXG4gICAgICBpZiAoZ3RsdCA9PT0gJz4nKSB7XG4gICAgICAgIC8vID4xID0+ID49Mi4wLjBcbiAgICAgICAgLy8gPjEuMiA9PiA+PTEuMy4wXG4gICAgICAgIC8vID4xLjIuMyA9PiA+PSAxLjIuNFxuICAgICAgICBndGx0ID0gJz49JztcbiAgICAgICAgaWYgKHhtKSB7XG4gICAgICAgICAgTSA9ICtNICsgMTtcbiAgICAgICAgICBtID0gMDtcbiAgICAgICAgICBwID0gMDtcbiAgICAgICAgfSBlbHNlIGlmICh4cCkge1xuICAgICAgICAgIG0gPSArbSArIDE7XG4gICAgICAgICAgcCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZ3RsdCA9PT0gJzw9Jykge1xuICAgICAgICAvLyA8PTAuNy54IGlzIGFjdHVhbGx5IDwwLjguMCwgc2luY2UgYW55IDAuNy54IHNob3VsZFxuICAgICAgICAvLyBwYXNzLiAgU2ltaWxhcmx5LCA8PTcueCBpcyBhY3R1YWxseSA8OC4wLjAsIGV0Yy5cbiAgICAgICAgZ3RsdCA9ICc8JztcbiAgICAgICAgaWYgKHhtKVxuICAgICAgICAgIE0gPSArTSArIDE7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBtID0gK20gKyAxO1xuICAgICAgfVxuXG4gICAgICByZXQgPSBndGx0ICsgTSArICcuJyArIG0gKyAnLicgKyBwO1xuICAgIH0gZWxzZSBpZiAoeG0pIHtcbiAgICAgIHJldCA9ICc+PScgKyBNICsgJy4wLjAgPCcgKyAoK00gKyAxKSArICcuMC4wJztcbiAgICB9IGVsc2UgaWYgKHhwKSB7XG4gICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLjAgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnO1xuICAgIH1cblxuICAgIGRlYnVnKCd4UmFuZ2UgcmV0dXJuJywgcmV0KTtcblxuICAgIHJldHVybiByZXQ7XG4gIH0pO1xufVxuXG4vLyBCZWNhdXNlICogaXMgQU5ELWVkIHdpdGggZXZlcnl0aGluZyBlbHNlIGluIHRoZSBjb21wYXJhdG9yLFxuLy8gYW5kICcnIG1lYW5zIFwiYW55IHZlcnNpb25cIiwganVzdCByZW1vdmUgdGhlICpzIGVudGlyZWx5LlxuZnVuY3Rpb24gcmVwbGFjZVN0YXJzKGNvbXAsIG9wdGlvbnMpIHtcbiAgZGVidWcoJ3JlcGxhY2VTdGFycycsIGNvbXAsIG9wdGlvbnMpO1xuICAvLyBMb29zZW5lc3MgaXMgaWdub3JlZCBoZXJlLiAgc3RhciBpcyBhbHdheXMgYXMgbG9vc2UgYXMgaXQgZ2V0cyFcbiAgcmV0dXJuIGNvbXAudHJpbSgpLnJlcGxhY2UocmVbU1RBUl0sICcnKTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBpcyBwYXNzZWQgdG8gc3RyaW5nLnJlcGxhY2UocmVbSFlQSEVOUkFOR0VdKVxuLy8gTSwgbSwgcGF0Y2gsIHByZXJlbGVhc2UsIGJ1aWxkXG4vLyAxLjIgLSAzLjQuNSA9PiA+PTEuMi4wIDw9My40LjVcbi8vIDEuMi4zIC0gMy40ID0+ID49MS4yLjAgPDMuNS4wIEFueSAzLjQueCB3aWxsIGRvXG4vLyAxLjIgLSAzLjQgPT4gPj0xLjIuMCA8My41LjBcbmZ1bmN0aW9uIGh5cGhlblJlcGxhY2UoJDAsXG4gICAgICAgICAgICAgICAgICAgICAgIGZyb20sIGZNLCBmbSwgZnAsIGZwciwgZmIsXG4gICAgICAgICAgICAgICAgICAgICAgIHRvLCB0TSwgdG0sIHRwLCB0cHIsIHRiKSB7XG5cbiAgaWYgKGlzWChmTSkpXG4gICAgZnJvbSA9ICcnO1xuICBlbHNlIGlmIChpc1goZm0pKVxuICAgIGZyb20gPSAnPj0nICsgZk0gKyAnLjAuMCc7XG4gIGVsc2UgaWYgKGlzWChmcCkpXG4gICAgZnJvbSA9ICc+PScgKyBmTSArICcuJyArIGZtICsgJy4wJztcbiAgZWxzZVxuICAgIGZyb20gPSAnPj0nICsgZnJvbTtcblxuICBpZiAoaXNYKHRNKSlcbiAgICB0byA9ICcnO1xuICBlbHNlIGlmIChpc1godG0pKVxuICAgIHRvID0gJzwnICsgKCt0TSArIDEpICsgJy4wLjAnO1xuICBlbHNlIGlmIChpc1godHApKVxuICAgIHRvID0gJzwnICsgdE0gKyAnLicgKyAoK3RtICsgMSkgKyAnLjAnO1xuICBlbHNlIGlmICh0cHIpXG4gICAgdG8gPSAnPD0nICsgdE0gKyAnLicgKyB0bSArICcuJyArIHRwICsgJy0nICsgdHByO1xuICBlbHNlXG4gICAgdG8gPSAnPD0nICsgdG87XG5cbiAgcmV0dXJuIChmcm9tICsgJyAnICsgdG8pLnRyaW0oKTtcbn1cblxuXG4vLyBpZiBBTlkgb2YgdGhlIHNldHMgbWF0Y2ggQUxMIG9mIGl0cyBjb21wYXJhdG9ycywgdGhlbiBwYXNzXG5SYW5nZS5wcm90b3R5cGUudGVzdCA9IGZ1bmN0aW9uKHZlcnNpb24pIHtcbiAgaWYgKCF2ZXJzaW9uKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIHZlcnNpb24gPT09ICdzdHJpbmcnKVxuICAgIHZlcnNpb24gPSBuZXcgU2VtVmVyKHZlcnNpb24sIHRoaXMub3B0aW9ucyk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNldC5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0ZXN0U2V0KHRoaXMuc2V0W2ldLCB2ZXJzaW9uLCB0aGlzLm9wdGlvbnMpKVxuICAgICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZnVuY3Rpb24gdGVzdFNldChzZXQsIHZlcnNpb24sIG9wdGlvbnMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIXNldFtpXS50ZXN0KHZlcnNpb24pKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFvcHRpb25zKVxuICAgIG9wdGlvbnMgPSB7fVxuXG4gIGlmICh2ZXJzaW9uLnByZXJlbGVhc2UubGVuZ3RoICYmICFvcHRpb25zLmluY2x1ZGVQcmVyZWxlYXNlKSB7XG4gICAgLy8gRmluZCB0aGUgc2V0IG9mIHZlcnNpb25zIHRoYXQgYXJlIGFsbG93ZWQgdG8gaGF2ZSBwcmVyZWxlYXNlc1xuICAgIC8vIEZvciBleGFtcGxlLCBeMS4yLjMtcHIuMSBkZXN1Z2FycyB0byA+PTEuMi4zLXByLjEgPDIuMC4wXG4gICAgLy8gVGhhdCBzaG91bGQgYWxsb3cgYDEuMi4zLXByLjJgIHRvIHBhc3MuXG4gICAgLy8gSG93ZXZlciwgYDEuMi40LWFscGhhLm5vdHJlYWR5YCBzaG91bGQgTk9UIGJlIGFsbG93ZWQsXG4gICAgLy8gZXZlbiB0aG91Z2ggaXQncyB3aXRoaW4gdGhlIHJhbmdlIHNldCBieSB0aGUgY29tcGFyYXRvcnMuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRlYnVnKHNldFtpXS5zZW12ZXIpO1xuICAgICAgaWYgKHNldFtpXS5zZW12ZXIgPT09IEFOWSlcbiAgICAgICAgY29udGludWU7XG5cbiAgICAgIGlmIChzZXRbaV0uc2VtdmVyLnByZXJlbGVhc2UubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgYWxsb3dlZCA9IHNldFtpXS5zZW12ZXI7XG4gICAgICAgIGlmIChhbGxvd2VkLm1ham9yID09PSB2ZXJzaW9uLm1ham9yICYmXG4gICAgICAgICAgICBhbGxvd2VkLm1pbm9yID09PSB2ZXJzaW9uLm1pbm9yICYmXG4gICAgICAgICAgICBhbGxvd2VkLnBhdGNoID09PSB2ZXJzaW9uLnBhdGNoKVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFZlcnNpb24gaGFzIGEgLXByZSwgYnV0IGl0J3Mgbm90IG9uZSBvZiB0aGUgb25lcyB3ZSBsaWtlLlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnRzLnNhdGlzZmllcyA9IHNhdGlzZmllcztcbmZ1bmN0aW9uIHNhdGlzZmllcyh2ZXJzaW9uLCByYW5nZSwgb3B0aW9ucykge1xuICB0cnkge1xuICAgIHJhbmdlID0gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKTtcbiAgfSBjYXRjaCAoZXIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHJhbmdlLnRlc3QodmVyc2lvbik7XG59XG5cbmV4cG9ydHMubWF4U2F0aXNmeWluZyA9IG1heFNhdGlzZnlpbmc7XG5mdW5jdGlvbiBtYXhTYXRpc2Z5aW5nKHZlcnNpb25zLCByYW5nZSwgb3B0aW9ucykge1xuICB2YXIgbWF4ID0gbnVsbDtcbiAgdmFyIG1heFNWID0gbnVsbDtcbiAgdHJ5IHtcbiAgICB2YXIgcmFuZ2VPYmogPSBuZXcgUmFuZ2UocmFuZ2UsIG9wdGlvbnMpO1xuICB9IGNhdGNoIChlcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZlcnNpb25zLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICBpZiAocmFuZ2VPYmoudGVzdCh2KSkgeyAvLyBzYXRpc2ZpZXModiwgcmFuZ2UsIG9wdGlvbnMpXG4gICAgICBpZiAoIW1heCB8fCBtYXhTVi5jb21wYXJlKHYpID09PSAtMSkgeyAvLyBjb21wYXJlKG1heCwgdiwgdHJ1ZSlcbiAgICAgICAgbWF4ID0gdjtcbiAgICAgICAgbWF4U1YgPSBuZXcgU2VtVmVyKG1heCwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9KVxuICByZXR1cm4gbWF4O1xufVxuXG5leHBvcnRzLm1pblNhdGlzZnlpbmcgPSBtaW5TYXRpc2Z5aW5nO1xuZnVuY3Rpb24gbWluU2F0aXNmeWluZyh2ZXJzaW9ucywgcmFuZ2UsIG9wdGlvbnMpIHtcbiAgdmFyIG1pbiA9IG51bGw7XG4gIHZhciBtaW5TViA9IG51bGw7XG4gIHRyeSB7XG4gICAgdmFyIHJhbmdlT2JqID0gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKTtcbiAgfSBjYXRjaCAoZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2ZXJzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgaWYgKHJhbmdlT2JqLnRlc3QodikpIHsgLy8gc2F0aXNmaWVzKHYsIHJhbmdlLCBvcHRpb25zKVxuICAgICAgaWYgKCFtaW4gfHwgbWluU1YuY29tcGFyZSh2KSA9PT0gMSkgeyAvLyBjb21wYXJlKG1pbiwgdiwgdHJ1ZSlcbiAgICAgICAgbWluID0gdjtcbiAgICAgICAgbWluU1YgPSBuZXcgU2VtVmVyKG1pbiwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9KVxuICByZXR1cm4gbWluO1xufVxuXG5leHBvcnRzLnZhbGlkUmFuZ2UgPSB2YWxpZFJhbmdlO1xuZnVuY3Rpb24gdmFsaWRSYW5nZShyYW5nZSwgb3B0aW9ucykge1xuICB0cnkge1xuICAgIC8vIFJldHVybiAnKicgaW5zdGVhZCBvZiAnJyBzbyB0aGF0IHRydXRoaW5lc3Mgd29ya3MuXG4gICAgLy8gVGhpcyB3aWxsIHRocm93IGlmIGl0J3MgaW52YWxpZCBhbnl3YXlcbiAgICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKS5yYW5nZSB8fCAnKic7XG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLy8gRGV0ZXJtaW5lIGlmIHZlcnNpb24gaXMgbGVzcyB0aGFuIGFsbCB0aGUgdmVyc2lvbnMgcG9zc2libGUgaW4gdGhlIHJhbmdlXG5leHBvcnRzLmx0ciA9IGx0cjtcbmZ1bmN0aW9uIGx0cih2ZXJzaW9uLCByYW5nZSwgb3B0aW9ucykge1xuICByZXR1cm4gb3V0c2lkZSh2ZXJzaW9uLCByYW5nZSwgJzwnLCBvcHRpb25zKTtcbn1cblxuLy8gRGV0ZXJtaW5lIGlmIHZlcnNpb24gaXMgZ3JlYXRlciB0aGFuIGFsbCB0aGUgdmVyc2lvbnMgcG9zc2libGUgaW4gdGhlIHJhbmdlLlxuZXhwb3J0cy5ndHIgPSBndHI7XG5mdW5jdGlvbiBndHIodmVyc2lvbiwgcmFuZ2UsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG91dHNpZGUodmVyc2lvbiwgcmFuZ2UsICc+Jywgb3B0aW9ucyk7XG59XG5cbmV4cG9ydHMub3V0c2lkZSA9IG91dHNpZGU7XG5mdW5jdGlvbiBvdXRzaWRlKHZlcnNpb24sIHJhbmdlLCBoaWxvLCBvcHRpb25zKSB7XG4gIHZlcnNpb24gPSBuZXcgU2VtVmVyKHZlcnNpb24sIG9wdGlvbnMpO1xuICByYW5nZSA9IG5ldyBSYW5nZShyYW5nZSwgb3B0aW9ucyk7XG5cbiAgdmFyIGd0Zm4sIGx0ZWZuLCBsdGZuLCBjb21wLCBlY29tcDtcbiAgc3dpdGNoIChoaWxvKSB7XG4gICAgY2FzZSAnPic6XG4gICAgICBndGZuID0gZ3Q7XG4gICAgICBsdGVmbiA9IGx0ZTtcbiAgICAgIGx0Zm4gPSBsdDtcbiAgICAgIGNvbXAgPSAnPic7XG4gICAgICBlY29tcCA9ICc+PSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICc8JzpcbiAgICAgIGd0Zm4gPSBsdDtcbiAgICAgIGx0ZWZuID0gZ3RlO1xuICAgICAgbHRmbiA9IGd0O1xuICAgICAgY29tcCA9ICc8JztcbiAgICAgIGVjb21wID0gJzw9JztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNdXN0IHByb3ZpZGUgYSBoaWxvIHZhbCBvZiBcIjxcIiBvciBcIj5cIicpO1xuICB9XG5cbiAgLy8gSWYgaXQgc2F0aXNpZmVzIHRoZSByYW5nZSBpdCBpcyBub3Qgb3V0c2lkZVxuICBpZiAoc2F0aXNmaWVzKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIEZyb20gbm93IG9uLCB2YXJpYWJsZSB0ZXJtcyBhcmUgYXMgaWYgd2UncmUgaW4gXCJndHJcIiBtb2RlLlxuICAvLyBidXQgbm90ZSB0aGF0IGV2ZXJ5dGhpbmcgaXMgZmxpcHBlZCBmb3IgdGhlIFwibHRyXCIgZnVuY3Rpb24uXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZS5zZXQubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgY29tcGFyYXRvcnMgPSByYW5nZS5zZXRbaV07XG5cbiAgICB2YXIgaGlnaCA9IG51bGw7XG4gICAgdmFyIGxvdyA9IG51bGw7XG5cbiAgICBjb21wYXJhdG9ycy5mb3JFYWNoKGZ1bmN0aW9uKGNvbXBhcmF0b3IpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yLnNlbXZlciA9PT0gQU5ZKSB7XG4gICAgICAgIGNvbXBhcmF0b3IgPSBuZXcgQ29tcGFyYXRvcignPj0wLjAuMCcpXG4gICAgICB9XG4gICAgICBoaWdoID0gaGlnaCB8fCBjb21wYXJhdG9yO1xuICAgICAgbG93ID0gbG93IHx8IGNvbXBhcmF0b3I7XG4gICAgICBpZiAoZ3Rmbihjb21wYXJhdG9yLnNlbXZlciwgaGlnaC5zZW12ZXIsIG9wdGlvbnMpKSB7XG4gICAgICAgIGhpZ2ggPSBjb21wYXJhdG9yO1xuICAgICAgfSBlbHNlIGlmIChsdGZuKGNvbXBhcmF0b3Iuc2VtdmVyLCBsb3cuc2VtdmVyLCBvcHRpb25zKSkge1xuICAgICAgICBsb3cgPSBjb21wYXJhdG9yO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSWYgdGhlIGVkZ2UgdmVyc2lvbiBjb21wYXJhdG9yIGhhcyBhIG9wZXJhdG9yIHRoZW4gb3VyIHZlcnNpb25cbiAgICAvLyBpc24ndCBvdXRzaWRlIGl0XG4gICAgaWYgKGhpZ2gub3BlcmF0b3IgPT09IGNvbXAgfHwgaGlnaC5vcGVyYXRvciA9PT0gZWNvbXApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgbG93ZXN0IHZlcnNpb24gY29tcGFyYXRvciBoYXMgYW4gb3BlcmF0b3IgYW5kIG91ciB2ZXJzaW9uXG4gICAgLy8gaXMgbGVzcyB0aGFuIGl0IHRoZW4gaXQgaXNuJ3QgaGlnaGVyIHRoYW4gdGhlIHJhbmdlXG4gICAgaWYgKCghbG93Lm9wZXJhdG9yIHx8IGxvdy5vcGVyYXRvciA9PT0gY29tcCkgJiZcbiAgICAgICAgbHRlZm4odmVyc2lvbiwgbG93LnNlbXZlcikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGxvdy5vcGVyYXRvciA9PT0gZWNvbXAgJiYgbHRmbih2ZXJzaW9uLCBsb3cuc2VtdmVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0cy5wcmVyZWxlYXNlID0gcHJlcmVsZWFzZTtcbmZ1bmN0aW9uIHByZXJlbGVhc2UodmVyc2lvbiwgb3B0aW9ucykge1xuICB2YXIgcGFyc2VkID0gcGFyc2UodmVyc2lvbiwgb3B0aW9ucyk7XG4gIHJldHVybiAocGFyc2VkICYmIHBhcnNlZC5wcmVyZWxlYXNlLmxlbmd0aCkgPyBwYXJzZWQucHJlcmVsZWFzZSA6IG51bGw7XG59XG5cbmV4cG9ydHMuaW50ZXJzZWN0cyA9IGludGVyc2VjdHM7XG5mdW5jdGlvbiBpbnRlcnNlY3RzKHIxLCByMiwgb3B0aW9ucykge1xuICByMSA9IG5ldyBSYW5nZShyMSwgb3B0aW9ucylcbiAgcjIgPSBuZXcgUmFuZ2UocjIsIG9wdGlvbnMpXG4gIHJldHVybiByMS5pbnRlcnNlY3RzKHIyKVxufVxuXG5leHBvcnRzLmNvZXJjZSA9IGNvZXJjZTtcbmZ1bmN0aW9uIGNvZXJjZSh2ZXJzaW9uKSB7XG4gIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKVxuICAgIHJldHVybiB2ZXJzaW9uO1xuXG4gIGlmICh0eXBlb2YgdmVyc2lvbiAhPT0gJ3N0cmluZycpXG4gICAgcmV0dXJuIG51bGw7XG5cbiAgdmFyIG1hdGNoID0gdmVyc2lvbi5tYXRjaChyZVtDT0VSQ0VdKTtcblxuICBpZiAobWF0Y2ggPT0gbnVsbClcbiAgICByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gcGFyc2UoKG1hdGNoWzFdIHx8ICcwJykgKyAnLicgKyAobWF0Y2hbMl0gfHwgJzAnKSArICcuJyArIChtYXRjaFszXSB8fCAnMCcpKTsgXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvZ25pZGFuL3NyYy93b3JrL3RydWZmbGUvbm9kZV9tb2R1bGVzL3NlbXZlci9zZW12ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDY5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zYWdhID0gc2FnYTtcblxudmFyIF9kZWJ1ZyA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcblxudmFyIF9kZWJ1ZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWJ1Zyk7XG5cbnZhciBfZWZmZWN0cyA9IHJlcXVpcmUoXCJyZWR1eC1zYWdhL2VmZmVjdHNcIik7XG5cbnZhciBfaGVscGVycyA9IHJlcXVpcmUoXCJsaWIvaGVscGVyc1wiKTtcblxudmFyIF9zYWdhcyA9IHJlcXVpcmUoXCJsaWIvYXN0L3NhZ2FzXCIpO1xuXG52YXIgYXN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3NhZ2FzKTtcblxudmFyIF9zYWdhczIgPSByZXF1aXJlKFwibGliL2NvbnRyb2xsZXIvc2FnYXNcIik7XG5cbnZhciBjb250cm9sbGVyID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3NhZ2FzMik7XG5cbnZhciBfc2FnYXMzID0gcmVxdWlyZShcImxpYi9zb2xpZGl0eS9zYWdhc1wiKTtcblxudmFyIHNvbGlkaXR5ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3NhZ2FzMyk7XG5cbnZhciBfc2FnYXM0ID0gcmVxdWlyZShcImxpYi9ldm0vc2FnYXNcIik7XG5cbnZhciBldm0gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfc2FnYXM0KTtcblxudmFyIF9zYWdhczUgPSByZXF1aXJlKFwibGliL3RyYWNlL3NhZ2FzXCIpO1xuXG52YXIgdHJhY2UgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfc2FnYXM1KTtcblxudmFyIF9zYWdhczYgPSByZXF1aXJlKFwibGliL2RhdGEvc2FnYXNcIik7XG5cbnZhciBkYXRhID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3NhZ2FzNik7XG5cbnZhciBfc2FnYXM3ID0gcmVxdWlyZShcImxpYi93ZWIzL3NhZ2FzXCIpO1xuXG52YXIgd2ViMyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9zYWdhczcpO1xuXG52YXIgX2FjdGlvbnMgPSByZXF1aXJlKFwiLi4vYWN0aW9uc1wiKTtcblxudmFyIGFjdGlvbnMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfYWN0aW9ucyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmNvbnN0IGRlYnVnID0gKDAsIF9kZWJ1ZzIuZGVmYXVsdCkoXCJkZWJ1Z2dlcjpzZXNzaW9uOnNhZ2FzXCIpO1xuXG5mdW5jdGlvbiogc2FnYSgpIHtcbiAgZGVidWcoXCJzdGFydGluZyBsaXN0ZW5lcnNcIik7XG4gIHlpZWxkKiBmb3JrTGlzdGVuZXJzKCk7XG5cbiAgLy8gcmVjZWl2aW5nICYgc2F2aW5nIGNvbnRyYWN0cyBpbnRvIHN0YXRlXG4gIGRlYnVnKFwid2FpdGluZyBmb3IgY29udHJhY3QgaW5mb3JtYXRpb25cIik7XG4gIGxldCB7IGNvbnRleHRzLCBzb3VyY2VzIH0gPSB5aWVsZCAoMCwgX2VmZmVjdHMudGFrZSkoYWN0aW9ucy5SRUNPUkRfQ09OVFJBQ1RTKTtcblxuICBkZWJ1ZyhcInJlY29yZGluZyBjb250cmFjdCBiaW5hcmllc1wiKTtcbiAgeWllbGQqIHJlY29yZENvbnRleHRzKC4uLmNvbnRleHRzKTtcblxuICBkZWJ1ZyhcInJlY29yZGluZyBjb250cmFjdCBzb3VyY2VzXCIpO1xuICB5aWVsZCogcmVjb3JkU291cmNlcyguLi5zb3VyY2VzKTtcblxuICBkZWJ1ZyhcIndhaXRpbmcgZm9yIHN0YXJ0XCIpO1xuICAvLyB3YWl0IGZvciBzdGFydCBzaWduYWxcbiAgbGV0IHsgdHhIYXNoLCBwcm92aWRlciB9ID0geWllbGQgKDAsIF9lZmZlY3RzLnRha2UpKGFjdGlvbnMuU1RBUlQpO1xuICBkZWJ1ZyhcInN0YXJ0aW5nXCIpO1xuXG4gIC8vIHByb2Nlc3MgdHJhbnNhY3Rpb25cbiAgZGVidWcoXCJmZXRjaGluZyB0cmFuc2FjdGlvbiBpbmZvXCIpO1xuICBsZXQgZXJyID0geWllbGQqIGZldGNoVHgodHhIYXNoLCBwcm92aWRlcik7XG4gIGlmIChlcnIpIHtcbiAgICBkZWJ1ZyhcImVycm9yICVvXCIsIGVycik7XG4gICAgeWllbGQqIGVycm9yKGVycik7XG4gIH0gZWxzZSB7XG4gICAgZGVidWcoXCJ2aXNpdGluZyBBU1RzXCIpO1xuICAgIC8vIHZpc2l0IGFzdHNcbiAgICB5aWVsZCogYXN0LnZpc2l0QWxsKCk7XG5cbiAgICAvL3NhdmUgYWxsb2NhdGlvbiB0YWJsZVxuICAgIGRlYnVnKFwic2F2aW5nIGFsbG9jYXRpb24gdGFibGVcIik7XG4gICAgeWllbGQqIGRhdGEucmVjb3JkQWxsb2NhdGlvbnMoKTtcblxuICAgIGRlYnVnKFwicmVhZHlpbmdcIik7XG4gICAgLy8gc2lnbmFsIHRoYXQgc3RlcHBpbmcgY2FuIGJlZ2luXG4gICAgeWllbGQqIHJlYWR5KCk7XG4gIH1cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9oZWxwZXJzLnByZWZpeE5hbWUpKFwic2Vzc2lvblwiLCBzYWdhKTtcblxuXG5mdW5jdGlvbiogZm9ya0xpc3RlbmVycygpIHtcbiAgcmV0dXJuIHlpZWxkICgwLCBfZWZmZWN0cy5hbGwpKFtjb250cm9sbGVyLCBkYXRhLCBldm0sIHNvbGlkaXR5LCB0cmFjZSwgd2ViM10ubWFwKGFwcCA9PiAoMCwgX2VmZmVjdHMuZm9yaykoYXBwLnNhZ2EpXG4gIC8vYXN0IG5vIGxvbmdlciBoYXMgYSBsaXN0ZW5lclxuICApKTtcbn1cblxuZnVuY3Rpb24qIGZldGNoVHgodHhIYXNoLCBwcm92aWRlcikge1xuICBsZXQgcmVzdWx0ID0geWllbGQqIHdlYjMuaW5zcGVjdFRyYW5zYWN0aW9uKHR4SGFzaCwgcHJvdmlkZXIpO1xuXG4gIGlmIChyZXN1bHQuZXJyb3IpIHtcbiAgICByZXR1cm4gcmVzdWx0LmVycm9yO1xuICB9XG5cbiAgeWllbGQqIGV2bS5iZWdpbihyZXN1bHQpO1xuXG4gIGxldCBhZGRyZXNzZXMgPSB5aWVsZCogdHJhY2UucHJvY2Vzc1RyYWNlKHJlc3VsdC50cmFjZSk7XG4gIGlmIChyZXN1bHQuYWRkcmVzcyAmJiBhZGRyZXNzZXMuaW5kZXhPZihyZXN1bHQuYWRkcmVzcykgPT0gLTEpIHtcbiAgICBhZGRyZXNzZXMucHVzaChyZXN1bHQuYWRkcmVzcyk7XG4gIH1cblxuICBsZXQgYmluYXJpZXMgPSB5aWVsZCogd2ViMy5vYnRhaW5CaW5hcmllcyhhZGRyZXNzZXMpO1xuXG4gIHlpZWxkICgwLCBfZWZmZWN0cy5hbGwpKGFkZHJlc3Nlcy5tYXAoKGFkZHJlc3MsIGkpID0+ICgwLCBfZWZmZWN0cy5jYWxsKShyZWNvcmRJbnN0YW5jZSwgYWRkcmVzcywgYmluYXJpZXNbaV0pKSk7XG59XG5cbmZ1bmN0aW9uKiByZWNvcmRDb250ZXh0cyguLi5jb250ZXh0cykge1xuICBmb3IgKGxldCBfcmVmIG9mIGNvbnRleHRzKSB7XG4gICAgbGV0IHsgY29udHJhY3ROYW1lLCBiaW5hcnksIHNvdXJjZU1hcCwgY29tcGlsZXIgfSA9IF9yZWY7XG5cbiAgICB5aWVsZCogZXZtLmFkZENvbnRleHQoY29udHJhY3ROYW1lLCB7IGJpbmFyeSB9LCBjb21waWxlcik7XG5cbiAgICBpZiAoc291cmNlTWFwKSB7XG4gICAgICB5aWVsZCogc29saWRpdHkuYWRkU291cmNlTWFwKGJpbmFyeSwgc291cmNlTWFwKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24qIHJlY29yZFNvdXJjZXMoLi4uc291cmNlcykge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzb3VyY2VEYXRhID0gc291cmNlc1tpXTtcbiAgICBpZiAoc291cmNlRGF0YSAhPT0gdW5kZWZpbmVkICYmIHNvdXJjZURhdGEgIT09IG51bGwpIHtcbiAgICAgIHlpZWxkKiBzb2xpZGl0eS5hZGRTb3VyY2Uoc291cmNlRGF0YS5zb3VyY2UsIHNvdXJjZURhdGEuc291cmNlUGF0aCwgc291cmNlRGF0YS5hc3QpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiogcmVjb3JkSW5zdGFuY2UoYWRkcmVzcywgYmluYXJ5KSB7XG4gIHlpZWxkKiBldm0uYWRkSW5zdGFuY2UoYWRkcmVzcywgYmluYXJ5KTtcbn1cblxuZnVuY3Rpb24qIHJlYWR5KCkge1xuICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLnJlYWR5KCkpO1xufVxuXG5mdW5jdGlvbiogZXJyb3IoZXJyKSB7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuZXJyb3IoZXJyKSk7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL3Nlc3Npb24vc2FnYXMvaW5kZXguanMiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9lbnRyaWVzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZW50cmllc1wiKTtcblxudmFyIF9lbnRyaWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VudHJpZXMpO1xuXG5leHBvcnRzLnZpc2l0QWxsID0gdmlzaXRBbGw7XG5cbnZhciBfZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIik7XG5cbnZhciBfZGVidWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVidWcpO1xuXG52YXIgX2VmZmVjdHMgPSByZXF1aXJlKFwicmVkdXgtc2FnYS9lZmZlY3RzXCIpO1xuXG52YXIgX3NhZ2FzID0gcmVxdWlyZShcImxpYi9kYXRhL3NhZ2FzXCIpO1xuXG52YXIgZGF0YSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9zYWdhcyk7XG5cbnZhciBfc2VsZWN0b3JzID0gcmVxdWlyZShcIi4uL3NlbGVjdG9yc1wiKTtcblxudmFyIF9zZWxlY3RvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0b3JzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuY29uc3QgZGVidWcgPSAoMCwgX2RlYnVnMi5kZWZhdWx0KShcImRlYnVnZ2VyOmFzdDpzYWdhc1wiKTtcblxuZnVuY3Rpb24qIHdhbGsoc291cmNlSWQsIG5vZGUsIHBvaW50ZXIgPSBcIlwiLCBwYXJlbnRJZCA9IG51bGwpIHtcbiAgZGVidWcoXCJ3YWxraW5nICVvICVvXCIsIHBvaW50ZXIsIG5vZGUpO1xuXG4gIHlpZWxkKiBoYW5kbGVFbnRlcihzb3VyY2VJZCwgbm9kZSwgcG9pbnRlciwgcGFyZW50SWQpO1xuXG4gIGlmIChub2RlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICBmb3IgKGxldCBbaSwgY2hpbGRdIG9mIG5vZGUuZW50cmllcygpKSB7XG4gICAgICB5aWVsZCAoMCwgX2VmZmVjdHMuY2FsbCkod2Fsaywgc291cmNlSWQsIGNoaWxkLCBgJHtwb2ludGVyfS8ke2l9YCwgcGFyZW50SWQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgZm9yIChsZXQgW2tleSwgY2hpbGRdIG9mICgwLCBfZW50cmllczIuZGVmYXVsdCkobm9kZSkpIHtcbiAgICAgIHlpZWxkICgwLCBfZWZmZWN0cy5jYWxsKSh3YWxrLCBzb3VyY2VJZCwgY2hpbGQsIGAke3BvaW50ZXJ9LyR7a2V5fWAsIG5vZGUuaWQpO1xuICAgIH1cbiAgfVxuXG4gIHlpZWxkKiBoYW5kbGVFeGl0KHNvdXJjZUlkLCBub2RlLCBwb2ludGVyKTtcbn1cblxuZnVuY3Rpb24qIGhhbmRsZUVudGVyKHNvdXJjZUlkLCBub2RlLCBwb2ludGVyLCBwYXJlbnRJZCkge1xuICBpZiAoIShub2RlIGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGRlYnVnKFwiZW50ZXJpbmcgJXNcIiwgcG9pbnRlcik7XG5cbiAgaWYgKG5vZGUuaWQgIT09IHVuZGVmaW5lZCkge1xuICAgIGRlYnVnKFwiJXMgcmVjb3JkaW5nIHNjb3BlICVzXCIsIHBvaW50ZXIsIG5vZGUuaWQpO1xuICAgIHlpZWxkKiBkYXRhLnNjb3BlKG5vZGUuaWQsIHBvaW50ZXIsIHBhcmVudElkLCBzb3VyY2VJZCk7XG4gIH1cblxuICBzd2l0Y2ggKG5vZGUubm9kZVR5cGUpIHtcbiAgICBjYXNlIFwiVmFyaWFibGVEZWNsYXJhdGlvblwiOlxuICAgICAgZGVidWcoXCIlcyByZWNvcmRpbmcgdmFyaWFibGUgJW9cIiwgcG9pbnRlciwgbm9kZSk7XG4gICAgICB5aWVsZCogZGF0YS5kZWNsYXJlKG5vZGUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkNvbnRyYWN0RGVmaW5pdGlvblwiOlxuICAgIGNhc2UgXCJTdHJ1Y3REZWZpbml0aW9uXCI6XG4gICAgY2FzZSBcIkVudW1EZWZpbml0aW9uXCI6XG4gICAgICB5aWVsZCogZGF0YS5kZWZpbmVUeXBlKG5vZGUpO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuZnVuY3Rpb24qIGhhbmRsZUV4aXQoc291cmNlSWQsIG5vZGUsIHBvaW50ZXIpIHtcbiAgZGVidWcoXCJleGl0aW5nICVzXCIsIHBvaW50ZXIpO1xuXG4gIC8vIG5vLW9wIHJpZ2h0IG5vd1xufVxuXG5mdW5jdGlvbiogdmlzaXRBbGwoKSB7XG4gIGxldCBzb3VyY2VzID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC52aWV3cy5zb3VyY2VzKTtcblxuICB5aWVsZCAoMCwgX2VmZmVjdHMuYWxsKSgoMCwgX2VudHJpZXMyLmRlZmF1bHQpKHNvdXJjZXMpLmZpbHRlcigoW18sIHNvdXJjZV0pID0+IHNvdXJjZS5hc3QpLm1hcCgoW2lkLCB7IGFzdCB9XSkgPT4gKDAsIF9lZmZlY3RzLmNhbGwpKHdhbGssIGlkLCBhc3QpKSk7XG5cbiAgZGVidWcoXCJkb25lIHZpc2l0aW5nXCIpO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9hc3Qvc2FnYXMvaW5kZXguanMiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9rZXlzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5c1wiKTtcblxudmFyIF9rZXlzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2tleXMpO1xuXG52YXIgX3NldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc2V0XCIpO1xuXG52YXIgX3NldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXQpO1xuXG5leHBvcnRzLnNhZ2EgPSBzYWdhO1xuXG52YXIgX2RlYnVnID0gcmVxdWlyZShcImRlYnVnXCIpO1xuXG52YXIgX2RlYnVnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlYnVnKTtcblxudmFyIF9lZmZlY3RzID0gcmVxdWlyZShcInJlZHV4LXNhZ2EvZWZmZWN0c1wiKTtcblxudmFyIF9oZWxwZXJzID0gcmVxdWlyZShcImxpYi9oZWxwZXJzXCIpO1xuXG52YXIgX3NhZ2FzID0gcmVxdWlyZShcImxpYi90cmFjZS9zYWdhc1wiKTtcblxudmFyIHRyYWNlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3NhZ2FzKTtcblxudmFyIF9zYWdhczIgPSByZXF1aXJlKFwibGliL2RhdGEvc2FnYXNcIik7XG5cbnZhciBkYXRhID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3NhZ2FzMik7XG5cbnZhciBfc2FnYXMzID0gcmVxdWlyZShcImxpYi9ldm0vc2FnYXNcIik7XG5cbnZhciBldm0gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfc2FnYXMzKTtcblxudmFyIF9zYWdhczQgPSByZXF1aXJlKFwibGliL3NvbGlkaXR5L3NhZ2FzXCIpO1xuXG52YXIgc29saWRpdHkgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfc2FnYXM0KTtcblxudmFyIF9hY3Rpb25zID0gcmVxdWlyZShcIi4uL2FjdGlvbnNcIik7XG5cbnZhciBhY3Rpb25zID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2FjdGlvbnMpO1xuXG52YXIgX3NlbGVjdG9ycyA9IHJlcXVpcmUoXCIuLi9zZWxlY3RvcnNcIik7XG5cbnZhciBfc2VsZWN0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdG9ycyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmNvbnN0IGRlYnVnID0gKDAsIF9kZWJ1ZzIuZGVmYXVsdCkoXCJkZWJ1Z2dlcjpjb250cm9sbGVyOnNhZ2FzXCIpO1xuXG5jb25zdCBDT05UUk9MX1NBR0FTID0ge1xuICBbYWN0aW9ucy5BRFZBTkNFXTogYWR2YW5jZSxcbiAgW2FjdGlvbnMuU1RFUF9ORVhUXTogc3RlcE5leHQsXG4gIFthY3Rpb25zLlNURVBfT1ZFUl06IHN0ZXBPdmVyLFxuICBbYWN0aW9ucy5TVEVQX0lOVE9dOiBzdGVwSW50byxcbiAgW2FjdGlvbnMuU1RFUF9PVVRdOiBzdGVwT3V0LFxuICBbYWN0aW9ucy5DT05USU5VRV06IGNvbnRpbnVlVW50aWxCcmVha3BvaW50LFxuICBbYWN0aW9ucy5SRVNFVF06IHJlc2V0XG59O1xuXG4vKiogQVNUIG5vZGUgdHlwZXMgdGhhdCBhcmUgc2tpcHBlZCB0byBmaWx0ZXIgb3V0IHNvbWUgbm9pc2UgKi9cbmNvbnN0IFNLSVBQRURfVFlQRVMgPSBuZXcgX3NldDIuZGVmYXVsdChbXCJDb250cmFjdERlZmluaXRpb25cIiwgXCJWYXJpYWJsZURlY2xhcmF0aW9uXCJdKTtcblxuZnVuY3Rpb24qIHNhZ2EoKSB7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgZGVidWcoXCJ3YWl0aW5nIGZvciBjb250cm9sIGFjdGlvblwiKTtcbiAgICBsZXQgYWN0aW9uID0geWllbGQgKDAsIF9lZmZlY3RzLnRha2UpKCgwLCBfa2V5czIuZGVmYXVsdCkoQ09OVFJPTF9TQUdBUykpO1xuICAgIGRlYnVnKFwiZ290IGNvbnRyb2wgYWN0aW9uXCIpO1xuICAgIGxldCBzYWdhID0gQ09OVFJPTF9TQUdBU1thY3Rpb24udHlwZV07XG5cbiAgICB5aWVsZCAoMCwgX2VmZmVjdHMucmFjZSkoe1xuICAgICAgZXhlYzogKDAsIF9lZmZlY3RzLmNhbGwpKHNhZ2EsIGFjdGlvbiksXG4gICAgICBpbnRlcnJ1cHQ6ICgwLCBfZWZmZWN0cy50YWtlKShhY3Rpb25zLklOVEVSUlVQVClcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX2hlbHBlcnMucHJlZml4TmFtZSkoXCJjb250cm9sbGVyXCIsIHNhZ2EpO1xuXG4vKipcbiAqIEFkdmFuY2UgdGhlIHN0YXRlIGJ5IG9uZSBpbnN0cnVjdGlvblxuICovXG5cbmZ1bmN0aW9uKiBhZHZhbmNlKCkge1xuICAvLyBzZW5kIGFjdGlvbiB0byBhZHZhbmNlIHRyYWNlXG4gIHlpZWxkKiB0cmFjZS5hZHZhbmNlKCk7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuZG9uZVN0ZXBwaW5nKCkpO1xufVxuXG4vKipcbiAqIHN0ZXBOZXh0IC0gc3RlcCB0byB0aGUgbmV4dCBsb2dpY2FsIGNvZGUgc2VnbWVudFxuICpcbiAqIE5vdGU6IEl0IG1pZ2h0IHRha2UgbXVsdGlwbGUgaW5zdHJ1Y3Rpb25zIHRvIGV4cHJlc3MgdGhlIHNhbWUgc2VjdGlvbiBvZiBjb2RlLlxuICogXCJTdGVwcGluZ1wiLCB0aGVuLCBpcyBzdGVwcGluZyB0byB0aGUgbmV4dCBsb2dpY2FsIGl0ZW0sIG5vdCBzdGVwcGluZyB0byB0aGUgbmV4dFxuICogaW5zdHJ1Y3Rpb24uIFNlZSBhZHZhbmNlKCkgaWYgeW91J2QgbGlrZSB0byBhZHZhbmNlIGJ5IG9uZSBpbnN0cnVjdGlvbi5cbiAqL1xuZnVuY3Rpb24qIHN0ZXBOZXh0KCkge1xuICBjb25zdCBzdGFydGluZ1JhbmdlID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LmxvY2F0aW9uLnNvdXJjZVJhbmdlKTtcblxuICB2YXIgdXBjb21pbmcsIGZpbmlzaGVkO1xuXG4gIGRvIHtcbiAgICAvLyBhZHZhbmNlIGF0IGxlYXN0IG9uY2Ugc3RlcFxuICAgIHlpZWxkKiBhZHZhbmNlKCk7XG5cbiAgICAvLyBhbmQgY2hlY2sgdGhlIG5leHQgc291cmNlIHJhbmdlXG4gICAgdHJ5IHtcbiAgICAgIHVwY29taW5nID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LmxvY2F0aW9uKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB1cGNvbWluZyA9IG51bGw7XG4gICAgfVxuXG4gICAgZmluaXNoZWQgPSB5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LmZpbmlzaGVkKTtcblxuICAgIC8vIGlmIHRoZSBuZXh0IHN0ZXAncyBzb3VyY2UgcmFuZ2UgaXMgc3RpbGwgdGhlIHNhbWUsIGtlZXAgZ29pbmdcbiAgfSB3aGlsZSAoIWZpbmlzaGVkICYmICghdXBjb21pbmcgfHwgIXVwY29taW5nLm5vZGUgfHwgU0tJUFBFRF9UWVBFUy5oYXModXBjb21pbmcubm9kZS5ub2RlVHlwZSkgfHwgdXBjb21pbmcuc291cmNlUmFuZ2Uuc3RhcnQgPT0gc3RhcnRpbmdSYW5nZS5zdGFydCAmJiB1cGNvbWluZy5zb3VyY2VSYW5nZS5sZW5ndGggPT0gc3RhcnRpbmdSYW5nZS5sZW5ndGgpKTtcbiAgeWllbGQgKDAsIF9lZmZlY3RzLnB1dCkoYWN0aW9ucy5kb25lU3RlcHBpbmcoKSk7XG59XG5cbi8qKlxuICogc3RlcEludG8gLSBzdGVwIGludG8gdGhlIGN1cnJlbnQgZnVuY3Rpb25cbiAqXG4gKiBDb25jZXB0dWFsbHkgdGhpcyBpcyBlYXN5LCBidXQgZnJvbSBhIHByb2dyYW1taW5nIHN0YW5kcG9pbnQgaXQncyBoYXJkLlxuICogQ29kZSBsaWtlIGBnZXRCYWxhbmNlKG1zZy5zZW5kZXIpYCBtaWdodCBiZSBoaWdobGlnaHRlZCwgYnV0IHRoZXJlIGNvdWxkXG4gKiBiZSBhIG51bWJlciBvZiBkaWZmZXJlbnQgaW50ZXJtZWRpYXRlIHN0ZXBzIChsaWtlIGV2YWx1YXRpbmcgYG1zZy5zZW5kZXJgKVxuICogYmVmb3JlIGBnZXRCYWxhbmNlYCBpcyBzdGVwcGVkIGludG8uIFRoaXMgZnVuY3Rpb24gd2lsbCBzdGVwIGludG8gdGhlIGZpcnN0XG4gKiBmdW5jdGlvbiBhdmFpbGFibGUgKHdoZXJlIGluc3RydWN0aW9uLmp1bXAgPT0gXCJpXCIpLCBpZ25vcmluZyBhbnkgaW50ZXJtZWRpYXRlXG4gKiBzdGVwcyB0aGF0IGZhbGwgd2l0aGluIHRoZSBzYW1lIGNvZGUgcmFuZ2UuIElmIHRoZXJlJ3MgYSBzdGVwIGVuY291bnRlcmVkXG4gKiB0aGF0IGV4aXN0cyBvdXRzaWRlIG9mIHRoZSByYW5nZSwgdGhlbiBzdGVwSW50byB3aWxsIG9ubHkgZXhlY3V0ZSB1bnRpbCB0aGF0XG4gKiBzdGVwLlxuICovXG5mdW5jdGlvbiogc3RlcEludG8oKSB7XG4gIGlmICh5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LmN1cnJlbnQud2lsbEp1bXApKSB7XG4gICAgeWllbGQqIHN0ZXBOZXh0KCk7XG5cbiAgICAvL211c3QgbWFyayBkb25lIHN0ZXBwaW5nIGJlZm9yZSBlYXJseSByZXR1cm5cbiAgICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLmRvbmVTdGVwcGluZygpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoeWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LmxvY2F0aW9uLmlzTXVsdGlsaW5lKSkge1xuICAgIHlpZWxkKiBzdGVwT3ZlcigpO1xuXG4gICAgLy9tdXN0IG1hcmsgZG9uZSBzdGVwcGluZyBiZWZvcmUgZWFybHkgcmV0dXJuXG4gICAgeWllbGQgKDAsIF9lZmZlY3RzLnB1dCkoYWN0aW9ucy5kb25lU3RlcHBpbmcoKSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgc3RhcnRpbmdEZXB0aCA9IHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5mdW5jdGlvbkRlcHRoKTtcbiAgY29uc3Qgc3RhcnRpbmdSYW5nZSA9IHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5sb2NhdGlvbi5zb3VyY2VSYW5nZSk7XG4gIHZhciBjdXJyZW50RGVwdGg7XG4gIHZhciBjdXJyZW50UmFuZ2U7XG5cbiAgZG8ge1xuICAgIHlpZWxkKiBzdGVwTmV4dCgpO1xuXG4gICAgY3VycmVudERlcHRoID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LmZ1bmN0aW9uRGVwdGgpO1xuICAgIGN1cnJlbnRSYW5nZSA9IHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5sb2NhdGlvbi5zb3VyY2VSYW5nZSk7XG4gIH0gd2hpbGUgKFxuICAvLyB0aGUgZnVuY3Rpb24gc3RhY2sgaGFzIG5vdCBpbmNyZWFzZWQsXG4gIGN1cnJlbnREZXB0aCA8PSBzdGFydGluZ0RlcHRoICYmXG4gIC8vIHRoZSBjdXJyZW50IHNvdXJjZSByYW5nZSBiZWdpbnMgb24gb3IgYWZ0ZXIgdGhlIHN0YXJ0aW5nIHJhbmdlXG4gIGN1cnJlbnRSYW5nZS5zdGFydCA+PSBzdGFydGluZ1JhbmdlLnN0YXJ0ICYmXG4gIC8vIGFuZCB0aGUgY3VycmVudCByYW5nZSBlbmRzIG9uIG9yIGJlZm9yZSB0aGUgc3RhcnRpbmcgcmFuZ2UgZW5kc1xuICBjdXJyZW50UmFuZ2Uuc3RhcnQgKyBjdXJyZW50UmFuZ2UubGVuZ3RoIDw9IHN0YXJ0aW5nUmFuZ2Uuc3RhcnQgKyBzdGFydGluZ1JhbmdlLmxlbmd0aCk7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuZG9uZVN0ZXBwaW5nKCkpO1xufVxuXG4vKipcbiAqIFN0ZXAgb3V0IG9mIHRoZSBjdXJyZW50IGZ1bmN0aW9uXG4gKlxuICogVGhpcyB3aWxsIHJ1biB1bnRpbCB0aGUgZGVidWdnZXIgZW5jb3VudGVycyBhIGRlY3JlYXNlIGluIGZ1bmN0aW9uIGRlcHRoLlxuICovXG5mdW5jdGlvbiogc3RlcE91dCgpIHtcbiAgaWYgKHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5sb2NhdGlvbi5pc011bHRpbGluZSkpIHtcbiAgICB5aWVsZCogc3RlcE92ZXIoKTtcblxuICAgIC8vbXVzdCBtYXJrIGRvbmUgc3RlcHBpbmcgYmVmb3JlIGVhcmx5IHJldHVyblxuICAgIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuZG9uZVN0ZXBwaW5nKCkpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHN0YXJ0aW5nRGVwdGggPSB5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LmN1cnJlbnQuZnVuY3Rpb25EZXB0aCk7XG4gIHZhciBjdXJyZW50RGVwdGg7XG5cbiAgZG8ge1xuICAgIHlpZWxkKiBzdGVwTmV4dCgpO1xuXG4gICAgY3VycmVudERlcHRoID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LmZ1bmN0aW9uRGVwdGgpO1xuICB9IHdoaWxlIChjdXJyZW50RGVwdGggPj0gc3RhcnRpbmdEZXB0aCk7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuZG9uZVN0ZXBwaW5nKCkpO1xufVxuXG4vKipcbiAqIHN0ZXBPdmVyIC0gc3RlcCBvdmVyIHRoZSBjdXJyZW50IGxpbmVcbiAqXG4gKiBTdGVwIG92ZXIgdGhlIGN1cnJlbnQgbGluZS4gVGhpcyB3aWxsIHN0ZXAgdG8gdGhlIG5leHQgaW5zdHJ1Y3Rpb24gdGhhdFxuICogZXhpc3RzIG9uIGEgZGlmZmVyZW50IGxpbmUgb2YgY29kZSB3aXRoaW4gdGhlIHNhbWUgZnVuY3Rpb24gZGVwdGguXG4gKi9cbmZ1bmN0aW9uKiBzdGVwT3ZlcigpIHtcbiAgY29uc3Qgc3RhcnRpbmdEZXB0aCA9IHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5mdW5jdGlvbkRlcHRoKTtcbiAgY29uc3Qgc3RhcnRpbmdSYW5nZSA9IHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5sb2NhdGlvbi5zb3VyY2VSYW5nZSk7XG4gIHZhciBjdXJyZW50RGVwdGg7XG4gIHZhciBjdXJyZW50UmFuZ2U7XG5cbiAgZG8ge1xuICAgIHlpZWxkKiBzdGVwTmV4dCgpO1xuXG4gICAgY3VycmVudERlcHRoID0geWllbGQgKDAsIF9lZmZlY3RzLnNlbGVjdCkoX3NlbGVjdG9yczIuZGVmYXVsdC5jdXJyZW50LmZ1bmN0aW9uRGVwdGgpO1xuICAgIGN1cnJlbnRSYW5nZSA9IHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5sb2NhdGlvbi5zb3VyY2VSYW5nZSk7XG4gIH0gd2hpbGUgKFxuICAvLyBrZWVwIHN0ZXBwaW5nIHByb3ZpZGVkOlxuICAvL1xuICAvLyB3ZSBoYXZlbid0IGp1bXBlZCBvdXRcbiAgIShjdXJyZW50RGVwdGggPCBzdGFydGluZ0RlcHRoKSAmJiAoXG4gIC8vIGVpdGhlcjogZnVuY3Rpb24gZGVwdGggaXMgZ3JlYXRlciB0aGFuIHN0YXJ0aW5nIChpZ25vcmUgZnVuY3Rpb24gY2FsbHMpXG4gIC8vIG9yLCBpZiB3ZSdyZSBhdCB0aGUgc2FtZSBkZXB0aCwga2VlcCBzdGVwcGluZyB1bnRpbCB3ZSdyZSBvbiBhIG5ld1xuICAvLyBsaW5lLlxuICBjdXJyZW50RGVwdGggPiBzdGFydGluZ0RlcHRoIHx8IGN1cnJlbnRSYW5nZS5saW5lcy5zdGFydC5saW5lID09IHN0YXJ0aW5nUmFuZ2UubGluZXMuc3RhcnQubGluZSkpO1xuICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLmRvbmVTdGVwcGluZygpKTtcbn1cblxuLyoqXG4gKiBjb250aW51ZVVudGlsQnJlYWtwb2ludCAtIHN0ZXAgdGhyb3VnaCBleGVjdXRpb24gdW50aWwgYSBicmVha3BvaW50XG4gKi9cbmZ1bmN0aW9uKiBjb250aW51ZVVudGlsQnJlYWtwb2ludCgpIHtcbiAgdmFyIGN1cnJlbnRMb2NhdGlvbiwgY3VycmVudE5vZGUsIGN1cnJlbnRMaW5lLCBjdXJyZW50U291cmNlSWQ7XG4gIHZhciBmaW5pc2hlZDtcbiAgdmFyIHByZXZpb3VzTGluZSwgcHJldmlvdXNTb3VyY2VJZDtcblxuICBsZXQgYnJlYWtwb2ludHMgPSB5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LmJyZWFrcG9pbnRzKTtcblxuICBsZXQgYnJlYWtwb2ludEhpdCA9IGZhbHNlO1xuXG4gIGN1cnJlbnRMb2NhdGlvbiA9IHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5sb2NhdGlvbik7XG4gIGN1cnJlbnROb2RlID0gY3VycmVudExvY2F0aW9uLm5vZGUuaWQ7XG4gIGN1cnJlbnRMaW5lID0gY3VycmVudExvY2F0aW9uLnNvdXJjZVJhbmdlLmxpbmVzLnN0YXJ0LmxpbmU7XG4gIGN1cnJlbnRTb3VyY2VJZCA9IGN1cnJlbnRMb2NhdGlvbi5zb3VyY2UuaWQ7XG5cbiAgZG8ge1xuICAgIHlpZWxkKiBzdGVwTmV4dCgpO1xuXG4gICAgcHJldmlvdXNMaW5lID0gY3VycmVudExpbmU7XG4gICAgcHJldmlvdXNTb3VyY2VJZCA9IGN1cnJlbnRTb3VyY2VJZDtcblxuICAgIGN1cnJlbnRMb2NhdGlvbiA9IHlpZWxkICgwLCBfZWZmZWN0cy5zZWxlY3QpKF9zZWxlY3RvcnMyLmRlZmF1bHQuY3VycmVudC5sb2NhdGlvbik7XG4gICAgZmluaXNoZWQgPSB5aWVsZCAoMCwgX2VmZmVjdHMuc2VsZWN0KShfc2VsZWN0b3JzMi5kZWZhdWx0LmZpbmlzaGVkKTtcbiAgICBkZWJ1ZyhcImZpbmlzaGVkICVvXCIsIGZpbmlzaGVkKTtcblxuICAgIGN1cnJlbnROb2RlID0gY3VycmVudExvY2F0aW9uLm5vZGUuaWQ7XG4gICAgY3VycmVudExpbmUgPSBjdXJyZW50TG9jYXRpb24uc291cmNlUmFuZ2UubGluZXMuc3RhcnQubGluZTtcbiAgICBjdXJyZW50U291cmNlSWQgPSBjdXJyZW50TG9jYXRpb24uc291cmNlLmlkO1xuXG4gICAgYnJlYWtwb2ludEhpdCA9IGJyZWFrcG9pbnRzLmZpbHRlcigoeyBzb3VyY2VJZCwgbGluZSwgbm9kZSB9KSA9PiB7XG4gICAgICBpZiAobm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlYnVnKFwibm9kZSAlZCBjdXJyZW50Tm9kZSAlZFwiLCBub2RlLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgIHJldHVybiBzb3VyY2VJZCA9PT0gY3VycmVudFNvdXJjZUlkICYmIG5vZGUgPT09IGN1cnJlbnROb2RlO1xuICAgICAgfVxuICAgICAgLy9vdGhlcndpc2UsIHdlIGhhdmUgYSBsaW5lLXN0eWxlIGJyZWFrcG9pbnQ7IHdlIHdhbnQgdG8gc3RvcCBhdCB0aGVcbiAgICAgIC8vKmZpcnN0KiBwb2ludCBvbiB0aGUgbGluZVxuICAgICAgcmV0dXJuIHNvdXJjZUlkID09PSBjdXJyZW50U291cmNlSWQgJiYgbGluZSA9PT0gY3VycmVudExpbmUgJiYgKGN1cnJlbnRTb3VyY2VJZCAhPT0gcHJldmlvdXNTb3VyY2VJZCB8fCBjdXJyZW50TGluZSAhPT0gcHJldmlvdXNMaW5lKTtcbiAgICB9KS5sZW5ndGggPiAwO1xuICB9IHdoaWxlICghYnJlYWtwb2ludEhpdCAmJiAhZmluaXNoZWQpO1xuICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLmRvbmVTdGVwcGluZygpKTtcbn1cblxuLyoqXG4gKiByZXNldCAtLSByZXNldCB0aGUgc3RhdGUgb2YgdGhlIGRlYnVnZ2VyXG4gKi9cbmZ1bmN0aW9uKiByZXNldCgpIHtcbiAgeWllbGQqIGRhdGEucmVzZXQoKTtcbiAgeWllbGQqIGV2bS5yZXNldCgpO1xuICB5aWVsZCogc29saWRpdHkucmVzZXQoKTtcbiAgeWllbGQqIHRyYWNlLnJlc2V0KCk7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuZG9uZVN0ZXBwaW5nKCkpO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9jb250cm9sbGVyL3NhZ2FzL2luZGV4LmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmluc3BlY3RUcmFuc2FjdGlvbiA9IGluc3BlY3RUcmFuc2FjdGlvbjtcbmV4cG9ydHMub2J0YWluQmluYXJpZXMgPSBvYnRhaW5CaW5hcmllcztcbmV4cG9ydHMuc2FnYSA9IHNhZ2E7XG5cbnZhciBfZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIik7XG5cbnZhciBfZGVidWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVidWcpO1xuXG52YXIgX2VmZmVjdHMgPSByZXF1aXJlKFwicmVkdXgtc2FnYS9lZmZlY3RzXCIpO1xuXG52YXIgX2hlbHBlcnMgPSByZXF1aXJlKFwibGliL2hlbHBlcnNcIik7XG5cbnZhciBfYWN0aW9ucyA9IHJlcXVpcmUoXCIuLi9hY3Rpb25zXCIpO1xuXG52YXIgYWN0aW9ucyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9hY3Rpb25zKTtcblxudmFyIF9hY3Rpb25zMiA9IHJlcXVpcmUoXCJsaWIvc2Vzc2lvbi9hY3Rpb25zXCIpO1xuXG52YXIgc2Vzc2lvbiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9hY3Rpb25zMik7XG5cbnZhciBfYWRhcHRlciA9IHJlcXVpcmUoXCIuLi9hZGFwdGVyXCIpO1xuXG52YXIgX2FkYXB0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWRhcHRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmNvbnN0IGRlYnVnID0gKDAsIF9kZWJ1ZzIuZGVmYXVsdCkoXCJkZWJ1Z2dlcjp3ZWIzOnNhZ2FzXCIpO1xuXG5mdW5jdGlvbiogZmV0Y2hUcmFuc2FjdGlvbkluZm8oYWRhcHRlciwgeyB0eEhhc2ggfSkge1xuICBkZWJ1ZyhcImluc3BlY3RpbmcgdHJhbnNhY3Rpb25cIik7XG4gIHZhciB0cmFjZTtcbiAgdHJ5IHtcbiAgICB0cmFjZSA9IHlpZWxkICgwLCBfZWZmZWN0cy5hcHBseSkoYWRhcHRlciwgYWRhcHRlci5nZXRUcmFjZSwgW3R4SGFzaF0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZGVidWcoXCJwdXR0aW5nIGVycm9yXCIpO1xuICAgIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuZXJyb3IoZSkpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGRlYnVnKFwiZ290IHRyYWNlXCIpO1xuICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLnJlY2VpdmVUcmFjZSh0cmFjZSkpO1xuXG4gIGxldCB0eCA9IHlpZWxkICgwLCBfZWZmZWN0cy5hcHBseSkoYWRhcHRlciwgYWRhcHRlci5nZXRUcmFuc2FjdGlvbiwgW3R4SGFzaF0pO1xuICBsZXQgcmVjZWlwdCA9IHlpZWxkICgwLCBfZWZmZWN0cy5hcHBseSkoYWRhcHRlciwgYWRhcHRlci5nZXRSZWNlaXB0LCBbdHhIYXNoXSk7XG5cbiAgeWllbGQgKDAsIF9lZmZlY3RzLnB1dCkoc2Vzc2lvbi5zYXZlVHJhbnNhY3Rpb24odHgpKTtcbiAgeWllbGQgKDAsIF9lZmZlY3RzLnB1dCkoc2Vzc2lvbi5zYXZlUmVjZWlwdChyZWNlaXB0KSk7XG5cbiAgaWYgKHR4LnRvICYmIHR4LnRvICE9IFwiMHgwXCIpIHtcbiAgICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLnJlY2VpdmVDYWxsKHsgYWRkcmVzczogdHgudG8gfSkpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChyZWNlaXB0LmNvbnRyYWN0QWRkcmVzcykge1xuICAgIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMucmVjZWl2ZUNhbGwoeyBiaW5hcnk6IHR4LmlucHV0IH0pKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBjb250cmFjdCBhc3NvY2lhdGVkIHdpdGggdHJhbnNhY3Rpb24uIFwiICsgXCJQbGVhc2UgbWFrZSBzdXJlIHlvdSdyZSBkZWJ1Z2dpbmcgYSB0cmFuc2FjdGlvbiB0aGF0IGV4ZWN1dGVzIGEgXCIgKyBcImNvbnRyYWN0IGZ1bmN0aW9uIG9yIGNyZWF0ZXMgYSBuZXcgY29udHJhY3QuXCIpO1xufVxuXG5mdW5jdGlvbiogZmV0Y2hCaW5hcnkoYWRhcHRlciwgeyBhZGRyZXNzIH0pIHtcbiAgZGVidWcoXCJmZXRjaGluZyBiaW5hcnkgZm9yICVzXCIsIGFkZHJlc3MpO1xuICBsZXQgYmluYXJ5ID0geWllbGQgKDAsIF9lZmZlY3RzLmFwcGx5KShhZGFwdGVyLCBhZGFwdGVyLmdldERlcGxveWVkQ29kZSwgW2FkZHJlc3NdKTtcblxuICBkZWJ1ZyhcInJlY2VpdmVkIGJpbmFyeSBmb3IgJXNcIiwgYWRkcmVzcyk7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMucmVjZWl2ZUJpbmFyeShhZGRyZXNzLCBiaW5hcnkpKTtcbn1cblxuZnVuY3Rpb24qIGluc3BlY3RUcmFuc2FjdGlvbih0eEhhc2gsIHByb3ZpZGVyKSB7XG4gIHlpZWxkICgwLCBfZWZmZWN0cy5wdXQpKGFjdGlvbnMuaW5pdChwcm92aWRlcikpO1xuICB5aWVsZCAoMCwgX2VmZmVjdHMucHV0KShhY3Rpb25zLmluc3BlY3QodHhIYXNoKSk7XG5cbiAgbGV0IGFjdGlvbiA9IHlpZWxkICgwLCBfZWZmZWN0cy50YWtlKSgoeyB0eXBlIH0pID0+IHR5cGUgPT0gYWN0aW9ucy5SRUNFSVZFX1RSQUNFIHx8IHR5cGUgPT0gYWN0aW9ucy5FUlJPUl9XRUIzKTtcbiAgZGVidWcoXCJhY3Rpb24gJW9cIiwgYWN0aW9uKTtcblxuICB2YXIgdHJhY2U7XG4gIGlmIChhY3Rpb24udHlwZSA9PSBhY3Rpb25zLlJFQ0VJVkVfVFJBQ0UpIHtcbiAgICB0cmFjZSA9IGFjdGlvbi50cmFjZTtcbiAgICBkZWJ1ZyhcInJlY2VpdmVkIHRyYWNlXCIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7IGVycm9yOiBhY3Rpb24uZXJyb3IgfTtcbiAgfVxuXG4gIGxldCB7IGFkZHJlc3MsIGJpbmFyeSB9ID0geWllbGQgKDAsIF9lZmZlY3RzLnRha2UpKGFjdGlvbnMuUkVDRUlWRV9DQUxMKTtcbiAgZGVidWcoXCJyZWNlaXZlZCBjYWxsXCIpO1xuXG4gIHJldHVybiB7IHRyYWNlLCBhZGRyZXNzLCBiaW5hcnkgfTtcbn1cblxuZnVuY3Rpb24qIG9idGFpbkJpbmFyaWVzKGFkZHJlc3Nlcykge1xuICBsZXQgdGFza3MgPSB5aWVsZCAoMCwgX2VmZmVjdHMuYWxsKShhZGRyZXNzZXMubWFwKGFkZHJlc3MgPT4gKDAsIF9lZmZlY3RzLmZvcmspKHJlY2VpdmVCaW5hcnksIGFkZHJlc3MpKSk7XG5cbiAgZGVidWcoXCJyZXF1ZXN0aW5nIGJpbmFyaWVzXCIpO1xuICB5aWVsZCAoMCwgX2VmZmVjdHMuYWxsKShhZGRyZXNzZXMubWFwKGFkZHJlc3MgPT4gKDAsIF9lZmZlY3RzLnB1dCkoYWN0aW9ucy5mZXRjaEJpbmFyeShhZGRyZXNzKSkpKTtcblxuICBsZXQgYmluYXJpZXMgPSBbXTtcbiAgYmluYXJpZXMgPSB5aWVsZCAoMCwgX2VmZmVjdHMuYWxsKSh0YXNrcy5tYXAodGFzayA9PiAoMCwgX2VmZmVjdHMuam9pbikodGFzaykpKTtcblxuICBkZWJ1ZyhcImJpbmFyaWVzICVvXCIsIGJpbmFyaWVzKTtcblxuICByZXR1cm4gYmluYXJpZXM7XG59XG5cbmZ1bmN0aW9uKiByZWNlaXZlQmluYXJ5KGFkZHJlc3MpIHtcbiAgbGV0IHsgYmluYXJ5IH0gPSB5aWVsZCAoMCwgX2VmZmVjdHMudGFrZSkoYWN0aW9uID0+IGFjdGlvbi50eXBlID09IGFjdGlvbnMuUkVDRUlWRV9CSU5BUlkgJiYgYWN0aW9uLmFkZHJlc3MgPT0gYWRkcmVzcyk7XG4gIGRlYnVnKFwiZ290IGJpbmFyeSBmb3IgJXNcIiwgYWRkcmVzcyk7XG5cbiAgcmV0dXJuIGJpbmFyeTtcbn1cblxuZnVuY3Rpb24qIHNhZ2EoKSB7XG4gIC8vIHdhaXQgZm9yIHdlYjMgaW5pdCBzaWduYWxcbiAgbGV0IHsgcHJvdmlkZXIgfSA9IHlpZWxkICgwLCBfZWZmZWN0cy50YWtlKShhY3Rpb25zLklOSVRfV0VCMyk7XG4gIGxldCBhZGFwdGVyID0gbmV3IF9hZGFwdGVyMi5kZWZhdWx0KHByb3ZpZGVyKTtcblxuICB5aWVsZCAoMCwgX2VmZmVjdHMudGFrZUV2ZXJ5KShhY3Rpb25zLklOU1BFQ1QsIGZldGNoVHJhbnNhY3Rpb25JbmZvLCBhZGFwdGVyKTtcbiAgeWllbGQgKDAsIF9lZmZlY3RzLnRha2VFdmVyeSkoYWN0aW9ucy5GRVRDSF9CSU5BUlksIGZldGNoQmluYXJ5LCBhZGFwdGVyKTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9oZWxwZXJzLnByZWZpeE5hbWUpKFwid2ViM1wiLCBzYWdhKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWIvd2ViMy9zYWdhcy9pbmRleC5qcyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5pbml0ID0gaW5pdDtcbmV4cG9ydHMuaW5zcGVjdCA9IGluc3BlY3Q7XG5leHBvcnRzLmZldGNoQmluYXJ5ID0gZmV0Y2hCaW5hcnk7XG5leHBvcnRzLnJlY2VpdmVCaW5hcnkgPSByZWNlaXZlQmluYXJ5O1xuZXhwb3J0cy5yZWNlaXZlVHJhY2UgPSByZWNlaXZlVHJhY2U7XG5leHBvcnRzLnJlY2VpdmVDYWxsID0gcmVjZWl2ZUNhbGw7XG5leHBvcnRzLmVycm9yID0gZXJyb3I7XG5jb25zdCBJTklUX1dFQjMgPSBleHBvcnRzLklOSVRfV0VCMyA9IFwiSU5JVF9XRUIzXCI7XG5mdW5jdGlvbiBpbml0KHByb3ZpZGVyKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSU5JVF9XRUIzLFxuICAgIHByb3ZpZGVyXG4gIH07XG59XG5cbmNvbnN0IElOU1BFQ1QgPSBleHBvcnRzLklOU1BFQ1QgPSBcIklOU1BFQ1RfVFJBTlNBQ1RJT05cIjtcbmZ1bmN0aW9uIGluc3BlY3QodHhIYXNoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSU5TUEVDVCxcbiAgICB0eEhhc2hcbiAgfTtcbn1cblxuY29uc3QgRkVUQ0hfQklOQVJZID0gZXhwb3J0cy5GRVRDSF9CSU5BUlkgPSBcIkZFVENIX0JJTkFSWVwiO1xuZnVuY3Rpb24gZmV0Y2hCaW5hcnkoYWRkcmVzcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEZFVENIX0JJTkFSWSxcbiAgICBhZGRyZXNzXG4gIH07XG59XG5cbmNvbnN0IFJFQ0VJVkVfQklOQVJZID0gZXhwb3J0cy5SRUNFSVZFX0JJTkFSWSA9IFwiUkVDRUlWRV9CSU5BUllcIjtcbmZ1bmN0aW9uIHJlY2VpdmVCaW5hcnkoYWRkcmVzcywgYmluYXJ5KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVDRUlWRV9CSU5BUlksXG4gICAgYWRkcmVzcyxcbiAgICBiaW5hcnlcbiAgfTtcbn1cblxuY29uc3QgUkVDRUlWRV9UUkFDRSA9IGV4cG9ydHMuUkVDRUlWRV9UUkFDRSA9IFwiUkVDRUlWRV9UUkFDRVwiO1xuZnVuY3Rpb24gcmVjZWl2ZVRyYWNlKHRyYWNlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVDRUlWRV9UUkFDRSxcbiAgICB0cmFjZVxuICB9O1xufVxuXG5jb25zdCBSRUNFSVZFX0NBTEwgPSBleHBvcnRzLlJFQ0VJVkVfQ0FMTCA9IFwiUkVDRUlWRV9DQUxMXCI7XG5mdW5jdGlvbiByZWNlaXZlQ2FsbCh7IGFkZHJlc3MsIGJpbmFyeSB9KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVDRUlWRV9DQUxMLFxuICAgIGFkZHJlc3MsXG4gICAgYmluYXJ5XG4gIH07XG59XG5cbmNvbnN0IEVSUk9SX1dFQjMgPSBleHBvcnRzLkVSUk9SX1dFQjMgPSBcIkVSUk9SX1dFQjNcIjtcbmZ1bmN0aW9uIGVycm9yKGVycm9yKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogRVJST1JfV0VCMyxcbiAgICBlcnJvclxuICB9O1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi93ZWIzL2FjdGlvbnMvaW5kZXguanMiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9taXNlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlXCIpO1xuXG52YXIgX3Byb21pc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvbWlzZSk7XG5cbnZhciBfYXN5bmNUb0dlbmVyYXRvcjIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3JcIik7XG5cbnZhciBfYXN5bmNUb0dlbmVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3luY1RvR2VuZXJhdG9yMik7XG5cbnZhciBfZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIik7XG5cbnZhciBfZGVidWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVidWcpO1xuXG52YXIgX3dlYiA9IHJlcXVpcmUoXCJ3ZWIzXCIpO1xuXG52YXIgX3dlYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93ZWIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5jb25zdCBkZWJ1ZyA9ICgwLCBfZGVidWcyLmRlZmF1bHQpKFwiZGVidWdnZXI6d2ViMzphZGFwdGVyXCIpO1xuXG5jbGFzcyBXZWIzQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKHByb3ZpZGVyKSB7XG4gICAgdGhpcy53ZWIzID0gbmV3IF93ZWIyLmRlZmF1bHQocHJvdmlkZXIpO1xuICB9XG5cbiAgZ2V0VHJhY2UodHhIYXNoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4gbmV3IF9wcm9taXNlMi5kZWZhdWx0KGZ1bmN0aW9uIChhY2NlcHQsIHJlamVjdCkge1xuICAgICAgICBfdGhpcy53ZWIzLmN1cnJlbnRQcm92aWRlci5zZW5kKHtcbiAgICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICAgIG1ldGhvZDogXCJkZWJ1Z190cmFjZVRyYW5zYWN0aW9uXCIsXG4gICAgICAgICAgcGFyYW1zOiBbdHhIYXNoLCB7fV0sXG4gICAgICAgICAgaWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgIGlmIChlcnIpIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgICBpZiAocmVzdWx0LmVycm9yKSByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihyZXN1bHQuZXJyb3IubWVzc2FnZSkpO1xuICAgICAgICAgIGRlYnVnKFwicmVzdWx0OiAlb1wiLCByZXN1bHQpO1xuICAgICAgICAgIGFjY2VwdChyZXN1bHQucmVzdWx0LnN0cnVjdExvZ3MpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pKCk7XG4gIH1cblxuICBnZXRUcmFuc2FjdGlvbih0eEhhc2gpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHJldHVybiAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4gbmV3IF9wcm9taXNlMi5kZWZhdWx0KGZ1bmN0aW9uIChhY2NlcHQsIHJlamVjdCkge1xuICAgICAgICBfdGhpczIud2ViMy5ldGguZ2V0VHJhbnNhY3Rpb24odHhIYXNoLCBmdW5jdGlvbiAoZXJyLCB0eCkge1xuICAgICAgICAgIGlmIChlcnIpIHJldHVybiByZWplY3QoZXJyKTtcblxuICAgICAgICAgIHJldHVybiBhY2NlcHQodHgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pKCk7XG4gIH1cblxuICBnZXRSZWNlaXB0KHR4SGFzaCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgcmV0dXJuICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiBuZXcgX3Byb21pc2UyLmRlZmF1bHQoZnVuY3Rpb24gKGFjY2VwdCwgcmVqZWN0KSB7XG4gICAgICAgIF90aGlzMy53ZWIzLmV0aC5nZXRUcmFuc2FjdGlvblJlY2VpcHQodHhIYXNoLCBmdW5jdGlvbiAoZXJyLCByZWNlaXB0KSB7XG4gICAgICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpO1xuXG4gICAgICAgICAgcmV0dXJuIGFjY2VwdChyZWNlaXB0KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldERlcGxveWVkQ29kZSAtIGdldCB0aGUgZGVwbG95ZWQgY29kZSBmb3IgYW4gYWRkcmVzcyBmcm9tIHRoZSBjbGllbnRcbiAgICogQHBhcmFtICB7U3RyaW5nfSBhZGRyZXNzXG4gICAqIEByZXR1cm4ge1N0cmluZ30gICAgICAgICBkZXBsb3llZEJpbmFyeVxuICAgKi9cbiAgZ2V0RGVwbG95ZWRDb2RlKGFkZHJlc3MpIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIHJldHVybiAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKGZ1bmN0aW9uKiAoKSB7XG4gICAgICBkZWJ1ZyhcImdldHRpbmcgZGVwbG95ZWQgY29kZSBmb3IgJXNcIiwgYWRkcmVzcyk7XG4gICAgICByZXR1cm4gbmV3IF9wcm9taXNlMi5kZWZhdWx0KGZ1bmN0aW9uIChhY2NlcHQsIHJlamVjdCkge1xuICAgICAgICBfdGhpczQud2ViMy5ldGguZ2V0Q29kZShhZGRyZXNzLCBmdW5jdGlvbiAoZXJyLCBkZXBsb3llZEJpbmFyeSkge1xuICAgICAgICAgIGlmIChlcnIpIGRlYnVnKFwiZXJyb3I6ICVvXCIsIGVycik7XG4gICAgICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgIGRlYnVnKFwiZ290IGRlcGxveWVkIGNvZGUgZm9yICVzXCIsIGFkZHJlc3MpO1xuICAgICAgICAgIGFjY2VwdChkZXBsb3llZEJpbmFyeSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSkoKTtcbiAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViM0FkYXB0ZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL3dlYjMvYWRhcHRlci5qcyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5FUlJPUiA9IGV4cG9ydHMuQUNUSVZFID0gZXhwb3J0cy5XQUlUSU5HID0gdW5kZWZpbmVkO1xuZXhwb3J0cy5zdGF0dXMgPSBzdGF0dXM7XG5leHBvcnRzLnRyYW5zYWN0aW9uID0gdHJhbnNhY3Rpb247XG5leHBvcnRzLnJlY2VpcHQgPSByZWNlaXB0O1xuXG52YXIgX3JlZHV4ID0gcmVxdWlyZShcInJlZHV4XCIpO1xuXG52YXIgX3JlZHVjZXJzID0gcmVxdWlyZShcImxpYi9kYXRhL3JlZHVjZXJzXCIpO1xuXG52YXIgX3JlZHVjZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZHVjZXJzKTtcblxudmFyIF9yZWR1Y2VyczMgPSByZXF1aXJlKFwibGliL2V2bS9yZWR1Y2Vyc1wiKTtcblxudmFyIF9yZWR1Y2VyczQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1Y2VyczMpO1xuXG52YXIgX3JlZHVjZXJzNSA9IHJlcXVpcmUoXCJsaWIvc29saWRpdHkvcmVkdWNlcnNcIik7XG5cbnZhciBfcmVkdWNlcnM2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVkdWNlcnM1KTtcblxudmFyIF9yZWR1Y2VyczcgPSByZXF1aXJlKFwibGliL3RyYWNlL3JlZHVjZXJzXCIpO1xuXG52YXIgX3JlZHVjZXJzOCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZHVjZXJzNyk7XG5cbnZhciBfcmVkdWNlcnM5ID0gcmVxdWlyZShcImxpYi9jb250cm9sbGVyL3JlZHVjZXJzXCIpO1xuXG52YXIgX3JlZHVjZXJzMTAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1Y2VyczkpO1xuXG52YXIgX2FjdGlvbnMgPSByZXF1aXJlKFwiLi9hY3Rpb25zXCIpO1xuXG52YXIgYWN0aW9ucyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9hY3Rpb25zKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuY29uc3QgV0FJVElORyA9IGV4cG9ydHMuV0FJVElORyA9IFwiV0FJVElOR1wiO1xuY29uc3QgQUNUSVZFID0gZXhwb3J0cy5BQ1RJVkUgPSBcIkFDVElWRVwiO1xuY29uc3QgRVJST1IgPSBleHBvcnRzLkVSUk9SID0gXCJFUlJPUlwiO1xuXG5mdW5jdGlvbiBzdGF0dXMoc3RhdGUgPSBXQUlUSU5HLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYWN0aW9ucy5SRUFEWTpcbiAgICAgIHJldHVybiBBQ1RJVkU7XG5cbiAgICBjYXNlIGFjdGlvbnMuRVJST1I6XG4gICAgICByZXR1cm4geyBlcnJvcjogYWN0aW9uLmVycm9yIH07XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyYW5zYWN0aW9uKHN0YXRlID0ge30sIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhY3Rpb25zLlNBVkVfVFJBTlNBQ1RJT046XG4gICAgICByZXR1cm4gYWN0aW9uLnRyYW5zYWN0aW9uO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVjZWlwdChzdGF0ZSA9IHt9LCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYWN0aW9ucy5TQVZFX1JFQ0VJUFQ6XG4gICAgICByZXR1cm4gYWN0aW9uLnJlY2VpcHQ7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuXG5jb25zdCBzZXNzaW9uID0gKDAsIF9yZWR1eC5jb21iaW5lUmVkdWNlcnMpKHtcbiAgc3RhdHVzLFxuICB0cmFuc2FjdGlvbixcbiAgcmVjZWlwdFxufSk7XG5cbmNvbnN0IHJlZHVjZVN0YXRlID0gKDAsIF9yZWR1eC5jb21iaW5lUmVkdWNlcnMpKHtcbiAgc2Vzc2lvbixcbiAgZGF0YTogX3JlZHVjZXJzMi5kZWZhdWx0LFxuICBldm06IF9yZWR1Y2VyczQuZGVmYXVsdCxcbiAgc29saWRpdHk6IF9yZWR1Y2VyczYuZGVmYXVsdCxcbiAgdHJhY2U6IF9yZWR1Y2VyczguZGVmYXVsdCxcbiAgY29udHJvbGxlcjogX3JlZHVjZXJzMTAuZGVmYXVsdFxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHJlZHVjZVN0YXRlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9zZXNzaW9uL3JlZHVjZXJzLmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfa2V5cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXNcIik7XG5cbnZhciBfa2V5czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXlzKTtcblxudmFyIF9lbnRyaWVzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZW50cmllc1wiKTtcblxudmFyIF9lbnRyaWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VudHJpZXMpO1xuXG52YXIgX2Fzc2lnbiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2Fzc2lnblwiKTtcblxudmFyIF9hc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzaWduKTtcblxudmFyIF9zZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3NldFwiKTtcblxudmFyIF9zZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0KTtcblxudmFyIF92YWx1ZXMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC92YWx1ZXNcIik7XG5cbnZhciBfdmFsdWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZhbHVlcyk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIik7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIik7XG5cbnZhciBfZGVidWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVidWcpO1xuXG52YXIgX3JlZHV4ID0gcmVxdWlyZShcInJlZHV4XCIpO1xuXG52YXIgX2hlbHBlcnMgPSByZXF1aXJlKFwibGliL2hlbHBlcnNcIik7XG5cbnZhciBfYWN0aW9ucyA9IHJlcXVpcmUoXCIuL2FjdGlvbnNcIik7XG5cbnZhciBhY3Rpb25zID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2FjdGlvbnMpO1xuXG52YXIgX3RydWZmbGVEZWNvZGVyID0gcmVxdWlyZShcInRydWZmbGUtZGVjb2RlclwiKTtcblxudmFyIF90cnVmZmxlRGVjb2RlVXRpbHMgPSByZXF1aXJlKFwidHJ1ZmZsZS1kZWNvZGUtdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmNvbnN0IGRlYnVnID0gKDAsIF9kZWJ1ZzIuZGVmYXVsdCkoXCJkZWJ1Z2dlcjpkYXRhOnJlZHVjZXJzXCIpO1xuXG5jb25zdCBERUZBVUxUX1NDT1BFUyA9IHtcbiAgYnlJZDoge31cbn07XG5cbmZ1bmN0aW9uIHNjb3BlcyhzdGF0ZSA9IERFRkFVTFRfU0NPUEVTLCBhY3Rpb24pIHtcbiAgdmFyIHNjb3BlO1xuICB2YXIgdmFyaWFibGVzO1xuXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGFjdGlvbnMuU0NPUEU6XG4gICAgICBzY29wZSA9IHN0YXRlLmJ5SWRbYWN0aW9uLmlkXSB8fCB7fTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnlJZDogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUuYnlJZCwge1xuXG4gICAgICAgICAgW2FjdGlvbi5pZF06ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHNjb3BlLCB7XG5cbiAgICAgICAgICAgIGlkOiBhY3Rpb24uaWQsXG4gICAgICAgICAgICBzb3VyY2VJZDogYWN0aW9uLnNvdXJjZUlkLFxuICAgICAgICAgICAgcGFyZW50SWQ6IGFjdGlvbi5wYXJlbnRJZCxcbiAgICAgICAgICAgIHBvaW50ZXI6IGFjdGlvbi5wb2ludGVyXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH07XG5cbiAgICBjYXNlIGFjdGlvbnMuREVDTEFSRTpcbiAgICAgIHNjb3BlID0gc3RhdGUuYnlJZFthY3Rpb24ubm9kZS5zY29wZV0gfHwge307XG4gICAgICB2YXJpYWJsZXMgPSBzY29wZS52YXJpYWJsZXMgfHwgW107XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJ5SWQ6ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLmJ5SWQsIHtcblxuICAgICAgICAgIFthY3Rpb24ubm9kZS5zY29wZV06ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHNjb3BlLCB7XG5cbiAgICAgICAgICAgIHZhcmlhYmxlczogWy4uLnZhcmlhYmxlcywgeyBuYW1lOiBhY3Rpb24ubm9kZS5uYW1lLCBpZDogYWN0aW9uLm5vZGUuaWQgfV1cbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cblxuLy9hIG5vdGUgb24gdGhlIGZvbGxvd2luZyByZWR1Y2VyOiBzb2xpZGl0eSBhc3NpZ25zIGEgdW5pcXVlIEFTVCBJRCB0byBldmVyeVxuLy9BU1Qgbm9kZSBhbW9uZyBhbGwgdGhlIGZpbGVzIGJlaW5nIGNvbXBpbGVkIHRvZ2V0aGVyLiAgdGh1cywgaXQgaXMsIGZvciBub3csXG4vL3NhZmUgdG8gaWRlbnRpZnkgdXNlci1kZWZpbmVkIHR5cGVzIHNvbGVseSBieSB0aGVpciBBU1QgSUQuICBJbiB0aGUgZnV0dXJlLFxuLy9vbmNlIHdlIGV2ZW50dWFsbHkgc3VwcG9ydCBoYXZpbmcgc29tZSBmaWxlcyBjb21waWxlZCBzZXBhcmF0ZWx5IGZyb20gb3RoZXJzLFxuLy90aGlzIHdpbGwgYmVjb21lIGEgYnVnIHlvdSdsbCBoYXZlIHRvIGZpeCwgYW5kIHlvdSdsbCBoYXZlIHRvIGZpeCBpdCBpbiB0aGVcbi8vZGVjb2RlciwgdG9vLiAgU29ycnksIGZ1dHVyZSBtZSEgKG9yIHdob2V2ZXIncyBzdHVjayBkb2luZyB0aGlzKVxuXG5mdW5jdGlvbiB1c2VyRGVmaW5lZFR5cGVzKHN0YXRlID0gW10sIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhY3Rpb25zLkRFRklORV9UWVBFOlxuICAgICAgcmV0dXJuIFsuLi5zdGF0ZSwgYWN0aW9uLm5vZGUuaWRdO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcmFnZShzdGF0ZSA9IHt9LCBhY3Rpb24pIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLkFMTE9DQVRFKSB7XG4gICAgcmV0dXJuIGFjdGlvbi5zdG9yYWdlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuXG5jb25zdCBhbGxvY2F0aW9ucyA9ICgwLCBfcmVkdXguY29tYmluZVJlZHVjZXJzKSh7XG4gIHN0b3JhZ2Vcbn0pO1xuXG5jb25zdCBpbmZvID0gKDAsIF9yZWR1eC5jb21iaW5lUmVkdWNlcnMpKHtcbiAgc2NvcGVzLFxuICB1c2VyRGVmaW5lZFR5cGVzLFxuICBhbGxvY2F0aW9uc1xufSk7XG5cbmNvbnN0IERFRkFVTFRfQVNTSUdOTUVOVFMgPSB7XG4gIGJ5SWQ6IHt9LFxuICBieUFzdElkOiB7fVxufTtcblxuZnVuY3Rpb24gYXNzaWdubWVudHMoc3RhdGUgPSBERUZBVUxUX0FTU0lHTk1FTlRTLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYWN0aW9ucy5BU1NJR046XG4gICAgY2FzZSBhY3Rpb25zLk1BUF9QQVRIX0FORF9BU1NJR046XG4gICAgICBkZWJ1ZyhcImFjdGlvbi50eXBlICVPXCIsIGFjdGlvbi50eXBlKTtcbiAgICAgIGRlYnVnKFwiYWN0aW9uLmFzc2lnbm1lbnRzICVPXCIsIGFjdGlvbi5hc3NpZ25tZW50cyk7XG4gICAgICByZXR1cm4gKDAsIF92YWx1ZXMyLmRlZmF1bHQpKGFjdGlvbi5hc3NpZ25tZW50cy5ieUlkKS5yZWR1Y2UoKGFjYywgYXNzaWdubWVudCkgPT4ge1xuICAgICAgICBsZXQgeyBpZCwgYXN0SWQgfSA9IGFzc2lnbm1lbnQ7IC8vd2UgZG9uJ3QgbmVlZCB0aGUgcmVzdFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGJ5SWQ6ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIGFjYy5ieUlkLCB7XG4gICAgICAgICAgICBbaWRdOiBhc3NpZ25tZW50XG4gICAgICAgICAgfSksXG4gICAgICAgICAgYnlBc3RJZDogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgYWNjLmJ5QXN0SWQsIHtcbiAgICAgICAgICAgIFthc3RJZF06IFsuLi5uZXcgX3NldDIuZGVmYXVsdChbLi4uKGFjYy5ieUFzdElkW2FzdElkXSB8fCBbXSksIGlkXSldXG4gICAgICAgICAgICAvL3dlIHVzZSBhIHNldCBmb3IgdW5pcXVlbmVzc1xuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9LCBzdGF0ZSk7XG5cbiAgICBjYXNlIGFjdGlvbnMuTEVBUk5fQUREUkVTUzpcbiAgICAgIGxldCB7IGR1bW15QWRkcmVzcywgYWRkcmVzcyB9ID0gYWN0aW9uO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnlJZDogKDAsIF9hc3NpZ24yLmRlZmF1bHQpKHt9LCAuLi4oMCwgX3ZhbHVlczIuZGVmYXVsdCkoc3RhdGUuYnlJZCkubWFwKGFzc2lnbm1lbnQgPT4ge1xuICAgICAgICAgIGxldCBuZXdBc3NpZ25tZW50ID0gbGVhcm5BZGRyZXNzKGFzc2lnbm1lbnQsIGR1bW15QWRkcmVzcywgYWRkcmVzcyk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtuZXdBc3NpZ25tZW50LmlkXTogbmV3QXNzaWdubWVudFxuICAgICAgICAgIH07XG4gICAgICAgIH0pKSxcbiAgICAgICAgYnlBc3RJZDogKDAsIF9hc3NpZ24yLmRlZmF1bHQpKHt9LCAuLi4oMCwgX2VudHJpZXMyLmRlZmF1bHQpKHN0YXRlLmJ5QXN0SWQpLm1hcCgoW2FzdElkXSkgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbYXN0SWRdOiBzdGF0ZS5ieUFzdElkW2FzdElkXS5tYXAoaWQgPT4gbGVhcm5BZGRyZXNzKHN0YXRlLmJ5SWRbaWRdLCBkdW1teUFkZHJlc3MsIGFkZHJlc3MpLmlkXG4gICAgICAgICAgICAvL3RoaXMgYWJvdmUgaW52b2x2ZXMgc29tZSByZWNvbXB1dGF0aW9uIGJ1dCBvaCB3ZWxsXG4gICAgICAgICAgICApXG4gICAgICAgICAgfTtcbiAgICAgICAgfSkpXG4gICAgICB9O1xuXG4gICAgY2FzZSBhY3Rpb25zLlJFU0VUOlxuICAgICAgcmV0dXJuIERFRkFVTFRfQVNTSUdOTUVOVFM7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGxlYXJuQWRkcmVzcyhhc3NpZ25tZW50LCBkdW1teUFkZHJlc3MsIGFkZHJlc3MpIHtcbiAgaWYgKGFzc2lnbm1lbnQuZHVtbXlBZGRyZXNzID09PSBkdW1teUFkZHJlc3MpIHtcbiAgICAvL3dlIGNhbiBhc3N1bWUgaGVyZSB0aGF0IHRoZSBvYmplY3QgYmVpbmdcbiAgICAvL3RyYW5zZm9ybWVkIGhhcyBhIHZlcnkgcGFydGljdWxhciBmb3JtXG4gICAgbGV0IG5ld0lkT2JqID0ge1xuICAgICAgYXN0SWQ6IGFzc2lnbm1lbnQuYXN0SWQsXG4gICAgICBhZGRyZXNzXG4gICAgfTtcbiAgICBsZXQgbmV3SWQgPSAoMCwgX2hlbHBlcnMuc3RhYmxlS2VjY2FrMjU2KShuZXdJZE9iaik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBuZXdJZCxcbiAgICAgIHJlZjogYXNzaWdubWVudC5yZWYsXG4gICAgICBhc3RJZDogYXNzaWdubWVudC5hc3RJZCxcbiAgICAgIGFkZHJlc3NcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBhc3NpZ25tZW50O1xuICB9XG59XG5cbmNvbnN0IERFRkFVTFRfUEFUSFMgPSB7XG4gIGRlY29kaW5nU3RhcnRlZDogMCxcbiAgYnlBZGRyZXNzOiB7fSxcbiAgYnlJZDoge30gLy9XQVJOSU5HOiBieUlkIGlzICp3b3JraW5nKiBzdGF0ZSBhbmQgc2hvdWxkIG5vdCBiZSByZWxpZWQgb25cbiAgLy9hc2lkZSBmcm9tIGl0cyBuYXJyb3cgcHVycG9zZSBvZiBhdm9pZGluZyByZWNvbXB1dGF0aW9uIGluIHRoZSBkYXRhIHNhZ2Fcbn07XG5cbi8vV0FSTklORzogZG8gKm5vdCogcmVseSBvbiBtYXBwZWRQYXRocyB0byBrZWVwIHRyYWNrIG9mIHBhdGhzIHRoYXQgZG8gbm90XG4vL2ludm9sdmUgbWFwcGluZyBrZXlzISAgWWVzLCBtYW55IHdpbGwgZ2V0IG1hcHBlZCwgYnV0IHRoZXJlIGlzIG5vIGd1YXJhbnRlZS5cbi8vT25seSB3aGVuIG1hcHBpbmcga2V5cyBhcmUgaW52b2x2ZWQgZG9lcyBpdCBuZWNlc3NhcmlseSB3b3JrIHJlbGlhYmx5IC0tXG4vL3doaWNoIGlzIGZpbmUsIGFzIHRoYXQncyBhbGwgd2UgbmVlZCBpdCBmb3IuXG5mdW5jdGlvbiBtYXBwZWRQYXRocyhzdGF0ZSA9IERFRkFVTFRfUEFUSFMsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhY3Rpb25zLk1BUF9LRVlfREVDT0RJTkc6XG4gICAgICBkZWJ1ZyhcImRlY29kaW5nIHN0YXJ0ZWQ6ICVkXCIsIHN0YXRlLmRlY29kaW5nU3RhcnRlZCArIChhY3Rpb24uc3RhcnRlZCA/IDEgOiAtMSkpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGVjb2RpbmdTdGFydGVkOiBzdGF0ZS5kZWNvZGluZ1N0YXJ0ZWQgKyAoYWN0aW9uLnN0YXJ0ZWQgPyAxIDogLTEpLFxuICAgICAgICBieUFkZHJlc3M6IHN0YXRlLmJ5QWRkcmVzcyxcbiAgICAgICAgYnlJZDogc3RhdGUuYnlJZFxuICAgICAgfTtcbiAgICBjYXNlIGFjdGlvbnMuTUFQX1BBVEhfQU5EX0FTU0lHTjpcbiAgICAgIGxldCB7IGFkZHJlc3MsIHNsb3QsIGFzc2lnbm1lbnRzLCB0eXBlSWRlbnRpZmllciwgYmFzZVR5cGUgfSA9IGFjdGlvbjtcblxuICAgICAgLy93ZSBkbyBOT1Qgd2FudCB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIHR5cGVzIHdpdGggYW5kIHdpdGhvdXQgXCJfcHRyXCIgb25cbiAgICAgIC8vdGhlIGVuZCBoZXJlIVxuICAgICAgZGVidWcoXCJ0eXBlSWRlbnRpZmllciAlc1wiLCB0eXBlSWRlbnRpZmllcik7XG4gICAgICB0eXBlSWRlbnRpZmllciA9IF90cnVmZmxlRGVjb2RlVXRpbHMuRGVmaW5pdGlvbi5yZXN0b3JlUHRyKHR5cGVJZGVudGlmaWVyKTtcbiAgICAgIGJhc2VUeXBlID0gX3RydWZmbGVEZWNvZGVVdGlscy5EZWZpbml0aW9uLnJlc3RvcmVQdHIoYmFzZVR5cGUpO1xuXG4gICAgICAvL2Fzc2lnbm1lbnRzLmJ5SWQgc2hvdWxkIGNvbnRhaW4gcHJlY2lzZWx5IG9uZSBhc3NpZ25tZW50OyB3ZSdsbCBqdXN0XG4gICAgICAvL25lZWQgaXRzIElELCB3aGljaCBpcyBpdHMga2V5XG4gICAgICBsZXQgaWQgPSAoMCwgX2tleXMyLmRlZmF1bHQpKGFzc2lnbm1lbnRzLmJ5SWQpWzBdO1xuXG4gICAgICBkZWJ1ZyhcInNsb3QgJW9cIiwgc2xvdCk7XG4gICAgICBsZXQgaGV4U2xvdEFkZHJlc3MgPSBfdHJ1ZmZsZURlY29kZVV0aWxzLkNvbnZlcnNpb24udG9IZXhTdHJpbmcoKDAsIF90cnVmZmxlRGVjb2Rlci5zbG90QWRkcmVzcykoc2xvdCksIF90cnVmZmxlRGVjb2RlVXRpbHMuRVZNLldPUkRfU0laRSk7XG4gICAgICBsZXQgcGFyZW50QWRkcmVzcyA9IHNsb3QucGF0aCA/IF90cnVmZmxlRGVjb2RlVXRpbHMuQ29udmVyc2lvbi50b0hleFN0cmluZygoMCwgX3RydWZmbGVEZWNvZGVyLnNsb3RBZGRyZXNzKShzbG90LnBhdGgpLCBfdHJ1ZmZsZURlY29kZVV0aWxzLkVWTS5XT1JEX1NJWkUpIDogdW5kZWZpbmVkO1xuXG4gICAgICAvL3RoaXMgaXMgZ29pbmcgdG8gYmUgbWVzc3kgYW5kIHByb2NlZHVyYWwsIHNvcnJ5LiAgYnV0IGxldCdzIHN0YXJ0IHdpdGhcbiAgICAgIC8vdGhlIGVhc3kgc3R1ZmY6IGNyZWF0ZSB0aGUgbmV3IGFkZHJlc3MgaWYgbmVlZGVkLCBjbG9uZSBpZiBub3QsXG4gICAgICAvL2FuZCBzZXQgdXAgYnlJZCByZWdhcmRsZXNzXG4gICAgICBsZXQgbmV3U3RhdGUgPSB7XG4gICAgICAgIGRlY29kaW5nU3RhcnRlZDogc3RhdGUuZGVjb2RpbmdTdGFydGVkLFxuICAgICAgICBieUFkZHJlc3M6ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLmJ5QWRkcmVzcywge1xuICAgICAgICAgIFthZGRyZXNzXToge1xuICAgICAgICAgICAgYnlUeXBlOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCAoc3RhdGUuYnlBZGRyZXNzW2FkZHJlc3NdIHx8IHsgYnlUeXBlOiB7fSB9KS5ieVR5cGUpXG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgYnlJZDogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUuYnlJZCwge1xuICAgICAgICAgIFtpZF06IHsgYWRkcmVzcywgdHlwZUlkZW50aWZpZXIsIHNsb3RBZGRyZXNzOiBoZXhTbG90QWRkcmVzcyB9XG4gICAgICAgIH0pXG4gICAgICB9O1xuXG4gICAgICAvL25vdywgbGV0J3MgYWRkIGluIHRoZSBuZXcgdHlwZSwgaWYgbmVlZGVkXG4gICAgICBuZXdTdGF0ZS5ieUFkZHJlc3NbYWRkcmVzc10uYnlUeXBlID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgbmV3U3RhdGUuYnlBZGRyZXNzW2FkZHJlc3NdLmJ5VHlwZSwge1xuICAgICAgICBbdHlwZUlkZW50aWZpZXJdOiB7XG4gICAgICAgICAgYnlTbG90QWRkcmVzczogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgKG5ld1N0YXRlLmJ5QWRkcmVzc1thZGRyZXNzXS5ieVR5cGVbdHlwZUlkZW50aWZpZXJdIHx8IHtcbiAgICAgICAgICAgIGJ5U2xvdEFkZHJlc3M6IHt9XG4gICAgICAgICAgfSkuYnlTbG90QWRkcmVzcylcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxldCBvbGRTbG90ID0gbmV3U3RhdGUuYnlBZGRyZXNzW2FkZHJlc3NdLmJ5VHlwZVt0eXBlSWRlbnRpZmllcl0uYnlTbG90QWRkcmVzc1toZXhTbG90QWRkcmVzc107XG4gICAgICAvL3llcywgdGhpcyBsb29rcyBzdHJhbmdlLCBidXQgd2UgaGF2ZW4ndCBjaGFuZ2VkIGl0IHlldCBleGNlcHQgdG9cbiAgICAgIC8vY2xvbmUgb3IgY3JlYXRlIGVtcHR5IChhbmQgd2UgZG9uJ3Qgd2FudCB1bmRlZmluZWQhKVxuICAgICAgLy9ub3c6IGlzIHRoZXJlIHNvbWV0aGluZyBhbHJlYWR5IHRoZXJlIG9yIG5vPyAgaWYgbm8sIHdlIG11c3QgYWRkXG4gICAgICBpZiAob2xkU2xvdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxldCBuZXdTbG90O1xuICAgICAgICBkZWJ1ZyhcInBhcmVudEFkZHJlc3MgJW9cIiwgcGFyZW50QWRkcmVzcyk7XG4gICAgICAgIGlmIChwYXJlbnRBZGRyZXNzICE9PSB1bmRlZmluZWQgJiYgbmV3U3RhdGUuYnlBZGRyZXNzW2FkZHJlc3NdLmJ5VHlwZVtiYXNlVHlwZV0gJiYgbmV3U3RhdGUuYnlBZGRyZXNzW2FkZHJlc3NdLmJ5VHlwZVtiYXNlVHlwZV0uYnlTbG90QWRkcmVzc1twYXJlbnRBZGRyZXNzXSkge1xuICAgICAgICAgIC8vaWYgdGhlIHBhcmVudCBpcyBhbHJlYWR5IHByZXNlbnQsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIGdpdmVuXG4gICAgICAgICAgLy9wYXJlbnQhXG4gICAgICAgICAgbmV3U2xvdCA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHNsb3QsIHtcbiAgICAgICAgICAgIHBhdGg6IG5ld1N0YXRlLmJ5QWRkcmVzc1thZGRyZXNzXS5ieVR5cGVbYmFzZVR5cGVdLmJ5U2xvdEFkZHJlc3NbcGFyZW50QWRkcmVzc11cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdTbG90ID0gc2xvdDtcbiAgICAgICAgfVxuICAgICAgICBuZXdTdGF0ZS5ieUFkZHJlc3NbYWRkcmVzc10uYnlUeXBlW3R5cGVJZGVudGlmaWVyXS5ieVNsb3RBZGRyZXNzW2hleFNsb3RBZGRyZXNzXSA9IG5ld1Nsb3Q7XG4gICAgICB9XG4gICAgICAvL2lmIHRoZXJlJ3MgYWxyZWFkeSBzb21ldGhpbmcgdGhlcmUsIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmdcbiAgICAgIC8vKGV4Y2VwdCB1cGRhdGUgYnlJZCwgd2hpY2ggd2UgYWxyZWFkeSBkaWQpXG5cbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcblxuICAgIGNhc2UgYWN0aW9ucy5SRVNFVDpcbiAgICAgIHJldHVybiBERUZBVUxUX1BBVEhTO1xuXG4gICAgY2FzZSBhY3Rpb25zLkxFQVJOX0FERFJFU1M6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZWNvZGluZ1N0YXJ0ZWQ6IHN0YXRlLmRlY29kaW5nU3RhcnRlZCxcbiAgICAgICAgYnlBZGRyZXNzOiAoMCwgX2Fzc2lnbjIuZGVmYXVsdCkoe30sIC4uLigwLCBfZW50cmllczIuZGVmYXVsdCkoc3RhdGUuYnlBZGRyZXNzKS5tYXAoKFthZGRyZXNzLCB0eXBlc10pID0+ICh7XG4gICAgICAgICAgW2FkZHJlc3MgPT09IGFjdGlvbnMuZHVtbXlBZGRyZXNzID8gYWN0aW9uLmFkcmVzcyA6IGFkZHJlc3NdOiB0eXBlc1xuICAgICAgICB9KSkpLFxuICAgICAgICBieUlkOiAoMCwgX2Fzc2lnbjIuZGVmYXVsdCkoe30sIC4uLigwLCBfZW50cmllczIuZGVmYXVsdCkoc3RhdGUuYnlJZCkubWFwKChbaWQsIHsgYWRkcmVzcywgdHlwZSwgc2xvdEFkZHJlc3MgfV0pID0+ICh7XG4gICAgICAgICAgLy9ub3RlIHRoYXQgdGhlIElEIGRvZXMgKm5vdCogbmVlZCB0byBjaGFuZ2UgaGVyZSwgYXMgaXQgY29tZXNcbiAgICAgICAgICAvL2Zyb20gYSBzdGFja2ZyYW1lIGFzc2lnbm1lbnQsIG5vdCBhbiBhZGRyZXNzIGFzc2lnbm1lbnRcbiAgICAgICAgICBbaWRdOiB7XG4gICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzID09PSBhY3Rpb24uZHVtbXlBZGRyZXNzID8gYWN0aW9uLmFkZHJlc3MgOiBhZGRyZXNzLFxuICAgICAgICAgICAgdHlwZUlkZW50aWZpZXI6IHR5cGUsXG4gICAgICAgICAgICBzbG90QWRkcmVzc1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpKVxuICAgICAgfTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cblxuY29uc3QgcHJvYyA9ICgwLCBfcmVkdXguY29tYmluZVJlZHVjZXJzKSh7XG4gIGFzc2lnbm1lbnRzLFxuICBtYXBwZWRQYXRoc1xufSk7XG5cbmNvbnN0IHJlZHVjZXIgPSAoMCwgX3JlZHV4LmNvbWJpbmVSZWR1Y2Vycykoe1xuICBpbmZvLFxuICBwcm9jXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gcmVkdWNlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWIvZGF0YS9yZWR1Y2Vycy5qcyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3NldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc2V0XCIpO1xuXG52YXIgX3NldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXQpO1xuXG52YXIgX2Zyb20gPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb21cIik7XG5cbnZhciBfZnJvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mcm9tKTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kc1wiKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxuZXhwb3J0cy5jYWxsc3RhY2sgPSBjYWxsc3RhY2s7XG5cbnZhciBfcmVkdXggPSByZXF1aXJlKFwicmVkdXhcIik7XG5cbnZhciBfYWN0aW9ucyA9IHJlcXVpcmUoXCIuL2FjdGlvbnNcIik7XG5cbnZhciBhY3Rpb25zID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2FjdGlvbnMpO1xuXG52YXIgX2hlbHBlcnMgPSByZXF1aXJlKFwibGliL2hlbHBlcnNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmNvbnN0IERFRkFVTFRfQ09OVEVYVFMgPSB7XG4gIGJ5Q29udGV4dDoge30sXG4gIGJ5QmluYXJ5OiB7fVxufTtcblxuZnVuY3Rpb24gY29udGV4dHMoc3RhdGUgPSBERUZBVUxUX0NPTlRFWFRTLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIC8qXG4gICAgICogQWRkaW5nIGEgbmV3IGNvbnRleHRcbiAgICAgKi9cbiAgICBjYXNlIGFjdGlvbnMuQUREX0NPTlRFWFQ6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IHsgY29udHJhY3ROYW1lLCByYXcsIGNvbXBpbGVyIH0gPSBhY3Rpb247XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSAoMCwgX2hlbHBlcnMua2VjY2FrMjU2KShyYXcpO1xuXG4gICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwge1xuXG4gICAgICAgICAgYnlDb250ZXh0OiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZS5ieUNvbnRleHQsIHtcblxuICAgICAgICAgICAgW2NvbnRleHRdOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZS5ieUNvbnRleHRbY29udGV4dF0gfHwge30sIHtcblxuICAgICAgICAgICAgICBjb250cmFjdE5hbWUsXG4gICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgIGNvbXBpbGVyXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgLypcbiAgICAgKiBBZGRpbmcgYmluYXJ5IGZvciBhIGNvbnRleHRcbiAgICAgKi9cbiAgICBjYXNlIGFjdGlvbnMuQUREX0JJTkFSWTpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgeyBjb250ZXh0LCBiaW5hcnkgfSA9IGFjdGlvbjtcblxuICAgICAgICBpZiAoc3RhdGUuYnlCaW5hcnlbYmluYXJ5XSkge1xuICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYnlDb250ZXh0OiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZS5ieUNvbnRleHQsIHtcblxuICAgICAgICAgICAgW2NvbnRleHRdOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZS5ieUNvbnRleHRbY29udGV4dF0sIHtcblxuICAgICAgICAgICAgICBiaW5hcnlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSksXG5cbiAgICAgICAgICBieUJpbmFyeTogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUuYnlCaW5hcnksIHtcblxuICAgICAgICAgICAgW2JpbmFyeV06IHsgY29udGV4dDogY29udGV4dCB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgIC8qXG4gICAgICogRGVmYXVsdCBjYXNlXG4gICAgICovXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuXG5jb25zdCBERUZBVUxUX0lOU1RBTkNFUyA9IHtcbiAgYnlBZGRyZXNzOiB7fSxcbiAgYnlDb250ZXh0OiB7fVxufTtcblxuZnVuY3Rpb24gaW5zdGFuY2VzKHN0YXRlID0gREVGQVVMVF9JTlNUQU5DRVMsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgLypcbiAgICAgKiBBZGRpbmcgYSBuZXcgYWRkcmVzcyBmb3IgY29udGV4dFxuICAgICAqL1xuICAgIGNhc2UgYWN0aW9ucy5BRERfSU5TVEFOQ0U6XG4gICAgICBsZXQgeyBhZGRyZXNzLCBjb250ZXh0LCBiaW5hcnkgfSA9IGFjdGlvbjtcblxuICAgICAgLy8gZ2V0IGtub3duIGFkZHJlc3NlcyBmb3IgdGhpcyBjb250ZXh0XG4gICAgICBsZXQgb3RoZXJJbnN0YW5jZXMgPSBzdGF0ZS5ieUNvbnRleHRbY29udGV4dF0gfHwgW107XG4gICAgICBsZXQgb3RoZXJBZGRyZXNzZXMgPSBvdGhlckluc3RhbmNlcy5tYXAoKHsgYWRkcmVzcyB9KSA9PiBhZGRyZXNzKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnlBZGRyZXNzOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZS5ieUFkZHJlc3MsIHtcblxuICAgICAgICAgIFthZGRyZXNzXTogeyBhZGRyZXNzLCBjb250ZXh0LCBiaW5hcnkgfVxuICAgICAgICB9KSxcblxuICAgICAgICBieUNvbnRleHQ6ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLmJ5Q29udGV4dCwge1xuXG4gICAgICAgICAgLy8gcmVjb25zdHJ1Y3QgY29udGV4dCBpbnN0YW5jZXMgdG8gaW5jbHVkZSBuZXcgYWRkcmVzc1xuICAgICAgICAgIFtjb250ZXh0XTogKDAsIF9mcm9tMi5kZWZhdWx0KShuZXcgX3NldDIuZGVmYXVsdChvdGhlckFkZHJlc3NlcykuYWRkKGFkZHJlc3MpKS5tYXAoYWRkcmVzcyA9PiAoeyBhZGRyZXNzIH0pKVxuICAgICAgICB9KVxuICAgICAgfTtcblxuICAgIC8qXG4gICAgICogRGVmYXVsdCBjYXNlXG4gICAgICovXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuXG5jb25zdCBpbmZvID0gKDAsIF9yZWR1eC5jb21iaW5lUmVkdWNlcnMpKHtcbiAgY29udGV4dHMsXG4gIGluc3RhbmNlc1xufSk7XG5cbmZ1bmN0aW9uIGNhbGxzdGFjayhzdGF0ZSA9IFtdLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYWN0aW9ucy5DQUxMOlxuICAgICAgY29uc3QgYWRkcmVzcyA9IGFjdGlvbi5hZGRyZXNzO1xuICAgICAgcmV0dXJuIHN0YXRlLmNvbmNhdChbeyBhZGRyZXNzIH1dKTtcblxuICAgIGNhc2UgYWN0aW9ucy5DUkVBVEU6XG4gICAgICBjb25zdCBiaW5hcnkgPSBhY3Rpb24uYmluYXJ5O1xuICAgICAgcmV0dXJuIHN0YXRlLmNvbmNhdChbeyBiaW5hcnkgfV0pO1xuXG4gICAgY2FzZSBhY3Rpb25zLlJFVFVSTjpcbiAgICAgIC8vSEFDSzogcG9wIHRoZSBzdGFjaywgVU5MRVNTIHRoYXQgd291bGQgbGVhdmUgaXQgZW1wdHkgKHRoaXMgd2lsbCBvbmx5XG4gICAgICAvL2hhcHBlbiBhdCB0aGUgZW5kIHdoZW4gd2Ugd2FudCB0byBrZWVwIHRoZSBsYXN0IG9uZSBhcm91bmQpXG4gICAgICByZXR1cm4gc3RhdGUubGVuZ3RoID4gMSA/IHN0YXRlLnNsaWNlKDAsIC0xKSA6IHN0YXRlO1xuXG4gICAgY2FzZSBhY3Rpb25zLlJFU0VUOlxuICAgICAgcmV0dXJuIFtzdGF0ZVswXV07IC8vbGVhdmUgdGhlIGluaXRpYWwgY2FsbCBzdGlsbCBvbiB0aGUgc3RhY2tcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cblxuY29uc3QgcHJvYyA9ICgwLCBfcmVkdXguY29tYmluZVJlZHVjZXJzKSh7XG4gIGNhbGxzdGFja1xufSk7XG5cbmNvbnN0IHJlZHVjZXIgPSAoMCwgX3JlZHV4LmNvbWJpbmVSZWR1Y2Vycykoe1xuICBpbmZvLFxuICBwcm9jXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gcmVkdWNlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWIvZXZtL3JlZHVjZXJzLmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIik7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfa2V5cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXNcIik7XG5cbnZhciBfa2V5czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXlzKTtcblxuZXhwb3J0cy5mdW5jdGlvbkRlcHRoID0gZnVuY3Rpb25EZXB0aDtcblxudmFyIF9yZWR1eCA9IHJlcXVpcmUoXCJyZWR1eFwiKTtcblxudmFyIF9oZWxwZXJzID0gcmVxdWlyZShcImxpYi9oZWxwZXJzXCIpO1xuXG52YXIgX2FjdGlvbnMgPSByZXF1aXJlKFwiLi9hY3Rpb25zXCIpO1xuXG52YXIgYWN0aW9ucyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9hY3Rpb25zKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuY29uc3QgREVGQVVMVF9TT1VSQ0VTID0ge1xuICBieUlkOiB7fVxufTtcblxuZnVuY3Rpb24gc291cmNlcyhzdGF0ZSA9IERFRkFVTFRfU09VUkNFUywgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAvKlxuICAgICAqIEFkZGluZyBhIG5ldyBzb3VyY2VcbiAgICAgKi9cbiAgICBjYXNlIGFjdGlvbnMuQUREX1NPVVJDRTpcbiAgICAgIGxldCB7IGFzdCwgc291cmNlLCBzb3VyY2VQYXRoLCBjb21waWxlciB9ID0gYWN0aW9uO1xuXG4gICAgICBsZXQgaWQgPSAoMCwgX2tleXMyLmRlZmF1bHQpKHN0YXRlLmJ5SWQpLmxlbmd0aDtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnlJZDogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUuYnlJZCwge1xuXG4gICAgICAgICAgW2lkXToge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBhc3QsXG4gICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICBzb3VyY2VQYXRoLFxuICAgICAgICAgICAgY29tcGlsZXJcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9O1xuXG4gICAgLypcbiAgICAgKiBEZWZhdWx0IGNhc2VcbiAgICAgKi9cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG5cbmNvbnN0IERFRkFVTFRfU09VUkNFTUFQUyA9IHtcbiAgYnlDb250ZXh0OiB7fVxufTtcblxuZnVuY3Rpb24gc291cmNlTWFwcyhzdGF0ZSA9IERFRkFVTFRfU09VUkNFTUFQUywgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAvKlxuICAgICAqIEFkZGluZyBhIG5ldyBzb3VyY2VNYXBcbiAgICAgKi9cbiAgICBjYXNlIGFjdGlvbnMuQUREX1NPVVJDRU1BUDpcbiAgICAgIGxldCB7IGJpbmFyeSwgc291cmNlTWFwIH0gPSBhY3Rpb247XG4gICAgICBsZXQgY29udGV4dCA9ICgwLCBfaGVscGVycy5rZWNjYWsyNTYpKGJpbmFyeSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJ5Q29udGV4dDogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUuYnlDb250ZXh0LCB7XG5cbiAgICAgICAgICBbY29udGV4dF06IHtcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICBzb3VyY2VNYXBcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9O1xuXG4gICAgLypcbiAgICAgKiBEZWZhdWx0IENhc2VcbiAgICAgKi9cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG5cbmNvbnN0IGluZm8gPSAoMCwgX3JlZHV4LmNvbWJpbmVSZWR1Y2Vycykoe1xuICBzb3VyY2VzLFxuICBzb3VyY2VNYXBzXG59KTtcblxuZnVuY3Rpb24gZnVuY3Rpb25EZXB0aChzdGF0ZSA9IDAsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhY3Rpb25zLkpVTVA6XG4gICAgICBjb25zdCBkZWx0YSA9IHNwZWx1bmsoYWN0aW9uLmp1bXBEaXJlY3Rpb24pO1xuICAgICAgcmV0dXJuIHN0YXRlICsgZGVsdGE7XG5cbiAgICBjYXNlIGFjdGlvbnMuUkVTRVQ6XG4gICAgICByZXR1cm4gMDtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3BlbHVuayhqdW1wKSB7XG4gIGlmIChqdW1wID09PSBcImlcIikge1xuICAgIHJldHVybiAxO1xuICB9IGVsc2UgaWYgKGp1bXAgPT09IFwib1wiKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2UgaWYgKGp1bXAgPT09IFwiMlwiKSB7XG4gICAgcmV0dXJuIDI7IC8vSEFDSyBXT1JLQVJPVU5EXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn1cblxuY29uc3QgcHJvYyA9ICgwLCBfcmVkdXguY29tYmluZVJlZHVjZXJzKSh7XG4gIGZ1bmN0aW9uRGVwdGhcbn0pO1xuXG5jb25zdCByZWR1Y2VyID0gKDAsIF9yZWR1eC5jb21iaW5lUmVkdWNlcnMpKHtcbiAgaW5mbyxcbiAgcHJvY1xufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHJlZHVjZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL3NvbGlkaXR5L3JlZHVjZXJzLmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmluZGV4ID0gaW5kZXg7XG5leHBvcnRzLmZpbmlzaGVkID0gZmluaXNoZWQ7XG5leHBvcnRzLnN0ZXBzID0gc3RlcHM7XG5cbnZhciBfcmVkdXggPSByZXF1aXJlKFwicmVkdXhcIik7XG5cbnZhciBfYWN0aW9ucyA9IHJlcXVpcmUoXCIuL2FjdGlvbnNcIik7XG5cbnZhciBhY3Rpb25zID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2FjdGlvbnMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBpbmRleChzdGF0ZSA9IDAsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhY3Rpb25zLlRPQ0s6XG4gICAgICByZXR1cm4gc3RhdGUgKyAxO1xuXG4gICAgY2FzZSBhY3Rpb25zLlJFU0VUOlxuICAgICAgcmV0dXJuIDA7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmlzaGVkKHN0YXRlID0gZmFsc2UsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhY3Rpb25zLkVORF9PRl9UUkFDRTpcbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSBhY3Rpb25zLlJFU0VUOlxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGVwcyhzdGF0ZSA9IG51bGwsIGFjdGlvbikge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuU0FWRV9TVEVQUykge1xuICAgIHJldHVybiBhY3Rpb24uc3RlcHM7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG5cbmNvbnN0IGluZm8gPSAoMCwgX3JlZHV4LmNvbWJpbmVSZWR1Y2Vycykoe1xuICBzdGVwc1xufSk7XG5cbmNvbnN0IHByb2MgPSAoMCwgX3JlZHV4LmNvbWJpbmVSZWR1Y2Vycykoe1xuICBpbmRleCxcbiAgZmluaXNoZWRcbn0pO1xuXG5jb25zdCByZWR1Y2VyID0gKDAsIF9yZWR1eC5jb21iaW5lUmVkdWNlcnMpKHtcbiAgaW5mbyxcbiAgcHJvY1xufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHJlZHVjZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL3RyYWNlL3JlZHVjZXJzLmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIik7XG5cbnZhciBfZGVidWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVidWcpO1xuXG52YXIgX3JlZHV4ID0gcmVxdWlyZShcInJlZHV4XCIpO1xuXG52YXIgX2FjdGlvbnMgPSByZXF1aXJlKFwiLi9hY3Rpb25zXCIpO1xuXG52YXIgYWN0aW9ucyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9hY3Rpb25zKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuY29uc3QgZGVidWcgPSAoMCwgX2RlYnVnMi5kZWZhdWx0KShcImRlYnVnZ2VyOmNvbnRyb2xsZXI6cmVkdWNlcnNcIik7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG5mdW5jdGlvbiBicmVha3BvaW50cyhzdGF0ZSA9IFtdLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYWN0aW9ucy5BRERfQlJFQUtQT0lOVDpcbiAgICAgIC8vY2hlY2sgZm9yIGFueSBleGlzdGluZyBpZGVudGljYWwgYnJlYWtwb2ludHMgdG8gYXZvaWQgcmVkdW5kYW5jeVxuICAgICAgaWYgKHN0YXRlLmZpbHRlcihicmVha3BvaW50ID0+IGJyZWFrcG9pbnQuc291cmNlSWQgPT09IGFjdGlvbi5icmVha3BvaW50LnNvdXJjZUlkICYmIGJyZWFrcG9pbnQubGluZSA9PT0gYWN0aW9uLmJyZWFrcG9pbnQubGluZSAmJiBicmVha3BvaW50Lm5vZGUgPT09IGFjdGlvbi5icmVha3BvaW50Lm5vZGUgLy9tYXkgYmUgdW5kZWZpbmVkXG4gICAgICApLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy9pZiBpdCdzIGFscmVhZHkgdGhlcmUsIGRvIG5vdGhpbmdcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9vdGhlcndpc2UgYWRkIGl0XG4gICAgICAgIHJldHVybiBzdGF0ZS5jb25jYXQoW2FjdGlvbi5icmVha3BvaW50XSk7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgYWN0aW9ucy5SRU1PVkVfQlJFQUtQT0lOVDpcbiAgICAgIHJldHVybiBzdGF0ZS5maWx0ZXIoYnJlYWtwb2ludCA9PiBicmVha3BvaW50LnNvdXJjZUlkICE9PSBhY3Rpb24uYnJlYWtwb2ludC5zb3VyY2VJZCB8fCBicmVha3BvaW50LmxpbmUgIT09IGFjdGlvbi5icmVha3BvaW50LmxpbmUgfHwgYnJlYWtwb2ludC5ub2RlICE9PSBhY3Rpb24uYnJlYWtwb2ludC5ub2RlIC8vbWF5IGJlIHVuZGVmaW5lZFxuICAgICAgKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBhY3Rpb25zLlJFTU9WRV9BTExfQlJFQUtQT0lOVFM6XG4gICAgICByZXR1cm4gW107XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG5cbmNvbnN0IENPTlRST0xfQUNUSU9OUyA9IFthY3Rpb25zLkFEVkFOQ0UsIGFjdGlvbnMuU1RFUF9ORVhULCBhY3Rpb25zLlNURVBfT1ZFUiwgYWN0aW9ucy5TVEVQX0lOVE8sIGFjdGlvbnMuU1RFUF9PVVQsIGFjdGlvbnMuQ09OVElOVUUsIGFjdGlvbnMuUkVTRVRdO1xuXG5mdW5jdGlvbiBpc1N0ZXBwaW5nKHN0YXRlID0gZmFsc2UsIGFjdGlvbikge1xuICBpZiAoQ09OVFJPTF9BQ1RJT05TLmluY2x1ZGVzKGFjdGlvbi50eXBlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGFjdGlvbnMudHlwZSA9PT0gYWN0aW9ucy5FTkRfU1RFUFBJTkcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG5cbmNvbnN0IHJlZHVjZXIgPSAoMCwgX3JlZHV4LmNvbWJpbmVSZWR1Y2Vycykoe1xuICBicmVha3BvaW50cyxcbiAgaXNTdGVwcGluZ1xufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHJlZHVjZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL2NvbnRyb2xsZXIvcmVkdWNlcnMuanMiLCJpbXBvcnQgZGVidWdNb2R1bGUgZnJvbSBcImRlYnVnXCI7XG5jb25zdCBkZWJ1ZyA9IGRlYnVnTW9kdWxlKFwidGVzdDpjb250ZXh0XCIpO1xuXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiY2hhaVwiO1xuXG5pbXBvcnQgR2FuYWNoZSBmcm9tIFwiZ2FuYWNoZS1jb3JlXCI7XG5cbmltcG9ydCB7IHByZXBhcmVDb250cmFjdHMgfSBmcm9tIFwiLi9oZWxwZXJzXCI7XG5pbXBvcnQgRGVidWdnZXIgZnJvbSBcImxpYi9kZWJ1Z2dlclwiO1xuXG5pbXBvcnQgc2Vzc2lvblNlbGVjdG9yIGZyb20gXCJsaWIvc2Vzc2lvbi9zZWxlY3RvcnNcIjtcblxuY29uc3QgX19PVVRFUiA9IGBcbnByYWdtYSBzb2xpZGl0eSB+MC41O1xuXG5pbXBvcnQgXCIuL0lubmVyQ29udHJhY3Quc29sXCI7XG5cbmNvbnRyYWN0IE91dGVyQ29udHJhY3Qge1xuICBldmVudCBPdXRlcigpO1xuXG4gIElubmVyQ29udHJhY3QgaW5uZXI7XG5cbiAgY29uc3RydWN0b3IoYWRkcmVzcyBfaW5uZXIpIHB1YmxpYyB7XG4gICAgaW5uZXIgPSBJbm5lckNvbnRyYWN0KF9pbm5lcik7XG4gIH1cblxuICBmdW5jdGlvbiBydW4oKSBwdWJsaWMge1xuICAgIGlubmVyLnJ1bigpO1xuXG4gICAgZW1pdCBPdXRlcigpO1xuICB9XG59XG5gO1xuXG5jb25zdCBfX0lOTkVSID0gYFxucHJhZ21hIHNvbGlkaXR5IH4wLjU7XG5cbmNvbnRyYWN0IElubmVyQ29udHJhY3Qge1xuICBldmVudCBJbm5lcigpO1xuXG4gIGZ1bmN0aW9uIHJ1bigpIHB1YmxpYyB7XG4gICAgZW1pdCBJbm5lcigpO1xuICB9XG59XG5gO1xuXG5jb25zdCBfX01JR1JBVElPTiA9IGBcbmxldCBPdXRlckNvbnRyYWN0ID0gYXJ0aWZhY3RzLnJlcXVpcmUoXCJPdXRlckNvbnRyYWN0XCIpO1xubGV0IElubmVyQ29udHJhY3QgPSBhcnRpZmFjdHMucmVxdWlyZShcIklubmVyQ29udHJhY3RcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZGVwbG95ZXIpIHtcbiAgcmV0dXJuIGRlcGxveWVyXG4gICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZGVwbG95ZXIuZGVwbG95KElubmVyQ29udHJhY3QpO1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gSW5uZXJDb250cmFjdC5kZXBsb3llZCgpO1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24oaW5uZXIpIHtcbiAgICAgIHJldHVybiBkZXBsb3llci5kZXBsb3koT3V0ZXJDb250cmFjdCwgaW5uZXIuYWRkcmVzcyk7XG4gICAgfSk7XG59O1xuYDtcblxubGV0IG1pZ3JhdGlvbnMgPSB7XG4gIFwiMl9kZXBsb3lfY29udHJhY3RzLmpzXCI6IF9fTUlHUkFUSU9OXG59O1xuXG5sZXQgc291cmNlcyA9IHtcbiAgXCJPdXRlckxpYnJhcnkuc29sXCI6IF9fT1VURVIsXG4gIFwiSW5uZXJDb250cmFjdC5zb2xcIjogX19JTk5FUlxufTtcblxuZGVzY3JpYmUoXCJDb250ZXh0c1wiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHByb3ZpZGVyO1xuXG4gIHZhciBhYnN0cmFjdGlvbnM7XG4gIHZhciBhcnRpZmFjdHM7XG4gIHZhciBmaWxlcztcblxuICBiZWZvcmUoXCJDcmVhdGUgUHJvdmlkZXJcIiwgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgcHJvdmlkZXIgPSBHYW5hY2hlLnByb3ZpZGVyKHsgc2VlZDogXCJkZWJ1Z2dlclwiLCBnYXNMaW1pdDogNzAwMDAwMCB9KTtcbiAgfSk7XG5cbiAgYmVmb3JlKFwiUHJlcGFyZSBjb250cmFjdHMgYW5kIGFydGlmYWN0c1wiLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRpbWVvdXQoMzAwMDApO1xuXG4gICAgbGV0IHByZXBhcmVkID0gYXdhaXQgcHJlcGFyZUNvbnRyYWN0cyhwcm92aWRlciwgc291cmNlcywgbWlncmF0aW9ucyk7XG4gICAgYWJzdHJhY3Rpb25zID0gcHJlcGFyZWQuYWJzdHJhY3Rpb25zO1xuICAgIGFydGlmYWN0cyA9IHByZXBhcmVkLmFydGlmYWN0cztcbiAgICBmaWxlcyA9IHByZXBhcmVkLmZpbGVzO1xuICB9KTtcblxuICBpdChcInJldHVybnMgdmlldyBvZiBhZGRyZXNzZXMgYWZmZWN0ZWRcIiwgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgbGV0IG91dGVyID0gYXdhaXQgYWJzdHJhY3Rpb25zLk91dGVyQ29udHJhY3QuZGVwbG95ZWQoKTtcbiAgICBsZXQgaW5uZXIgPSBhd2FpdCBhYnN0cmFjdGlvbnMuSW5uZXJDb250cmFjdC5kZXBsb3llZCgpO1xuXG4gICAgLy8gcnVuIG91dGVyIGNvbnRyYWN0IG1ldGhvZFxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBvdXRlci5ydW4oKTtcblxuICAgIGFzc2VydC5lcXVhbCgyLCByZXN1bHQucmVjZWlwdC5yYXdMb2dzLmxlbmd0aCwgXCJUaGVyZSBzaG91bGQgYmUgdHdvIGxvZ3NcIik7XG5cbiAgICBsZXQgdHhIYXNoID0gcmVzdWx0LnR4O1xuXG4gICAgbGV0IGJ1Z2dlciA9IGF3YWl0IERlYnVnZ2VyLmZvclR4KHR4SGFzaCwge1xuICAgICAgcHJvdmlkZXIsXG4gICAgICBmaWxlcyxcbiAgICAgIGNvbnRyYWN0czogYXJ0aWZhY3RzXG4gICAgfSk7XG4gICAgZGVidWcoXCJkZWJ1Z2dlciByZWFkeVwiKTtcblxuICAgIGxldCBzZXNzaW9uID0gYnVnZ2VyLmNvbm5lY3QoKTtcblxuICAgIGxldCBhZmZlY3RlZEluc3RhbmNlcyA9IHNlc3Npb24udmlldyhcbiAgICAgIHNlc3Npb25TZWxlY3Rvci5pbmZvLmFmZmVjdGVkSW5zdGFuY2VzXG4gICAgKTtcbiAgICBkZWJ1ZyhcImFmZmVjdGVkSW5zdGFuY2VzOiAlb1wiLCBhZmZlY3RlZEluc3RhbmNlcyk7XG5cbiAgICBsZXQgYWZmZWN0ZWRBZGRyZXNzZXMgPSBPYmplY3Qua2V5cyhhZmZlY3RlZEluc3RhbmNlcykubWFwKGFkZHJlc3MgPT5cbiAgICAgIGFkZHJlc3MudG9Mb3dlckNhc2UoKVxuICAgICk7XG5cbiAgICBhc3NlcnQuZXF1YWwoMiwgYWZmZWN0ZWRBZGRyZXNzZXMubGVuZ3RoKTtcblxuICAgIGFzc2VydC5pbmNsdWRlKFxuICAgICAgYWZmZWN0ZWRBZGRyZXNzZXMsXG4gICAgICBvdXRlci5hZGRyZXNzLnRvTG93ZXJDYXNlKCksXG4gICAgICBcIk91dGVyQ29udHJhY3Qgc2hvdWxkIGJlIGFuIGFmZmVjdGVkIGFkZHJlc3NcIlxuICAgICk7XG5cbiAgICBhc3NlcnQuaW5jbHVkZShcbiAgICAgIGFmZmVjdGVkQWRkcmVzc2VzLFxuICAgICAgaW5uZXIuYWRkcmVzcy50b0xvd2VyQ2FzZSgpLFxuICAgICAgXCJJbm5lckNvbnRyYWN0IHNob3VsZCBiZSBhbiBhZmZlY3RlZCBhZGRyZXNzXCJcbiAgICApO1xuICB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHRlc3QvY29udGV4dC5qcyIsImltcG9ydCBkZWJ1Z01vZHVsZSBmcm9tIFwiZGVidWdcIjtcbmNvbnN0IGRlYnVnID0gZGVidWdNb2R1bGUoXCJ0ZXN0OmRhdGE6ZGVjb2RlXCIpO1xuXG5pbXBvcnQgZmFrZXIgZnJvbSBcImZha2VyXCI7XG5cbmltcG9ydCBldm0gZnJvbSBcImxpYi9ldm0vc2VsZWN0b3JzXCI7XG5cbmltcG9ydCB7IGdlbmVyYXRlVWludHMsIGRlc2NyaWJlRGVjb2RpbmcgfSBmcm9tIFwiLi9oZWxwZXJzXCI7XG5cbmNvbnN0IHVpbnRzID0gZ2VuZXJhdGVVaW50cygpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUFycmF5KGxlbmd0aCkge1xuICByZXR1cm4gWy4uLkFycmF5KGxlbmd0aCldLm1hcCgoKSA9PiB1aW50cy5uZXh0KCkudmFsdWUpO1xufVxuXG5jb25zdCBjb21tb25GaXh0dXJlcyA9IFtcbiAge1xuICAgIG5hbWU6IFwibXVsdGlwbGVGdWxsV29yZEFycmF5XCIsXG4gICAgdHlwZTogXCJ1aW50W11cIixcbiAgICB2YWx1ZTogZ2VuZXJhdGVBcnJheSgzKSAvLyB0YWtlcyB1cCAzIHdob2xlIHdvcmRzXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIndpdGhpbldvcmRBcnJheVwiLFxuICAgIHR5cGU6IFwidWludDE2W11cIixcbiAgICB2YWx1ZTogZ2VuZXJhdGVBcnJheSgxMCkgLy8gdGFrZXMgdXAgPjEvMiB3b3JkXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIm11bHRpcGxlUGFydFdvcmRBcnJheVwiLFxuICAgIHR5cGU6IFwidWludDY0W11cIixcbiAgICB2YWx1ZTogZ2VuZXJhdGVBcnJheSg5KSAvLyB0YWtlcyB1cCAyLjI1IHdvcmRzXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcImluY29udmVuaWVudGx5V29yZE9mZnNldEFycmF5XCIsXG4gICAgdHlwZTogXCJ1aW50MjQwW11cIixcbiAgICB2YWx1ZTogZ2VuZXJhdGVBcnJheSgzKSAvLyB0YWtlcyB1cCB+Mi44IHdvcmRzXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcInNob3J0U3RyaW5nXCIsXG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB2YWx1ZTogXCJoZWxsbyB3b3JsZFwiXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcImxvbmdTdHJpbmdcIixcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHZhbHVlOiBcInNvbGlkaXR5IGFsbG9jYXRpb24gaXMgYSBmdW4gbGVzc29uIGluIGVuZGlhbm5lc3NcIlxuICB9XG5dO1xuXG5jb25zdCBtYXBwaW5nRml4dHVyZXMgPSBbXG4gIHtcbiAgICBuYW1lOiBcInNpbXBsZU1hcHBpbmdcIixcbiAgICB0eXBlOiB7XG4gICAgICBmcm9tOiBcInVpbnQyNTZcIixcbiAgICAgIHRvOiBcInVpbnQyNTZcIlxuICAgIH0sXG4gICAgdmFsdWU6IHtcbiAgICAgIC4uLk9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICAuLi5nZW5lcmF0ZUFycmF5KDUpLm1hcCgodmFsdWUsIGlkeCkgPT4gKHsgW2lkeF06IHZhbHVlIH0pKVxuICAgICAgKVxuICAgIH1cbiAgfSxcbiAge1xuICAgIG5hbWU6IFwibnVtYmVyZWRTdHJpbmdzXCIsXG4gICAgdHlwZToge1xuICAgICAgZnJvbTogXCJ1aW50MjU2XCIsXG4gICAgICB0bzogXCJzdHJpbmdcIlxuICAgIH0sXG4gICAgdmFsdWU6IHtcbiAgICAgIC4uLk9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICAuLi5nZW5lcmF0ZUFycmF5KDcpLm1hcCgodmFsdWUsIGlkeCkgPT4gKHtcbiAgICAgICAgICBbdmFsdWVdOiBmYWtlci5sb3JlbS5zbHVnKGlkeClcbiAgICAgICAgfSkpXG4gICAgICApXG4gICAgfVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJzdHJpbmdzVG9TdHJpbmdzXCIsXG4gICAgdHlwZToge1xuICAgICAgZnJvbTogXCJzdHJpbmdcIixcbiAgICAgIHRvOiBcInN0cmluZ1wiXG4gICAgfSxcbiAgICB2YWx1ZToge1xuICAgICAgLi4uT2JqZWN0LmFzc2lnbihcbiAgICAgICAge30sXG4gICAgICAgIC4uLlswLCAxLCAyLCAzLCA0XS5tYXAoaWR4ID0+ICh7XG4gICAgICAgICAgW2Zha2VyLmxvcmVtLnNsdWcoaWR4KV06IGZha2VyLmxvcmVtLnNsdWcoaWR4KVxuICAgICAgICB9KSlcbiAgICAgIClcbiAgICB9XG4gIH1cbl07XG5cbmRlYnVnKFwibWFwcGluZ0ZpeHR1cmVzICVPXCIsIG1hcHBpbmdGaXh0dXJlcyk7XG5cbmRlc2NyaWJlKFwiRGVjb2RpbmdcIiwgZnVuY3Rpb24oKSB7XG4gIC8qXG4gICAqIFN0b3JhZ2UgVGVzdHNcbiAgICovXG4gIGRlc2NyaWJlRGVjb2RpbmcoXG4gICAgXCJTdG9yYWdlIFZhcmlhYmxlc1wiLFxuICAgIGNvbW1vbkZpeHR1cmVzLFxuICAgIGV2bS5jdXJyZW50LnN0YXRlLnN0b3JhZ2UsXG5cbiAgICAoY29udHJhY3ROYW1lLCBmaXh0dXJlcykgPT4ge1xuICAgICAgcmV0dXJuIGBwcmFnbWEgc29saWRpdHkgfjAuNTtcblxuY29udHJhY3QgJHtjb250cmFjdE5hbWV9IHtcblxuICBldmVudCBEb25lKCk7XG5cbiAgLy8gZGVjbGFyYXRpb25zXG4gICR7Zml4dHVyZXMubWFwKCh7IHR5cGUsIG5hbWUgfSkgPT4gYCR7dHlwZX0gJHtuYW1lfTtgKS5qb2luKFwiXFxuICBcIil9XG5cbiAgZnVuY3Rpb24gcnVuKCkgcHVibGljIHtcbiAgICAke2ZpeHR1cmVzXG4gICAgICAubWFwKCh7IG5hbWUsIHZhbHVlIH0pID0+IGAke25hbWV9ID0gJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9O2ApXG4gICAgICAuam9pbihcIlxcbiAgICBcIil9XG5cbiAgICBlbWl0IERvbmUoKTtcbiAgfVxufVxuYDtcbiAgICB9XG4gICk7XG5cbiAgZGVzY3JpYmVEZWNvZGluZyhcbiAgICBcIk1hcHBpbmcgVmFyaWFibGVzXCIsXG4gICAgbWFwcGluZ0ZpeHR1cmVzLFxuICAgIGV2bS5jdXJyZW50LnN0YXRlLnN0b3JhZ2UsXG5cbiAgICAoY29udHJhY3ROYW1lLCBmaXh0dXJlcykgPT4ge1xuICAgICAgcmV0dXJuIGBwcmFnbWEgc29saWRpdHkgfjAuNTtcblxuY29udHJhY3QgJHtjb250cmFjdE5hbWV9IHtcbiAgZXZlbnQgRG9uZSgpO1xuXG4gIC8vIGRlY2xhcmF0aW9uc1xuICAke2ZpeHR1cmVzXG4gICAgLm1hcChcbiAgICAgICh7IG5hbWUsIHR5cGU6IHsgZnJvbSwgdG8gfSB9KSA9PiBgbWFwcGluZyAoJHtmcm9tfSA9PiAke3RvfSkgJHtuYW1lfTtgXG4gICAgKVxuICAgIC5qb2luKFwiXFxuICBcIil9XG5cbiAgZnVuY3Rpb24gcnVuKCkgcHVibGljIHtcbiAgICAke2ZpeHR1cmVzXG4gICAgICAubWFwKCh7IG5hbWUsIHR5cGU6IHsgZnJvbSB9LCB2YWx1ZSB9KSA9PlxuICAgICAgICBPYmplY3QuZW50cmllcyh2YWx1ZSlcbiAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgKFtrLCB2XSkgPT5cbiAgICAgICAgICAgICAgZnJvbSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgID8gYCR7bmFtZX1bXCIke2t9XCJdID0gJHtKU09OLnN0cmluZ2lmeSh2KX07YFxuICAgICAgICAgICAgICAgIDogYCR7bmFtZX1bJHtrfV0gPSAke0pTT04uc3RyaW5naWZ5KHYpfTtgXG4gICAgICAgICAgKVxuICAgICAgICAgIC5qb2luKFwiXFxuICAgIFwiKVxuICAgICAgKVxuICAgICAgLmpvaW4oXCJcXG5cXG4gICAgXCIpfVxuXG4gICAgZW1pdCBEb25lKCk7XG4gIH1cbn1cbmA7XG4gICAgfVxuICApO1xuXG4gIC8qXG4gICAqIE1lbW9yeSBUZXN0c1xuICAgKi9cbiAgZGVzY3JpYmVEZWNvZGluZyhcbiAgICBcIk1lbW9yeSBWYXJpYWJsZXNcIixcbiAgICBjb21tb25GaXh0dXJlcyxcbiAgICBldm0uY3VycmVudC5zdGF0ZS5tZW1vcnksXG5cbiAgICAoY29udHJhY3ROYW1lLCBmaXh0dXJlcykgPT4ge1xuICAgICAgY29uc3Qgc2VwYXJhdG9yID0gXCI7XFxuICAgIFwiO1xuXG4gICAgICBmdW5jdGlvbiBkZWNsYXJlQXNzaWduKHsgbmFtZSwgdHlwZSwgdmFsdWUgfSkge1xuICAgICAgICBpZiAodHlwZS5pbmRleE9mKFwiW11cIikgIT0gLTEpIHtcbiAgICAgICAgICAvLyBhcnJheSwgbXVzdCBgbmV3YFxuICAgICAgICAgIGxldCBkZWNsYXJlID0gYCR7dHlwZX0gbWVtb3J5ICR7bmFtZX0gPSBuZXcgJHt0eXBlfSgke3ZhbHVlLmxlbmd0aH0pYDtcbiAgICAgICAgICBsZXQgYXNzaWducyA9IHZhbHVlLm1hcCgoaywgaSkgPT4gYCR7bmFtZX1bJHtpfV0gPSAke2t9YCk7XG4gICAgICAgICAgcmV0dXJuIGAke2RlY2xhcmV9JHtzZXBhcmF0b3J9JHthc3NpZ25zLmpvaW4oc2VwYXJhdG9yKX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBgJHt0eXBlfSBtZW1vcnkgJHtuYW1lfSA9ICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfWA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGBwcmFnbWEgc29saWRpdHkgfjAuNTtcblxuY29udHJhY3QgJHtjb250cmFjdE5hbWV9IHtcblxuICBldmVudCBEb25lKCk7XG5cbiAgZnVuY3Rpb24gcnVuKCkgcHVibGljIHtcbiAgICB1aW50IGk7XG4gICAgLy8gZGVjbGFyYXRpb25zXG4gICAgJHtmaXh0dXJlcy5tYXAoZGVjbGFyZUFzc2lnbikuam9pbihzZXBhcmF0b3IpfTtcblxuICAgIGVtaXQgRG9uZSgpO1xuICB9XG59XG5gO1xuICAgIH1cbiAgKTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHRlc3QvZGF0YS9kZWNvZGluZy5qcyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeVwiXG4vLyBtb2R1bGUgaWQgPSA4NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmYWtlclwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImZha2VyXCJcbi8vIG1vZHVsZSBpZCA9IDg1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNoYW5nZS1jYXNlXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiY2hhbmdlLWNhc2VcIlxuLy8gbW9kdWxlIGlkID0gODZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IGRlYnVnTW9kdWxlIGZyb20gXCJkZWJ1Z1wiO1xuY29uc3QgZGVidWcgPSBkZWJ1Z01vZHVsZShcInRlc3Q6ZGF0YTppZHNcIik7XG5cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCJjaGFpXCI7XG5cbmltcG9ydCBHYW5hY2hlIGZyb20gXCJnYW5hY2hlLWNvcmVcIjtcblxuaW1wb3J0IHsgcHJlcGFyZUNvbnRyYWN0cyB9IGZyb20gXCIuLi9oZWxwZXJzXCI7XG5pbXBvcnQgRGVidWdnZXIgZnJvbSBcImxpYi9kZWJ1Z2dlclwiO1xuXG5pbXBvcnQgdHJhY2UgZnJvbSBcImxpYi90cmFjZS9zZWxlY3RvcnNcIjtcbmltcG9ydCBzb2xpZGl0eSBmcm9tIFwibGliL3NvbGlkaXR5L3NlbGVjdG9yc1wiO1xuXG5pbXBvcnQgKiBhcyBUcnVmZmxlRGVjb2RlVXRpbHMgZnJvbSBcInRydWZmbGUtZGVjb2RlLXV0aWxzXCI7XG5pbXBvcnQgQk4gZnJvbSBcImJuLmpzXCI7XG5cbmNvbnN0IF9fRkFDVE9SSUFMID0gYFxucHJhZ21hIHNvbGlkaXR5IF4wLjUuMDtcblxuY29udHJhY3QgRmFjdG9yaWFsVGVzdCB7XG5cbiAgdWludCBsYXN0UmVzdWx0O1xuXG4gIGZ1bmN0aW9uIGZhY3RvcmlhbCh1aW50IG4pIHB1YmxpYyByZXR1cm5zKHVpbnQgbmJhbmcpXG4gIHtcbiAgICB1aW50IHByZXY7XG4gICAgdWludCBwcmV2RmFjO1xuICAgIG5iYW5nID0gbjtcbiAgICBwcmV2ID0gbiAtIDE7IC8vYnJlYWsgaGVyZSAoMTIpXG4gICAgaWYobj4wKVxuICAgIHtcbiAgICAgIHByZXZGYWMgPSBmYWN0b3JpYWwobiAtIDEpO1xuICAgICAgbmJhbmcgPSBuICogcHJldkZhYztcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgIG5iYW5nID0gMTtcbiAgICB9XG4gICAgbGFzdFJlc3VsdCA9IG5iYW5nOyAvL2JyZWFrIGhlcmUgKDIyKVxuICB9XG59XG5gO1xuXG5jb25zdCBfX0FERFJFU1MgPSBgXG5wcmFnbWEgc29saWRpdHkgXjAuNS4wO1xuXG5jb250cmFjdCBBZGRyZXNzVGVzdCB7XG5cbiAgdWludDggeDtcbiAgdWludDggeTtcbiAgdWludDggcmVzdWx0O1xuXG4gIGZ1bmN0aW9uIHJ1bigpIHB1YmxpY1xuICB7XG4gICAgU2VjcmV0Qnl0ZSB0ZXN0MSA9IG5ldyBTZWNyZXRCeXRlKDEwNyk7XG4gICAgU2VjcmV0Qnl0ZSB0ZXN0MiA9IG5ldyBTZWNyZXRCeXRlKDQ2KTtcbiAgICB4ID0gdGVzdDEubWFuZ2xlKCk7XG4gICAgeSA9IHRlc3QyLm1hbmdsZSgpO1xuICB9XG59XG5cbmNvbnRyYWN0IFNlY3JldEJ5dGUge1xuXG4gIHVpbnQ4IHByaXZhdGUgc2VjcmV0O1xuXG4gIGNvbnN0cnVjdG9yKHVpbnQ4IG4pIHB1YmxpY1xuICB7XG4gICAgc2VjcmV0ID0gbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1hbmdsZSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ4KVxuICB7XG4gICAgdWludDggbWFuZ2xlZDtcbiAgICBtYW5nbGVkID0gc2VjcmV0ICsgMTtcblxuICAgIHJldHVybiBtYW5nbGVkOyAvL2JyZWFrIGhlcmUgKDMyKVxuXG4gIH1cbn1cbmA7XG5cbmNvbnN0IF9fSU5URVJWRU5JTkcgPSBgXG5wcmFnbWEgc29saWRpdHkgXjAuNS4wO1xuXG5pbXBvcnQgXCIuL0ludGVydmVuaW5nTGliLnNvbFwiO1xuXG5jb250cmFjdCBJbnRlcnZlbmluZyB7XG5cbiAgSW5uZXIgaW5uZXI7XG5cbiAgY29uc3RydWN0b3IoYWRkcmVzcyBfaW5uZXIpIHB1YmxpYyB7XG4gICAgaW5uZXIgPSBJbm5lcihfaW5uZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcnVuKCkgcHVibGljIHtcbiAgICB1aW50OCBmbGFnO1xuICAgIGZsYWcgPSAwO1xuICAgIGlubmVyLnJ1bigpO1xuXG4gICAgZmxhZyA9IDE7IC8vYnJlYWsgaGVyZSAoMTgpXG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHJ1bkxpYigpIHB1YmxpYyB7XG4gICAgdWludDggZmxhZztcbiAgICBmbGFnID0gMDtcbiAgICBmbGFnID0gSW50ZXJ2ZW5pbmdMaWIucnVuKCk7XG5cbiAgICBmbGFnID0gMTsgLy9icmVhayBoZXJlICgyNylcblxuICB9XG59XG5cbmNvbnRyYWN0IElubmVyIHtcblxuICB1aW50OCBmbGFnO1xuXG4gIGNvbnN0cnVjdG9yKCkgcHVibGljIHtcbiAgICBmbGFnID0gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJ1bigpIHB1YmxpYyByZXR1cm5zICh1aW50OCkge1xuICAgIGZsYWcgPSAxO1xuICAgIHJldHVybiAyO1xuICB9XG59XG5cbmA7XG5cbmNvbnN0IF9fSU5URVJWRU5JTkdMSUIgPSBgXG5wcmFnbWEgc29saWRpdHkgXjAuNS4wO1xuXG5saWJyYXJ5IEludGVydmVuaW5nTGliIHtcblxuICBmdW5jdGlvbiBydW4oKSBwdXJlIGV4dGVybmFsIHJldHVybnMgKHVpbnQ4KSB7XG4gICAgcmV0dXJuIDI7XG4gIH1cbn1cbmA7XG5cbmNvbnN0IF9fTUlHUkFUSU9OID0gYFxubGV0IEludGVydmVuaW5nID0gYXJ0aWZhY3RzLnJlcXVpcmUoXCJJbnRlcnZlbmluZ1wiKTtcbmxldCBJbm5lciA9IGFydGlmYWN0cy5yZXF1aXJlKFwiSW5uZXJcIik7XG5sZXQgQWRkcmVzc1Rlc3QgPSBhcnRpZmFjdHMucmVxdWlyZShcIkFkZHJlc3NUZXN0XCIpO1xubGV0IEZhY3RvcmlhbFRlc3QgPSBhcnRpZmFjdHMucmVxdWlyZShcIkZhY3RvcmlhbFRlc3RcIik7XG5sZXQgSW50ZXJ2ZW5pbmdMaWIgPSBhcnRpZmFjdHMucmVxdWlyZShcIkludGVydmVuaW5nTGliXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jIGZ1bmN0aW9uKGRlcGxveWVyKSB7XG4gIGF3YWl0IGRlcGxveWVyLmRlcGxveShJbnRlcnZlbmluZ0xpYik7XG4gIGF3YWl0IGRlcGxveWVyLmRlcGxveShJbm5lcik7XG4gIGNvbnN0IGlubmVyID0gYXdhaXQgSW5uZXIuZGVwbG95ZWQoKTtcbiAgYXdhaXQgZGVwbG95ZXIubGluayhJbnRlcnZlbmluZ0xpYiwgSW50ZXJ2ZW5pbmcpO1xuICBhd2FpdCBkZXBsb3llci5kZXBsb3koSW50ZXJ2ZW5pbmcsIGlubmVyLmFkZHJlc3MpO1xuICBhd2FpdCBkZXBsb3llci5kZXBsb3koQWRkcmVzc1Rlc3QpO1xuICBhd2FpdCBkZXBsb3llci5kZXBsb3koRmFjdG9yaWFsVGVzdCk7XG59O1xuYDtcblxubGV0IHNvdXJjZXMgPSB7XG4gIFwiRmFjdG9yaWFsVGVzdC5zb2xcIjogX19GQUNUT1JJQUwsXG4gIFwiQWRkcmVzc1Rlc3Quc29sXCI6IF9fQUREUkVTUyxcbiAgXCJJbnRlcnZlbmluZy5zb2xcIjogX19JTlRFUlZFTklORyxcbiAgXCJJbnRlcnZlbmluZ0xpYi5zb2xcIjogX19JTlRFUlZFTklOR0xJQlxufTtcblxubGV0IG1pZ3JhdGlvbnMgPSB7XG4gIFwiMl9kZXBsb3lfY29udHJhY3RzLmpzXCI6IF9fTUlHUkFUSU9OXG59O1xuXG5kZXNjcmliZShcIlZhcmlhYmxlIElEc1wiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHByb3ZpZGVyO1xuXG4gIHZhciBhYnN0cmFjdGlvbnM7XG4gIHZhciBhcnRpZmFjdHM7XG4gIHZhciBmaWxlcztcblxuICBiZWZvcmUoXCJDcmVhdGUgUHJvdmlkZXJcIiwgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgcHJvdmlkZXIgPSBHYW5hY2hlLnByb3ZpZGVyKHsgc2VlZDogXCJkZWJ1Z2dlclwiLCBnYXNMaW1pdDogNzAwMDAwMCB9KTtcbiAgfSk7XG5cbiAgYmVmb3JlKFwiUHJlcGFyZSBjb250cmFjdHMgYW5kIGFydGlmYWN0c1wiLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRpbWVvdXQoMzAwMDApO1xuXG4gICAgbGV0IHByZXBhcmVkID0gYXdhaXQgcHJlcGFyZUNvbnRyYWN0cyhwcm92aWRlciwgc291cmNlcywgbWlncmF0aW9ucyk7XG4gICAgYWJzdHJhY3Rpb25zID0gcHJlcGFyZWQuYWJzdHJhY3Rpb25zO1xuICAgIGFydGlmYWN0cyA9IHByZXBhcmVkLmFydGlmYWN0cztcbiAgICBmaWxlcyA9IHByZXBhcmVkLmZpbGVzO1xuICB9KTtcblxuICBpdChcIkRpc3Rpbmd1aXNoZXMgYmV0d2VlbiBzdGFja2ZyYW1lc1wiLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICBsZXQgaW5zdGFuY2UgPSBhd2FpdCBhYnN0cmFjdGlvbnMuRmFjdG9yaWFsVGVzdC5kZXBsb3llZCgpO1xuICAgIGxldCByZWNlaXB0ID0gYXdhaXQgaW5zdGFuY2UuZmFjdG9yaWFsKDMpO1xuICAgIGxldCB0eEhhc2ggPSByZWNlaXB0LnR4O1xuXG4gICAgbGV0IGJ1Z2dlciA9IGF3YWl0IERlYnVnZ2VyLmZvclR4KHR4SGFzaCwge1xuICAgICAgcHJvdmlkZXIsXG4gICAgICBmaWxlcyxcbiAgICAgIGNvbnRyYWN0czogYXJ0aWZhY3RzXG4gICAgfSk7XG5cbiAgICBsZXQgc2Vzc2lvbiA9IGJ1Z2dlci5jb25uZWN0KCk7XG4gICAgZGVidWcoXCJzb3VyY2VJZCAlZFwiLCBzZXNzaW9uLnZpZXcoc29saWRpdHkuY3VycmVudC5zb3VyY2UpLmlkKTtcblxuICAgIGxldCBzb3VyY2VJZCA9IHNlc3Npb24udmlldyhzb2xpZGl0eS5jdXJyZW50LnNvdXJjZSkuaWQ7XG4gICAgc2Vzc2lvbi5hZGRCcmVha3BvaW50KHsgc291cmNlSWQsIGxpbmU6IDEyIH0pO1xuICAgIHNlc3Npb24uYWRkQnJlYWtwb2ludCh7IHNvdXJjZUlkLCBsaW5lOiAyMiB9KTtcblxuICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgIHNlc3Npb24uY29udGludWVVbnRpbEJyZWFrcG9pbnQoKTtcbiAgICB3aGlsZSAoIXNlc3Npb24udmlldyh0cmFjZS5maW5pc2hlZCkpIHtcbiAgICAgIHZhbHVlcy5wdXNoKGF3YWl0IHNlc3Npb24udmFyaWFibGUoXCJuYmFuZ1wiKSk7XG4gICAgICBzZXNzaW9uLmNvbnRpbnVlVW50aWxCcmVha3BvaW50KCk7XG4gICAgfVxuXG4gICAgYXNzZXJ0LmRlZXBFcXVhbCh2YWx1ZXMsIFtcbiAgICAgIG5ldyBCTigzKSxcbiAgICAgIG5ldyBCTigyKSxcbiAgICAgIG5ldyBCTigxKSxcbiAgICAgIG5ldyBCTigwKSxcbiAgICAgIG5ldyBCTigxKSxcbiAgICAgIG5ldyBCTigxKSxcbiAgICAgIG5ldyBCTigyKSxcbiAgICAgIG5ldyBCTig2KVxuICAgIF0pO1xuICB9KTtcblxuICBpdChcIkxlYXJucyBjb250cmFjdCBhZGRyZXNzZXMgYW5kIGRpc3Rpbmd1aXNoZXMgdGhlIHJlc3VsdHNcIiwgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy50aW1lb3V0KDQwMDApO1xuICAgIGxldCBpbnN0YW5jZSA9IGF3YWl0IGFic3RyYWN0aW9ucy5BZGRyZXNzVGVzdC5kZXBsb3llZCgpO1xuICAgIGxldCByZWNlaXB0ID0gYXdhaXQgaW5zdGFuY2UucnVuKCk7XG4gICAgbGV0IHR4SGFzaCA9IHJlY2VpcHQudHg7XG5cbiAgICBsZXQgYnVnZ2VyID0gYXdhaXQgRGVidWdnZXIuZm9yVHgodHhIYXNoLCB7XG4gICAgICBwcm92aWRlcixcbiAgICAgIGZpbGVzLFxuICAgICAgY29udHJhY3RzOiBhcnRpZmFjdHNcbiAgICB9KTtcblxuICAgIGxldCBzZXNzaW9uID0gYnVnZ2VyLmNvbm5lY3QoKTtcbiAgICBkZWJ1ZyhcInNvdXJjZUlkICVkXCIsIHNlc3Npb24udmlldyhzb2xpZGl0eS5jdXJyZW50LnNvdXJjZSkuaWQpO1xuXG4gICAgbGV0IHNvdXJjZUlkID0gc2Vzc2lvbi52aWV3KHNvbGlkaXR5LmN1cnJlbnQuc291cmNlKS5pZDtcbiAgICBzZXNzaW9uLmFkZEJyZWFrcG9pbnQoeyBzb3VyY2VJZCwgbGluZTogMzIgfSk7XG4gICAgc2Vzc2lvbi5jb250aW51ZVVudGlsQnJlYWtwb2ludCgpO1xuICAgIGRlYnVnKFwibm9kZSAlb1wiLCBzZXNzaW9uLnZpZXcoc29saWRpdHkuY3VycmVudC5ub2RlKSk7XG4gICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgVHJ1ZmZsZURlY29kZVV0aWxzLkNvbnZlcnNpb24uY2xlYW5CTnMoYXdhaXQgc2Vzc2lvbi52YXJpYWJsZShcInNlY3JldFwiKSksXG4gICAgICBcIjEwN1wiXG4gICAgKTtcbiAgICBzZXNzaW9uLmNvbnRpbnVlVW50aWxCcmVha3BvaW50KCk7XG4gICAgZGVidWcoXCJub2RlICVvXCIsIHNlc3Npb24udmlldyhzb2xpZGl0eS5jdXJyZW50Lm5vZGUpKTtcbiAgICBhc3NlcnQuZXF1YWwoXG4gICAgICBUcnVmZmxlRGVjb2RlVXRpbHMuQ29udmVyc2lvbi5jbGVhbkJOcyhhd2FpdCBzZXNzaW9uLnZhcmlhYmxlKFwic2VjcmV0XCIpKSxcbiAgICAgIFwiNDZcIlxuICAgICk7XG4gIH0pO1xuXG4gIGl0KFwiU3RheXMgYXQgY29ycmVjdCBzdGFja2ZyYW1lIGFmdGVyIGNvbnRyYWN0IGNhbGxcIiwgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgbGV0IGluc3RhbmNlID0gYXdhaXQgYWJzdHJhY3Rpb25zLkludGVydmVuaW5nLmRlcGxveWVkKCk7XG4gICAgbGV0IHJlY2VpcHQgPSBhd2FpdCBpbnN0YW5jZS5ydW4oKTtcbiAgICBsZXQgdHhIYXNoID0gcmVjZWlwdC50eDtcblxuICAgIGxldCBidWdnZXIgPSBhd2FpdCBEZWJ1Z2dlci5mb3JUeCh0eEhhc2gsIHtcbiAgICAgIHByb3ZpZGVyLFxuICAgICAgZmlsZXMsXG4gICAgICBjb250cmFjdHM6IGFydGlmYWN0c1xuICAgIH0pO1xuXG4gICAgbGV0IHNlc3Npb24gPSBidWdnZXIuY29ubmVjdCgpO1xuICAgIGRlYnVnKFwic291cmNlSWQgJWRcIiwgc2Vzc2lvbi52aWV3KHNvbGlkaXR5LmN1cnJlbnQuc291cmNlKS5pZCk7XG5cbiAgICBsZXQgc291cmNlSWQgPSBzZXNzaW9uLnZpZXcoc29saWRpdHkuY3VycmVudC5zb3VyY2UpLmlkO1xuICAgIHNlc3Npb24uYWRkQnJlYWtwb2ludCh7IHNvdXJjZUlkLCBsaW5lOiAxOCB9KTtcbiAgICBzZXNzaW9uLmNvbnRpbnVlVW50aWxCcmVha3BvaW50KCk7XG4gICAgYXNzZXJ0LnByb3BlcnR5KGF3YWl0IHNlc3Npb24udmFyaWFibGVzKCksIFwiZmxhZ1wiKTtcbiAgfSk7XG5cbiAgaXQoXCJTdGF5cyBhdCBjb3JyZWN0IHN0YWNrZnJhbWUgYWZ0ZXIgbGlicmFyeSBjYWxsXCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgIGxldCBpbnN0YW5jZSA9IGF3YWl0IGFic3RyYWN0aW9ucy5JbnRlcnZlbmluZy5kZXBsb3llZCgpO1xuICAgIGxldCByZWNlaXB0ID0gYXdhaXQgaW5zdGFuY2UucnVuTGliKCk7XG4gICAgbGV0IHR4SGFzaCA9IHJlY2VpcHQudHg7XG5cbiAgICBsZXQgYnVnZ2VyID0gYXdhaXQgRGVidWdnZXIuZm9yVHgodHhIYXNoLCB7XG4gICAgICBwcm92aWRlcixcbiAgICAgIGZpbGVzLFxuICAgICAgY29udHJhY3RzOiBhcnRpZmFjdHNcbiAgICB9KTtcblxuICAgIGxldCBzZXNzaW9uID0gYnVnZ2VyLmNvbm5lY3QoKTtcbiAgICBkZWJ1ZyhcInNvdXJjZUlkICVkXCIsIHNlc3Npb24udmlldyhzb2xpZGl0eS5jdXJyZW50LnNvdXJjZSkuaWQpO1xuXG4gICAgbGV0IHNvdXJjZUlkID0gc2Vzc2lvbi52aWV3KHNvbGlkaXR5LmN1cnJlbnQuc291cmNlKS5pZDtcbiAgICBzZXNzaW9uLmFkZEJyZWFrcG9pbnQoeyBzb3VyY2VJZCwgbGluZTogMjcgfSk7XG4gICAgc2Vzc2lvbi5jb250aW51ZVVudGlsQnJlYWtwb2ludCgpO1xuICAgIGFzc2VydC5wcm9wZXJ0eShhd2FpdCBzZXNzaW9uLnZhcmlhYmxlcygpLCBcImZsYWdcIik7XG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gdGVzdC9kYXRhL2lkcy5qcyIsImltcG9ydCBkZWJ1Z01vZHVsZSBmcm9tIFwiZGVidWdcIjtcbmNvbnN0IGRlYnVnID0gZGVidWdNb2R1bGUoXCJ0ZXN0OmRhdGE6bW9yZS1kZWNvZGluZ1wiKTtcblxuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcImNoYWlcIjtcblxuaW1wb3J0IEdhbmFjaGUgZnJvbSBcImdhbmFjaGUtY29yZVwiO1xuXG5pbXBvcnQgeyBwcmVwYXJlQ29udHJhY3RzIH0gZnJvbSBcIi4uL2hlbHBlcnNcIjtcbmltcG9ydCBEZWJ1Z2dlciBmcm9tIFwibGliL2RlYnVnZ2VyXCI7XG5cbmltcG9ydCBzb2xpZGl0eSBmcm9tIFwibGliL3NvbGlkaXR5L3NlbGVjdG9yc1wiO1xuXG5pbXBvcnQgKiBhcyBUcnVmZmxlRGVjb2RlVXRpbHMgZnJvbSBcInRydWZmbGUtZGVjb2RlLXV0aWxzXCI7XG5cbmltcG9ydCBCTiBmcm9tIFwiYm4uanNcIjtcblxuY29uc3QgX19DT05UQUlORVJTID0gYFxucHJhZ21hIHNvbGlkaXR5IF4wLjUuMDtcblxuY29udHJhY3QgQ29udGFpbmVyc1Rlc3Qge1xuXG4gIC8vcHJvdmlkZXMgYSBuaWNlIGVuZGluZyBwb2ludFxuICBldmVudCBEb25lKCk7XG5cbiAgLy9kZWNsYXJlIG5lZWRlZCBzdHJ1Y3RzXG4gIHN0cnVjdCBQYWlyIHtcbiAgICB1aW50IHg7XG4gICAgdWludCB5O1xuICB9XG5cbiAgc3RydWN0IEhhc01hcCB7XG4gICAgdWludCB4O1xuICAgIG1hcHBpbmcoc3RyaW5nID0+IHN0cmluZykgbWFwO1xuICAgIHVpbnQgeTtcbiAgfVxuXG4gIC8vZGVjbGFyZSBzdG9yYWdlIHZhcmlhYmxlcyB0byBiZSB0ZXN0ZWRcbiAgUGFpcltdIHN0b3JhZ2VTdHJ1Y3RBcnJheTtcbiAgdWludDEyOFs0XVtdIHN0b3JhZ2VBcnJheUFycmF5O1xuXG4gIG1hcHBpbmcoc3RyaW5nID0+IFBhaXIpIHN0cnVjdE1hcHBpbmc7XG4gIG1hcHBpbmcoc3RyaW5nID0+IHVpbnQxMjhbNF0pIGFycmF5TWFwcGluZztcblxuICBtYXBwaW5nKHN0cmluZyA9PiBpbnQxMjgpIHNpZ25lZE1hcHBpbmc7XG5cbiAgLy90aGlzIG9uZSBpcyBub3QgdGVzdGVkIGRpcmVjdGx5XG4gIHVpbnRbMl0gcG9pbnRlZEF0O1xuXG4gIGZ1bmN0aW9uIHJ1bigpIHB1YmxpYyB7XG5cbiAgICAvL2RlY2xhcmUgbG9jYWwgdmFyaWFibGVzIHRvIGJlIHRlc3RlZFxuICAgIHVpbnRbMl0gbWVtb3J5IG1lbW9yeVN0YXRpY0FycmF5O1xuICAgIEhhc01hcCBtZW1vcnkgbWVtb3J5U3RydWN0V2l0aE1hcDtcbiAgICB1aW50WzJdIHN0b3JhZ2UgbG9jYWxTdG9yYWdlID0gcG9pbnRlZEF0O1xuXG4gICAgLy9zZXQgdXAgdmFyaWFibGVzIHdpdGggdmFsdWVzXG4gICAgc3RvcmFnZVN0cnVjdEFycmF5Lmxlbmd0aCA9IDE7XG4gICAgc3RvcmFnZVN0cnVjdEFycmF5WzBdLnggPSAxMDc7XG4gICAgc3RvcmFnZVN0cnVjdEFycmF5WzBdLnkgPSAyMTQ7XG5cbiAgICBzdG9yYWdlQXJyYXlBcnJheS5sZW5ndGggPSAxO1xuICAgIHN0b3JhZ2VBcnJheUFycmF5WzBdWzBdID0gMjtcbiAgICBzdG9yYWdlQXJyYXlBcnJheVswXVsxXSA9IDM7XG4gICAgc3RvcmFnZUFycmF5QXJyYXlbMF1bMl0gPSA3O1xuICAgIHN0b3JhZ2VBcnJheUFycmF5WzBdWzNdID0gNTc7XG5cbiAgICBzdHJ1Y3RNYXBwaW5nW1wiaGVsbG9cIl0ueCA9IDEwNztcbiAgICBzdHJ1Y3RNYXBwaW5nW1wiaGVsbG9cIl0ueSA9IDIxNDtcblxuICAgIGFycmF5TWFwcGluZ1tcImhlbGxvXCJdWzBdID0gMjtcbiAgICBhcnJheU1hcHBpbmdbXCJoZWxsb1wiXVsxXSA9IDM7XG4gICAgYXJyYXlNYXBwaW5nW1wiaGVsbG9cIl1bMl0gPSA3O1xuICAgIGFycmF5TWFwcGluZ1tcImhlbGxvXCJdWzNdID0gNTc7XG5cbiAgICBzaWduZWRNYXBwaW5nW1wiaGVsbG9cIl0gPSAtMTtcblxuICAgIG1lbW9yeVN0YXRpY0FycmF5WzBdID0gMTA3O1xuICAgIG1lbW9yeVN0YXRpY0FycmF5WzFdID0gMjE0O1xuXG4gICAgbWVtb3J5U3RydWN0V2l0aE1hcC54ID0gMTA3O1xuICAgIG1lbW9yeVN0cnVjdFdpdGhNYXAueSA9IDIxNDtcblxuICAgIC8vZm9yIHRoaXMgb25lLCBsZXQncyBtaXggaG93IHdlIGFjY2VzcyBpdFxuICAgIGxvY2FsU3RvcmFnZVswXSA9IDEwNztcbiAgICBwb2ludGVkQXRbMV0gPSAyMTQ7XG5cbiAgICAvL2V2ZXJ5dGhpbmcncyBzZXQgdXAsIHRpbWUgdG8gZGVjb2RlIVxuICAgIGVtaXQgRG9uZSgpOyAvL2JyZWFrIGhlcmUgKDcxKVxuICB9XG59XG5gO1xuXG5jb25zdCBfX0tFWVNBTkRCWVRFUyA9IGBcbnByYWdtYSBzb2xpZGl0eSBeMC41LjA7XG5cbmNvbnRyYWN0IEVsZW1lbnRhcnlUZXN0IHtcblxuICBldmVudCBEb25lKCk7IC8vbWFrZXMgYSB1c2VmdWwgYnJlYWtwb2ludFxuXG4gIC8vc3RvcmFnZSB2YXJpYWJsZXMgdG8gYmUgdGVzdGVkXG4gIG1hcHBpbmcoYm9vbCA9PiBib29sKSBib29sTWFwO1xuICBtYXBwaW5nKGJ5dGUgPT4gYnl0ZSkgYnl0ZU1hcDtcbiAgbWFwcGluZyhieXRlcyA9PiBieXRlcykgYnl0ZXNNYXA7XG4gIG1hcHBpbmcodWludCA9PiB1aW50KSB1aW50TWFwO1xuICBtYXBwaW5nKGludCA9PiBpbnQpIGludE1hcDtcbiAgbWFwcGluZyhzdHJpbmcgPT4gc3RyaW5nKSBzdHJpbmdNYXA7XG4gIG1hcHBpbmcoYWRkcmVzcyA9PiBhZGRyZXNzKSBhZGRyZXNzTWFwO1xuICBtYXBwaW5nKHVpbnQ4ID0+IHVpbnQ4KSB1aW50OE1hcDtcblxuICBmdW5jdGlvbiBydW4oKSBwdWJsaWMge1xuICAgIC8vbG9jYWwgdmFyaWFibGVzIHRvIGJlIHRlc3RlZFxuICAgIGJ5dGUgb25lQnl0ZTtcbiAgICBieXRlW10gbWVtb3J5IHNldmVyYWxCeXRlcztcblxuICAgIC8vc2V0IHVwIHZhcmlhYmxlcyBmb3IgdGVzdGluZ1xuICAgIG9uZUJ5dGUgPSAweGZmO1xuICAgIHNldmVyYWxCeXRlcyA9IG5ldyBieXRlW10oMSk7XG4gICAgc2V2ZXJhbEJ5dGVzWzBdID0gMHhmZjtcblxuICAgIGJvb2xNYXBbdHJ1ZV0gPSB0cnVlO1xuXG4gICAgYnl0ZU1hcFsweDAxXSA9IDB4MDE7XG4gICAgYnl0ZU1hcFsweGZmXSA9IDB4ZmY7XG4gICAgYnl0ZU1hcFtieXRlKDB4MDIpXSA9IGJ5dGUoMHgwMik7XG5cbiAgICBieXRlc01hcFtoZXhcIjAxXCJdID0gaGV4XCIwMVwiO1xuICAgIGJ5dGVzTWFwW2hleFwiZmZcIl0gPSBoZXhcImZmXCI7XG5cbiAgICB1aW50TWFwWzFdID0gMTtcblxuICAgIGludE1hcFsxXSA9IDE7XG4gICAgaW50TWFwWy0xXSA9IC0xO1xuXG4gICAgdWludDhNYXBbdWludDgoYnl0ZSgweDAxKSldID0gdWludDgoYnl0ZSgweDAxKSk7XG4gICAgdWludDhNYXBbdWludDgoaW50OCgyKSldID0gdWludDgoaW50OCgyKSk7XG5cbiAgICBhZGRyZXNzTWFwWzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMV0gPVxuICAgICAgMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxO1xuICAgIGFkZHJlc3NNYXBbYWRkcmVzcyh0aGlzKV0gPSBhZGRyZXNzKHRoaXMpO1xuXG4gICAgc3RyaW5nTWFwW1wiaW5ub2N1b3VzIHN0cmluZ1wiXSA9IFwiaW5ub2N1b3VzIHN0cmluZ1wiO1xuICAgIHN0cmluZ01hcFtcIjB4ZGVhZGJlZWZcIl0gPSBcIjB4ZGVhZGJlZWZcIjtcbiAgICBzdHJpbmdNYXBbXCIxMjM0NVwiXSA9IFwiMTIzNDVcIjtcblxuICAgIGVtaXQgRG9uZSgpOyAvL2JyZWFrIGhlcmUgKDUyKVxuICB9XG59XG5gO1xuXG5jb25zdCBfX1NQTElDSU5HID0gYFxucHJhZ21hIHNvbGlkaXR5IF4wLjUuMDtcblxuY29udHJhY3QgU3BsaWNlVGVzdCB7XG4gIC8vc3BsaWNpbmcgaXMgKG5vbnRyaXZpYWxseSkgdXNlZCBpbiB0d28gY29udGV4dHMgcmlnaHQgbm93OlxuICAvLzEuIGRlY29kaW5nIG5lc3RlZCBtZW1vcnkgc3RydWN0dXJlc1xuICAvLzIuIGRlY29kaW5nIG1hcHBpbmcga2V5cyBwb2ludGVkIHRvIGJ5IGEgbWVtb3J5IHZhcmlhYmxlXG4gIC8vd2UnbGwgYWxzbyB0ZXN0IHNvbWUgdHJpdmlhbCBzcGxpY2luZywgSSBndWVzc1xuXG4gIGV2ZW50IERvbmUoKTtcblxuICBtYXBwaW5nKHN0cmluZyA9PiBzdHJpbmcpIG1hcDtcblxuICBzdHJ1Y3QgQXJyYXlQYWlyIHtcbiAgICB1aW50WzJdIHg7XG4gICAgdWludFsyXSB5O1xuICB9XG5cbiAgc3RyaW5nIHBvaW50ZWRBdCA9IFwia2V5MlwiO1xuXG4gIGZ1bmN0aW9uIHJ1bigpIHB1YmxpYyB7XG4gICAgdWludFsyXVsyXSBtZW1vcnkgYXJyYXlBcnJheTtcbiAgICBBcnJheVBhaXIgbWVtb3J5IGFycmF5U3RydWN0O1xuXG4gICAgYXJyYXlBcnJheVswXVswXSA9IDE7XG4gICAgYXJyYXlBcnJheVswXVsxXSA9IDI7XG4gICAgYXJyYXlBcnJheVsxXVswXSA9IDM7XG4gICAgYXJyYXlBcnJheVsxXVsxXSA9IDQ7XG5cbiAgICBhcnJheVN0cnVjdC54WzBdID0gMTtcbiAgICBhcnJheVN0cnVjdC54WzFdID0gMjtcbiAgICBhcnJheVN0cnVjdC55WzBdID0gMztcbiAgICBhcnJheVN0cnVjdC55WzFdID0gNDtcblxuICAgIHN0cmluZyBtZW1vcnkga2V5MSA9IFwia2V5MVwiO1xuICAgIHN0cmluZyBzdG9yYWdlIGtleTIgPSBwb2ludGVkQXQ7XG5cbiAgICBtYXBba2V5MV0gPSBcInZhbHVlMVwiO1xuICAgIG1hcFtrZXkyXSA9IFwidmFsdWUyXCI7XG5cbiAgICBlbWl0IERvbmUoKTsgLy9icmVhayBoZXJlICg0MClcbiAgfVxufVxuYDtcblxubGV0IHNvdXJjZXMgPSB7XG4gIFwiQ29udGFpbmVyVGVzdC5zb2xcIjogX19DT05UQUlORVJTLFxuICBcIkVsZW1lbnRhcnlUZXN0LnNvbFwiOiBfX0tFWVNBTkRCWVRFUyxcbiAgXCJTcGxpY2VUZXN0LnNvbFwiOiBfX1NQTElDSU5HXG59O1xuXG5kZXNjcmliZShcIkZ1cnRoZXIgRGVjb2RpbmdcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBwcm92aWRlcjtcblxuICB2YXIgYWJzdHJhY3Rpb25zO1xuICB2YXIgYXJ0aWZhY3RzO1xuICB2YXIgZmlsZXM7XG5cbiAgYmVmb3JlKFwiQ3JlYXRlIFByb3ZpZGVyXCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgIHByb3ZpZGVyID0gR2FuYWNoZS5wcm92aWRlcih7IHNlZWQ6IFwiZGVidWdnZXJcIiwgZ2FzTGltaXQ6IDcwMDAwMDAgfSk7XG4gIH0pO1xuXG4gIGJlZm9yZShcIlByZXBhcmUgY29udHJhY3RzIGFuZCBhcnRpZmFjdHNcIiwgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy50aW1lb3V0KDMwMDAwKTtcblxuICAgIGxldCBwcmVwYXJlZCA9IGF3YWl0IHByZXBhcmVDb250cmFjdHMocHJvdmlkZXIsIHNvdXJjZXMpO1xuICAgIGFic3RyYWN0aW9ucyA9IHByZXBhcmVkLmFic3RyYWN0aW9ucztcbiAgICBhcnRpZmFjdHMgPSBwcmVwYXJlZC5hcnRpZmFjdHM7XG4gICAgZmlsZXMgPSBwcmVwYXJlZC5maWxlcztcbiAgfSk7XG5cbiAgaXQoXCJEZWNvZGVzIHZhcmlvdXMgcmVmZXJlbmNlIHR5cGVzIGNvcnJlY3RseVwiLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRpbWVvdXQoOTAwMCk7XG5cbiAgICBsZXQgaW5zdGFuY2UgPSBhd2FpdCBhYnN0cmFjdGlvbnMuQ29udGFpbmVyc1Rlc3QuZGVwbG95ZWQoKTtcbiAgICBsZXQgcmVjZWlwdCA9IGF3YWl0IGluc3RhbmNlLnJ1bigpO1xuICAgIGxldCB0eEhhc2ggPSByZWNlaXB0LnR4O1xuXG4gICAgbGV0IGJ1Z2dlciA9IGF3YWl0IERlYnVnZ2VyLmZvclR4KHR4SGFzaCwge1xuICAgICAgcHJvdmlkZXIsXG4gICAgICBmaWxlcyxcbiAgICAgIGNvbnRyYWN0czogYXJ0aWZhY3RzXG4gICAgfSk7XG5cbiAgICBsZXQgc2Vzc2lvbiA9IGJ1Z2dlci5jb25uZWN0KCk7XG5cbiAgICBsZXQgc291cmNlSWQgPSBzZXNzaW9uLnZpZXcoc29saWRpdHkuY3VycmVudC5zb3VyY2UpLmlkO1xuICAgIHNlc3Npb24uYWRkQnJlYWtwb2ludCh7IHNvdXJjZUlkLCBsaW5lOiA3MSB9KTtcblxuICAgIHNlc3Npb24uY29udGludWVVbnRpbEJyZWFrcG9pbnQoKTtcblxuICAgIGNvbnN0IHZhcmlhYmxlcyA9IGF3YWl0IHNlc3Npb24udmFyaWFibGVzKCk7XG5cbiAgICBjb25zdCBleHBlY3RlZFJlc3VsdCA9IHtcbiAgICAgIG1lbW9yeVN0YXRpY0FycmF5OiBbbmV3IEJOKDEwNyksIG5ldyBCTigyMTQpXSxcbiAgICAgIG1lbW9yeVN0cnVjdFdpdGhNYXA6IHsgeDogbmV3IEJOKDEwNyksIHk6IG5ldyBCTigyMTQpIH0sXG4gICAgICBsb2NhbFN0b3JhZ2U6IFtuZXcgQk4oMTA3KSwgbmV3IEJOKDIxNCldLFxuICAgICAgc3RvcmFnZVN0cnVjdEFycmF5OiBbeyB4OiBuZXcgQk4oMTA3KSwgeTogbmV3IEJOKDIxNCkgfV0sXG4gICAgICBzdG9yYWdlQXJyYXlBcnJheTogW1tuZXcgQk4oMiksIG5ldyBCTigzKSwgbmV3IEJOKDcpLCBuZXcgQk4oNTcpXV0sXG4gICAgICBzdHJ1Y3RNYXBwaW5nOiBuZXcgTWFwKFtbXCJoZWxsb1wiLCB7IHg6IG5ldyBCTigxMDcpLCB5OiBuZXcgQk4oMjE0KSB9XV0pLFxuICAgICAgYXJyYXlNYXBwaW5nOiBuZXcgTWFwKFtcbiAgICAgICAgW1wiaGVsbG9cIiwgW25ldyBCTigyKSwgbmV3IEJOKDMpLCBuZXcgQk4oNyksIG5ldyBCTig1NyldXVxuICAgICAgXSksXG4gICAgICBzaWduZWRNYXBwaW5nOiBuZXcgTWFwKFtbXCJoZWxsb1wiLCBuZXcgQk4oLTEpXV0pLFxuICAgICAgcG9pbnRlZEF0OiBbbmV3IEJOKDEwNyksIG5ldyBCTigyMTQpXVxuICAgIH07XG5cbiAgICBhc3NlcnQuaGFzQWxsS2V5cyh2YXJpYWJsZXMsIGV4cGVjdGVkUmVzdWx0KTtcblxuICAgIGZvciAobGV0IG5hbWUgaW4gZXhwZWN0ZWRSZXN1bHQpIHtcbiAgICAgIGlmIChleHBlY3RlZFJlc3VsdFtuYW1lXSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAvL2VhY2ggbWFwIGhhcyBcImhlbGxvXCIgYXMgaXRzIG9ubHkga2V5XG4gICAgICAgIGFzc2VydC5kZWVwRXF1YWwoXG4gICAgICAgICAgdmFyaWFibGVzW25hbWVdW1wiaGVsbG9cIl0sXG4gICAgICAgICAgZXhwZWN0ZWRSZXN1bHRbbmFtZV1bXCJoZWxsb1wiXVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzZXJ0LmRlZXBFcXVhbCh2YXJpYWJsZXNbbmFtZV0sIGV4cGVjdGVkUmVzdWx0W25hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGl0KFwiRGVjb2RlcyBlbGVtZW50YXJ5IHR5cGVzIGFuZCBtYXBwaW5ncyBjb3JyZWN0bHlcIiwgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy50aW1lb3V0KDkwMDApO1xuXG4gICAgbGV0IGluc3RhbmNlID0gYXdhaXQgYWJzdHJhY3Rpb25zLkVsZW1lbnRhcnlUZXN0LmRlcGxveWVkKCk7XG4gICAgbGV0IHJlY2VpcHQgPSBhd2FpdCBpbnN0YW5jZS5ydW4oKTtcbiAgICBsZXQgdHhIYXNoID0gcmVjZWlwdC50eDtcbiAgICBsZXQgYWRkcmVzcyA9IGluc3RhbmNlLmFkZHJlc3M7XG5cbiAgICBsZXQgYnVnZ2VyID0gYXdhaXQgRGVidWdnZXIuZm9yVHgodHhIYXNoLCB7XG4gICAgICBwcm92aWRlcixcbiAgICAgIGZpbGVzLFxuICAgICAgY29udHJhY3RzOiBhcnRpZmFjdHNcbiAgICB9KTtcblxuICAgIGxldCBzZXNzaW9uID0gYnVnZ2VyLmNvbm5lY3QoKTtcblxuICAgIGxldCBzb3VyY2VJZCA9IHNlc3Npb24udmlldyhzb2xpZGl0eS5jdXJyZW50LnNvdXJjZSkuaWQ7XG4gICAgc2Vzc2lvbi5hZGRCcmVha3BvaW50KHsgc291cmNlSWQsIGxpbmU6IDUyIH0pO1xuXG4gICAgc2Vzc2lvbi5jb250aW51ZVVudGlsQnJlYWtwb2ludCgpO1xuXG4gICAgY29uc3QgdmFyaWFibGVzID0gVHJ1ZmZsZURlY29kZVV0aWxzLkNvbnZlcnNpb24uY2xlYW5CTnMoXG4gICAgICBhd2FpdCBzZXNzaW9uLnZhcmlhYmxlcygpXG4gICAgKTsgLy9nZXQgcmlkIG9mIEJOcyB0byBhdm9pZCBNYXAgcHJvYmxlbXNcbiAgICBkZWJ1ZyhcInZhcmlhYmxlcyAlT1wiLCB2YXJpYWJsZXMpO1xuXG4gICAgY29uc3QgZXhwZWN0ZWRSZXN1bHQgPSB7XG4gICAgICBib29sTWFwOiBuZXcgTWFwKFtbdHJ1ZSwgdHJ1ZV1dKSxcbiAgICAgIGJ5dGVNYXA6IG5ldyBNYXAoW1tcIjB4MDFcIiwgXCIweDAxXCJdLCBbXCIweDAyXCIsIFwiMHgwMlwiXSwgW1wiMHhmZlwiLCBcIjB4ZmZcIl1dKSxcbiAgICAgIGJ5dGVzTWFwOiBuZXcgTWFwKFtbXCIweDAxXCIsIFwiMHgwMVwiXSwgW1wiMHhmZlwiLCBcIjB4ZmZcIl1dKSxcbiAgICAgIHVpbnRNYXA6IG5ldyBNYXAoW1sxLCAxXV0pLFxuICAgICAgaW50TWFwOiBuZXcgTWFwKFtbMSwgMV0sIFstMSwgLTFdXSksXG4gICAgICBzdHJpbmdNYXA6IG5ldyBNYXAoW1xuICAgICAgICBbXCJpbm5vY3VvdXMgc3RyaW5nXCIsIFwiaW5ub2N1b3VzIHN0cmluZ1wiXSxcbiAgICAgICAgW1wiMHhkZWFkYmVlZlwiLCBcIjB4ZGVhZGJlZWZcIl0sXG4gICAgICAgIFtcIjEyMzQ1XCIsIFwiMTIzNDVcIl1cbiAgICAgIF0pLFxuICAgICAgYWRkcmVzc01hcDogbmV3IE1hcChbXG4gICAgICAgIFtcbiAgICAgICAgICBcIjB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMVwiLFxuICAgICAgICAgIFwiMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxXCJcbiAgICAgICAgXSxcbiAgICAgICAgW2FkZHJlc3MsIGFkZHJlc3NdXG4gICAgICBdKSxcbiAgICAgIHVpbnQ4TWFwOiBuZXcgTWFwKFtbMSwgMV0sIFsyLCAyXV0pLFxuICAgICAgb25lQnl0ZTogXCIweGZmXCIsXG4gICAgICBzZXZlcmFsQnl0ZXM6IFtcIjB4ZmZcIl1cbiAgICB9O1xuXG4gICAgYXNzZXJ0Lmhhc0FsbEtleXModmFyaWFibGVzLCBleHBlY3RlZFJlc3VsdCk7XG5cbiAgICBmb3IgKGxldCBuYW1lIGluIGV4cGVjdGVkUmVzdWx0KSB7XG4gICAgICBpZiAoZXhwZWN0ZWRSZXN1bHRbbmFtZV0gaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgYXNzZXJ0LnNhbWVEZWVwTWVtYmVycyhcbiAgICAgICAgICBBcnJheS5mcm9tKHZhcmlhYmxlc1tuYW1lXS5rZXlzKCkpLFxuICAgICAgICAgIEFycmF5LmZyb20oZXhwZWN0ZWRSZXN1bHRbbmFtZV0ua2V5cygpKVxuICAgICAgICApO1xuICAgICAgICBmb3IgKGxldCBrZXkgb2YgZXhwZWN0ZWRSZXN1bHRbbmFtZV0ua2V5cygpKSB7XG4gICAgICAgICAgLy9ubyBtYXBwaW5ncyBhcmUgbmVzdGVkIHNvIHRoaXMgd2lsbCBkbyBmaW5lXG4gICAgICAgICAgYXNzZXJ0LmRlZXBFcXVhbCh2YXJpYWJsZXNbbmFtZV1ba2V5XSwgZXhwZWN0ZWRSZXN1bHRbbmFtZV1ba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2VydC5kZWVwRXF1YWwodmFyaWFibGVzW25hbWVdLCBleHBlY3RlZFJlc3VsdFtuYW1lXSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBpdChcIlNwbGljZXMgbG9jYXRpb25zIGNvcnJlY3RseVwiLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRpbWVvdXQoOTAwMCk7XG5cbiAgICBsZXQgaW5zdGFuY2UgPSBhd2FpdCBhYnN0cmFjdGlvbnMuU3BsaWNlVGVzdC5kZXBsb3llZCgpO1xuICAgIGxldCByZWNlaXB0ID0gYXdhaXQgaW5zdGFuY2UucnVuKCk7XG4gICAgbGV0IHR4SGFzaCA9IHJlY2VpcHQudHg7XG5cbiAgICBsZXQgYnVnZ2VyID0gYXdhaXQgRGVidWdnZXIuZm9yVHgodHhIYXNoLCB7XG4gICAgICBwcm92aWRlcixcbiAgICAgIGZpbGVzLFxuICAgICAgY29udHJhY3RzOiBhcnRpZmFjdHNcbiAgICB9KTtcblxuICAgIGxldCBzZXNzaW9uID0gYnVnZ2VyLmNvbm5lY3QoKTtcblxuICAgIGxldCBzb3VyY2VJZCA9IHNlc3Npb24udmlldyhzb2xpZGl0eS5jdXJyZW50LnNvdXJjZSkuaWQ7XG4gICAgc2Vzc2lvbi5hZGRCcmVha3BvaW50KHsgc291cmNlSWQsIGxpbmU6IDQwIH0pO1xuXG4gICAgc2Vzc2lvbi5jb250aW51ZVVudGlsQnJlYWtwb2ludCgpO1xuXG4gICAgY29uc3QgdmFyaWFibGVzID0gYXdhaXQgc2Vzc2lvbi52YXJpYWJsZXMoKTtcblxuICAgIGNvbnN0IGV4cGVjdGVkUmVzdWx0ID0ge1xuICAgICAgbWFwOiBuZXcgTWFwKFtbXCJrZXkxXCIsIFwidmFsdWUxXCJdLCBbXCJrZXkyXCIsIFwidmFsdWUyXCJdXSksXG4gICAgICBwb2ludGVkQXQ6IFwia2V5MlwiLFxuICAgICAgYXJyYXlBcnJheTogW1tuZXcgQk4oMSksIG5ldyBCTigyKV0sIFtuZXcgQk4oMyksIG5ldyBCTig0KV1dLFxuICAgICAgYXJyYXlTdHJ1Y3Q6IHsgeDogW25ldyBCTigxKSwgbmV3IEJOKDIpXSwgeTogW25ldyBCTigzKSwgbmV3IEJOKDQpXSB9LFxuICAgICAga2V5MTogXCJrZXkxXCIsXG4gICAgICBrZXkyOiBcImtleTJcIixcbiAgICAgIHBvaW50ZWRBdDogXCJrZXkyXCJcbiAgICB9O1xuXG4gICAgYXNzZXJ0Lmhhc0FsbEtleXModmFyaWFibGVzLCBleHBlY3RlZFJlc3VsdCk7XG5cbiAgICBmb3IgKGxldCBuYW1lIGluIGV4cGVjdGVkUmVzdWx0KSB7XG4gICAgICBpZiAoZXhwZWN0ZWRSZXN1bHRbbmFtZV0gaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgYXNzZXJ0LnNhbWVEZWVwTWVtYmVycyhcbiAgICAgICAgICBBcnJheS5mcm9tKHZhcmlhYmxlc1tuYW1lXS5rZXlzKCkpLFxuICAgICAgICAgIEFycmF5LmZyb20oZXhwZWN0ZWRSZXN1bHRbbmFtZV0ua2V5cygpKVxuICAgICAgICApO1xuICAgICAgICBmb3IgKGxldCBrZXkgb2YgZXhwZWN0ZWRSZXN1bHRbbmFtZV0ua2V5cygpKSB7XG4gICAgICAgICAgLy9ubyBtYXBwaW5ncyBhcmUgbmVzdGVkIHNvIHRoaXMgd2lsbCBkbyBmaW5lXG4gICAgICAgICAgYXNzZXJ0LmRlZXBFcXVhbCh2YXJpYWJsZXNbbmFtZV1ba2V5XSwgZXhwZWN0ZWRSZXN1bHRbbmFtZV1ba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2VydC5kZWVwRXF1YWwodmFyaWFibGVzW25hbWVdLCBleHBlY3RlZFJlc3VsdFtuYW1lXSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHRlc3QvZGF0YS9tb3JlLWRlY29kaW5nLmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL21hcFwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9tYXBcIlxuLy8gbW9kdWxlIGlkID0gODlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcImNoYWlcIjtcblxuaW1wb3J0IEJOIGZyb20gXCJibi5qc1wiO1xuXG5pbXBvcnQgKiBhcyBUcnVmZmxlRGVjb2RlVXRpbHMgZnJvbSBcInRydWZmbGUtZGVjb2RlLXV0aWxzXCI7XG5cbmRlc2NyaWJlKFwiVXRpbHNcIiwgZnVuY3Rpb24oKSB7XG4gIGRlc2NyaWJlKFwidHlwZUNsYXNzKClcIiwgZnVuY3Rpb24oKSB7XG4gICAgaXQoXCJoYW5kbGVzIG1hcHBpbmdzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IGRlZmluaXRpb24gPSB7XG4gICAgICAgIHR5cGVEZXNjcmlwdGlvbnM6IHtcbiAgICAgICAgICB0eXBlSWRlbnRpZmllcjogXCJ0X21hcHBpbmckX3RfdWludDI1Nl8kX3RfdWludDI1Nl8kXCJcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICBUcnVmZmxlRGVjb2RlVXRpbHMuRGVmaW5pdGlvbi50eXBlQ2xhc3MoZGVmaW5pdGlvbiksXG4gICAgICAgIFwibWFwcGluZ1wiXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcInRvQk4oKVwiLCBmdW5jdGlvbigpIHtcbiAgICBpdChcInJldHVybnMgY29ycmVjdCB2YWx1ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGxldCBieXRlcyA9IFsweGY1LCAweGUyLCAweGM1LCAweDE3XTtcbiAgICAgIGxldCBleHBlY3RlZFZhbHVlID0gbmV3IEJOKFwiZjVlMmM1MTdcIiwgMTYpO1xuXG4gICAgICBsZXQgcmVzdWx0ID0gVHJ1ZmZsZURlY29kZVV0aWxzLkNvbnZlcnNpb24udG9CTihieXRlcyk7XG5cbiAgICAgIGFzc2VydC5lcXVhbChyZXN1bHQudG9TdHJpbmcoKSwgZXhwZWN0ZWRWYWx1ZS50b1N0cmluZygpKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJ0b1NpZ25lZEJOKClcIiwgZnVuY3Rpb24oKSB7XG4gICAgaXQoXCJyZXR1cm5zIGNvcnJlY3QgbmVnYXRpdmUgdmFsdWVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgYnl0ZXMgPSBbMHhmNSwgMHhlMiwgMHhjNSwgMHgxN107IC8vIHN0YXJ0cyB3aXRoIDBiMVxuICAgICAgbGV0IHJhdyA9IG5ldyBCTihcImY1ZTJjNTE3XCIsIDE2KTtcbiAgICAgIGxldCBiaXRmaXBwZWQgPSBuZXcgQk4oXG4gICAgICAgIHJhd1xuICAgICAgICAgIC50b1N0cmluZygyKVxuICAgICAgICAgIC5yZXBsYWNlKC8wL2csIFwieFwiKVxuICAgICAgICAgIC5yZXBsYWNlKC8xL2csIFwiMFwiKVxuICAgICAgICAgIC5yZXBsYWNlKC94L2csIFwiMVwiKSxcbiAgICAgICAgMlxuICAgICAgKTtcblxuICAgICAgbGV0IGV4cGVjdGVkVmFsdWUgPSBiaXRmaXBwZWQuYWRkbigxKS5uZWcoKTtcblxuICAgICAgbGV0IHJlc3VsdCA9IFRydWZmbGVEZWNvZGVVdGlscy5Db252ZXJzaW9uLnRvU2lnbmVkQk4oYnl0ZXMpO1xuXG4gICAgICBhc3NlcnQuZXF1YWwocmVzdWx0LnRvU3RyaW5nKCksIGV4cGVjdGVkVmFsdWUudG9TdHJpbmcoKSk7XG4gICAgfSk7XG5cbiAgICBpdChcInJldHVybnMgY29ycmVjdCBwb3NpdGl2ZSB2YWx1ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGxldCBieXRlcyA9IFsweDA1LCAweGUyLCAweGM1LCAweDE3XTsgLy8gc3RhcnRzIHdpdGggMGIwXG4gICAgICBsZXQgcmF3ID0gbmV3IEJOKFwiMDVlMmM1MTdcIiwgMTYpO1xuICAgICAgbGV0IGV4cGVjdGVkVmFsdWUgPSByYXc7XG5cbiAgICAgIGxldCByZXN1bHQgPSBUcnVmZmxlRGVjb2RlVXRpbHMuQ29udmVyc2lvbi50b1NpZ25lZEJOKGJ5dGVzKTtcblxuICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdC50b1N0cmluZygpLCBleHBlY3RlZFZhbHVlLnRvU3RyaW5nKCkpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcInRvSGV4U3RyaW5nKClcIiwgZnVuY3Rpb24oKSB7XG4gICAgaXQoXCJyZXR1cm5zIGNvcnJlY3QgcmVwcmVzZW50YXRpb24gd2l0aCBmdWxsIGJ5dGVzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgLy8gaWUsIDB4MDAgaW5zdGVhZCBvZiAweDBcbiAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgVHJ1ZmZsZURlY29kZVV0aWxzLkNvbnZlcnNpb24udG9IZXhTdHJpbmcoWzB4MDUsIDB4MTFdKSxcbiAgICAgICAgXCIweDA1MTFcIlxuICAgICAgKTtcbiAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgVHJ1ZmZsZURlY29kZVV0aWxzLkNvbnZlcnNpb24udG9IZXhTdHJpbmcoWzB4ZmYsIDB4MDAsIDB4ZmZdKSxcbiAgICAgICAgXCIweGZmMDBmZlwiXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHRlc3QvZGF0YS91dGlscy5qcyIsImltcG9ydCBkZWJ1Z01vZHVsZSBmcm9tIFwiZGVidWdcIjtcbmNvbnN0IGRlYnVnID0gZGVidWdNb2R1bGUoXCJ0ZXN0OmVuZHN0YXRlXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCJjaGFpXCI7XG5cbmltcG9ydCBHYW5hY2hlIGZyb20gXCJnYW5hY2hlLWNvcmVcIjtcblxuaW1wb3J0IHsgcHJlcGFyZUNvbnRyYWN0cyB9IGZyb20gXCIuL2hlbHBlcnNcIjtcbmltcG9ydCBEZWJ1Z2dlciBmcm9tIFwibGliL2RlYnVnZ2VyXCI7XG5cbmltcG9ydCBzZXNzaW9uU2VsZWN0b3IgZnJvbSBcImxpYi9zZXNzaW9uL3NlbGVjdG9yc1wiO1xuaW1wb3J0IGRhdGEgZnJvbSBcImxpYi9kYXRhL3NlbGVjdG9yc1wiO1xuXG5pbXBvcnQgQk4gZnJvbSBcImJuLmpzXCI7XG5cbmNvbnN0IF9fRkFJTFVSRSA9IGBcbnByYWdtYSBzb2xpZGl0eSB+MC41O1xuXG5jb250cmFjdCBGYWlsdXJlVGVzdCB7XG4gIGZ1bmN0aW9uIHJ1bigpIHB1YmxpYyB7XG4gICAgcmV2ZXJ0KCk7XG4gIH1cbn1cbmA7XG5cbmNvbnN0IF9fU1VDQ0VTUyA9IGBcbnByYWdtYSBzb2xpZGl0eSB+MC41O1xuXG5jb250cmFjdCBTdWNjZXNzVGVzdCB7XG51aW50IHg7XG4gIGZ1bmN0aW9uIHJ1bigpIHB1YmxpYyB7XG4gICAgeCA9IDEwNztcbiAgfVxufVxuYDtcblxubGV0IHNvdXJjZXMgPSB7XG4gIFwiRmFpbHVyZVRlc3Quc29sXCI6IF9fRkFJTFVSRSxcbiAgXCJTdWNjZXNzVGVzdC5zb2xcIjogX19TVUNDRVNTXG59O1xuXG5kZXNjcmliZShcIkVuZCBTdGF0ZVwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHByb3ZpZGVyO1xuXG4gIHZhciBhYnN0cmFjdGlvbnM7XG4gIHZhciBhcnRpZmFjdHM7XG4gIHZhciBmaWxlcztcblxuICBiZWZvcmUoXCJDcmVhdGUgUHJvdmlkZXJcIiwgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgcHJvdmlkZXIgPSBHYW5hY2hlLnByb3ZpZGVyKHsgc2VlZDogXCJkZWJ1Z2dlclwiLCBnYXNMaW1pdDogNzAwMDAwMCB9KTtcbiAgfSk7XG5cbiAgYmVmb3JlKFwiUHJlcGFyZSBjb250cmFjdHMgYW5kIGFydGlmYWN0c1wiLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRpbWVvdXQoMzAwMDApO1xuXG4gICAgbGV0IHByZXBhcmVkID0gYXdhaXQgcHJlcGFyZUNvbnRyYWN0cyhwcm92aWRlciwgc291cmNlcyk7XG4gICAgYWJzdHJhY3Rpb25zID0gcHJlcGFyZWQuYWJzdHJhY3Rpb25zO1xuICAgIGFydGlmYWN0cyA9IHByZXBhcmVkLmFydGlmYWN0cztcbiAgICBmaWxlcyA9IHByZXBhcmVkLmZpbGVzO1xuICB9KTtcblxuICBpdChcImNvcnJlY3RseSBtYXJrcyBhIGZhaWxlZCB0cmFuc2FjdGlvbiBhcyBmYWlsZWRcIiwgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgbGV0IGluc3RhbmNlID0gYXdhaXQgYWJzdHJhY3Rpb25zLkZhaWx1cmVUZXN0LmRlcGxveWVkKCk7XG4gICAgLy9IQUNLOiBiZWNhdXNlIHRoaXMgdHJhbnNhY3Rpb24gZmFpbHMsIHdlIGhhdmUgdG8gZXh0cmFjdCB0aGUgaGFzaCBmcm9tXG4gICAgLy90aGUgcmVzdWx0aW5nIGV4Y2VwdGlvbiAodGhlcmUgaXMgc3VwcG9zZWQgdG8gYmUgYSBub24taGFja3kgd2F5IGJ1dCBpdFxuICAgIC8vZG9lcyBub3QgcHJlc2VudGx5IHdvcmspXG4gICAgbGV0IHR4SGFzaDtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgaW5zdGFuY2UucnVuKCk7IC8vdGhpcyB3aWxsIHRocm93IGJlY2F1c2Ugb2YgdGhlIHJldmVydFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0eEhhc2ggPSBlcnJvci5oYXNoZXNbMF07IC8vaXQncyB0aGUgb25seSBoYXNoIGludm9sdmVkXG4gICAgfVxuXG4gICAgbGV0IGJ1Z2dlciA9IGF3YWl0IERlYnVnZ2VyLmZvclR4KHR4SGFzaCwge1xuICAgICAgcHJvdmlkZXIsXG4gICAgICBmaWxlcyxcbiAgICAgIGNvbnRyYWN0czogYXJ0aWZhY3RzXG4gICAgfSk7XG5cbiAgICBsZXQgc2Vzc2lvbiA9IGJ1Z2dlci5jb25uZWN0KCk7XG5cbiAgICBhc3NlcnQub2soIXNlc3Npb24udmlldyhzZXNzaW9uU2VsZWN0b3IudHJhbnNhY3Rpb24ucmVjZWlwdCkuc3RhdHVzKTtcbiAgfSk7XG5cbiAgaXQoXCJHZXRzIHZhcnMgYXQgZW5kIG9mIHN1Y2Nlc3NmdWwgY29udHJhY3QgKGFuZCBtYXJrcyBpdCBzdWNjZXNzZnVsKVwiLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICBsZXQgaW5zdGFuY2UgPSBhd2FpdCBhYnN0cmFjdGlvbnMuU3VjY2Vzc1Rlc3QuZGVwbG95ZWQoKTtcbiAgICBsZXQgcmVjZWlwdCA9IGF3YWl0IGluc3RhbmNlLnJ1bigpO1xuICAgIGxldCB0eEhhc2ggPSByZWNlaXB0LnR4O1xuXG4gICAgbGV0IGJ1Z2dlciA9IGF3YWl0IERlYnVnZ2VyLmZvclR4KHR4SGFzaCwge1xuICAgICAgcHJvdmlkZXIsXG4gICAgICBmaWxlcyxcbiAgICAgIGNvbnRyYWN0czogYXJ0aWZhY3RzXG4gICAgfSk7XG5cbiAgICBsZXQgc2Vzc2lvbiA9IGJ1Z2dlci5jb25uZWN0KCk7XG5cbiAgICBzZXNzaW9uLmNvbnRpbnVlVW50aWxCcmVha3BvaW50KCk7IC8vbm8gYnJlYWtwb2ludHMgc2V0IHNvIGFkdmFuY2VzIHRvIGVuZFxuXG4gICAgZGVidWcoXCJEQ0kgJU9cIiwgc2Vzc2lvbi52aWV3KGRhdGEuY3VycmVudC5pZGVudGlmaWVycykpO1xuICAgIGRlYnVnKFwiRENJUiAlT1wiLCBzZXNzaW9uLnZpZXcoZGF0YS5jdXJyZW50LmlkZW50aWZpZXJzLnJlZnMpKTtcbiAgICBkZWJ1ZyhcInByb2MuYXNzaWdubWVudHMgJU9cIiwgc2Vzc2lvbi52aWV3KGRhdGEucHJvYy5hc3NpZ25tZW50cykpO1xuXG4gICAgYXNzZXJ0Lm9rKHNlc3Npb24udmlldyhzZXNzaW9uU2VsZWN0b3IudHJhbnNhY3Rpb24ucmVjZWlwdCkuc3RhdHVzKTtcbiAgICBjb25zdCB2YXJpYWJsZXMgPSBhd2FpdCBzZXNzaW9uLnZhcmlhYmxlcygpO1xuICAgIGFzc2VydC5kZWVwRXF1YWwodmFyaWFibGVzLCB7IHg6IG5ldyBCTigxMDcpIH0pO1xuICB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHRlc3QvZW5kc3RhdGUuanMiLCJpbXBvcnQgZGVidWdNb2R1bGUgZnJvbSBcImRlYnVnXCI7XG5jb25zdCBkZWJ1ZyA9IGRlYnVnTW9kdWxlKFwidGVzdDpldm1cIik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcImNoYWlcIjtcblxuaW1wb3J0IEdhbmFjaGUgZnJvbSBcImdhbmFjaGUtY29yZVwiO1xuXG5pbXBvcnQgeyBwcmVwYXJlQ29udHJhY3RzIH0gZnJvbSBcIi4vaGVscGVyc1wiO1xuaW1wb3J0IERlYnVnZ2VyIGZyb20gXCJsaWIvZGVidWdnZXJcIjtcblxuaW1wb3J0IGV2bSBmcm9tIFwibGliL2V2bS9zZWxlY3RvcnNcIjtcbmltcG9ydCB0cmFjZSBmcm9tIFwibGliL3RyYWNlL3NlbGVjdG9yc1wiO1xuXG5jb25zdCBfX09VVEVSID0gYFxucHJhZ21hIHNvbGlkaXR5IH4wLjU7XG5cbmltcG9ydCBcIi4vSW5uZXIuc29sXCI7XG5cbmNvbnRyYWN0IE91dGVyIHtcbiAgZXZlbnQgQ2FsbGVkKCk7XG5cbiAgSW5uZXIgaW5uZXI7XG5cbiAgY29uc3RydWN0b3IoYWRkcmVzcyBfaW5uZXIpIHB1YmxpYyB7XG4gICAgaW5uZXIgPSBJbm5lcihfaW5uZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcnVuU2luZ2xlKCkgcHVibGljIHtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJ1bigpIHB1YmxpYyB7XG4gICAgaW5uZXIucnVuKCk7XG4gIH1cbn1cbmA7XG5cbmNvbnN0IF9fSU5ORVIgPSBgXG5wcmFnbWEgc29saWRpdHkgfjAuNTtcblxuY29udHJhY3QgSW5uZXIge1xuICBmdW5jdGlvbiBydW4oKSBwdWJsaWMge1xuICB9XG59XG5gO1xuXG5jb25zdCBfX01JR1JBVElPTiA9IGBcbmxldCBPdXRlciA9IGFydGlmYWN0cy5yZXF1aXJlKFwiT3V0ZXJcIik7XG5sZXQgSW5uZXIgPSBhcnRpZmFjdHMucmVxdWlyZShcIklubmVyXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jIGZ1bmN0aW9uKGRlcGxveWVyKSB7XG4gIGF3YWl0IGRlcGxveWVyLmRlcGxveShJbm5lcik7XG4gIGNvbnN0IGlubmVyID0gYXdhaXQgSW5uZXIuZGVwbG95ZWQoKTtcbiAgYXdhaXQgZGVwbG95ZXIuZGVwbG95KE91dGVyLCBpbm5lci5hZGRyZXNzKTtcbn07XG5gO1xuXG5sZXQgc291cmNlcyA9IHtcbiAgXCJJbm5lci5zb2xcIjogX19JTk5FUixcbiAgXCJPdXRlci5zb2xcIjogX19PVVRFUlxufTtcblxubGV0IG1pZ3JhdGlvbnMgPSB7XG4gIFwiMl9kZXBsb3lfY29udHJhY3RzLmpzXCI6IF9fTUlHUkFUSU9OXG59O1xuXG5kZXNjcmliZShcIkVWTSBEZWJ1Z2dpbmdcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBwcm92aWRlcjtcblxuICB2YXIgYWJzdHJhY3Rpb25zO1xuICB2YXIgYXJ0aWZhY3RzO1xuICB2YXIgZmlsZXM7XG5cbiAgYmVmb3JlKFwiQ3JlYXRlIFByb3ZpZGVyXCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgIHByb3ZpZGVyID0gR2FuYWNoZS5wcm92aWRlcih7IHNlZWQ6IFwiZGVidWdnZXJcIiwgZ2FzTGltaXQ6IDcwMDAwMDAgfSk7XG4gIH0pO1xuXG4gIGJlZm9yZShcIlByZXBhcmUgY29udHJhY3RzIGFuZCBhcnRpZmFjdHNcIiwgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy50aW1lb3V0KDMwMDAwKTtcblxuICAgIGxldCBwcmVwYXJlZCA9IGF3YWl0IHByZXBhcmVDb250cmFjdHMocHJvdmlkZXIsIHNvdXJjZXMsIG1pZ3JhdGlvbnMpO1xuICAgIGFic3RyYWN0aW9ucyA9IHByZXBhcmVkLmFic3RyYWN0aW9ucztcbiAgICBhcnRpZmFjdHMgPSBwcmVwYXJlZC5hcnRpZmFjdHM7XG4gICAgZmlsZXMgPSBwcmVwYXJlZC5maWxlcztcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJGdW5jdGlvbiBEZXB0aFwiLCBmdW5jdGlvbigpIHtcbiAgICBpdChcInJlbWFpbnMgYXQgMSBpbiBhYnNlbmNlIG9mIGNyb3NzLWNvbnRyYWN0IGNhbGxzXCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgbWF4RXhwZWN0ZWQgPSAxO1xuXG4gICAgICBsZXQgaW5zdGFuY2UgPSBhd2FpdCBhYnN0cmFjdGlvbnMuSW5uZXIuZGVwbG95ZWQoKTtcbiAgICAgIGxldCByZWNlaXB0ID0gYXdhaXQgaW5zdGFuY2UucnVuKCk7XG4gICAgICBsZXQgdHhIYXNoID0gcmVjZWlwdC50eDtcblxuICAgICAgbGV0IGJ1Z2dlciA9IGF3YWl0IERlYnVnZ2VyLmZvclR4KHR4SGFzaCwge1xuICAgICAgICBwcm92aWRlcixcbiAgICAgICAgZmlsZXMsXG4gICAgICAgIGNvbnRyYWN0czogYXJ0aWZhY3RzXG4gICAgICB9KTtcblxuICAgICAgbGV0IHNlc3Npb24gPSBidWdnZXIuY29ubmVjdCgpO1xuICAgICAgdmFyIGZpbmlzaGVkOyAvLyBpcyB0aGUgdHJhY2UgZmluaXNoZWQ/XG5cbiAgICAgIGRvIHtcbiAgICAgICAgc2Vzc2lvbi5zdGVwTmV4dCgpO1xuICAgICAgICBmaW5pc2hlZCA9IHNlc3Npb24udmlldyh0cmFjZS5maW5pc2hlZCk7XG5cbiAgICAgICAgbGV0IGFjdHVhbCA9IHNlc3Npb24udmlldyhldm0uY3VycmVudC5jYWxsc3RhY2spLmxlbmd0aDtcblxuICAgICAgICBhc3NlcnQuaXNBdE1vc3QoYWN0dWFsLCBtYXhFeHBlY3RlZCk7XG4gICAgICB9IHdoaWxlICghZmluaXNoZWQpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJ0cmFja3MgY2FsbHN0YWNrIGNvcnJlY3RseVwiLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICAgIC8vIHByZXBhcmVcbiAgICAgIGxldCBpbnN0YW5jZSA9IGF3YWl0IGFic3RyYWN0aW9ucy5PdXRlci5kZXBsb3llZCgpO1xuICAgICAgbGV0IHJlY2VpcHQgPSBhd2FpdCBpbnN0YW5jZS5ydW4oKTtcbiAgICAgIGxldCB0eEhhc2ggPSByZWNlaXB0LnR4O1xuXG4gICAgICBsZXQgYnVnZ2VyID0gYXdhaXQgRGVidWdnZXIuZm9yVHgodHhIYXNoLCB7XG4gICAgICAgIHByb3ZpZGVyLFxuICAgICAgICBmaWxlcyxcbiAgICAgICAgY29udHJhY3RzOiBhcnRpZmFjdHNcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgc2Vzc2lvbiA9IGJ1Z2dlci5jb25uZWN0KCk7XG5cbiAgICAgIC8vIGZvbGxvdyBjYWxsc3RhY2sgbGVuZ3RoIHZhbHVlcyBpbiBsaXN0XG4gICAgICAvLyBzZWUgc291cmNlIGFib3ZlXG4gICAgICBsZXQgZXhwZWN0ZWREZXB0aFNlcXVlbmNlID0gWzEsIDIsIDFdO1xuICAgICAgbGV0IGFjdHVhbFNlcXVlbmNlID0gW3Nlc3Npb24udmlldyhldm0uY3VycmVudC5jYWxsc3RhY2spLmxlbmd0aF07XG5cbiAgICAgIHZhciBmaW5pc2hlZDsgLy8gaXMgdGhlIHRyYWNlIGZpbmlzaGVkP1xuXG4gICAgICBkbyB7XG4gICAgICAgIHNlc3Npb24uc3RlcE5leHQoKTtcbiAgICAgICAgZmluaXNoZWQgPSBzZXNzaW9uLnZpZXcodHJhY2UuZmluaXNoZWQpO1xuXG4gICAgICAgIGxldCBjdXJyZW50RGVwdGggPSBzZXNzaW9uLnZpZXcoZXZtLmN1cnJlbnQuY2FsbHN0YWNrKS5sZW5ndGg7XG4gICAgICAgIGxldCBsYXN0S25vd24gPSBhY3R1YWxTZXF1ZW5jZVthY3R1YWxTZXF1ZW5jZS5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAoY3VycmVudERlcHRoICE9PSBsYXN0S25vd24pIHtcbiAgICAgICAgICBhY3R1YWxTZXF1ZW5jZS5wdXNoKGN1cnJlbnREZXB0aCk7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKCFmaW5pc2hlZCk7XG5cbiAgICAgIGFzc2VydC5kZWVwRXF1YWwoYWN0dWFsU2VxdWVuY2UsIGV4cGVjdGVkRGVwdGhTZXF1ZW5jZSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gdGVzdC9ldm0uanMiLCJpbXBvcnQgZGVidWdNb2R1bGUgZnJvbSBcImRlYnVnXCI7XG5jb25zdCBkZWJ1ZyA9IGRlYnVnTW9kdWxlKFwidGVzdDpwcmVjb21waWxlc1wiKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiY2hhaVwiO1xuXG5pbXBvcnQgR2FuYWNoZSBmcm9tIFwiZ2FuYWNoZS1jb3JlXCI7XG5cbmltcG9ydCB7IHByZXBhcmVDb250cmFjdHMgfSBmcm9tIFwiLi9oZWxwZXJzXCI7XG5pbXBvcnQgRGVidWdnZXIgZnJvbSBcImxpYi9kZWJ1Z2dlclwiO1xuXG5pbXBvcnQgZXZtIGZyb20gXCJsaWIvZXZtL3NlbGVjdG9yc1wiO1xuaW1wb3J0IHRyYWNlIGZyb20gXCJsaWIvdHJhY2Uvc2VsZWN0b3JzXCI7XG5pbXBvcnQgc29saWRpdHkgZnJvbSBcImxpYi9zb2xpZGl0eS9zZWxlY3RvcnNcIjtcblxuY29uc3QgX19QUkVDT01QSUxFID0gYFxucHJhZ21hIHNvbGlkaXR5IH4wLjU7XG5cbmNvbnRyYWN0IEhhc1ByZWNvbXBpbGUge1xuICBldmVudCBDYWxsZWQoKTtcblxuICBmdW5jdGlvbiBydW4oKSBwdWJsaWMge1xuICAgIHNoYTI1NihcImhlbGxvIHdvcmxkXCIpO1xuXG4gICAgZW1pdCBDYWxsZWQoKTtcbiAgfVxufVxuYDtcblxubGV0IHNvdXJjZXMgPSB7XG4gIFwiSGFzUHJlY29tcGlsZS5zb2xcIjogX19QUkVDT01QSUxFXG59O1xuXG5jb25zdCBURVNUX0NBU0VTID0gW1xuICB7XG4gICAgbmFtZTogXCJ0cmFjZS5zdGVwXCIsXG4gICAgc2VsZWN0b3I6IHRyYWNlLnN0ZXBcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiZXZtLmN1cnJlbnQuY29udGV4dFwiLFxuICAgIHNlbGVjdG9yOiBldm0uY3VycmVudC5jb250ZXh0XG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcInNvbGlkaXR5LmN1cnJlbnQuc291cmNlUmFuZ2VcIixcbiAgICBzZWxlY3Rvcjogc29saWRpdHkuY3VycmVudC5zb3VyY2VSYW5nZVxuICB9XG5dO1xuXG5kZXNjcmliZShcIlByZWNvbXBpbGVkIENvbnRyYWN0c1wiLCAoKSA9PiB7XG4gIGxldCBwcm92aWRlcjtcblxuICBsZXQgYWJzdHJhY3Rpb25zO1xuICBsZXQgYXJ0aWZhY3RzO1xuICBsZXQgZmlsZXM7XG5cbiAgLy8gb2JqZWN0IHdoZXJlIGtleSBpcyBzZWxlY3RvciBuYW1lLCB2YWx1ZSBpcyBsaXN0IG9mIHJlc3VsdHMgYXQgc3RlcFxuICBsZXQgcmVzdWx0cyA9IHt9O1xuXG4gIGJlZm9yZShcIkNyZWF0ZSBQcm92aWRlclwiLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICBwcm92aWRlciA9IEdhbmFjaGUucHJvdmlkZXIoeyBzZWVkOiBcImRlYnVnZ2VyXCIsIGdhc0xpbWl0OiA3MDAwMDAwIH0pO1xuICB9KTtcblxuICBiZWZvcmUoXCJQcmVwYXJlIGNvbnRyYWN0cyBhbmQgYXJ0aWZhY3RzXCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGltZW91dCgzMDAwMCk7XG5cbiAgICBsZXQgcHJlcGFyZWQgPSBhd2FpdCBwcmVwYXJlQ29udHJhY3RzKHByb3ZpZGVyLCBzb3VyY2VzKTtcbiAgICBhYnN0cmFjdGlvbnMgPSBwcmVwYXJlZC5hYnN0cmFjdGlvbnM7XG4gICAgYXJ0aWZhY3RzID0gcHJlcGFyZWQuYXJ0aWZhY3RzO1xuICAgIGZpbGVzID0gcHJlcGFyZWQuZmlsZXM7XG4gIH0pO1xuXG4gIGJlZm9yZShcIkluaXRpYWxpemUgcmVzdWx0c1wiLCAoKSA9PiB7XG4gICAgLy8gaW5pdGlhbGl6ZSByZXN1bHRzIGFzIG1hcHBpbmcgb2Ygc2VsZWN0b3IgdG8gc3RlcCByZXN1bHRzIGxpc3RcbiAgICBmb3IgKGxldCB7IG5hbWUgfSBvZiBURVNUX0NBU0VTKSB7XG4gICAgICByZXN1bHRzW25hbWVdID0gW107XG4gICAgfVxuICB9KTtcblxuICBiZWZvcmUoXCJTdGVwIHRocm91Z2ggZGVidWdnZXJcIiwgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgbGV0IGluc3RhbmNlID0gYXdhaXQgYWJzdHJhY3Rpb25zLkhhc1ByZWNvbXBpbGUuZGVwbG95ZWQoKTtcbiAgICBsZXQgcmVjZWlwdCA9IGF3YWl0IGluc3RhbmNlLnJ1bigpO1xuICAgIGxldCB0eEhhc2ggPSByZWNlaXB0LnR4O1xuXG4gICAgbGV0IGJ1Z2dlciA9IGF3YWl0IERlYnVnZ2VyLmZvclR4KHR4SGFzaCwge1xuICAgICAgcHJvdmlkZXIsXG4gICAgICBmaWxlcyxcbiAgICAgIGNvbnRyYWN0czogYXJ0aWZhY3RzXG4gICAgfSk7XG5cbiAgICBsZXQgc2Vzc2lvbiA9IGJ1Z2dlci5jb25uZWN0KCk7XG4gICAgdmFyIGZpbmlzaGVkOyAvLyBpcyB0aGUgdHJhY2UgZmluaXNoZWQ/XG5cbiAgICBkbyB7XG4gICAgICBmb3IgKGxldCB7IG5hbWUsIHNlbGVjdG9yIH0gb2YgVEVTVF9DQVNFUykge1xuICAgICAgICBsZXQgc3RlcFJlc3VsdDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHN0ZXBSZXN1bHQgPSB7IHZhbHVlOiBzZXNzaW9uLnZpZXcoc2VsZWN0b3IpIH07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBzdGVwUmVzdWx0ID0geyBlcnJvcjogZSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0c1tuYW1lXS5wdXNoKHN0ZXBSZXN1bHQpO1xuICAgICAgfVxuXG4gICAgICBzZXNzaW9uLmFkdmFuY2UoKTtcbiAgICAgIGZpbmlzaGVkID0gc2Vzc2lvbi52aWV3KHRyYWNlLmZpbmlzaGVkKTtcbiAgICB9IHdoaWxlICghZmluaXNoZWQpO1xuICB9KTtcblxuICBiZWZvcmUoXCJyZW1vdmUgZmluYWwgc3RlcCByZXN1bHRzXCIsICgpID0+IHtcbiAgICAvLyBzaW5jZSB0aGVzZSBpbmNsdWRlIG9uZSBzdGVwIHBhc3QgZW5kIG9mIHRyYWNlXG4gICAgZm9yIChsZXQgeyBuYW1lIH0gb2YgVEVTVF9DQVNFUykge1xuICAgICAgcmVzdWx0c1tuYW1lXS5wb3AoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGl0KFwibmV2ZXIgZmFpbHMgdG8ga25vdyB0aGUgdHJhY2Ugc3RlcFwiLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gcmVtb3ZlIGxhc3QgaXRlbSAoa25vd24gdG8gYmUgdW5kZWZpbmVkKVxuICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdHNbXCJ0cmFjZS5zdGVwXCJdO1xuXG4gICAgZm9yIChsZXQgc3RlcCBvZiByZXN1bHQpIHtcbiAgICAgIGlmIChzdGVwLmVycm9yKSB7XG4gICAgICAgIHRocm93IHN0ZXAuZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIGFzc2VydC5pc09rKHN0ZXAudmFsdWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgaXQoXCJuZXZlciBmYWlscyB0byBrbm93IEVWTSBjb250ZXh0XCIsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSByZXN1bHRzW1wiZXZtLmN1cnJlbnQuY29udGV4dFwiXTtcblxuICAgIGZvciAobGV0IHN0ZXAgb2YgcmVzdWx0KSB7XG4gICAgICBpZiAoc3RlcC5lcnJvcikge1xuICAgICAgICB0aHJvdyBzdGVwLmVycm9yO1xuICAgICAgfVxuXG4gICAgICBhc3NlcnQuaXNPayhzdGVwLnZhbHVlKTtcbiAgICAgIGFzc2VydC5wcm9wZXJ0eShzdGVwLnZhbHVlLCBcImNvbnRleHRcIik7XG4gICAgfVxuICB9KTtcblxuICBpdChcIm5ldmVyIHRocm93cyBhbiBleGNlcHRpb24gZm9yIG1pc3Npbmcgc291cmNlIHJhbmdlXCIsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSByZXN1bHRzW1wic29saWRpdHkuY3VycmVudC5zb3VyY2VSYW5nZVwiXTtcblxuICAgIGZvciAobGV0IHN0ZXAgb2YgcmVzdWx0KSB7XG4gICAgICBpZiAoc3RlcC5lcnJvcikge1xuICAgICAgICB0aHJvdyBzdGVwLmVycm9yO1xuICAgICAgfVxuXG4gICAgICBhc3NlcnQuaXNPayhzdGVwLnZhbHVlKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gdGVzdC9wcmVjb21waWxlcy5qcyIsImltcG9ydCBkZWJ1Z01vZHVsZSBmcm9tIFwiZGVidWdcIjtcbmNvbnN0IGRlYnVnID0gZGVidWdNb2R1bGUoXCJ0ZXN0OnJlc2V0XCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCJjaGFpXCI7XG5cbmltcG9ydCBHYW5hY2hlIGZyb20gXCJnYW5hY2hlLWNvcmVcIjtcblxuaW1wb3J0IHsgcHJlcGFyZUNvbnRyYWN0cyB9IGZyb20gXCIuL2hlbHBlcnNcIjtcbmltcG9ydCBEZWJ1Z2dlciBmcm9tIFwibGliL2RlYnVnZ2VyXCI7XG5cbmltcG9ydCBzb2xpZGl0eSBmcm9tIFwibGliL3NvbGlkaXR5L3NlbGVjdG9yc1wiO1xuXG5jb25zdCBfX1NFVFNUSElOR1MgPSBgXG5wcmFnbWEgc29saWRpdHkgfjAuNTtcblxuY29udHJhY3QgU2V0c1RoaW5ncyB7XG4gIGludCB4O1xuICBpbnQgeTtcbiAgaW50IHo7XG4gIGludCB3O1xuICBmdW5jdGlvbiBydW4oKSBwdWJsaWMge1xuICAgIHggPSAxO1xuICAgIHkgPSAyO1xuICAgIHogPSAzO1xuICAgIHcgPSA0O1xuICB9XG59XG5gO1xuXG5sZXQgc291cmNlcyA9IHtcbiAgXCJTZXRzVGhpbmdzLnNvbFwiOiBfX1NFVFNUSElOR1Ncbn07XG5cbmRlc2NyaWJlKFwiUmVzZXQgQnV0dG9uXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgcHJvdmlkZXI7XG5cbiAgdmFyIGFic3RyYWN0aW9ucztcbiAgdmFyIGFydGlmYWN0cztcbiAgdmFyIGZpbGVzO1xuXG4gIGJlZm9yZShcIkNyZWF0ZSBQcm92aWRlclwiLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICBwcm92aWRlciA9IEdhbmFjaGUucHJvdmlkZXIoeyBzZWVkOiBcImRlYnVnZ2VyXCIsIGdhc0xpbWl0OiA3MDAwMDAwIH0pO1xuICB9KTtcblxuICBiZWZvcmUoXCJQcmVwYXJlIGNvbnRyYWN0cyBhbmQgYXJ0aWZhY3RzXCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGltZW91dCgzMDAwMCk7XG5cbiAgICBsZXQgcHJlcGFyZWQgPSBhd2FpdCBwcmVwYXJlQ29udHJhY3RzKHByb3ZpZGVyLCBzb3VyY2VzKTtcbiAgICBhYnN0cmFjdGlvbnMgPSBwcmVwYXJlZC5hYnN0cmFjdGlvbnM7XG4gICAgYXJ0aWZhY3RzID0gcHJlcGFyZWQuYXJ0aWZhY3RzO1xuICAgIGZpbGVzID0gcHJlcGFyZWQuZmlsZXM7XG4gIH0pO1xuXG4gIGl0KFwiQ29ycmVjdGx5IHJlc2V0cyBhZnRlciBmaW5pc2hpbmdcIiwgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgbGV0IGluc3RhbmNlID0gYXdhaXQgYWJzdHJhY3Rpb25zLlNldHNUaGluZ3MuZGVwbG95ZWQoKTtcbiAgICBsZXQgcmVjZWlwdCA9IGF3YWl0IGluc3RhbmNlLnJ1bigpO1xuICAgIGxldCB0eEhhc2ggPSByZWNlaXB0LnR4O1xuXG4gICAgbGV0IGJ1Z2dlciA9IGF3YWl0IERlYnVnZ2VyLmZvclR4KHR4SGFzaCwge1xuICAgICAgcHJvdmlkZXIsXG4gICAgICBmaWxlcyxcbiAgICAgIGNvbnRyYWN0czogYXJ0aWZhY3RzXG4gICAgfSk7XG5cbiAgICBsZXQgc2Vzc2lvbiA9IGJ1Z2dlci5jb25uZWN0KCk7XG4gICAgbGV0IHNvdXJjZUlkID0gc2Vzc2lvbi52aWV3KHNvbGlkaXR5LmN1cnJlbnQuc291cmNlKS5pZDtcblxuICAgIGxldCB2YXJpYWJsZXMgPSBbXTtcbiAgICB2YXJpYWJsZXNbMF0gPSBbXTsgLy9jb2xsZWN0ZWQgZHVyaW5nIDFzdCBydW5cbiAgICB2YXJpYWJsZXNbMV0gPSBbXTsgLy9jb2xsZWN0ZWQgZHVyaW5nIDJuZCBydW5cblxuICAgIHZhcmlhYmxlc1swXS5wdXNoKGF3YWl0IHNlc3Npb24udmFyaWFibGVzKCkpO1xuICAgIHNlc3Npb24uYWRkQnJlYWtwb2ludCh7IHNvdXJjZUlkLCBsaW5lOiAxMCB9KTtcbiAgICBzZXNzaW9uLmNvbnRpbnVlVW50aWxCcmVha3BvaW50KCk7IC8vYWR2YW5jZSB0byBsaW5lIDEwXG4gICAgdmFyaWFibGVzWzBdLnB1c2goYXdhaXQgc2Vzc2lvbi52YXJpYWJsZXMoKSk7XG4gICAgc2Vzc2lvbi5jb250aW51ZVVudGlsQnJlYWtwb2ludCgpOyAvL2FkdmFuY2UgdG8gdGhlIGVuZFxuICAgIHZhcmlhYmxlc1swXS5wdXNoKGF3YWl0IHNlc3Npb24udmFyaWFibGVzKCkpO1xuXG4gICAgLy9ub3csIHJlc2V0IGFuZCBkbyBpdCBhZ2FpblxuICAgIHNlc3Npb24ucmVzZXQoKTtcblxuICAgIHZhcmlhYmxlc1sxXS5wdXNoKGF3YWl0IHNlc3Npb24udmFyaWFibGVzKCkpO1xuICAgIHNlc3Npb24uY29udGludWVVbnRpbEJyZWFrcG9pbnQoKTsgLy9hZHZhbmNlIHRvIGxpbmUgMTBcbiAgICB2YXJpYWJsZXNbMV0ucHVzaChhd2FpdCBzZXNzaW9uLnZhcmlhYmxlcygpKTtcbiAgICBzZXNzaW9uLmNvbnRpbnVlVW50aWxCcmVha3BvaW50KCk7IC8vYWR2YW5jZSB0byB0aGUgZW5kXG4gICAgdmFyaWFibGVzWzFdLnB1c2goYXdhaXQgc2Vzc2lvbi52YXJpYWJsZXMoKSk7XG5cbiAgICBhc3NlcnQuZGVlcEVxdWFsKHZhcmlhYmxlc1sxXSwgdmFyaWFibGVzWzBdKTtcbiAgfSk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB0ZXN0L3Jlc2V0LmpzIiwiaW1wb3J0IGRlYnVnTW9kdWxlIGZyb20gXCJkZWJ1Z1wiO1xuY29uc3QgZGVidWcgPSBkZWJ1Z01vZHVsZShcInRlc3Q6c29saWRpdHlcIik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcImNoYWlcIjtcblxuaW1wb3J0IEdhbmFjaGUgZnJvbSBcImdhbmFjaGUtY29yZVwiO1xuXG5pbXBvcnQgeyBwcmVwYXJlQ29udHJhY3RzIH0gZnJvbSBcIi4vaGVscGVyc1wiO1xuaW1wb3J0IERlYnVnZ2VyIGZyb20gXCJsaWIvZGVidWdnZXJcIjtcblxuaW1wb3J0IHNvbGlkaXR5IGZyb20gXCJsaWIvc29saWRpdHkvc2VsZWN0b3JzXCI7XG5pbXBvcnQgdHJhY2UgZnJvbSBcImxpYi90cmFjZS9zZWxlY3RvcnNcIjtcblxuY29uc3QgX19TSU5HTEVfQ0FMTCA9IGBcbnByYWdtYSBzb2xpZGl0eSB+MC41O1xuXG5jb250cmFjdCBTaW5nbGVDYWxsIHtcbiAgZXZlbnQgQ2FsbGVkKCk7XG4gIGV2ZW50IERvbmUoKTtcblxuICBmdW5jdGlvbiBydW4oKSBwdWJsaWMge1xuICAgIGVtaXQgQ2FsbGVkKCk7XG4gIH1cblxuICBmdW5jdGlvbiBydW5TaGEoKSBwdWJsaWMge1xuICAgIGVtaXQgQ2FsbGVkKCk7XG4gICAgc2hhMjU2KFwiaGVsbG8gd29ybGQhXCIpO1xuICAgIGVtaXQgRG9uZSgpO1xuICB9XG59XG5gO1xuXG5jb25zdCBfX05FU1RFRF9DQUxMID0gYHByYWdtYSBzb2xpZGl0eSB+MC41O1xuXG5jb250cmFjdCBOZXN0ZWRDYWxsIHtcbiAgZXZlbnQgRmlyc3QoKTtcbiAgZXZlbnQgU2Vjb25kKCk7XG5cbiAgLy8gcnVuKClcbiAgLy8gICBmaXJzdCgpICAgIDFcbiAgLy8gICAgIGlubmVyKCkgIDJcbiAgLy8gICAgICAgZXZlbnQgIDNcbiAgLy8gICAgICAgICAgICAgIDJcbiAgLy8gICBzZWNvbmQgICAgIDFcbiAgLy8gICAgIGV2ZW50ICAgIDJcbiAgLy8gICAgICAgICAgICAgIDFcbiAgZnVuY3Rpb24gcnVuKCkgcHVibGljIHtcbiAgICBmaXJzdCgpO1xuICAgIHNlY29uZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlyc3QoKSBwdWJsaWMge1xuICAgIGlubmVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbm5lcigpIHB1YmxpYyB7XG4gICAgZW1pdCBGaXJzdCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2Vjb25kKCkgcHVibGljIHtcbiAgICBlbWl0IFNlY29uZCgpO1xuICB9XG59XG5gO1xuXG5sZXQgc291cmNlcyA9IHtcbiAgXCJTaW5nbGVDYWxsLnNvbFwiOiBfX1NJTkdMRV9DQUxMLFxuICBcIk5lc3RlZENhbGwuc29sXCI6IF9fTkVTVEVEX0NBTExcbn07XG5cbmRlc2NyaWJlKFwiU29saWRpdHkgRGVidWdnaW5nXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgcHJvdmlkZXI7XG5cbiAgdmFyIGFic3RyYWN0aW9ucztcbiAgdmFyIGFydGlmYWN0cztcbiAgdmFyIGZpbGVzO1xuXG4gIGJlZm9yZShcIkNyZWF0ZSBQcm92aWRlclwiLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICBwcm92aWRlciA9IEdhbmFjaGUucHJvdmlkZXIoeyBzZWVkOiBcImRlYnVnZ2VyXCIsIGdhc0xpbWl0OiA3MDAwMDAwIH0pO1xuICB9KTtcblxuICBiZWZvcmUoXCJQcmVwYXJlIGNvbnRyYWN0cyBhbmQgYXJ0aWZhY3RzXCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGltZW91dCgzMDAwMCk7XG5cbiAgICBsZXQgcHJlcGFyZWQgPSBhd2FpdCBwcmVwYXJlQ29udHJhY3RzKHByb3ZpZGVyLCBzb3VyY2VzKTtcbiAgICBhYnN0cmFjdGlvbnMgPSBwcmVwYXJlZC5hYnN0cmFjdGlvbnM7XG4gICAgYXJ0aWZhY3RzID0gcHJlcGFyZWQuYXJ0aWZhY3RzO1xuICAgIGZpbGVzID0gcHJlcGFyZWQuZmlsZXM7XG4gIH0pO1xuXG4gIGl0KFwiZXhwb3NlcyBmdW5jdGlvbmFsaXR5IHRvIHN0b3AgYXQgYnJlYWtwb2ludHNcIiwgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgLy8gcHJlcGFyZVxuICAgIGxldCBpbnN0YW5jZSA9IGF3YWl0IGFic3RyYWN0aW9ucy5OZXN0ZWRDYWxsLmRlcGxveWVkKCk7XG4gICAgbGV0IHJlY2VpcHQgPSBhd2FpdCBpbnN0YW5jZS5ydW4oKTtcbiAgICBsZXQgdHhIYXNoID0gcmVjZWlwdC50eDtcblxuICAgIGxldCBidWdnZXIgPSBhd2FpdCBEZWJ1Z2dlci5mb3JUeCh0eEhhc2gsIHtcbiAgICAgIHByb3ZpZGVyLFxuICAgICAgZmlsZXMsXG4gICAgICBjb250cmFjdHM6IGFydGlmYWN0c1xuICAgIH0pO1xuXG4gICAgbGV0IHNlc3Npb24gPSBidWdnZXIuY29ubmVjdCgpO1xuXG4gICAgLy8gYXQgYHNlY29uZCgpO2BcbiAgICBsZXQgc291cmNlID0gYXdhaXQgc2Vzc2lvbi52aWV3KHNvbGlkaXR5LmN1cnJlbnQuc291cmNlKTtcbiAgICBsZXQgYnJlYWtwb2ludCA9IHsgc291cmNlSWQ6IHNvdXJjZS5pZCwgbGluZTogMTYgfTtcblxuICAgIHNlc3Npb24uYWRkQnJlYWtwb2ludChicmVha3BvaW50KTtcblxuICAgIGRvIHtcbiAgICAgIHNlc3Npb24uY29udGludWVVbnRpbEJyZWFrcG9pbnQoKTtcblxuICAgICAgaWYgKCFzZXNzaW9uLnZpZXcodHJhY2UuZmluaXNoZWQpKSB7XG4gICAgICAgIGxldCByYW5nZSA9IGF3YWl0IHNlc3Npb24udmlldyhzb2xpZGl0eS5jdXJyZW50LnNvdXJjZVJhbmdlKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHJhbmdlLmxpbmVzLnN0YXJ0LmxpbmUsIDE2KTtcbiAgICAgIH1cbiAgICB9IHdoaWxlICghc2Vzc2lvbi52aWV3KHRyYWNlLmZpbmlzaGVkKSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiRnVuY3Rpb24gRGVwdGhcIiwgZnVuY3Rpb24oKSB7XG4gICAgaXQoXCJyZW1haW5zIGF0IDEgaW4gYWJzZW5jZSBvZiBpbm5lciBmdW5jdGlvbiBjYWxsc1wiLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnN0IG1heEV4cGVjdGVkID0gMTtcblxuICAgICAgbGV0IGluc3RhbmNlID0gYXdhaXQgYWJzdHJhY3Rpb25zLlNpbmdsZUNhbGwuZGVwbG95ZWQoKTtcbiAgICAgIGxldCByZWNlaXB0ID0gYXdhaXQgaW5zdGFuY2UucnVuKCk7XG4gICAgICBsZXQgdHhIYXNoID0gcmVjZWlwdC50eDtcblxuICAgICAgbGV0IGJ1Z2dlciA9IGF3YWl0IERlYnVnZ2VyLmZvclR4KHR4SGFzaCwge1xuICAgICAgICBwcm92aWRlcixcbiAgICAgICAgZmlsZXMsXG4gICAgICAgIGNvbnRyYWN0czogYXJ0aWZhY3RzXG4gICAgICB9KTtcblxuICAgICAgbGV0IHNlc3Npb24gPSBidWdnZXIuY29ubmVjdCgpO1xuICAgICAgdmFyIGZpbmlzaGVkO1xuXG4gICAgICBkbyB7XG4gICAgICAgIHNlc3Npb24uc3RlcE5leHQoKTtcbiAgICAgICAgZmluaXNoZWQgPSBzZXNzaW9uLnZpZXcodHJhY2UuZmluaXNoZWQpO1xuXG4gICAgICAgIGxldCBhY3R1YWwgPSBzZXNzaW9uLnZpZXcoc29saWRpdHkuY3VycmVudC5mdW5jdGlvbkRlcHRoKTtcblxuICAgICAgICBhc3NlcnQuaXNBdE1vc3QoYWN0dWFsLCBtYXhFeHBlY3RlZCk7XG4gICAgICB9IHdoaWxlICghZmluaXNoZWQpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJpcyB1bmFmZmVjdGVkIGJ5IHByZWNvbXBpbGVzXCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgbnVtRXhwZWN0ZWQgPSAxO1xuXG4gICAgICBsZXQgaW5zdGFuY2UgPSBhd2FpdCBhYnN0cmFjdGlvbnMuU2luZ2xlQ2FsbC5kZXBsb3llZCgpO1xuICAgICAgbGV0IHJlY2VpcHQgPSBhd2FpdCBpbnN0YW5jZS5ydW5TaGEoKTtcbiAgICAgIGxldCB0eEhhc2ggPSByZWNlaXB0LnR4O1xuXG4gICAgICBsZXQgYnVnZ2VyID0gYXdhaXQgRGVidWdnZXIuZm9yVHgodHhIYXNoLCB7XG4gICAgICAgIHByb3ZpZGVyLFxuICAgICAgICBmaWxlcyxcbiAgICAgICAgY29udHJhY3RzOiBhcnRpZmFjdHNcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgc2Vzc2lvbiA9IGJ1Z2dlci5jb25uZWN0KCk7XG5cbiAgICAgIGxldCBoYXNCZWd1biA9IGZhbHNlOyAvL3dlIGRvbid0IGNoZWNrIHVudGlsIGl0J3Mgbm9uemVybywgc2luY2UgaXRcbiAgICAgIC8vc3RhcnRzIGFzIHplcm8gbm93XG5cbiAgICAgIHdoaWxlICghc2Vzc2lvbi52aWV3KHRyYWNlLmZpbmlzaGVkKSkge1xuICAgICAgICBsZXQgYWN0dWFsID0gc2Vzc2lvbi52aWV3KHNvbGlkaXR5LmN1cnJlbnQuZnVuY3Rpb25EZXB0aCk7XG4gICAgICAgIGlmIChhY3R1YWwgIT09IDApIHtcbiAgICAgICAgICBoYXNCZWd1biA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0JlZ3VuKSB7XG4gICAgICAgICAgYXNzZXJ0LmVxdWFsKGFjdHVhbCwgbnVtRXhwZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2Vzc2lvbi5zdGVwTmV4dCgpO1xuICAgICAgfVxuXG4gICAgICBhc3NlcnQoaGFzQmVndW4pOyAvL2NoZWNrIGZvciBub24tdmFjdWl0eSBvZiB0aGUgYWJvdmUgdGVzdHNcbiAgICB9KTtcblxuICAgIGl0KFwic3BlbHVua3MgY29ycmVjdGx5XCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgICAgLy8gcHJlcGFyZVxuICAgICAgbGV0IGluc3RhbmNlID0gYXdhaXQgYWJzdHJhY3Rpb25zLk5lc3RlZENhbGwuZGVwbG95ZWQoKTtcbiAgICAgIGxldCByZWNlaXB0ID0gYXdhaXQgaW5zdGFuY2UucnVuKCk7XG4gICAgICBsZXQgdHhIYXNoID0gcmVjZWlwdC50eDtcblxuICAgICAgbGV0IGJ1Z2dlciA9IGF3YWl0IERlYnVnZ2VyLmZvclR4KHR4SGFzaCwge1xuICAgICAgICBwcm92aWRlcixcbiAgICAgICAgZmlsZXMsXG4gICAgICAgIGNvbnRyYWN0czogYXJ0aWZhY3RzXG4gICAgICB9KTtcblxuICAgICAgbGV0IHNlc3Npb24gPSBidWdnZXIuY29ubmVjdCgpO1xuXG4gICAgICAvLyBmb2xsb3cgZnVuY3Rpb25EZXB0aCB2YWx1ZXMgaW4gbGlzdFxuICAgICAgLy8gc2VlIHNvdXJjZSBhYm92ZVxuICAgICAgbGV0IGV4cGVjdGVkRGVwdGhTZXF1ZW5jZSA9IFswLCAxLCAyLCAzLCAyLCAxLCAyLCAxLCAtMV07XG4gICAgICAvL2VuZCBhdCAtMSBkdWUgdG8gbG9zaW5nIDIgZnJvbSBjb250cmFjdCBtZXRob2QgcmV0dXJuXG4gICAgICBsZXQgYWN0dWFsU2VxdWVuY2UgPSBbc2Vzc2lvbi52aWV3KHNvbGlkaXR5LmN1cnJlbnQuZnVuY3Rpb25EZXB0aCldO1xuXG4gICAgICB2YXIgZmluaXNoZWQ7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgc2Vzc2lvbi5zdGVwTmV4dCgpO1xuICAgICAgICBmaW5pc2hlZCA9IHNlc3Npb24udmlldyh0cmFjZS5maW5pc2hlZCk7XG5cbiAgICAgICAgbGV0IGN1cnJlbnREZXB0aCA9IHNlc3Npb24udmlldyhzb2xpZGl0eS5jdXJyZW50LmZ1bmN0aW9uRGVwdGgpO1xuICAgICAgICBsZXQgbGFzdEtub3duID0gYWN0dWFsU2VxdWVuY2VbYWN0dWFsU2VxdWVuY2UubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKGN1cnJlbnREZXB0aCAhPT0gbGFzdEtub3duKSB7XG4gICAgICAgICAgYWN0dWFsU2VxdWVuY2UucHVzaChjdXJyZW50RGVwdGgpO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlICghZmluaXNoZWQpO1xuXG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKGFjdHVhbFNlcXVlbmNlLCBleHBlY3RlZERlcHRoU2VxdWVuY2UpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHRlc3Qvc29saWRpdHkuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDN0RBOzs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRUE7QUE0Q0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBSUE7QUFpQkE7QUFJQTtBQUpBO0FBYUE7QUFKQTtBQVNBO0FBbEJBO0FBNEJBO0FBSkE7QUFTQTtBQVRBO0FBY0E7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUVBO0FBU0E7QUFHQTtBQVpBO0FBQUE7QUFjQTtBQUFBO0FBQUE7QUFRQTtBQUFBO0FBV0E7QUFzQkE7QUFBQTtBQUFBO0FBdEJBO0FBWEE7QUEzQ0E7QUE4RkE7QUFFQTtBQUFBO0FBTUE7QUFDQTtBQUFBO0FBRUE7QUFHQTtBQWRBO0FBOUZBO0FBbUhBO0FBbkhBO0FBd0hBO0FBeEhBO0FBa0lBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFsSUE7QUFnSkE7QUFoSkE7QUFxSkE7QUFySkE7QUEwSkE7QUExSkE7QUErSkE7QUEvSkE7QUFvS0E7QUFwS0E7QUF5S0E7QUF6S0E7QUE4S0E7QUE5S0E7QUF5TEE7QUF6TEE7QUErTEE7QUEvTEE7QUEwTUE7QUExTUE7QUFtTkE7QUEzT0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JFQTtBQWFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFZQTtBQUFBO0FBUUE7QUFBQTtBQVFBO0FBQUE7QUFTQTtBQUFBO0FBR0E7Ozs7OztBQzNEQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFGQTtBQURBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBaERBOzs7Ozs7QUEyREE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQTNCQTs7Ozs7O0FBNEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7Ozs7OztBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7Ozs7OztBQVlBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUpBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyQkE7Ozs7OztBQXNCQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBaEJBOzs7Ozs7QUFpQkE7QUFDQTtBQUNBO0FBRUE7QUFEQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQWJBOzs7Ozs7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUhBOzs7OztBQW5IQTtBQUNBO0FBL0RBO0FBQ0E7OztBQUVBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBWEE7QUFDQTtBQTREQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQ3RFQTs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0VBO0FBa0RBO0FBRUE7QUFnQkE7QUFBQTtBQWNBO0FBQUE7QUFHQTtBQUtBO0FBRUE7QUFBQTtBQVBBO0FBQUE7QUFvQkE7QUFBQTtBQWtCQTtBQUFBO0FBNURBO0FBQUE7Ozs7OztBQ2pFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRUE7QUFvQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUZBO0FBQUE7QUFNQTtBQUlBO0FBV0E7QUFBQTtBQU9BO0FBTkE7QUFXQTtBQVhBO0FBZ0JBO0FBaEJBO0FBdUJBO0FBdkJBO0FBNEJBO0FBNUJBO0FBbUNBO0FBbkNBO0FBc0NBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUhBO0FBYUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQVRBO0FBa0JBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUF2QkE7QUFrQ0E7QUFsQ0E7QUEwQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQTdDQTtBQVBBO0FBQUE7QUF2Q0E7QUFxR0E7QUFJQTtBQUpBO0FBYUE7QUFKQTtBQVNBO0FBVEE7QUFlQTtBQURBO0FBUUE7QUFBQTtBQVdBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUdBO0FBSEE7QUFHQTtBQUhBO0FBS0E7QUFBQTtBQUFBO0FBcEJBO0FBQUE7QUEvQkE7QUFvRUE7QUFKQTtBQVNBO0FBVEE7QUFlQTtBQUFBO0FBQUE7QUFmQTtBQTJCQTtBQUNBO0FBREE7QUEzQkE7QUE4Q0E7QUFDQTtBQURBO0FBTkE7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzlRQTtBQVlBO0FBTkE7QUFhQTtBQWJBO0FBb0JBO0FBcEJBO0FBMkJBO0FBM0JBO0FBa0NBO0FBbENBO0FBMkNBO0FBM0NBOzs7Ozs7QUNSQTs7Ozs7O0FDQUE7Ozs7OztBQ0FBOzs7Ozs7QUNBQTs7Ozs7O0FDQUE7Ozs7OztBQ0FBOzs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRUE7QUFvQkE7QUFFQTtBQWFBO0FBUkE7QUFxQkE7QUFQQTtBQWNBO0FBZEE7QUFxQkE7QUFyQkE7QUE0QkE7QUExQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzNCQTtBQVlBO0FBT0E7QUFDQTtBQU9BO0FBQ0E7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2REE7QUFrQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFRQTtBQUVBO0FBT0E7QUFRQTtBQVJBO0FBQUE7QUFBQTtBQVBBO0FBd0JBO0FBQUE7QUFLQTtBQUtBO0FBRUE7QUFBQTtBQUlBO0FBQUE7QUFTQTtBQUFBO0FBSUE7QUFBQTtBQU9BOzs7Ozs7QUN4SEE7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNFQTtBQVVBO0FBUUE7QUFDQTtBQU1BO0FBQ0E7QUFPQTtBQUNBO0FBUUE7QUFDQTtBQU9BO0FBQ0E7QUFLQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeERBO0FBMERBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUtBO0FBQUE7QUFFQTtBQUtBO0FBQUE7QUFBQTtBQUpBO0FBU0E7QUFUQTtBQWNBO0FBQUE7QUFBQTtBQWRBO0FBb0JBO0FBQ0E7QUFEQTtBQVVBO0FBSkE7QUFTQTtBQVRBO0FBdUJBO0FBQUE7QUFBQTtBQUxBO0FBY0E7QUFBQTtBQUFBO0FBaENBO0FBOENBO0FBQUE7QUFBQTtBQTlDQTtBQTZEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBN0RBO0FBbUVBO0FBQUE7QUFBQTtBQW5FQTtBQXdFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBOUVBO0FBZ0dBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFGQTtBQWVBO0FBQUE7QUFBQTtBQUFBO0FBZkE7QUFSQTtBQW9DQTtBQXhDQTtBQWtEQTtBQWxEQTtBQXdEQTtBQTVJQTtBQXNKQTtBQUpBO0FBWUE7QUFaQTtBQW1CQTtBQXJLQTtBQW9MQTtBQVRBO0FBNEJBO0FBNUJBO0FBNkNBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFEQTtBQVZBO0FBeUJBO0FBQUE7QUFBQTtBQXpCQTtBQXVDQTtBQUFBO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFMQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBZkE7QUFtQkE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQU1BO0FBVEE7QUFBQTtBQWFBO0FBQ0E7QUFBQTtBQUFBO0FBakNBO0FBQUE7QUF2Q0E7QUFzRkE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQU1BO0FBQUE7QUFQQTtBQUZBO0FBbUJBO0FBQUE7QUE1VEE7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzFGQTtBQWdEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFFQTtBQUlBO0FBQUE7QUFJQTtBQUFBO0FBSUE7QUFBQTtBQU9BO0FBQUE7QUFhQTtBQUFBO0FBQUE7QUFJQTtBQUdBO0FBQUE7QUFBQTtBQXBCQTtBQStCQTtBQUFBO0FBQUE7QUEvQkE7QUFvQ0E7QUFhQTtBQWJBO0FBK0JBO0FBT0E7QUFQQTtBQXVCQTtBQWFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFiQTtBQTRCQTtBQW9CQTtBQUFBO0FBQUE7QUFTQTtBQWVBO0FBT0E7QUFBQTtBQVlBO0FBQUE7QUFPQTtBQUFBO0FBSUE7QUFYQTtBQUFBO0FBZUE7QUFBQTtBQVFBO0FBR0E7QUFBQTtBQUFBO0FBS0E7QUFSQTtBQUFBO0FBU0E7QUFqQkE7QUEyQkE7QUFBQTtBQUFBO0FBUUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQXJIQTtBQStIQTtBQVFBO0FBSUE7QUFLQTtBQWpCQTtBQXdCQTtBQXZKQTtBQStKQTtBQWNBO0FBQUE7QUFBQTtBQWRBO0FBaUNBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFlQTtBQUFBO0FBSUE7QUFBQTtBQU1BO0FBQUE7QUFVQTtBQUFBO0FBS0E7QUFBQTtBQVVBO0FBQUE7QUFVQTtBQUFBO0FBRUE7QUFNQTtBQUVBO0FBQUE7QUFJQTs7Ozs7O0FDM2NBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNFQTtBQWdCQTtBQUlBO0FBQ0E7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFLQTtBQUNBO0FBT0E7QUFDQTtBQU9BO0FBQ0E7QUFNQTtBQUNBO0FBSUE7Ozs7OztBQ3RGQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRUE7QUFvQkE7QUFFQTtBQUtBO0FBR0E7QUFBQTtBQVFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFEQTtBQUVBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFIQTtBQU9BO0FBQUE7QUFQQTtBQVFBO0FBRUE7QUFDQTtBQUtBO0FBQUE7QUFJQTtBQUFBO0FBWUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7Ozs7OztBQzVFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRUE7QUEwQkE7QUFFQTtBQVdBO0FBQUE7QUFBQTtBQVRBO0FBcUNBO0FBTkE7QUFZQTtBQTNDQTs7Ozs7O0FDaENBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNFQTtBQWFBO0FBVUE7QUFDQTtBQU9BO0FBQ0E7QUFPQTtBQUNBO0FBV0E7QUFDQTtBQU9BO0FBQ0E7QUFJQTtBQUNBO0FBUUE7QUFDQTtBQU9BO0FBQ0E7QUFNQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeEZBO0FBd0NBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQU9BO0FBTUE7QUFBQTtBQUFBO0FBTkE7QUFtQkE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUxBO0FBY0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUdBO0FBRUE7QUFBQTtBQU9BO0FBQUE7QUFDQTtBQVVBO0FBQUE7QUFBQTtBQVZBO0FBQUE7QUFlQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBUUE7QUFBQTtBQUFBO0FBUkE7QUFBQTtBQUFBO0FBMEJBO0FBQUE7QUEvQ0E7QUFvREE7QUFBQTtBQUlBO0FBQUE7QUFJQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL0pBO0FBV0E7QUFTQTtBQUNBO0FBUUE7QUFDQTtBQVNBO0FBQ0E7QUFPQTtBQUNBO0FBT0E7QUFDQTtBQU1BO0FBQ0E7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakVBO0FBOEJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUVBO0FBSUE7QUFBQTtBQUlBO0FBQUE7QUFPQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFPQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBY0E7QUFHQTtBQUNBO0FBM0JBO0FBMkJBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBSUE7QUFBQTtBQUlBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsR0E7QUFRQTtBQVNBO0FBQ0E7QUFRQTtBQUNBO0FBT0E7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyQ0E7QUEwQkE7QUFFQTtBQUtBO0FBQUE7QUFTQTtBQUpBO0FBcURBO0FBckRBO0FBMERBO0FBMURBOzs7Ozs7QUN4Q0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2lEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXBDQTs7Ozs7O0FBcUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUVBO0FBQ0E7QUFsQkE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXZDQTs7Ozs7QUF4RUE7QUFnSEE7QUFDQTtBQS9IQTtBQUNBOzs7QUFFQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7Ozs7O0FBWkE7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQThFQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUN2SkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNUQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUNBO0FBQ0E7OztBQWRBO0FBQ0E7QUFjQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQTRCQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUMvR0E7Ozs7OztBQ0FBOzs7Ozs7QUNBQTs7Ozs7O0FDQUE7Ozs7OztBQ0FBOzs7Ozs7QUNBQTs7Ozs7O0FDQUE7Ozs7OztBQ0FBOzs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRUE7QUFVQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNaQTtBQTZDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFhQTtBQUFBO0FBY0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBTkE7QUFEQTtBQXVCQTtBQUFBO0FBTUE7QUFpQkE7QUFBQTtBQUFBO0FBbEJBO0FBMEJBO0FBQUE7QUFBQTtBQVFBO0FBdkNBO0FBeUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUE1Q0E7QUFrREE7QUFBQTtBQUlBO0FBQUE7QUFJQTtBQUFBO0FBTUE7QUFBQTtBQUlBO0FBQUE7QUFHQTtBQUNBO0FBR0E7QUFHQTtBQUFBO0FBQUE7QUFIQTtBQVFBO0FBQUE7QUFBQTtBQUtBO0FBYkE7QUFIQTtBQURBO0FBdUJBO0FBQUE7QUFHQTtBQUFBO0FBS0E7QUFBQTtBQUdBO0FBQUE7QUFLQTtBQUFBO0FBR0E7QUFBQTtBQUtBO0FBQUE7QUFHQTtBQUFBO0FBS0E7QUFBQTtBQUdBO0FBQUE7QUFLQTtBQUFBO0FBR0E7QUFBQTtBQUtBO0FBQUE7QUFHQTtBQUFBO0FBS0E7QUFBQTtBQUlBO0FBQUE7QUFJQTtBQUFBO0FBSUE7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUtBO0FBQUE7QUFBQTtBQUtBO0FBVkE7QUFnQkE7QUFBQTtBQUFBO0FBS0E7QUF2QkE7QUFEQTtBQTRCQTtBQUFBO0FBR0E7QUFBQTtBQVdBO0FBQUE7QUFHQTtBQUFBO0FBaFFBO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3REQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ05BO0FBUUE7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDVkE7QUE2QkE7QUFFQTtBQUdBO0FBS0E7QUFBQTtBQUFBO0FBTEE7QUFTQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFEQTtBQUFBO0FBTUE7QUFBQTtBQUNBO0FBQUE7QUFEQTtBQUVBO0FBQUE7QUFBQTtBQU1BO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUlBO0FBRUE7QUFGQTtBQWNBOzs7Ozs7QUN2RkE7Ozs7OztBQ0FBOzs7Ozs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNuRkE7QUFDQTs7Ozs7OztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ2hSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ3pKQTs7Ozs7O0FDQUE7Ozs7Ozs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQ25zQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUM3Q0E7Ozs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyMENBO0FBNkNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUVBO0FBc0JBO0FBQUE7QUFHQTtBQWFBO0FBRUE7QUFHQTtBQUNBO0FBQUE7QUFLQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBSEE7QUFVQTtBQUFBO0FBQUE7QUFJQTtBQUVBO0FBQUE7QUFHQTtBQUFBO0FBRUE7QUFJQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBQUE7QUFJQTtBQUFBO0FBSUE7QUFBQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0SkE7QUF3QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFLQTtBQUNBO0FBR0E7QUFKQTtBQUlBO0FBQUE7QUFDQTtBQUdBO0FBSkE7QUFBQTtBQUlBO0FBYkE7QUFrQkE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQURBO0FBT0E7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QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFLQTtBQUtBO0FBRUE7QUFvQkE7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBSEE7QUEwQkE7QUFBQTtBQUtBO0FBS0E7QUFLQTtBQUtBO0FBQUE7QUFXQTtBQVRBO0FBZ0JBO0FBS0E7QUFLQTtBQUVBO0FBSUE7QUFJQTtBQUtBO0FBR0E7QUFLQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDaEtBO0FBc0JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUlBO0FBS0E7QUFxQkE7QUFLQTtBQUlBO0FBS0E7QUFpQkE7QUFLQTtBQUtBO0FBRUE7QUFJQTtBQUdBO0FBS0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzSEE7QUFhQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFHQTtBQUdBO0FBS0E7QUFBQTtBQUVBO0FBR0E7QUFHQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFHQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqREE7QUFjQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBREE7QUFJQTtBQU5BO0FBWUE7QUFDQTtBQUFBO0FBSUE7QUFHQTtBQUtBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0RBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTs7Ozs7QUFWQTtBQUNBO0FBVUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQXFCQTs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFXQTs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFpQkE7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFLQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeElBO0FBQ0E7OztBQUVBO0FBQ0E7OztBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7OztBQVBBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFOQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUlBO0FBREE7QUFUQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFJQTtBQURBO0FBVEE7QUFDQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7O0FBRUE7QUFDQTs7OztBQVhBO0FBa0JBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7O0FBTUE7QUFDQTs7OztBQWRBO0FBOEJBO0FBQ0E7QUFFQTs7O0FBR0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBOzs7O0FBVkE7QUFlQTtBQUVBOzs7Ozs7QUM3TUE7Ozs7OztBQ0FBOzs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7OztBQ0FBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBOzs7Ozs7O0FBZEE7QUFDQTtBQWNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQTBCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQXFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUErQ0E7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFVQTs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDelNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBZEE7QUFDQTtBQWNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUEyRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBd0RBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQTRDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQVhBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBT0E7QUFDQTtBQUNBO0FBcEJBO0FBQ0E7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDbllBOzs7Ozs7Ozs7QUNBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQURBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUNBO0FBS0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUlBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQzdFQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUNBO0FBQ0E7Ozs7O0FBYkE7QUFDQTtBQWFBOzs7Ozs7OztBQUFBO0FBQ0E7QUFTQTs7Ozs7Ozs7O0FBQUE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQzNHQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBWEE7QUFDQTtBQVdBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBc0JBOzs7Ozs7O0FBQUE7QUFDQTtBQVFBOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDcEpBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFaQTtBQUNBO0FBWUE7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFhQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDekpBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTs7Ozs7QUFWQTtBQUNBO0FBVUE7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFnQkE7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUN6RkE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQVhBO0FBQ0E7QUFXQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBa0JBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQURBO0FBQ0E7QUFnQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0EiLCJzb3VyY2VSb290IjoiIn0=